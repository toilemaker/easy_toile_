"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@amcharts";
exports.ids = ["vendor-chunks/@amcharts"];
exports.modules = {

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/ForceDirected.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/ForceDirected.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ForceDirected: () => (/* binding */ ForceDirected)\n/* harmony export */ });\n/* harmony import */ var _LinkedHierarchy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LinkedHierarchy */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchy.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var d3_force__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-force */ \"(ssr)/./node_modules/d3-force/src/simulation.js\");\n/* harmony import */ var d3_force__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-force */ \"(ssr)/./node_modules/d3-force/src/collide.js\");\n/* harmony import */ var d3_force__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-force */ \"(ssr)/./node_modules/d3-force/src/link.js\");\n/* harmony import */ var d3_force__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-force */ \"(ssr)/./node_modules/d3-force/src/x.js\");\n/* harmony import */ var d3_force__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-force */ \"(ssr)/./node_modules/d3-force/src/y.js\");\n/* harmony import */ var d3_force__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3-force */ \"(ssr)/./node_modules/d3-force/src/manyBody.js\");\n\r\n\r\n\r\n\r\n\r\n;\r\n/**\r\n * Creates a force-directed tree.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/} for more info\r\n * @important\r\n */\r\nclass ForceDirected extends _LinkedHierarchy__WEBPACK_IMPORTED_MODULE_0__.LinkedHierarchy {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tag\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"forcedirected\"\r\n        });\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"d3forceSimulation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: d3_force__WEBPACK_IMPORTED_MODULE_1__[\"default\"]()\r\n        });\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"collisionForce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: d3_force__WEBPACK_IMPORTED_MODULE_2__[\"default\"](20)\r\n        });\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"linkForce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: d3_force__WEBPACK_IMPORTED_MODULE_3__[\"default\"]()\r\n        });\r\n        Object.defineProperty(this, \"_nodes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_links\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_tick\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_nodesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.d3forceSimulation.on(\"tick\", () => {\r\n            this._tick++;\r\n            this.updateNodePositions();\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"showOnFrame\")) {\r\n            const showOnFrame = this.get(\"showOnFrame\");\r\n            if (showOnFrame > this._tick) {\r\n                this.nodesContainer.setPrivate(\"visible\", false);\r\n                this.linksContainer.setPrivate(\"visible\", false);\r\n            }\r\n        }\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        if (this.isDirty(\"velocityDecay\")) {\r\n            d3forceSimulation.velocityDecay(this.get(\"velocityDecay\", 0));\r\n        }\r\n        if (this.isDirty(\"initialFrames\")) {\r\n            d3forceSimulation.alphaDecay(1 - Math.pow(0.001, 1 / this.get(\"initialFrames\", 500)));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    restartSimulation(alpha) {\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        if (d3forceSimulation.alpha() < .25) {\r\n            d3forceSimulation.alpha(alpha);\r\n            d3forceSimulation.restart();\r\n        }\r\n    }\r\n    _handleRadiusChange() {\r\n        this._updateForces();\r\n    }\r\n    processDataItem(dataItem) {\r\n        const d3ForceNode = { index: this._index, x: this.innerWidth() / 2, y: this.innerHeight() / 2, dataItem: dataItem };\r\n        const index = this._nodes.push(d3ForceNode) - 1;\r\n        d3ForceNode.index = index;\r\n        this.d3forceSimulation.nodes(this._nodes);\r\n        dataItem.set(\"d3ForceNode\", d3ForceNode);\r\n        super.processDataItem(dataItem);\r\n        const node = dataItem.get(\"node\");\r\n        node.set(\"x\", -10000);\r\n        node.on(\"scale\", () => {\r\n            this._updateForces();\r\n        });\r\n        node.events.on(\"dragged\", () => {\r\n            d3ForceNode.fx = node.x();\r\n            d3ForceNode.fy = node.y();\r\n            this._updateForces();\r\n        });\r\n        node.events.on(\"dragstop\", () => {\r\n            if (dataItem.get(\"x\") == null) {\r\n                d3ForceNode.fx = undefined;\r\n            }\r\n            if (dataItem.get(\"y\") == null) {\r\n                d3ForceNode.fy = undefined;\r\n            }\r\n        });\r\n    }\r\n    _updateValues(d3HierarchyNode) {\r\n        super._updateValues(d3HierarchyNode);\r\n        this._nodesDirty = true;\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        d3forceSimulation.force(\"collision\", this.collisionForce);\r\n        d3forceSimulation.nodes(this._nodes);\r\n        this.linkForce = d3_force__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this._links);\r\n        d3forceSimulation.force(\"link\", this.linkForce);\r\n    }\r\n    _updateVisuals() {\r\n        super._updateVisuals();\r\n        this.restartSimulation(.3);\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        if (this._sizeDirty) {\r\n            let w = Math.max(50, this.innerWidth());\r\n            let h = Math.max(50, this.innerHeight());\r\n            let pt = this.get(\"paddingTop\", 0);\r\n            let pl = this.get(\"paddingLeft\", 0);\r\n            let centerStrength = this.get(\"centerStrength\", 1);\r\n            d3forceSimulation.force(\"x\", d3_force__WEBPACK_IMPORTED_MODULE_4__[\"default\"]().x(w / 2 + pl).strength(centerStrength * 100 / w));\r\n            d3forceSimulation.force(\"y\", d3_force__WEBPACK_IMPORTED_MODULE_5__[\"default\"]().y(h / 2 + pt).strength(centerStrength * 100 / h));\r\n        }\r\n        if (this._nodesDirty) {\r\n            this._updateForces();\r\n        }\r\n    }\r\n    _updateForces() {\r\n        const d3forceSimulation = this.d3forceSimulation;\r\n        d3forceSimulation.force(\"manybody\", d3_force__WEBPACK_IMPORTED_MODULE_6__[\"default\"]().strength((d3node) => {\r\n            let dataItem = d3node.dataItem;\r\n            let node = dataItem.get(\"node\");\r\n            let circle = dataItem.get(\"circle\");\r\n            let manyBodyStrength = this.get(\"manyBodyStrength\", -15);\r\n            if (circle) {\r\n                return circle.get(\"radius\", 1) * node.get(\"scale\", 1) * manyBodyStrength;\r\n            }\r\n            return 0;\r\n        }));\r\n        this.collisionForce.radius((d3node) => {\r\n            let dataItem = d3node.dataItem;\r\n            let node = dataItem.get(\"node\");\r\n            let circle = dataItem.get(\"circle\");\r\n            let outerCircle = dataItem.get(\"outerCircle\");\r\n            if (circle && outerCircle) {\r\n                let radius = circle.get(\"radius\", 1);\r\n                if (!outerCircle.isHidden()) {\r\n                    radius = radius * outerCircle.get(\"scale\", 1.1);\r\n                }\r\n                radius *= node.get(\"scale\", 1);\r\n                return radius + this.get(\"nodePadding\", 0);\r\n            }\r\n        });\r\n        this.restartSimulation(0.3);\r\n    }\r\n    _animatePositions(_dataItem) {\r\n        // void, do not remove\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._nodesDirty = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateNodePositions() {\r\n        const linkForce = this.linkForce;\r\n        if (linkForce) {\r\n            linkForce.distance((linkDatum) => {\r\n                return this.getDistance(linkDatum);\r\n            });\r\n            linkForce.strength((linkDatum) => {\r\n                return this.getStrength(linkDatum);\r\n            });\r\n        }\r\n        if (this._tick == this.get(\"showOnFrame\")) {\r\n            this.nodesContainer.setPrivate(\"visible\", true);\r\n            this.linksContainer.setPrivate(\"visible\", true);\r\n        }\r\n        let d3Nodes = this.d3forceSimulation.nodes();\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_7__.each(d3Nodes, (d3Node) => {\r\n            const dataItem = d3Node.dataItem;\r\n            const node = dataItem.get(\"node\");\r\n            node.set(\"x\", d3Node.x);\r\n            node.set(\"y\", d3Node.y);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLinkWith(dataItems) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_7__.each(dataItems, (dataItem) => {\r\n            const linkWith = dataItem.get(\"linkWith\");\r\n            if (linkWith) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_7__.each(linkWith, (id) => {\r\n                    const linkWithDataItem = this._getDataItemById(this.dataItems, id);\r\n                    if (linkWithDataItem) {\r\n                        this.linkDataItems(dataItem, linkWithDataItem, this.get(\"linkWithStrength\"));\r\n                    }\r\n                });\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children) {\r\n                this.updateLinkWith(children);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDistance(linkDatum) {\r\n        let sourceDataItem = linkDatum.sourceDataItem;\r\n        let targetDataItem = linkDatum.targetDataItem;\r\n        let distance = 0;\r\n        if (sourceDataItem && targetDataItem) {\r\n            const targetNode = targetDataItem.get(\"node\");\r\n            if (targetNode.isHidden()) {\r\n                return 0;\r\n            }\r\n            let link = linkDatum.link;\r\n            if (link) {\r\n                distance = link.get(\"distance\", 1);\r\n            }\r\n            const sourceNode = sourceDataItem.get(\"node\");\r\n            if (targetNode.isHidden()) {\r\n                distance = 1;\r\n            }\r\n            return (distance * (sourceDataItem.get(\"circle\").get(\"radius\", 1) * sourceNode.get(\"scale\", 1) + targetDataItem.get(\"circle\").get(\"radius\", 1) * targetNode.get(\"scale\", 1)));\r\n        }\r\n        return distance;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStrength(linkDatum) {\r\n        let strength = 0;\r\n        let link = linkDatum.link;\r\n        if (link) {\r\n            strength = link.get(\"strength\", 1);\r\n        }\r\n        const targetDataItem = linkDatum.targetDataItem;\r\n        strength *= targetDataItem.get(\"node\").get(\"scale\");\r\n        return strength;\r\n    }\r\n    _updateNode(dataItem) {\r\n        super._updateNode(dataItem);\r\n        this._updateRadius(dataItem);\r\n        const x = dataItem.get(\"x\");\r\n        const y = dataItem.get(\"y\");\r\n        const d3Node = dataItem.get(\"d3ForceNode\");\r\n        if (x != null) {\r\n            d3Node.fx = _core_util_Utils__WEBPACK_IMPORTED_MODULE_8__.relativeToValue(x, this.innerWidth());\r\n        }\r\n        else {\r\n            d3Node.fx = undefined;\r\n        }\r\n        if (y != null) {\r\n            d3Node.fy = _core_util_Utils__WEBPACK_IMPORTED_MODULE_8__.relativeToValue(y, this.innerHeight());\r\n        }\r\n        else {\r\n            d3Node.fx = undefined;\r\n        }\r\n    }\r\n    _updateRadius(dataItem) {\r\n        let size = (this.innerWidth() + this.innerHeight()) / 2;\r\n        let minRadius = _core_util_Utils__WEBPACK_IMPORTED_MODULE_8__.relativeToValue(this.get(\"minRadius\", 1), size);\r\n        let maxRadius = _core_util_Utils__WEBPACK_IMPORTED_MODULE_8__.relativeToValue(this.get(\"maxRadius\", 5), size);\r\n        let valueWorking = dataItem.get(\"sum\");\r\n        let radius = maxRadius;\r\n        const min = this.getPrivate(\"valueLow\", 0);\r\n        const max = this.getPrivate(\"valueHigh\", 0);\r\n        if (max > 0) {\r\n            radius = minRadius + (valueWorking - min) / (max - min) * (maxRadius - minRadius);\r\n        }\r\n        if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(radius)) {\r\n            radius = minRadius;\r\n        }\r\n        const duration = this.get(\"animationDuration\", 0);\r\n        const easing = this.get(\"animationEasing\");\r\n        dataItem.get(\"circle\").animate({ key: \"radius\", to: radius, duration: duration, easing: easing });\r\n    }\r\n    _processLink(link, source, target) {\r\n        const d3Link = { link: link, source: source.get(\"d3ForceNode\").index, target: target.get(\"d3ForceNode\").index, sourceDataItem: source, targetDataItem: target };\r\n        this._links.push(d3Link);\r\n        link.setPrivate(\"d3Link\", d3Link);\r\n        this.linkForce = d3_force__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this._links);\r\n        this.d3forceSimulation.force(\"link\", this.linkForce);\r\n        this.restartSimulation(0.5);\r\n    }\r\n    _disposeLink(link) {\r\n        super._disposeLink(link);\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_7__.remove(this._links, link.getPrivate(\"d3Link\"));\r\n    }\r\n    _handleUnlink() {\r\n        this.restartSimulation(0.5);\r\n    }\r\n    _onDataClear() {\r\n        super._onDataClear();\r\n        this._nodes = [];\r\n        this._links = [];\r\n    }\r\n}\r\nObject.defineProperty(ForceDirected, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ForceDirected\"\r\n});\r\nObject.defineProperty(ForceDirected, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _LinkedHierarchy__WEBPACK_IMPORTED_MODULE_0__.LinkedHierarchy.classNames.concat([ForceDirected.className])\r\n});\r\n//# sourceMappingURL=ForceDirected.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9Gb3JjZURpcmVjdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ0o7QUFDQTtBQUNGO0FBQ1Y7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlFQUF5RTtBQUNsRjtBQUNBO0FBQ08sNEJBQTRCLDZEQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdEQUF1QjtBQUMxQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQW9CO0FBQ3ZDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBaUI7QUFDcEMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdEQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0RBQWM7QUFDdkQseUNBQXlDLGdEQUFjO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGdEQUFxQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkRBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkRBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZEQUFzQjtBQUM5Qyx3QkFBd0IsNkRBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxREFBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywrREFBK0Q7QUFDeEc7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCLGdEQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFlO0FBQzFCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9Gb3JjZURpcmVjdGVkLmpzP2FjNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGlua2VkSGllcmFyY2h5IH0gZnJvbSBcIi4vTGlua2VkSGllcmFyY2h5XCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyBkM0ZvcmNlIGZyb20gXCJkMy1mb3JjZVwiO1xyXG47XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgZm9yY2UtZGlyZWN0ZWQgdHJlZS5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY2hhcnRzL2hpZXJhcmNoeS9mb3JjZS1kaXJlY3RlZC99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEZvcmNlRGlyZWN0ZWQgZXh0ZW5kcyBMaW5rZWRIaWVyYXJjaHkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGFnXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFwiZm9yY2VkaXJlY3RlZFwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGlnbm9yZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImQzZm9yY2VTaW11bGF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGQzRm9yY2UuZm9yY2VTaW11bGF0aW9uKClcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAaWdub3JlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29sbGlzaW9uRm9yY2VcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZDNGb3JjZS5mb3JjZUNvbGxpZGUoMjApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGlnbm9yZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmtGb3JjZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBkM0ZvcmNlLmZvcmNlTGluaygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX25vZGVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xpbmtzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RpY2tcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ub2Rlc0RpcnR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5kM2ZvcmNlU2ltdWxhdGlvbi5vbihcInRpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl90aWNrKys7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTm9kZVBvc2l0aW9ucygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInNob3dPbkZyYW1lXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3dPbkZyYW1lID0gdGhpcy5nZXQoXCJzaG93T25GcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHNob3dPbkZyYW1lID4gdGhpcy5fdGljaykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlc0NvbnRhaW5lci5zZXRQcml2YXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmtzQ29udGFpbmVyLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkM2ZvcmNlU2ltdWxhdGlvbiA9IHRoaXMuZDNmb3JjZVNpbXVsYXRpb247XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInZlbG9jaXR5RGVjYXlcIikpIHtcclxuICAgICAgICAgICAgZDNmb3JjZVNpbXVsYXRpb24udmVsb2NpdHlEZWNheSh0aGlzLmdldChcInZlbG9jaXR5RGVjYXlcIiwgMCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaW5pdGlhbEZyYW1lc1wiKSkge1xyXG4gICAgICAgICAgICBkM2ZvcmNlU2ltdWxhdGlvbi5hbHBoYURlY2F5KDEgLSBNYXRoLnBvdygwLjAwMSwgMSAvIHRoaXMuZ2V0KFwiaW5pdGlhbEZyYW1lc1wiLCA1MDApKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHJlc3RhcnRTaW11bGF0aW9uKGFscGhhKSB7XHJcbiAgICAgICAgY29uc3QgZDNmb3JjZVNpbXVsYXRpb24gPSB0aGlzLmQzZm9yY2VTaW11bGF0aW9uO1xyXG4gICAgICAgIGlmIChkM2ZvcmNlU2ltdWxhdGlvbi5hbHBoYSgpIDwgLjI1KSB7XHJcbiAgICAgICAgICAgIGQzZm9yY2VTaW11bGF0aW9uLmFscGhhKGFscGhhKTtcclxuICAgICAgICAgICAgZDNmb3JjZVNpbXVsYXRpb24ucmVzdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVSYWRpdXNDaGFuZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlRm9yY2VzKCk7XHJcbiAgICB9XHJcbiAgICBwcm9jZXNzRGF0YUl0ZW0oZGF0YUl0ZW0pIHtcclxuICAgICAgICBjb25zdCBkM0ZvcmNlTm9kZSA9IHsgaW5kZXg6IHRoaXMuX2luZGV4LCB4OiB0aGlzLmlubmVyV2lkdGgoKSAvIDIsIHk6IHRoaXMuaW5uZXJIZWlnaHQoKSAvIDIsIGRhdGFJdGVtOiBkYXRhSXRlbSB9O1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbm9kZXMucHVzaChkM0ZvcmNlTm9kZSkgLSAxO1xyXG4gICAgICAgIGQzRm9yY2VOb2RlLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgdGhpcy5kM2ZvcmNlU2ltdWxhdGlvbi5ub2Rlcyh0aGlzLl9ub2Rlcyk7XHJcbiAgICAgICAgZGF0YUl0ZW0uc2V0KFwiZDNGb3JjZU5vZGVcIiwgZDNGb3JjZU5vZGUpO1xyXG4gICAgICAgIHN1cGVyLnByb2Nlc3NEYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IGRhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgbm9kZS5zZXQoXCJ4XCIsIC0xMDAwMCk7XHJcbiAgICAgICAgbm9kZS5vbihcInNjYWxlXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRm9yY2VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbm9kZS5ldmVudHMub24oXCJkcmFnZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgZDNGb3JjZU5vZGUuZnggPSBub2RlLngoKTtcclxuICAgICAgICAgICAgZDNGb3JjZU5vZGUuZnkgPSBub2RlLnkoKTtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRm9yY2VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbm9kZS5ldmVudHMub24oXCJkcmFnc3RvcFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhSXRlbS5nZXQoXCJ4XCIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGQzRm9yY2VOb2RlLmZ4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhSXRlbS5nZXQoXCJ5XCIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGQzRm9yY2VOb2RlLmZ5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlVmFsdWVzKGQzSGllcmFyY2h5Tm9kZSkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVWYWx1ZXMoZDNIaWVyYXJjaHlOb2RlKTtcclxuICAgICAgICB0aGlzLl9ub2Rlc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBkM2ZvcmNlU2ltdWxhdGlvbiA9IHRoaXMuZDNmb3JjZVNpbXVsYXRpb247XHJcbiAgICAgICAgZDNmb3JjZVNpbXVsYXRpb24uZm9yY2UoXCJjb2xsaXNpb25cIiwgdGhpcy5jb2xsaXNpb25Gb3JjZSk7XHJcbiAgICAgICAgZDNmb3JjZVNpbXVsYXRpb24ubm9kZXModGhpcy5fbm9kZXMpO1xyXG4gICAgICAgIHRoaXMubGlua0ZvcmNlID0gZDNGb3JjZS5mb3JjZUxpbmsodGhpcy5fbGlua3MpO1xyXG4gICAgICAgIGQzZm9yY2VTaW11bGF0aW9uLmZvcmNlKFwibGlua1wiLCB0aGlzLmxpbmtGb3JjZSk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlVmlzdWFscygpIHtcclxuICAgICAgICBzdXBlci5fdXBkYXRlVmlzdWFscygpO1xyXG4gICAgICAgIHRoaXMucmVzdGFydFNpbXVsYXRpb24oLjMpO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgIGNvbnN0IGQzZm9yY2VTaW11bGF0aW9uID0gdGhpcy5kM2ZvcmNlU2ltdWxhdGlvbjtcclxuICAgICAgICBpZiAodGhpcy5fc2l6ZURpcnR5KSB7XHJcbiAgICAgICAgICAgIGxldCB3ID0gTWF0aC5tYXgoNTAsIHRoaXMuaW5uZXJXaWR0aCgpKTtcclxuICAgICAgICAgICAgbGV0IGggPSBNYXRoLm1heCg1MCwgdGhpcy5pbm5lckhlaWdodCgpKTtcclxuICAgICAgICAgICAgbGV0IHB0ID0gdGhpcy5nZXQoXCJwYWRkaW5nVG9wXCIsIDApO1xyXG4gICAgICAgICAgICBsZXQgcGwgPSB0aGlzLmdldChcInBhZGRpbmdMZWZ0XCIsIDApO1xyXG4gICAgICAgICAgICBsZXQgY2VudGVyU3RyZW5ndGggPSB0aGlzLmdldChcImNlbnRlclN0cmVuZ3RoXCIsIDEpO1xyXG4gICAgICAgICAgICBkM2ZvcmNlU2ltdWxhdGlvbi5mb3JjZShcInhcIiwgZDNGb3JjZS5mb3JjZVgoKS54KHcgLyAyICsgcGwpLnN0cmVuZ3RoKGNlbnRlclN0cmVuZ3RoICogMTAwIC8gdykpO1xyXG4gICAgICAgICAgICBkM2ZvcmNlU2ltdWxhdGlvbi5mb3JjZShcInlcIiwgZDNGb3JjZS5mb3JjZVkoKS55KGggLyAyICsgcHQpLnN0cmVuZ3RoKGNlbnRlclN0cmVuZ3RoICogMTAwIC8gaCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fbm9kZXNEaXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVGb3JjZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlRm9yY2VzKCkge1xyXG4gICAgICAgIGNvbnN0IGQzZm9yY2VTaW11bGF0aW9uID0gdGhpcy5kM2ZvcmNlU2ltdWxhdGlvbjtcclxuICAgICAgICBkM2ZvcmNlU2ltdWxhdGlvbi5mb3JjZShcIm1hbnlib2R5XCIsIGQzRm9yY2UuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKChkM25vZGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gZDNub2RlLmRhdGFJdGVtO1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IGRhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgICAgIGxldCBjaXJjbGUgPSBkYXRhSXRlbS5nZXQoXCJjaXJjbGVcIik7XHJcbiAgICAgICAgICAgIGxldCBtYW55Qm9keVN0cmVuZ3RoID0gdGhpcy5nZXQoXCJtYW55Qm9keVN0cmVuZ3RoXCIsIC0xNSk7XHJcbiAgICAgICAgICAgIGlmIChjaXJjbGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaXJjbGUuZ2V0KFwicmFkaXVzXCIsIDEpICogbm9kZS5nZXQoXCJzY2FsZVwiLCAxKSAqIG1hbnlCb2R5U3RyZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uRm9yY2UucmFkaXVzKChkM25vZGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gZDNub2RlLmRhdGFJdGVtO1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IGRhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgICAgIGxldCBjaXJjbGUgPSBkYXRhSXRlbS5nZXQoXCJjaXJjbGVcIik7XHJcbiAgICAgICAgICAgIGxldCBvdXRlckNpcmNsZSA9IGRhdGFJdGVtLmdldChcIm91dGVyQ2lyY2xlXCIpO1xyXG4gICAgICAgICAgICBpZiAoY2lyY2xlICYmIG91dGVyQ2lyY2xlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFkaXVzID0gY2lyY2xlLmdldChcInJhZGl1c1wiLCAxKTtcclxuICAgICAgICAgICAgICAgIGlmICghb3V0ZXJDaXJjbGUuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1cyA9IHJhZGl1cyAqIG91dGVyQ2lyY2xlLmdldChcInNjYWxlXCIsIDEuMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByYWRpdXMgKj0gbm9kZS5nZXQoXCJzY2FsZVwiLCAxKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYWRpdXMgKyB0aGlzLmdldChcIm5vZGVQYWRkaW5nXCIsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZXN0YXJ0U2ltdWxhdGlvbigwLjMpO1xyXG4gICAgfVxyXG4gICAgX2FuaW1hdGVQb3NpdGlvbnMoX2RhdGFJdGVtKSB7XHJcbiAgICAgICAgLy8gdm9pZCwgZG8gbm90IHJlbW92ZVxyXG4gICAgfVxyXG4gICAgX2NsZWFyRGlydHkoKSB7XHJcbiAgICAgICAgc3VwZXIuX2NsZWFyRGlydHkoKTtcclxuICAgICAgICB0aGlzLl9ub2Rlc0RpcnR5ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlTm9kZVBvc2l0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBsaW5rRm9yY2UgPSB0aGlzLmxpbmtGb3JjZTtcclxuICAgICAgICBpZiAobGlua0ZvcmNlKSB7XHJcbiAgICAgICAgICAgIGxpbmtGb3JjZS5kaXN0YW5jZSgobGlua0RhdHVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREaXN0YW5jZShsaW5rRGF0dW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGlua0ZvcmNlLnN0cmVuZ3RoKChsaW5rRGF0dW0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0cmVuZ3RoKGxpbmtEYXR1bSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fdGljayA9PSB0aGlzLmdldChcInNob3dPbkZyYW1lXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXNDb250YWluZXIuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubGlua3NDb250YWluZXIuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkM05vZGVzID0gdGhpcy5kM2ZvcmNlU2ltdWxhdGlvbi5ub2RlcygpO1xyXG4gICAgICAgICRhcnJheS5lYWNoKGQzTm9kZXMsIChkM05vZGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBkM05vZGUuZGF0YUl0ZW07XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBkYXRhSXRlbS5nZXQoXCJub2RlXCIpO1xyXG4gICAgICAgICAgICBub2RlLnNldChcInhcIiwgZDNOb2RlLngpO1xyXG4gICAgICAgICAgICBub2RlLnNldChcInlcIiwgZDNOb2RlLnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUxpbmtXaXRoKGRhdGFJdGVtcykge1xyXG4gICAgICAgICRhcnJheS5lYWNoKGRhdGFJdGVtcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmtXaXRoID0gZGF0YUl0ZW0uZ2V0KFwibGlua1dpdGhcIik7XHJcbiAgICAgICAgICAgIGlmIChsaW5rV2l0aCkge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2gobGlua1dpdGgsIChpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtXaXRoRGF0YUl0ZW0gPSB0aGlzLl9nZXREYXRhSXRlbUJ5SWQodGhpcy5kYXRhSXRlbXMsIGlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlua1dpdGhEYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmtEYXRhSXRlbXMoZGF0YUl0ZW0sIGxpbmtXaXRoRGF0YUl0ZW0sIHRoaXMuZ2V0KFwibGlua1dpdGhTdHJlbmd0aFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBkYXRhSXRlbS5nZXQoXCJjaGlsZHJlblwiKTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmtXaXRoKGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldERpc3RhbmNlKGxpbmtEYXR1bSkge1xyXG4gICAgICAgIGxldCBzb3VyY2VEYXRhSXRlbSA9IGxpbmtEYXR1bS5zb3VyY2VEYXRhSXRlbTtcclxuICAgICAgICBsZXQgdGFyZ2V0RGF0YUl0ZW0gPSBsaW5rRGF0dW0udGFyZ2V0RGF0YUl0ZW07XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMDtcclxuICAgICAgICBpZiAoc291cmNlRGF0YUl0ZW0gJiYgdGFyZ2V0RGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldERhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXROb2RlLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBsaW5rID0gbGlua0RhdHVtLmxpbms7XHJcbiAgICAgICAgICAgIGlmIChsaW5rKSB7XHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IGxpbmsuZ2V0KFwiZGlzdGFuY2VcIiwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc291cmNlTm9kZSA9IHNvdXJjZURhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXROb2RlLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKGRpc3RhbmNlICogKHNvdXJjZURhdGFJdGVtLmdldChcImNpcmNsZVwiKS5nZXQoXCJyYWRpdXNcIiwgMSkgKiBzb3VyY2VOb2RlLmdldChcInNjYWxlXCIsIDEpICsgdGFyZ2V0RGF0YUl0ZW0uZ2V0KFwiY2lyY2xlXCIpLmdldChcInJhZGl1c1wiLCAxKSAqIHRhcmdldE5vZGUuZ2V0KFwic2NhbGVcIiwgMSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldFN0cmVuZ3RoKGxpbmtEYXR1bSkge1xyXG4gICAgICAgIGxldCBzdHJlbmd0aCA9IDA7XHJcbiAgICAgICAgbGV0IGxpbmsgPSBsaW5rRGF0dW0ubGluaztcclxuICAgICAgICBpZiAobGluaykge1xyXG4gICAgICAgICAgICBzdHJlbmd0aCA9IGxpbmsuZ2V0KFwic3RyZW5ndGhcIiwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldERhdGFJdGVtID0gbGlua0RhdHVtLnRhcmdldERhdGFJdGVtO1xyXG4gICAgICAgIHN0cmVuZ3RoICo9IHRhcmdldERhdGFJdGVtLmdldChcIm5vZGVcIikuZ2V0KFwic2NhbGVcIik7XHJcbiAgICAgICAgcmV0dXJuIHN0cmVuZ3RoO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZU5vZGUoZGF0YUl0ZW0pIHtcclxuICAgICAgICBzdXBlci5fdXBkYXRlTm9kZShkYXRhSXRlbSk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlUmFkaXVzKGRhdGFJdGVtKTtcclxuICAgICAgICBjb25zdCB4ID0gZGF0YUl0ZW0uZ2V0KFwieFwiKTtcclxuICAgICAgICBjb25zdCB5ID0gZGF0YUl0ZW0uZ2V0KFwieVwiKTtcclxuICAgICAgICBjb25zdCBkM05vZGUgPSBkYXRhSXRlbS5nZXQoXCJkM0ZvcmNlTm9kZVwiKTtcclxuICAgICAgICBpZiAoeCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGQzTm9kZS5meCA9ICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUoeCwgdGhpcy5pbm5lcldpZHRoKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZDNOb2RlLmZ4ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGQzTm9kZS5meSA9ICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUoeSwgdGhpcy5pbm5lckhlaWdodCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGQzTm9kZS5meCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlUmFkaXVzKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgbGV0IHNpemUgPSAodGhpcy5pbm5lcldpZHRoKCkgKyB0aGlzLmlubmVySGVpZ2h0KCkpIC8gMjtcclxuICAgICAgICBsZXQgbWluUmFkaXVzID0gJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZSh0aGlzLmdldChcIm1pblJhZGl1c1wiLCAxKSwgc2l6ZSk7XHJcbiAgICAgICAgbGV0IG1heFJhZGl1cyA9ICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUodGhpcy5nZXQoXCJtYXhSYWRpdXNcIiwgNSksIHNpemUpO1xyXG4gICAgICAgIGxldCB2YWx1ZVdvcmtpbmcgPSBkYXRhSXRlbS5nZXQoXCJzdW1cIik7XHJcbiAgICAgICAgbGV0IHJhZGl1cyA9IG1heFJhZGl1cztcclxuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLmdldFByaXZhdGUoXCJ2YWx1ZUxvd1wiLCAwKTtcclxuICAgICAgICBjb25zdCBtYXggPSB0aGlzLmdldFByaXZhdGUoXCJ2YWx1ZUhpZ2hcIiwgMCk7XHJcbiAgICAgICAgaWYgKG1heCA+IDApIHtcclxuICAgICAgICAgICAgcmFkaXVzID0gbWluUmFkaXVzICsgKHZhbHVlV29ya2luZyAtIG1pbikgLyAobWF4IC0gbWluKSAqIChtYXhSYWRpdXMgLSBtaW5SYWRpdXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKHJhZGl1cykpIHtcclxuICAgICAgICAgICAgcmFkaXVzID0gbWluUmFkaXVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuZ2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIiwgMCk7XHJcbiAgICAgICAgY29uc3QgZWFzaW5nID0gdGhpcy5nZXQoXCJhbmltYXRpb25FYXNpbmdcIik7XHJcbiAgICAgICAgZGF0YUl0ZW0uZ2V0KFwiY2lyY2xlXCIpLmFuaW1hdGUoeyBrZXk6IFwicmFkaXVzXCIsIHRvOiByYWRpdXMsIGR1cmF0aW9uOiBkdXJhdGlvbiwgZWFzaW5nOiBlYXNpbmcgfSk7XHJcbiAgICB9XHJcbiAgICBfcHJvY2Vzc0xpbmsobGluaywgc291cmNlLCB0YXJnZXQpIHtcclxuICAgICAgICBjb25zdCBkM0xpbmsgPSB7IGxpbms6IGxpbmssIHNvdXJjZTogc291cmNlLmdldChcImQzRm9yY2VOb2RlXCIpLmluZGV4LCB0YXJnZXQ6IHRhcmdldC5nZXQoXCJkM0ZvcmNlTm9kZVwiKS5pbmRleCwgc291cmNlRGF0YUl0ZW06IHNvdXJjZSwgdGFyZ2V0RGF0YUl0ZW06IHRhcmdldCB9O1xyXG4gICAgICAgIHRoaXMuX2xpbmtzLnB1c2goZDNMaW5rKTtcclxuICAgICAgICBsaW5rLnNldFByaXZhdGUoXCJkM0xpbmtcIiwgZDNMaW5rKTtcclxuICAgICAgICB0aGlzLmxpbmtGb3JjZSA9IGQzRm9yY2UuZm9yY2VMaW5rKHRoaXMuX2xpbmtzKTtcclxuICAgICAgICB0aGlzLmQzZm9yY2VTaW11bGF0aW9uLmZvcmNlKFwibGlua1wiLCB0aGlzLmxpbmtGb3JjZSk7XHJcbiAgICAgICAgdGhpcy5yZXN0YXJ0U2ltdWxhdGlvbigwLjUpO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2VMaW5rKGxpbmspIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZUxpbmsobGluayk7XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZSh0aGlzLl9saW5rcywgbGluay5nZXRQcml2YXRlKFwiZDNMaW5rXCIpKTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVVbmxpbmsoKSB7XHJcbiAgICAgICAgdGhpcy5yZXN0YXJ0U2ltdWxhdGlvbigwLjUpO1xyXG4gICAgfVxyXG4gICAgX29uRGF0YUNsZWFyKCkge1xyXG4gICAgICAgIHN1cGVyLl9vbkRhdGFDbGVhcigpO1xyXG4gICAgICAgIHRoaXMuX25vZGVzID0gW107XHJcbiAgICAgICAgdGhpcy5fbGlua3MgPSBbXTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRm9yY2VEaXJlY3RlZCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiRm9yY2VEaXJlY3RlZFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRm9yY2VEaXJlY3RlZCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBMaW5rZWRIaWVyYXJjaHkuY2xhc3NOYW1lcy5jb25jYXQoW0ZvcmNlRGlyZWN0ZWQuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZvcmNlRGlyZWN0ZWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/ForceDirected.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/Hierarchy.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/Hierarchy.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Hierarchy: () => (/* binding */ Hierarchy)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _HierarchyDefaultTheme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./HierarchyDefaultTheme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyDefaultTheme.js\");\n/* harmony import */ var _core_render_Series__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Series */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js\");\n/* harmony import */ var _core_render_Component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/render/Component */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\");\n/* harmony import */ var _HierarchyNode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HierarchyNode */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyNode.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_render_Label__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/render/Label */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\");\n/* harmony import */ var _core_util_Template__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var d3_hierarchy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! d3-hierarchy */ \"(ssr)/./node_modules/d3-hierarchy/src/hierarchy/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n;\r\n/**\r\n * A base class for all hierarchy charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/} for more info\r\n */\r\nclass Hierarchy extends _core_render_Series__WEBPACK_IMPORTED_MODULE_0__.Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Container]] that nodes are placed in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"nodesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_1__.Container.new(this._root, { isMeasured: false }))\r\n        });\r\n        Object.defineProperty(this, \"_rootNode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_treeData\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_index\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_tag\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"hierarchy\"\r\n        });\r\n        /**\r\n         * A list of nodes in a [[Hierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<HierarchyNode>\r\n         */\r\n        Object.defineProperty(this, \"nodes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new _core_util_List__WEBPACK_IMPORTED_MODULE_2__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_3__.Template.new({}), () => _HierarchyNode__WEBPACK_IMPORTED_MODULE_4__.HierarchyNode.new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__.mergeTags(this.nodes.template.get(\"themeTags\", []), [this._tag, \"hierarchy\", \"node\"])\r\n            }, this.nodes.template)))\r\n        });\r\n        /**\r\n         * A list of label elements in a [[Hierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<Label>\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new _core_util_List__WEBPACK_IMPORTED_MODULE_2__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_3__.Template.new({}), () => _core_render_Label__WEBPACK_IMPORTED_MODULE_6__.Label.new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__.mergeTags(this.labels.template.get(\"themeTags\", []), [this._tag])\r\n            }, this.labels.template)))\r\n        });\r\n        Object.defineProperty(this, \"_currentDownDepth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeNode(dataItem) {\r\n        const childData = dataItem.get(\"childData\");\r\n        const node = this.nodes.make();\r\n        node.series = this;\r\n        node._setDataItem(dataItem);\r\n        this.nodes.push(node);\r\n        dataItem.setRaw(\"node\", node);\r\n        const label = this.labels.make();\r\n        label._setDataItem(dataItem);\r\n        dataItem.setRaw(\"label\", label);\r\n        this.labels.push(label);\r\n        if (!childData || childData.length == 0) {\r\n            node.addTag(\"last\");\r\n        }\r\n        const depth = dataItem.get(\"depth\");\r\n        node.addTag(\"depth\" + depth);\r\n        this.nodesContainer.children.push(node);\r\n        node.children.push(label);\r\n        return node;\r\n    }\r\n    _afterNew() {\r\n        this._defaultThemes.push(_HierarchyDefaultTheme__WEBPACK_IMPORTED_MODULE_7__.HierarchyDefaultTheme.new(this._root));\r\n        this.fields.push(\"category\", \"childData\", \"disabled\", \"fill\");\r\n        this.children.push(this.bulletsContainer);\r\n        super._afterNew();\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this._valuesDirty) {\r\n            this._treeData = {};\r\n            const first = this.dataItems[0];\r\n            if (first) {\r\n                this._makeHierarchyData(this._treeData, first);\r\n                this._index = 0;\r\n                this._rootNode = d3_hierarchy__WEBPACK_IMPORTED_MODULE_8__[\"default\"](this._treeData);\r\n                if (this._rootNode) {\r\n                    this._rootNode.sum((d) => {\r\n                        return d.value;\r\n                    });\r\n                    const sort = this.get(\"sort\");\r\n                    if (sort == \"descending\") {\r\n                        this._rootNode.sort((a, b) => b.value - a.value);\r\n                    }\r\n                    else if (sort == \"ascending\") {\r\n                        this._rootNode.sort((a, b) => a.value - b.value);\r\n                    }\r\n                    this.setPrivateRaw(\"valueLow\", Infinity);\r\n                    this.setPrivateRaw(\"valueHigh\", -Infinity);\r\n                    this.setPrivateRaw(\"maxDepth\", 0);\r\n                    this._updateValues(this._rootNode);\r\n                }\r\n            }\r\n        }\r\n        if (this._valuesDirty || this._sizeDirty) {\r\n            this._updateVisuals();\r\n        }\r\n        if (this._sizeDirty) {\r\n            const dataItem = this.get(\"selectedDataItem\");\r\n            if (dataItem) {\r\n                this._zoom(dataItem);\r\n            }\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"selectedDataItem\")) {\r\n            this._selectDataItem(this.get(\"selectedDataItem\"));\r\n        }\r\n    }\r\n    _updateVisuals() {\r\n        if (this._rootNode) {\r\n            this._updateNodes(this._rootNode);\r\n        }\r\n    }\r\n    _updateNodes(hierarchyNode) {\r\n        const dataItem = hierarchyNode.data.dataItem;\r\n        if (dataItem) {\r\n            this._updateNode(dataItem);\r\n            if (this.bullets.length > 0 && !dataItem.bullets) {\r\n                this._makeBullets(dataItem);\r\n            }\r\n            const hierarchyChildren = hierarchyNode.children;\r\n            if (hierarchyChildren) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(hierarchyChildren, (hierarchyChild) => {\r\n                    this._updateNodes(hierarchyChild);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    _updateNode(_dataItem) {\r\n    }\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    getDataItemById(id) {\r\n        return this._getDataItemById(this.dataItems, id);\r\n    }\r\n    _getDataItemById(dataItems, id) {\r\n        let di;\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(dataItems, (dataItem) => {\r\n            if (dataItem.get(\"id\") == id) {\r\n                di = dataItem;\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children) {\r\n                let childDataItem = this._getDataItemById(children, id);\r\n                if (childDataItem) {\r\n                    di = childDataItem;\r\n                }\r\n            }\r\n        });\r\n        return di;\r\n    }\r\n    _handleBullets(dataItems) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(dataItems, (dataItem) => {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(bullets, (bullet) => {\r\n                    bullet.dispose();\r\n                });\r\n                dataItem.bullets = undefined;\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children) {\r\n                this._handleBullets(children);\r\n            }\r\n        });\r\n        this._updateVisuals();\r\n    }\r\n    _onDataClear() {\r\n        super._onDataClear();\r\n        const colors = this.get(\"colors\");\r\n        if (colors) {\r\n            colors.reset();\r\n        }\r\n        const patterns = this.get(\"patterns\");\r\n        if (patterns) {\r\n            patterns.reset();\r\n        }\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        const childData = dataItem.get(\"childData\");\r\n        const colors = this.get(\"colors\");\r\n        const patterns = this.get(\"patterns\");\r\n        const topDepth = this.get(\"topDepth\", 0);\r\n        if (!dataItem.get(\"parent\")) {\r\n            dataItem.setRaw(\"depth\", 0);\r\n            if (colors && topDepth == 0 && dataItem.get(\"fill\") == null) {\r\n                dataItem.setRaw(\"fill\", colors.next());\r\n                if (patterns) {\r\n                    dataItem.setRaw(\"fillPattern\", patterns.next());\r\n                }\r\n            }\r\n        }\r\n        let depth = dataItem.get(\"depth\");\r\n        const initialDepth = this.get(\"initialDepth\", 1);\r\n        this.makeNode(dataItem);\r\n        this._processDataItem(dataItem);\r\n        if (childData) {\r\n            const children = [];\r\n            dataItem.setRaw(\"children\", children);\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(childData, (child) => {\r\n                const childDataItem = new _core_render_Component__WEBPACK_IMPORTED_MODULE_10__.DataItem(this, child, this._makeDataItem(child));\r\n                children.push(childDataItem);\r\n                childDataItem.setRaw(\"parent\", dataItem);\r\n                childDataItem.setRaw(\"depth\", depth + 1);\r\n                if (this.dataItems.length == 1 && depth == 0) {\r\n                    if (colors && childDataItem.get(\"fill\") == null) {\r\n                        childDataItem.setRaw(\"fill\", colors.next());\r\n                    }\r\n                    if (patterns && childDataItem.get(\"fillPattern\") == null) {\r\n                        childDataItem.setRaw(\"fillPattern\", patterns.next());\r\n                    }\r\n                }\r\n                else {\r\n                    if (childDataItem.get(\"fill\") == null) {\r\n                        childDataItem.setRaw(\"fill\", dataItem.get(\"fill\"));\r\n                    }\r\n                    if (childDataItem.get(\"fillPattern\") == null) {\r\n                        childDataItem.setRaw(\"fillPattern\", dataItem.get(\"fillPattern\"));\r\n                    }\r\n                }\r\n                this.processDataItem(childDataItem);\r\n            });\r\n        }\r\n        const children = dataItem.get(\"children\");\r\n        if (!children || children.length == 0) {\r\n            const node = dataItem.get(\"node\");\r\n            node.setAll({ toggleKey: undefined });\r\n        }\r\n        if (dataItem.get(\"disabled\") == null) {\r\n            if (depth >= topDepth + initialDepth) {\r\n                this.disableDataItem(dataItem, 0);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Adds children data to the target data item.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/hierarchy-api/#Dynamically_adding_child_nodes} for more info\r\n     * @since 5.4.5\r\n     */\r\n    addChildData(dataItem, data) {\r\n        const dataContext = dataItem.dataContext;\r\n        const childDataField = this.get(\"childDataField\");\r\n        let childData = dataContext[childDataField];\r\n        if (!childData) {\r\n            childData = data;\r\n            dataContext[childDataField] = childData;\r\n        }\r\n        else {\r\n            childData.push(...data);\r\n        }\r\n        let children = dataItem.get(\"children\");\r\n        if (!children) {\r\n            children = [];\r\n            dataItem.set(\"children\", children);\r\n        }\r\n        const node = dataItem.get(\"node\");\r\n        if (node) {\r\n            node.set(\"toggleKey\", this.nodes.template.get(\"toggleKey\", \"disabled\"));\r\n        }\r\n        let depth = dataItem.get(\"depth\");\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(childData, (child) => {\r\n            let found = false;\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.eachContinue(children, (dataItem) => {\r\n                if (dataItem.dataContext == child) {\r\n                    found = true;\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n            if (!found) {\r\n                const childDataItem = new _core_render_Component__WEBPACK_IMPORTED_MODULE_10__.DataItem(this, child, this._makeDataItem(child));\r\n                children.push(childDataItem);\r\n                childDataItem.setRaw(\"parent\", dataItem);\r\n                childDataItem.setRaw(\"depth\", depth + 1);\r\n                if (childDataItem.get(\"fill\") == null) {\r\n                    let fill = dataItem.get(\"fill\");\r\n                    if (fill == null) {\r\n                        const colors = this.get(\"colors\");\r\n                        if (colors) {\r\n                            fill = colors.next();\r\n                        }\r\n                    }\r\n                    childDataItem.setRaw(\"fill\", fill);\r\n                }\r\n                this.processDataItem(childDataItem);\r\n            }\r\n        });\r\n    }\r\n    _processDataItem(_dataItem) {\r\n    }\r\n    _updateValues(d3HierarchyNode) {\r\n        const dataItem = d3HierarchyNode.data.dataItem;\r\n        if (d3HierarchyNode.depth > this.getPrivate(\"maxDepth\")) {\r\n            this.setPrivateRaw(\"maxDepth\", d3HierarchyNode.depth);\r\n        }\r\n        if (dataItem) {\r\n            dataItem.setRaw(\"d3HierarchyNode\", d3HierarchyNode);\r\n            d3HierarchyNode.index = this._index;\r\n            this._index++;\r\n            this.root.events.once(\"frameended\", () => {\r\n                dataItem.get(\"node\").set(\"disabled\", dataItem.get(\"disabled\"));\r\n            });\r\n            let dataValue = d3HierarchyNode.data.value;\r\n            let value = d3HierarchyNode.value;\r\n            if (dataValue != null) {\r\n                value = dataValue;\r\n                d3HierarchyNode[\"value\"] = value;\r\n            }\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_11__.isNumber(value)) {\r\n                dataItem.setRaw(\"sum\", value);\r\n                dataItem.setRaw(\"valuePercentTotal\", value / this.dataItems[0].get(\"sum\") * 100);\r\n                let valuePercent = 100;\r\n                const parent = dataItem.get(\"parent\");\r\n                if (parent) {\r\n                    valuePercent = value / parent.get(\"sum\") * 100;\r\n                }\r\n                dataItem.get(\"label\").text.markDirtyText();\r\n                dataItem.setRaw(\"valuePercent\", valuePercent);\r\n                const valueLow = this.getPrivate(\"valueLow\");\r\n                if (valueLow != undefined && valueLow > value) {\r\n                    this.setPrivateRaw(\"valueLow\", value);\r\n                }\r\n                const valueHigh = this.getPrivate(\"valueHigh\");\r\n                if (valueHigh != undefined && valueHigh < value) {\r\n                    this.setPrivateRaw(\"valueHigh\", value);\r\n                }\r\n            }\r\n            this.updateLegendValue(dataItem);\r\n        }\r\n        const hierarchyChildren = d3HierarchyNode.children;\r\n        if (hierarchyChildren) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(hierarchyChildren, (d3HierarchyChild) => {\r\n                this._updateValues(d3HierarchyChild);\r\n            });\r\n        }\r\n    }\r\n    _makeHierarchyData(data, dataItem) {\r\n        data.dataItem = dataItem;\r\n        const children = dataItem.get(\"children\");\r\n        if (children) {\r\n            const childrenDataArray = [];\r\n            data.children = childrenDataArray;\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (childDataItem) => {\r\n                const childData = {};\r\n                childrenDataArray.push(childData);\r\n                this._makeHierarchyData(childData, childDataItem);\r\n            });\r\n            const value = dataItem.get(\"valueWorking\");\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_11__.isNumber(value)) {\r\n                data.value = value;\r\n            }\r\n        }\r\n        else {\r\n            const value = dataItem.get(\"valueWorking\");\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_11__.isNumber(value)) {\r\n                data.value = value;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const node = dataItem.get(\"node\");\r\n        if (node) {\r\n            this.nodes.removeValue(node);\r\n            node.dispose();\r\n        }\r\n        const label = dataItem.get(\"label\");\r\n        if (label) {\r\n            this.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        const children = dataItem.get(\"children\");\r\n        if (children) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (child) => {\r\n                this.disposeDataItem(child);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Hides hierarchy's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const hiddenState = this.states.create(\"hidden\", {});\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_11__.isNumber(duration)) {\r\n                const stateAnimationDuration = \"stateAnimationDuration\";\r\n                duration = hiddenState.get(stateAnimationDuration, this.get(stateAnimationDuration, 0));\r\n            }\r\n            const stateAnimationEasing = \"stateAnimationEasing\";\r\n            const easing = hiddenState.get(stateAnimationEasing, this.get(stateAnimationEasing));\r\n            const children = dataItem.get(\"children\");\r\n            if ((!children || children.length == 0) && _core_util_Type__WEBPACK_IMPORTED_MODULE_11__.isNumber(dataItem.get(\"value\"))) {\r\n                promises.push(dataItem.animate({ key: \"valueWorking\", to: 0, duration: duration, easing: easing }).waitForStop());\r\n            }\r\n            const node = dataItem.get(\"node\");\r\n            node.hide();\r\n            node.hideTooltip();\r\n            if (children) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (childDataItem) => {\r\n                    promises.push(this.hideDataItem(childDataItem));\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Shows hierarchy's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_11__.isNumber(duration)) {\r\n                duration = this.get(\"stateAnimationDuration\", 0);\r\n            }\r\n            const easing = this.get(\"stateAnimationEasing\");\r\n            const children = dataItem.get(\"children\");\r\n            if ((!children || children.length == 0) && _core_util_Type__WEBPACK_IMPORTED_MODULE_11__.isNumber(dataItem.get(\"value\"))) {\r\n                promises.push(dataItem.animate({ key: \"valueWorking\", to: dataItem.get(\"value\"), duration: duration, easing: easing }).waitForStop());\r\n            }\r\n            const node = dataItem.get(\"node\");\r\n            node.show();\r\n            if (children) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (childDataItem) => {\r\n                    promises.push(this.showDataItem(childDataItem));\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Enables a disabled data item.\r\n     *\r\n     * @param  dataItem  Target data item\r\n     * @param  duration  Animation duration in milliseconds\r\n     */\r\n    enableDataItem(dataItem, maxDepth, depth, duration) {\r\n        if (depth == null) {\r\n            depth = 0;\r\n        }\r\n        if (maxDepth == null) {\r\n            maxDepth = 1;\r\n        }\r\n        dataItem.set(\"disabled\", false);\r\n        dataItem.get(\"node\").set(\"disabled\", false);\r\n        if (!dataItem.isHidden()) {\r\n            dataItem.get(\"node\").show(duration);\r\n        }\r\n        const topDepth = this.get(\"topDepth\", 0);\r\n        if (dataItem.get(\"depth\") < topDepth) {\r\n            dataItem.get(\"node\").hide(0);\r\n        }\r\n        if (depth == 0) {\r\n            const upDepth = this.get(\"upDepth\", Infinity);\r\n            let parent = dataItem;\r\n            let count = 0;\r\n            while (parent !== undefined) {\r\n                if (count > upDepth) {\r\n                    parent.get(\"node\").hide();\r\n                }\r\n                parent = parent.get(\"parent\");\r\n                count++;\r\n            }\r\n        }\r\n        let children = dataItem.get(\"children\");\r\n        if (children) {\r\n            if (depth < maxDepth - 1) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (child) => {\r\n                    const disabledField = this.get(\"disabledField\");\r\n                    if (disabledField) {\r\n                        const dataContext = child.dataContext;\r\n                        if (dataContext[disabledField] != true) {\r\n                            this.enableDataItem(child, maxDepth, depth + 1, duration);\r\n                        }\r\n                        else {\r\n                            this.disableDataItem(child);\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.enableDataItem(child, maxDepth, depth + 1, duration);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (child) => {\r\n                    if (!child.isHidden()) {\r\n                        child.get(\"node\").show(duration);\r\n                        child.get(\"node\").states.applyAnimate(\"disabled\");\r\n                        child.set(\"disabled\", true);\r\n                        this.disableDataItem(child);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Disables a data item.\r\n     *\r\n     * @param  dataItem  Target data item\r\n     * @param  duration  Animation duration in milliseconds\r\n     */\r\n    disableDataItem(dataItem, duration) {\r\n        dataItem.set(\"disabled\", true);\r\n        let children = dataItem.get(\"children\");\r\n        if (children) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (child) => {\r\n                this.disableDataItem(child, duration);\r\n                child.get(\"node\").hide(duration);\r\n            });\r\n        }\r\n    }\r\n    _selectDataItem(dataItem, downDepth, skipDisptach) {\r\n        if (dataItem) {\r\n            if (!skipDisptach) {\r\n                const type = \"dataitemselected\";\r\n                this.events.dispatch(type, { type: type, target: this, dataItem: dataItem });\r\n            }\r\n            let maxDepth = this.getPrivate(\"maxDepth\", 1);\r\n            const topDepth = this.get(\"topDepth\", 0);\r\n            if (downDepth == null) {\r\n                downDepth = Math.min(this.get(\"downDepth\", 1), maxDepth - dataItem.get(\"depth\"));\r\n            }\r\n            const hierarchyNode = dataItem.get(\"d3HierarchyNode\");\r\n            let currentDepth = hierarchyNode.depth;\r\n            if (!this.inited) {\r\n                downDepth = Math.min(this.get(\"initialDepth\", 1), maxDepth - topDepth);\r\n                downDepth = Math.max(0, downDepth);\r\n            }\r\n            this._currentDownDepth = downDepth;\r\n            if (currentDepth + downDepth > maxDepth) {\r\n                downDepth = maxDepth - currentDepth;\r\n            }\r\n            if (currentDepth < topDepth) {\r\n                downDepth += topDepth - currentDepth;\r\n                currentDepth = topDepth;\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children && children.length > 0) {\r\n                if (downDepth > 0) {\r\n                    this.enableDataItem(dataItem, downDepth);\r\n                }\r\n                else {\r\n                    dataItem.get(\"node\").show();\r\n                    _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (child) => {\r\n                        child.get(\"node\").hide();\r\n                    });\r\n                }\r\n                if (hierarchyNode.depth < topDepth) {\r\n                    dataItem.get(\"node\").hide(0);\r\n                }\r\n                if (this.get(\"singleBranchOnly\")) {\r\n                    this._handleSingle(dataItem);\r\n                }\r\n            }\r\n            else {\r\n                this.enableDataItem(dataItem, downDepth);\r\n            }\r\n            this._root.events.once(\"frameended\", () => {\r\n                this._zoom(dataItem);\r\n            });\r\n        }\r\n    }\r\n    _zoom(_dataItem) {\r\n    }\r\n    _handleSingle(dataItem) {\r\n        const parent = dataItem.get(\"parent\");\r\n        if (parent) {\r\n            const children = parent.get(\"children\");\r\n            if (children) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_9__.each(children, (child) => {\r\n                    if (child != dataItem) {\r\n                        this.disableDataItem(child);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Selects specific data item.\r\n     *\r\n     * @param  dataItem  Target data item\r\n     */\r\n    selectDataItem(dataItem) {\r\n        const parent = dataItem.get(\"parent\");\r\n        const maxDepth = this.getPrivate(\"maxDepth\", 1);\r\n        if (this.get(\"selectedDataItem\") == dataItem) {\r\n            if (parent) {\r\n                this.set(\"selectedDataItem\", parent);\r\n            }\r\n            else {\r\n                let depth = Math.min(this.get(\"downDepth\", 1), maxDepth - dataItem.get(\"depth\"));\r\n                if (this._currentDownDepth == depth) {\r\n                    depth = Math.min(this.get(\"initialDepth\", 1), maxDepth - this.get(\"topDepth\", 0));\r\n                }\r\n                this._selectDataItem(dataItem, depth);\r\n            }\r\n        }\r\n        else {\r\n            this.set(\"selectedDataItem\", dataItem);\r\n        }\r\n    }\r\n    _makeBullet(dataItem, bulletFunction, index) {\r\n        const bullet = super._makeBullet(dataItem, bulletFunction, index);\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            const node = dataItem.get(\"node\");\r\n            if (sprite) {\r\n                node.children.push(sprite);\r\n                node.on(\"width\", () => {\r\n                    this._positionBullet(bullet);\r\n                });\r\n                node.on(\"height\", () => {\r\n                    this._positionBullet(bullet);\r\n                });\r\n            }\r\n        }\r\n        return bullet;\r\n    }\r\n    _positionBullet(bullet) {\r\n        const sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            const dataItem = sprite.dataItem;\r\n            const locationX = bullet.get(\"locationX\", 0.5);\r\n            const locationY = bullet.get(\"locationY\", 0.5);\r\n            const node = dataItem.get(\"node\");\r\n            sprite.set(\"x\", node.width() * locationX);\r\n            sprite.set(\"y\", node.height() * locationY);\r\n        }\r\n    }\r\n    /**\r\n     * Triggers hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    hoverDataItem(dataItem) {\r\n        const node = dataItem.get(\"node\");\r\n        if (node && !node.isHidden()) {\r\n            node.hover();\r\n        }\r\n    }\r\n    /**\r\n     * Triggers un-hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    unhoverDataItem(dataItem) {\r\n        const node = dataItem.get(\"node\");\r\n        if (node) {\r\n            node.unhover();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Hierarchy, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Hierarchy\"\r\n});\r\nObject.defineProperty(Hierarchy, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Series__WEBPACK_IMPORTED_MODULE_0__.Series.classNames.concat([Hierarchy.className])\r\n});\r\n//# sourceMappingURL=Hierarchy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9IaWVyYXJjaHkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0M7QUFDOEI7QUFDZDtBQUNLO0FBQ1A7QUFDUTtBQUNSO0FBQ0k7QUFDQTtBQUNKO0FBQ0Y7QUFDRTtBQUNKO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywwREFBMEQ7QUFDbkU7QUFDTyx3QkFBd0IsdURBQU07QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyw2REFBUyxtQkFBbUIsbUJBQW1CO0FBQ3JGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5REFBWSxDQUFDLHlEQUFRLE9BQU8sU0FBUyx5REFBYTtBQUMxRiwyQkFBMkIsdURBQWdCO0FBQzNDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHlEQUFZLENBQUMseURBQVEsT0FBTyxTQUFTLHFEQUFLO0FBQ2xGLDJCQUEyQix1REFBZ0I7QUFDM0MsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlFQUFxQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQXFCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCLDBDQUEwQyw2REFBUTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdUdBQXVHO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CO0FBQ0EsWUFBWSwwREFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDBDQUEwQyw2REFBUTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0RBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdCQUFnQixzREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQVc7QUFDdkI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixTQUFTO0FBQ1QsZUFBZSxpREFBUztBQUN4QjtBQUNBLCtEQUErRDtBQUMvRCxpQkFBaUIsc0RBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHNEQUFjO0FBQ3JFLGlEQUFpRCxnRUFBZ0U7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLFNBQVM7QUFDVCxlQUFlLGlEQUFTO0FBQ3hCO0FBQ0EsaUJBQWlCLHNEQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHNEQUFjO0FBQ3JFLGlEQUFpRCxvRkFBb0Y7QUFDckk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrREFBVztBQUN2QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw4Q0FBOEM7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtEQUFXO0FBQy9CO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1REFBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NoYXJ0cy9oaWVyYXJjaHkvSGllcmFyY2h5LmpzP2U0NTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IEhpZXJhcmNoeURlZmF1bHRUaGVtZSB9IGZyb20gXCIuL0hpZXJhcmNoeURlZmF1bHRUaGVtZVwiO1xyXG5pbXBvcnQgeyBTZXJpZXMgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvU2VyaWVzXCI7XHJcbmltcG9ydCB7IERhdGFJdGVtIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHlOb2RlIH0gZnJvbSBcIi4vSGllcmFyY2h5Tm9kZVwiO1xyXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvQ29udGFpbmVyXCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0xhYmVsXCI7XHJcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UZW1wbGF0ZVwiO1xyXG5pbXBvcnQgeyBMaXN0VGVtcGxhdGUgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0xpc3RcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzIGQzaGllcmFyY2h5IGZyb20gXCJkMy1oaWVyYXJjaHlcIjtcclxuO1xyXG4vKipcclxuICogQSBiYXNlIGNsYXNzIGZvciBhbGwgaGllcmFyY2h5IGNoYXJ0cy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY2hhcnRzL2hpZXJhcmNoeS99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIaWVyYXJjaHkgZXh0ZW5kcyBTZXJpZXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gdGhhdCBub2RlcyBhcmUgcGxhY2VkIGluLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgQ29udGFpbmVyLm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibm9kZXNDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyBpc01lYXN1cmVkOiBmYWxzZSB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcm9vdE5vZGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RyZWVEYXRhXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pbmRleFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RhZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBcImhpZXJhcmNoeVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBsaXN0IG9mIG5vZGVzIGluIGEgW1tIaWVyYXJjaHldXSBjaGFydC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IG5ldyBMaXN0VGVtcGxhdGU8SGllcmFyY2h5Tm9kZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJub2Rlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmFkZERpc3Bvc2VyKG5ldyBMaXN0VGVtcGxhdGUoVGVtcGxhdGUubmV3KHt9KSwgKCkgPT4gSGllcmFyY2h5Tm9kZS5uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiAkdXRpbHMubWVyZ2VUYWdzKHRoaXMubm9kZXMudGVtcGxhdGUuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSwgW3RoaXMuX3RhZywgXCJoaWVyYXJjaHlcIiwgXCJub2RlXCJdKVxyXG4gICAgICAgICAgICB9LCB0aGlzLm5vZGVzLnRlbXBsYXRlKSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBsaXN0IG9mIGxhYmVsIGVsZW1lbnRzIGluIGEgW1tIaWVyYXJjaHldXSBjaGFydC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IG5ldyBMaXN0VGVtcGxhdGU8TGFiZWw+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGFiZWxzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuYWRkRGlzcG9zZXIobmV3IExpc3RUZW1wbGF0ZShUZW1wbGF0ZS5uZXcoe30pLCAoKSA9PiBMYWJlbC5uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiAkdXRpbHMubWVyZ2VUYWdzKHRoaXMubGFiZWxzLnRlbXBsYXRlLmdldChcInRoZW1lVGFnc1wiLCBbXSksIFt0aGlzLl90YWddKVxyXG4gICAgICAgICAgICB9LCB0aGlzLmxhYmVscy50ZW1wbGF0ZSkpKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jdXJyZW50RG93bkRlcHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1ha2VOb2RlKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGREYXRhID0gZGF0YUl0ZW0uZ2V0KFwiY2hpbGREYXRhXCIpO1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGVzLm1ha2UoKTtcclxuICAgICAgICBub2RlLnNlcmllcyA9IHRoaXM7XHJcbiAgICAgICAgbm9kZS5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIHRoaXMubm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJub2RlXCIsIG5vZGUpO1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5sYWJlbHMubWFrZSgpO1xyXG4gICAgICAgIGxhYmVsLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KFwibGFiZWxcIiwgbGFiZWwpO1xyXG4gICAgICAgIHRoaXMubGFiZWxzLnB1c2gobGFiZWwpO1xyXG4gICAgICAgIGlmICghY2hpbGREYXRhIHx8IGNoaWxkRGF0YS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBub2RlLmFkZFRhZyhcImxhc3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRlcHRoID0gZGF0YUl0ZW0uZ2V0KFwiZGVwdGhcIik7XHJcbiAgICAgICAgbm9kZS5hZGRUYWcoXCJkZXB0aFwiICsgZGVwdGgpO1xyXG4gICAgICAgIHRoaXMubm9kZXNDb250YWluZXIuY2hpbGRyZW4ucHVzaChub2RlKTtcclxuICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2gobGFiZWwpO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHRoaXMuX2RlZmF1bHRUaGVtZXMucHVzaChIaWVyYXJjaHlEZWZhdWx0VGhlbWUubmV3KHRoaXMuX3Jvb3QpKTtcclxuICAgICAgICB0aGlzLmZpZWxkcy5wdXNoKFwiY2F0ZWdvcnlcIiwgXCJjaGlsZERhdGFcIiwgXCJkaXNhYmxlZFwiLCBcImZpbGxcIik7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuYnVsbGV0c0NvbnRhaW5lcik7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICB9XHJcbiAgICBfcHJlcGFyZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl9wcmVwYXJlQ2hpbGRyZW4oKTtcclxuICAgICAgICBpZiAodGhpcy5fdmFsdWVzRGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJlZURhdGEgPSB7fTtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSB0aGlzLmRhdGFJdGVtc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWtlSGllcmFyY2h5RGF0YSh0aGlzLl90cmVlRGF0YSwgZmlyc3QpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdE5vZGUgPSBkM2hpZXJhcmNoeS5oaWVyYXJjaHkodGhpcy5fdHJlZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Jvb3ROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdE5vZGUuc3VtKChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvcnQgPSB0aGlzLmdldChcInNvcnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnQgPT0gXCJkZXNjZW5kaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdE5vZGUuc29ydCgoYSwgYikgPT4gYi52YWx1ZSAtIGEudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzb3J0ID09IFwiYXNjZW5kaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdE5vZGUuc29ydCgoYSwgYikgPT4gYS52YWx1ZSAtIGIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJ2YWx1ZUxvd1wiLCBJbmZpbml0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwidmFsdWVIaWdoXCIsIC1JbmZpbml0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwibWF4RGVwdGhcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmFsdWVzKHRoaXMuX3Jvb3ROb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fdmFsdWVzRGlydHkgfHwgdGhpcy5fc2l6ZURpcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVZpc3VhbHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3NpemVEaXJ0eSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHRoaXMuZ2V0KFwic2VsZWN0ZWREYXRhSXRlbVwiKTtcclxuICAgICAgICAgICAgaWYgKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl96b29tKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9jaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9jaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInNlbGVjdGVkRGF0YUl0ZW1cIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0RGF0YUl0ZW0odGhpcy5nZXQoXCJzZWxlY3RlZERhdGFJdGVtXCIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlVmlzdWFscygpIHtcclxuICAgICAgICBpZiAodGhpcy5fcm9vdE5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTm9kZXModGhpcy5fcm9vdE5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVOb2RlcyhoaWVyYXJjaHlOb2RlKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBoaWVyYXJjaHlOb2RlLmRhdGEuZGF0YUl0ZW07XHJcbiAgICAgICAgaWYgKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU5vZGUoZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5idWxsZXRzLmxlbmd0aCA+IDAgJiYgIWRhdGFJdGVtLmJ1bGxldHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21ha2VCdWxsZXRzKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBoaWVyYXJjaHlDaGlsZHJlbiA9IGhpZXJhcmNoeU5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmIChoaWVyYXJjaHlDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goaGllcmFyY2h5Q2hpbGRyZW4sIChoaWVyYXJjaHlDaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU5vZGVzKGhpZXJhcmNoeUNoaWxkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3VwZGF0ZU5vZGUoX2RhdGFJdGVtKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvb2tzIHVwIGFuZCByZXR1cm5zIGEgZGF0YSBpdGVtIGJ5IGl0cyBJRC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBpZCAgSURcclxuICAgICAqIEByZXR1cm4gICAgICBEYXRhIGl0ZW1cclxuICAgICAqL1xyXG4gICAgZ2V0RGF0YUl0ZW1CeUlkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldERhdGFJdGVtQnlJZCh0aGlzLmRhdGFJdGVtcywgaWQpO1xyXG4gICAgfVxyXG4gICAgX2dldERhdGFJdGVtQnlJZChkYXRhSXRlbXMsIGlkKSB7XHJcbiAgICAgICAgbGV0IGRpO1xyXG4gICAgICAgICRhcnJheS5lYWNoKGRhdGFJdGVtcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhSXRlbS5nZXQoXCJpZFwiKSA9PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgZGkgPSBkYXRhSXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGRhdGFJdGVtLmdldChcImNoaWxkcmVuXCIpO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGxldCBjaGlsZERhdGFJdGVtID0gdGhpcy5fZ2V0RGF0YUl0ZW1CeUlkKGNoaWxkcmVuLCBpZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGREYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpID0gY2hpbGREYXRhSXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBkaTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVCdWxsZXRzKGRhdGFJdGVtcykge1xyXG4gICAgICAgICRhcnJheS5lYWNoKGRhdGFJdGVtcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1bGxldHMgPSBkYXRhSXRlbS5idWxsZXRzO1xyXG4gICAgICAgICAgICBpZiAoYnVsbGV0cykge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goYnVsbGV0cywgKGJ1bGxldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtLmJ1bGxldHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBkYXRhSXRlbS5nZXQoXCJjaGlsZHJlblwiKTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVCdWxsZXRzKGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVZpc3VhbHMoKTtcclxuICAgIH1cclxuICAgIF9vbkRhdGFDbGVhcigpIHtcclxuICAgICAgICBzdXBlci5fb25EYXRhQ2xlYXIoKTtcclxuICAgICAgICBjb25zdCBjb2xvcnMgPSB0aGlzLmdldChcImNvbG9yc1wiKTtcclxuICAgICAgICBpZiAoY29sb3JzKSB7XHJcbiAgICAgICAgICAgIGNvbG9ycy5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXR0ZXJucyA9IHRoaXMuZ2V0KFwicGF0dGVybnNcIik7XHJcbiAgICAgICAgaWYgKHBhdHRlcm5zKSB7XHJcbiAgICAgICAgICAgIHBhdHRlcm5zLnJlc2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJvY2Vzc0RhdGFJdGVtKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgc3VwZXIucHJvY2Vzc0RhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICBjb25zdCBjaGlsZERhdGEgPSBkYXRhSXRlbS5nZXQoXCJjaGlsZERhdGFcIik7XHJcbiAgICAgICAgY29uc3QgY29sb3JzID0gdGhpcy5nZXQoXCJjb2xvcnNcIik7XHJcbiAgICAgICAgY29uc3QgcGF0dGVybnMgPSB0aGlzLmdldChcInBhdHRlcm5zXCIpO1xyXG4gICAgICAgIGNvbnN0IHRvcERlcHRoID0gdGhpcy5nZXQoXCJ0b3BEZXB0aFwiLCAwKTtcclxuICAgICAgICBpZiAoIWRhdGFJdGVtLmdldChcInBhcmVudFwiKSkge1xyXG4gICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJkZXB0aFwiLCAwKTtcclxuICAgICAgICAgICAgaWYgKGNvbG9ycyAmJiB0b3BEZXB0aCA9PSAwICYmIGRhdGFJdGVtLmdldChcImZpbGxcIikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KFwiZmlsbFwiLCBjb2xvcnMubmV4dCgpKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdyhcImZpbGxQYXR0ZXJuXCIsIHBhdHRlcm5zLm5leHQoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRlcHRoID0gZGF0YUl0ZW0uZ2V0KFwiZGVwdGhcIik7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbERlcHRoID0gdGhpcy5nZXQoXCJpbml0aWFsRGVwdGhcIiwgMSk7XHJcbiAgICAgICAgdGhpcy5tYWtlTm9kZShkYXRhSXRlbSk7XHJcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0RhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICBpZiAoY2hpbGREYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gW107XHJcbiAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdyhcImNoaWxkcmVuXCIsIGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goY2hpbGREYXRhLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkRGF0YUl0ZW0gPSBuZXcgRGF0YUl0ZW0odGhpcywgY2hpbGQsIHRoaXMuX21ha2VEYXRhSXRlbShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZERhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgIGNoaWxkRGF0YUl0ZW0uc2V0UmF3KFwicGFyZW50XCIsIGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgIGNoaWxkRGF0YUl0ZW0uc2V0UmF3KFwiZGVwdGhcIiwgZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGFJdGVtcy5sZW5ndGggPT0gMSAmJiBkZXB0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9ycyAmJiBjaGlsZERhdGFJdGVtLmdldChcImZpbGxcIikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZERhdGFJdGVtLnNldFJhdyhcImZpbGxcIiwgY29sb3JzLm5leHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJucyAmJiBjaGlsZERhdGFJdGVtLmdldChcImZpbGxQYXR0ZXJuXCIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGREYXRhSXRlbS5zZXRSYXcoXCJmaWxsUGF0dGVyblwiLCBwYXR0ZXJucy5uZXh0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZERhdGFJdGVtLmdldChcImZpbGxcIikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZERhdGFJdGVtLnNldFJhdyhcImZpbGxcIiwgZGF0YUl0ZW0uZ2V0KFwiZmlsbFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZERhdGFJdGVtLmdldChcImZpbGxQYXR0ZXJuXCIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGREYXRhSXRlbS5zZXRSYXcoXCJmaWxsUGF0dGVyblwiLCBkYXRhSXRlbS5nZXQoXCJmaWxsUGF0dGVyblwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRGF0YUl0ZW0oY2hpbGREYXRhSXRlbSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGRhdGFJdGVtLmdldChcImNoaWxkcmVuXCIpO1xyXG4gICAgICAgIGlmICghY2hpbGRyZW4gfHwgY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGRhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgICAgIG5vZGUuc2V0QWxsKHsgdG9nZ2xlS2V5OiB1bmRlZmluZWQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhSXRlbS5nZXQoXCJkaXNhYmxlZFwiKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXB0aCA+PSB0b3BEZXB0aCArIGluaXRpYWxEZXB0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlRGF0YUl0ZW0oZGF0YUl0ZW0sIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGNoaWxkcmVuIGRhdGEgdG8gdGhlIHRhcmdldCBkYXRhIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY2hhcnRzL2hpZXJhcmNoeS9oaWVyYXJjaHktYXBpLyNEeW5hbWljYWxseV9hZGRpbmdfY2hpbGRfbm9kZXN9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBzaW5jZSA1LjQuNVxyXG4gICAgICovXHJcbiAgICBhZGRDaGlsZERhdGEoZGF0YUl0ZW0sIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBkYXRhQ29udGV4dCA9IGRhdGFJdGVtLmRhdGFDb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IGNoaWxkRGF0YUZpZWxkID0gdGhpcy5nZXQoXCJjaGlsZERhdGFGaWVsZFwiKTtcclxuICAgICAgICBsZXQgY2hpbGREYXRhID0gZGF0YUNvbnRleHRbY2hpbGREYXRhRmllbGRdO1xyXG4gICAgICAgIGlmICghY2hpbGREYXRhKSB7XHJcbiAgICAgICAgICAgIGNoaWxkRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGRhdGFDb250ZXh0W2NoaWxkRGF0YUZpZWxkXSA9IGNoaWxkRGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNoaWxkRGF0YS5wdXNoKC4uLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2hpbGRyZW4gPSBkYXRhSXRlbS5nZXQoXCJjaGlsZHJlblwiKTtcclxuICAgICAgICBpZiAoIWNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW107XHJcbiAgICAgICAgICAgIGRhdGFJdGVtLnNldChcImNoaWxkcmVuXCIsIGNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IGRhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgbm9kZS5zZXQoXCJ0b2dnbGVLZXlcIiwgdGhpcy5ub2Rlcy50ZW1wbGF0ZS5nZXQoXCJ0b2dnbGVLZXlcIiwgXCJkaXNhYmxlZFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkZXB0aCA9IGRhdGFJdGVtLmdldChcImRlcHRoXCIpO1xyXG4gICAgICAgICRhcnJheS5lYWNoKGNoaWxkRGF0YSwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaENvbnRpbnVlKGNoaWxkcmVuLCAoZGF0YUl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbS5kYXRhQ29udGV4dCA9PSBjaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghZm91bmQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkRGF0YUl0ZW0gPSBuZXcgRGF0YUl0ZW0odGhpcywgY2hpbGQsIHRoaXMuX21ha2VEYXRhSXRlbShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZERhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgIGNoaWxkRGF0YUl0ZW0uc2V0UmF3KFwicGFyZW50XCIsIGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgIGNoaWxkRGF0YUl0ZW0uc2V0UmF3KFwiZGVwdGhcIiwgZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZERhdGFJdGVtLmdldChcImZpbGxcIikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxsID0gZGF0YUl0ZW0uZ2V0KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IHRoaXMuZ2V0KFwiY29sb3JzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsID0gY29sb3JzLm5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjaGlsZERhdGFJdGVtLnNldFJhdyhcImZpbGxcIiwgZmlsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NEYXRhSXRlbShjaGlsZERhdGFJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX3Byb2Nlc3NEYXRhSXRlbShfZGF0YUl0ZW0pIHtcclxuICAgIH1cclxuICAgIF91cGRhdGVWYWx1ZXMoZDNIaWVyYXJjaHlOb2RlKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBkM0hpZXJhcmNoeU5vZGUuZGF0YS5kYXRhSXRlbTtcclxuICAgICAgICBpZiAoZDNIaWVyYXJjaHlOb2RlLmRlcHRoID4gdGhpcy5nZXRQcml2YXRlKFwibWF4RGVwdGhcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwibWF4RGVwdGhcIiwgZDNIaWVyYXJjaHlOb2RlLmRlcHRoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdyhcImQzSGllcmFyY2h5Tm9kZVwiLCBkM0hpZXJhcmNoeU5vZGUpO1xyXG4gICAgICAgICAgICBkM0hpZXJhcmNoeU5vZGUuaW5kZXggPSB0aGlzLl9pbmRleDtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXgrKztcclxuICAgICAgICAgICAgdGhpcy5yb290LmV2ZW50cy5vbmNlKFwiZnJhbWVlbmRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5nZXQoXCJub2RlXCIpLnNldChcImRpc2FibGVkXCIsIGRhdGFJdGVtLmdldChcImRpc2FibGVkXCIpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxldCBkYXRhVmFsdWUgPSBkM0hpZXJhcmNoeU5vZGUuZGF0YS52YWx1ZTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZDNIaWVyYXJjaHlOb2RlLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZGF0YVZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGF0YVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZDNIaWVyYXJjaHlOb2RlW1widmFsdWVcIl0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJzdW1cIiwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KFwidmFsdWVQZXJjZW50VG90YWxcIiwgdmFsdWUgLyB0aGlzLmRhdGFJdGVtc1swXS5nZXQoXCJzdW1cIikgKiAxMDApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlUGVyY2VudCA9IDEwMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGRhdGFJdGVtLmdldChcInBhcmVudFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVBlcmNlbnQgPSB2YWx1ZSAvIHBhcmVudC5nZXQoXCJzdW1cIikgKiAxMDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5nZXQoXCJsYWJlbFwiKS50ZXh0Lm1hcmtEaXJ0eVRleHQoKTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdyhcInZhbHVlUGVyY2VudFwiLCB2YWx1ZVBlcmNlbnQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVMb3cgPSB0aGlzLmdldFByaXZhdGUoXCJ2YWx1ZUxvd1wiKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUxvdyAhPSB1bmRlZmluZWQgJiYgdmFsdWVMb3cgPiB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInZhbHVlTG93XCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlSGlnaCA9IHRoaXMuZ2V0UHJpdmF0ZShcInZhbHVlSGlnaFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUhpZ2ggIT0gdW5kZWZpbmVkICYmIHZhbHVlSGlnaCA8IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwidmFsdWVIaWdoXCIsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxlZ2VuZFZhbHVlKGRhdGFJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaGllcmFyY2h5Q2hpbGRyZW4gPSBkM0hpZXJhcmNoeU5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgaWYgKGhpZXJhcmNoeUNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGhpZXJhcmNoeUNoaWxkcmVuLCAoZDNIaWVyYXJjaHlDaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmFsdWVzKGQzSGllcmFyY2h5Q2hpbGQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfbWFrZUhpZXJhcmNoeURhdGEoZGF0YSwgZGF0YUl0ZW0pIHtcclxuICAgICAgICBkYXRhLmRhdGFJdGVtID0gZGF0YUl0ZW07XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBkYXRhSXRlbS5nZXQoXCJjaGlsZHJlblwiKTtcclxuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW5EYXRhQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgZGF0YS5jaGlsZHJlbiA9IGNoaWxkcmVuRGF0YUFycmF5O1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChjaGlsZHJlbiwgKGNoaWxkRGF0YUl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5EYXRhQXJyYXkucHVzaChjaGlsZERhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFrZUhpZXJhcmNoeURhdGEoY2hpbGREYXRhLCBjaGlsZERhdGFJdGVtKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KFwidmFsdWVXb3JraW5nXCIpO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KFwidmFsdWVXb3JraW5nXCIpO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZGlzcG9zZURhdGFJdGVtKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgc3VwZXIuZGlzcG9zZURhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICBjb25zdCBub2RlID0gZGF0YUl0ZW0uZ2V0KFwibm9kZVwiKTtcclxuICAgICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnJlbW92ZVZhbHVlKG5vZGUpO1xyXG4gICAgICAgICAgICBub2RlLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkYXRhSXRlbS5nZXQoXCJsYWJlbFwiKTtcclxuICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJlbHMucmVtb3ZlVmFsdWUobGFiZWwpO1xyXG4gICAgICAgICAgICBsYWJlbC5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZGF0YUl0ZW0uZ2V0KFwiY2hpbGRyZW5cIik7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGNoaWxkcmVuLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZURhdGFJdGVtKGNoaWxkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyBoaWVyYXJjaHkncyBkYXRhIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgZGF0YUl0ZW0gIERhdGEgaXRlbVxyXG4gICAgICogQHBhcmFtICAgZHVyYXRpb24gIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBQcm9taXNlXHJcbiAgICAgKi9cclxuICAgIGhpZGVEYXRhSXRlbShkYXRhSXRlbSwgZHVyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBfc3VwZXIgPSBPYmplY3QuY3JlYXRlKG51bGwsIHtcclxuICAgICAgICAgICAgaGlkZURhdGFJdGVtOiB7IGdldDogKCkgPT4gc3VwZXIuaGlkZURhdGFJdGVtIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtfc3VwZXIuaGlkZURhdGFJdGVtLmNhbGwodGhpcywgZGF0YUl0ZW0sIGR1cmF0aW9uKV07XHJcbiAgICAgICAgICAgIGNvbnN0IGhpZGRlblN0YXRlID0gdGhpcy5zdGF0ZXMuY3JlYXRlKFwiaGlkZGVuXCIsIHt9KTtcclxuICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihkdXJhdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlQW5pbWF0aW9uRHVyYXRpb24gPSBcInN0YXRlQW5pbWF0aW9uRHVyYXRpb25cIjtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gaGlkZGVuU3RhdGUuZ2V0KHN0YXRlQW5pbWF0aW9uRHVyYXRpb24sIHRoaXMuZ2V0KHN0YXRlQW5pbWF0aW9uRHVyYXRpb24sIDApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzdGF0ZUFuaW1hdGlvbkVhc2luZyA9IFwic3RhdGVBbmltYXRpb25FYXNpbmdcIjtcclxuICAgICAgICAgICAgY29uc3QgZWFzaW5nID0gaGlkZGVuU3RhdGUuZ2V0KHN0YXRlQW5pbWF0aW9uRWFzaW5nLCB0aGlzLmdldChzdGF0ZUFuaW1hdGlvbkVhc2luZykpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGRhdGFJdGVtLmdldChcImNoaWxkcmVuXCIpO1xyXG4gICAgICAgICAgICBpZiAoKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT0gMCkgJiYgJHR5cGUuaXNOdW1iZXIoZGF0YUl0ZW0uZ2V0KFwidmFsdWVcIikpKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGRhdGFJdGVtLmFuaW1hdGUoeyBrZXk6IFwidmFsdWVXb3JraW5nXCIsIHRvOiAwLCBkdXJhdGlvbjogZHVyYXRpb24sIGVhc2luZzogZWFzaW5nIH0pLndhaXRGb3JTdG9wKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBkYXRhSXRlbS5nZXQoXCJub2RlXCIpO1xyXG4gICAgICAgICAgICBub2RlLmhpZGUoKTtcclxuICAgICAgICAgICAgbm9kZS5oaWRlVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGNoaWxkcmVuLCAoY2hpbGREYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5oaWRlRGF0YUl0ZW0oY2hpbGREYXRhSXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeWllbGQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93cyBoaWVyYXJjaHkncyBkYXRhIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgZGF0YUl0ZW0gIERhdGEgaXRlbVxyXG4gICAgICogQHBhcmFtICAgZHVyYXRpb24gIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBQcm9taXNlXHJcbiAgICAgKi9cclxuICAgIHNob3dEYXRhSXRlbShkYXRhSXRlbSwgZHVyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBfc3VwZXIgPSBPYmplY3QuY3JlYXRlKG51bGwsIHtcclxuICAgICAgICAgICAgc2hvd0RhdGFJdGVtOiB7IGdldDogKCkgPT4gc3VwZXIuc2hvd0RhdGFJdGVtIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtfc3VwZXIuc2hvd0RhdGFJdGVtLmNhbGwodGhpcywgZGF0YUl0ZW0sIGR1cmF0aW9uKV07XHJcbiAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMuZ2V0KFwic3RhdGVBbmltYXRpb25EdXJhdGlvblwiLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBlYXNpbmcgPSB0aGlzLmdldChcInN0YXRlQW5pbWF0aW9uRWFzaW5nXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGRhdGFJdGVtLmdldChcImNoaWxkcmVuXCIpO1xyXG4gICAgICAgICAgICBpZiAoKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT0gMCkgJiYgJHR5cGUuaXNOdW1iZXIoZGF0YUl0ZW0uZ2V0KFwidmFsdWVcIikpKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGRhdGFJdGVtLmFuaW1hdGUoeyBrZXk6IFwidmFsdWVXb3JraW5nXCIsIHRvOiBkYXRhSXRlbS5nZXQoXCJ2YWx1ZVwiKSwgZHVyYXRpb246IGR1cmF0aW9uLCBlYXNpbmc6IGVhc2luZyB9KS53YWl0Rm9yU3RvcCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBub2RlID0gZGF0YUl0ZW0uZ2V0KFwibm9kZVwiKTtcclxuICAgICAgICAgICAgbm9kZS5zaG93KCk7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2goY2hpbGRyZW4sIChjaGlsZERhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLnNob3dEYXRhSXRlbShjaGlsZERhdGFJdGVtKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZXMgYSBkaXNhYmxlZCBkYXRhIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICBkYXRhSXRlbSAgVGFyZ2V0IGRhdGEgaXRlbVxyXG4gICAgICogQHBhcmFtICBkdXJhdGlvbiAgQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICovXHJcbiAgICBlbmFibGVEYXRhSXRlbShkYXRhSXRlbSwgbWF4RGVwdGgsIGRlcHRoLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGlmIChkZXB0aCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGRlcHRoID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1heERlcHRoID09IG51bGwpIHtcclxuICAgICAgICAgICAgbWF4RGVwdGggPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhSXRlbS5zZXQoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgZGF0YUl0ZW0uZ2V0KFwibm9kZVwiKS5zZXQoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKCFkYXRhSXRlbS5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgIGRhdGFJdGVtLmdldChcIm5vZGVcIikuc2hvdyhkdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRvcERlcHRoID0gdGhpcy5nZXQoXCJ0b3BEZXB0aFwiLCAwKTtcclxuICAgICAgICBpZiAoZGF0YUl0ZW0uZ2V0KFwiZGVwdGhcIikgPCB0b3BEZXB0aCkge1xyXG4gICAgICAgICAgICBkYXRhSXRlbS5nZXQoXCJub2RlXCIpLmhpZGUoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwRGVwdGggPSB0aGlzLmdldChcInVwRGVwdGhcIiwgSW5maW5pdHkpO1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gZGF0YUl0ZW07XHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gdXBEZXB0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5nZXQoXCJub2RlXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5nZXQoXCJwYXJlbnRcIik7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjaGlsZHJlbiA9IGRhdGFJdGVtLmdldChcImNoaWxkcmVuXCIpO1xyXG4gICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoZGVwdGggPCBtYXhEZXB0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGNoaWxkcmVuLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNhYmxlZEZpZWxkID0gdGhpcy5nZXQoXCJkaXNhYmxlZEZpZWxkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNhYmxlZEZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDb250ZXh0ID0gY2hpbGQuZGF0YUNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhQ29udGV4dFtkaXNhYmxlZEZpZWxkXSAhPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZURhdGFJdGVtKGNoaWxkLCBtYXhEZXB0aCwgZGVwdGggKyAxLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVEYXRhSXRlbShjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlRGF0YUl0ZW0oY2hpbGQsIG1heERlcHRoLCBkZXB0aCArIDEsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGNoaWxkcmVuLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuZ2V0KFwibm9kZVwiKS5zaG93KGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuZ2V0KFwibm9kZVwiKS5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnNldChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVEYXRhSXRlbShjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc2FibGVzIGEgZGF0YSBpdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgZGF0YUl0ZW0gIFRhcmdldCBkYXRhIGl0ZW1cclxuICAgICAqIEBwYXJhbSAgZHVyYXRpb24gIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqL1xyXG4gICAgZGlzYWJsZURhdGFJdGVtKGRhdGFJdGVtLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGRhdGFJdGVtLnNldChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgIGxldCBjaGlsZHJlbiA9IGRhdGFJdGVtLmdldChcImNoaWxkcmVuXCIpO1xyXG4gICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVEYXRhSXRlbShjaGlsZCwgZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuZ2V0KFwibm9kZVwiKS5oaWRlKGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NlbGVjdERhdGFJdGVtKGRhdGFJdGVtLCBkb3duRGVwdGgsIHNraXBEaXNwdGFjaCkge1xyXG4gICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoIXNraXBEaXNwdGFjaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IFwiZGF0YWl0ZW1zZWxlY3RlZFwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMsIGRhdGFJdGVtOiBkYXRhSXRlbSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbWF4RGVwdGggPSB0aGlzLmdldFByaXZhdGUoXCJtYXhEZXB0aFwiLCAxKTtcclxuICAgICAgICAgICAgY29uc3QgdG9wRGVwdGggPSB0aGlzLmdldChcInRvcERlcHRoXCIsIDApO1xyXG4gICAgICAgICAgICBpZiAoZG93bkRlcHRoID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGRvd25EZXB0aCA9IE1hdGgubWluKHRoaXMuZ2V0KFwiZG93bkRlcHRoXCIsIDEpLCBtYXhEZXB0aCAtIGRhdGFJdGVtLmdldChcImRlcHRoXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBoaWVyYXJjaHlOb2RlID0gZGF0YUl0ZW0uZ2V0KFwiZDNIaWVyYXJjaHlOb2RlXCIpO1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudERlcHRoID0gaGllcmFyY2h5Tm9kZS5kZXB0aDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmluaXRlZCkge1xyXG4gICAgICAgICAgICAgICAgZG93bkRlcHRoID0gTWF0aC5taW4odGhpcy5nZXQoXCJpbml0aWFsRGVwdGhcIiwgMSksIG1heERlcHRoIC0gdG9wRGVwdGgpO1xyXG4gICAgICAgICAgICAgICAgZG93bkRlcHRoID0gTWF0aC5tYXgoMCwgZG93bkRlcHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50RG93bkRlcHRoID0gZG93bkRlcHRoO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudERlcHRoICsgZG93bkRlcHRoID4gbWF4RGVwdGgpIHtcclxuICAgICAgICAgICAgICAgIGRvd25EZXB0aCA9IG1heERlcHRoIC0gY3VycmVudERlcHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50RGVwdGggPCB0b3BEZXB0aCkge1xyXG4gICAgICAgICAgICAgICAgZG93bkRlcHRoICs9IHRvcERlcHRoIC0gY3VycmVudERlcHRoO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudERlcHRoID0gdG9wRGVwdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBkYXRhSXRlbS5nZXQoXCJjaGlsZHJlblwiKTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChkb3duRGVwdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmFibGVEYXRhSXRlbShkYXRhSXRlbSwgZG93bkRlcHRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLmdldChcIm5vZGVcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGNoaWxkcmVuLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuZ2V0KFwibm9kZVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaGllcmFyY2h5Tm9kZS5kZXB0aCA8IHRvcERlcHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uZ2V0KFwibm9kZVwiKS5oaWRlKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwic2luZ2xlQnJhbmNoT25seVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNpbmdsZShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZURhdGFJdGVtKGRhdGFJdGVtLCBkb3duRGVwdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuZXZlbnRzLm9uY2UoXCJmcmFtZWVuZGVkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3pvb20oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfem9vbShfZGF0YUl0ZW0pIHtcclxuICAgIH1cclxuICAgIF9oYW5kbGVTaW5nbGUoZGF0YUl0ZW0pIHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSBkYXRhSXRlbS5nZXQoXCJwYXJlbnRcIik7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudC5nZXQoXCJjaGlsZHJlblwiKTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkICE9IGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZURhdGFJdGVtKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0cyBzcGVjaWZpYyBkYXRhIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICBkYXRhSXRlbSAgVGFyZ2V0IGRhdGEgaXRlbVxyXG4gICAgICovXHJcbiAgICBzZWxlY3REYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGRhdGFJdGVtLmdldChcInBhcmVudFwiKTtcclxuICAgICAgICBjb25zdCBtYXhEZXB0aCA9IHRoaXMuZ2V0UHJpdmF0ZShcIm1heERlcHRoXCIsIDEpO1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcInNlbGVjdGVkRGF0YUl0ZW1cIikgPT0gZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJzZWxlY3RlZERhdGFJdGVtXCIsIHBhcmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVwdGggPSBNYXRoLm1pbih0aGlzLmdldChcImRvd25EZXB0aFwiLCAxKSwgbWF4RGVwdGggLSBkYXRhSXRlbS5nZXQoXCJkZXB0aFwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudERvd25EZXB0aCA9PSBkZXB0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoID0gTWF0aC5taW4odGhpcy5nZXQoXCJpbml0aWFsRGVwdGhcIiwgMSksIG1heERlcHRoIC0gdGhpcy5nZXQoXCJ0b3BEZXB0aFwiLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3REYXRhSXRlbShkYXRhSXRlbSwgZGVwdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldChcInNlbGVjdGVkRGF0YUl0ZW1cIiwgZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9tYWtlQnVsbGV0KGRhdGFJdGVtLCBidWxsZXRGdW5jdGlvbiwgaW5kZXgpIHtcclxuICAgICAgICBjb25zdCBidWxsZXQgPSBzdXBlci5fbWFrZUJ1bGxldChkYXRhSXRlbSwgYnVsbGV0RnVuY3Rpb24sIGluZGV4KTtcclxuICAgICAgICBpZiAoYnVsbGV0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGJ1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBkYXRhSXRlbS5nZXQoXCJub2RlXCIpO1xyXG4gICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2goc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIG5vZGUub24oXCJ3aWR0aFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25CdWxsZXQoYnVsbGV0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5vbihcImhlaWdodFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25CdWxsZXQoYnVsbGV0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWxsZXQ7XHJcbiAgICB9XHJcbiAgICBfcG9zaXRpb25CdWxsZXQoYnVsbGV0KSB7XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtID0gc3ByaXRlLmRhdGFJdGVtO1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvblggPSBidWxsZXQuZ2V0KFwibG9jYXRpb25YXCIsIDAuNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uWSA9IGJ1bGxldC5nZXQoXCJsb2NhdGlvbllcIiwgMC41KTtcclxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGRhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zZXQoXCJ4XCIsIG5vZGUud2lkdGgoKSAqIGxvY2F0aW9uWCk7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zZXQoXCJ5XCIsIG5vZGUuaGVpZ2h0KCkgKiBsb2NhdGlvblkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcnMgaG92ZXIgb24gYSBzZXJpZXMgZGF0YSBpdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSA1LjAuN1xyXG4gICAgICogQHBhcmFtICBkYXRhSXRlbSAgVGFyZ2V0IGRhdGEgaXRlbVxyXG4gICAgICovXHJcbiAgICBob3ZlckRhdGFJdGVtKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IGRhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgaWYgKG5vZGUgJiYgIW5vZGUuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICBub2RlLmhvdmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VycyB1bi1ob3ZlciBvbiBhIHNlcmllcyBkYXRhIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDUuMC43XHJcbiAgICAgKiBAcGFyYW0gIGRhdGFJdGVtICBUYXJnZXQgZGF0YSBpdGVtXHJcbiAgICAgKi9cclxuICAgIHVuaG92ZXJEYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBkYXRhSXRlbS5nZXQoXCJub2RlXCIpO1xyXG4gICAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgICAgIG5vZGUudW5ob3ZlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSGllcmFyY2h5LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJIaWVyYXJjaHlcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEhpZXJhcmNoeSwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBTZXJpZXMuY2xhc3NOYW1lcy5jb25jYXQoW0hpZXJhcmNoeS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGllcmFyY2h5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/Hierarchy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyDefaultTheme.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyDefaultTheme.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HierarchyDefaultTheme: () => (/* binding */ HierarchyDefaultTheme)\n/* harmony export */ });\n/* harmony import */ var _core_Theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Theme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_ColorSet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/util/ColorSet */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js\");\n/* harmony import */ var _themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../themes/DefaultTheme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js\");\n/* harmony import */ var _core_util_Ease__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/util/Ease */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nclass HierarchyDefaultTheme extends _core_Theme__WEBPACK_IMPORTED_MODULE_0__.Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const ic = this._root.interfaceColors;\r\n        const gridLayout = this._root.gridLayout;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * charts/hierarchy\r\n         * ========================================================================\r\n         */\r\n        r(\"Hierarchy\").setAll({\r\n            legendLabelText: \"{category}\",\r\n            legendValueText: \"{sum.formatNumber('#.#')}\",\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p100,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p100,\r\n            colors: _core_util_ColorSet__WEBPACK_IMPORTED_MODULE_2__.ColorSet.new(this._root, { step: 2 }),\r\n            downDepth: 1,\r\n            initialDepth: 5,\r\n            singleBranchOnly: true,\r\n            maskContent: true,\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_3__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_3__.cubic)\r\n        });\r\n        r(\"HierarchyNode\").setAll({\r\n            toggleKey: \"disabled\",\r\n            setStateOnChildren: true,\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            cursorOverStyle: \"pointer\",\r\n            tooltipText: \"{category}: {sum}\"\r\n        });\r\n        r(\"HierarchyNode\", [\"last\"]).setAll({\r\n            cursorOverStyle: \"default\"\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"hierarchy\", \"node\"]);\r\n            rule.setAll({\r\n                centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                position: \"absolute\",\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingRight: 4,\r\n                paddingLeft: 4,\r\n                text: \"{category}\",\r\n                populateText: true,\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.3\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        {\r\n            const rule = r(\"HierarchyLink\");\r\n            rule.setAll({\r\n                isMeasured: false,\r\n                position: \"absolute\",\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                strength: 0.9,\r\n                distance: 1.1\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\"]).setAll({\r\n            position: \"absolute\",\r\n            fillOpacity: 1,\r\n            strokeOpacity: 0,\r\n            radius: 15,\r\n            tooltipY: 0\r\n        });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).setAll({\r\n            position: \"absolute\",\r\n            opacity: 1,\r\n            fillOpacity: 0,\r\n            strokeDasharray: 0,\r\n            strokeOpacity: 1,\r\n            radius: 15,\r\n            scale: 1.1,\r\n            interactive: false\r\n        });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"disabled\", { opacity: 1, scale: 1.1, strokeDasharray: 2 });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hoverDisabled\", { scale: 1.2, opacity: 1, strokeDasharray: 2 });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hover\", { scale: 1.05, strokeDasharray: 0 });\r\n        r(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hidden\", { opacity: 0, strokeDasharray: 0 });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: BreadcrumbBar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"BreadcrumbBar\").setAll({\r\n            paddingLeft: 8,\r\n            layout: gridLayout\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"breadcrumb\"]);\r\n            rule.setAll({\r\n                paddingRight: 4,\r\n                paddingLeft: 4,\r\n                cursorOverStyle: \"pointer\",\r\n                populateText: true,\r\n                text: \"{category}:\",\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"breadcrumb\"]).states.create(\"hover\", {});\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"breadcrumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"breadcrumb\", \"last\"]);\r\n            rule.setAll({\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                fontWeight: \"bold\",\r\n                cursorOverStyle: \"default\"\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"breadcrumb\", \"label\", \"background\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0,\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"background\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Partition\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Partition\").setAll({\r\n            downDepth: 1,\r\n            upDepth: 0,\r\n            initialDepth: 5\r\n        });\r\n        r(\"HierarchyNode\", [\"partition\"]).setAll({\r\n            setStateOnChildren: false\r\n        });\r\n        r(\"HierarchyNode\", [\"partition\"]).states.create(\"hidden\", {\r\n            opacity: 1,\r\n            visible: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"partition\", \"node\"]);\r\n            rule.setAll({\r\n                x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                rotation: 90,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        r(\"Label\", [\"horizontal\", \"partition\", \"node\"]).setAll({\r\n            rotation: 0\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"partition\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 1,\r\n                strokeWidth: 1,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTL: 0\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"partition\", \"node\", \"shape\", \"last\"]).setAll({\r\n            fillOpacity: 0.75\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Sunburst\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Sunburst\").setAll({\r\n            singleBranchOnly: true\r\n        });\r\n        r(\"HierarchyNode\", [\"sunburst\"]).setAll({\r\n            setStateOnChildren: false\r\n        });\r\n        r(\"HierarchyNode\", [\"sunburst\"]).states.create(\"hidden\", {\r\n            opacity: 0,\r\n            visible: false\r\n        });\r\n        {\r\n            const rule = r(\"Slice\", [\"sunburst\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 1,\r\n                strokeWidth: 1,\r\n                cornerRadius: 0\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        r(\"Slice\", [\"sunburst\", \"node\", \"shape\", \"last\"]).setAll({\r\n            fillOpacity: 0.75\r\n        });\r\n        {\r\n            const rule = r(\"RadialLabel\", [\"sunburst\", \"node\"]);\r\n            rule.setAll({\r\n                x: 0,\r\n                y: 0,\r\n                textType: \"radial\",\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4,\r\n                baseRadius: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                rotation: 0\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: ForceDirected\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"ForceDirected\").setAll({\r\n            minRadius: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.percent)(1),\r\n            maxRadius: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.percent)(8),\r\n            initialFrames: 500,\r\n            centerStrength: 0.8,\r\n            manyBodyStrength: -14,\r\n            velocityDecay: 0.5,\r\n            linkWithStrength: 0.5,\r\n            showOnFrame: 10,\r\n            singleBranchOnly: false,\r\n            upDepth: Infinity,\r\n            downDepth: 1,\r\n            initialDepth: 5,\r\n            topDepth: 0\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Tree\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Tree\").setAll({\r\n            orientation: \"vertical\",\r\n            paddingLeft: 20,\r\n            paddingRight: 20,\r\n            paddingTop: 20,\r\n            paddingBottom: 20,\r\n            singleBranchOnly: false,\r\n            upDepth: Infinity,\r\n            downDepth: 1,\r\n            initialDepth: 5,\r\n            topDepth: 0\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Pack\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Pack\").setAll({\r\n            paddingLeft: 20,\r\n            paddingTop: 20,\r\n            paddingBottom: 20,\r\n            paddingRight: 20,\r\n            nodePadding: 0\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"pack\", \"node\"]);\r\n            rule.setAll({\r\n                centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        {\r\n            const rule = r(\"Circle\", [\"pack\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                fillOpacity: 0.8,\r\n                strokeWidth: 1,\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        r(\"LinkedHierarchyNode\").setAll({\r\n            draggable: true\r\n        });\r\n        r(\"LinkedHierarchyNode\").states.create(\"hidden\", { scale: 0, opacity: 0, visible: false });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Treemap\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Treemap\").setAll({\r\n            upDepth: 0,\r\n            layoutAlgorithm: \"squarify\"\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"treemap\", \"node\"]);\r\n            rule.setAll({\r\n                x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        r(\"HierarchyNode\", [\"treemap\", \"node\"]).setAll({\r\n            tooltipY: (0,_core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.percent)(40),\r\n            isMeasured: false,\r\n            position: \"absolute\",\r\n            cursorOverStyle: \"pointer\"\r\n        });\r\n        r(\"HierarchyNode\", [\"treemap\", \"node\", \"last\"]).setAll({\r\n            cursorOverStyle: \"default\"\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"treemap\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 1,\r\n                strokeWidth: 1,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTL: 0,\r\n                fillOpacity: 1\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/hierarchy: Voronoi Treemap\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        {\r\n            r(\"VoronoiTreemap\").setAll({\r\n                type: \"polygon\",\r\n                minWeightRatio: 0.005,\r\n                convergenceRatio: 0.005,\r\n                maxIterationCount: 100,\r\n                singleBranchOnly: true\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"voronoitreemap\", \"node\", \"shape\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 1,\r\n                strokeWidth: 1,\r\n                fillOpacity: 1\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"stroke\", ic, \"background\");\r\n        }\r\n        {\r\n            r(\"Polygon\", [\"hierarchy\", \"node\", \"shape\", \"depth1\"]).setAll({\r\n                strokeWidth: 3\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"voronoitreemap\"]);\r\n            rule.setAll({\r\n                centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p50,\r\n                paddingBottom: 1,\r\n                paddingTop: 1,\r\n                paddingLeft: 1,\r\n                paddingRight: 1,\r\n                populateText: true,\r\n                text: \"{category}\",\r\n                oversizedBehavior: \"fit\",\r\n                minScale: 0.4,\r\n                layer: 30\r\n            });\r\n            (0,_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_4__.setColor)(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=HierarchyDefaultTheme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9IaWVyYXJjaHlEZWZhdWx0VGhlbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXlDO0FBQ29CO0FBQ1Q7QUFDQztBQUNQO0FBQzlDO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQyw4Q0FBSztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFNBQVM7QUFDeEMsK0JBQStCLHdCQUF3QjtBQUN2RCxtQkFBbUIsb0RBQUk7QUFDdkIsb0JBQW9CLG9EQUFJO0FBQ3hCLG9CQUFvQix5REFBUSxtQkFBbUIsU0FBUztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnREFBUyxDQUFDLGtEQUFXO0FBQ2xELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsU0FBUyxHQUFHLElBQUk7QUFDM0MsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1EQUFHO0FBQzVCLHlCQUF5QixtREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsdUZBQXVGLDRDQUE0QztBQUNuSSw0RkFBNEYsNENBQTRDO0FBQ3hJLG9GQUFvRixpQ0FBaUM7QUFDckgscUZBQXFGLGdDQUFnQztBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakMsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBLDZFQUE2RTtBQUM3RSxZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQSw0RUFBNEUsMkJBQTJCO0FBQ3ZHLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1EQUFHO0FBQ3RCLG1CQUFtQixtREFBRztBQUN0Qix5QkFBeUIsbURBQUc7QUFDNUIseUJBQXlCLG1EQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtREFBRztBQUM1QjtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQSw0QkFBNEIsbURBQUc7QUFDL0I7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBTztBQUM5Qix1QkFBdUIsMkRBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtREFBRztBQUM1Qix5QkFBeUIsbURBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwyREFBMkQsc0NBQXNDO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1EQUFHO0FBQ3RCLG1CQUFtQixtREFBRztBQUN0Qix5QkFBeUIsbURBQUc7QUFDNUIseUJBQXlCLG1EQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBLHNCQUFzQiwyREFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbURBQUc7QUFDNUIseUJBQXlCLG1EQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9IaWVyYXJjaHlEZWZhdWx0VGhlbWUuanM/MWZiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaGVtZSB9IGZyb20gXCIuLi8uLi9jb3JlL1RoZW1lXCI7XHJcbmltcG9ydCB7IHBlcmNlbnQsIHAxMDAsIHA1MCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvUGVyY2VudFwiO1xyXG5pbXBvcnQgeyBDb2xvclNldCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQ29sb3JTZXRcIjtcclxuaW1wb3J0IHsgc2V0Q29sb3IgfSBmcm9tIFwiLi4vLi4vdGhlbWVzL0RlZmF1bHRUaGVtZVwiO1xyXG5pbXBvcnQgKiBhcyAkZWFzZSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0Vhc2VcIjtcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBIaWVyYXJjaHlEZWZhdWx0VGhlbWUgZXh0ZW5kcyBUaGVtZSB7XHJcbiAgICBzZXR1cERlZmF1bHRSdWxlcygpIHtcclxuICAgICAgICBzdXBlci5zZXR1cERlZmF1bHRSdWxlcygpO1xyXG4gICAgICAgIGNvbnN0IGljID0gdGhpcy5fcm9vdC5pbnRlcmZhY2VDb2xvcnM7XHJcbiAgICAgICAgY29uc3QgZ3JpZExheW91dCA9IHRoaXMuX3Jvb3QuZ3JpZExheW91dDtcclxuICAgICAgICBjb25zdCByID0gdGhpcy5ydWxlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgICogY2hhcnRzL2hpZXJhcmNoeVxyXG4gICAgICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJIaWVyYXJjaHlcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgbGVnZW5kTGFiZWxUZXh0OiBcIntjYXRlZ29yeX1cIixcclxuICAgICAgICAgICAgbGVnZW5kVmFsdWVUZXh0OiBcIntzdW0uZm9ybWF0TnVtYmVyKCcjLiMnKX1cIixcclxuICAgICAgICAgICAgd2lkdGg6IHAxMDAsXHJcbiAgICAgICAgICAgIGhlaWdodDogcDEwMCxcclxuICAgICAgICAgICAgY29sb3JzOiBDb2xvclNldC5uZXcodGhpcy5fcm9vdCwgeyBzdGVwOiAyIH0pLFxyXG4gICAgICAgICAgICBkb3duRGVwdGg6IDEsXHJcbiAgICAgICAgICAgIGluaXRpYWxEZXB0aDogNSxcclxuICAgICAgICAgICAgc2luZ2xlQnJhbmNoT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgbWFza0NvbnRlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZzogJGVhc2Uub3V0KCRlYXNlLmN1YmljKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJIaWVyYXJjaHlOb2RlXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHRvZ2dsZUtleTogXCJkaXNhYmxlZFwiLFxyXG4gICAgICAgICAgICBzZXRTdGF0ZU9uQ2hpbGRyZW46IHRydWUsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgIGlzTWVhc3VyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjdXJzb3JPdmVyU3R5bGU6IFwicG9pbnRlclwiLFxyXG4gICAgICAgICAgICB0b29sdGlwVGV4dDogXCJ7Y2F0ZWdvcnl9OiB7c3VtfVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkhpZXJhcmNoeU5vZGVcIiwgW1wibGFzdFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY3Vyc29yT3ZlclN0eWxlOiBcImRlZmF1bHRcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJMYWJlbFwiLCBbXCJoaWVyYXJjaHlcIiwgXCJub2RlXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgY2VudGVyWDogcDUwLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDEsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAxLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiA0LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDQsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIntjYXRlZ29yeX1cIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG92ZXJzaXplZEJlaGF2aW9yOiBcImZpdFwiLFxyXG4gICAgICAgICAgICAgICAgbWluU2NhbGU6IDAuM1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImFsdGVybmF0aXZlVGV4dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkhpZXJhcmNoeUxpbmtcIik7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGlzTWVhc3VyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMSxcclxuICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiAwLjksXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogMS4xXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJncmlkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiQ2lyY2xlXCIsIFtcImxpbmtlZGhpZXJhcmNoeVwiLCBcInNoYXBlXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMSxcclxuICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMCxcclxuICAgICAgICAgICAgcmFkaXVzOiAxNSxcclxuICAgICAgICAgICAgdG9vbHRpcFk6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQ2lyY2xlXCIsIFtcImxpbmtlZGhpZXJhcmNoeVwiLCBcInNoYXBlXCIsIFwib3V0ZXJcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk6IDAsXHJcbiAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIHJhZGl1czogMTUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJDaXJjbGVcIiwgW1wibGlua2VkaGllcmFyY2h5XCIsIFwic2hhcGVcIiwgXCJvdXRlclwiXSkuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHsgb3BhY2l0eTogMSwgc2NhbGU6IDEuMSwgc3Ryb2tlRGFzaGFycmF5OiAyIH0pO1xyXG4gICAgICAgIHIoXCJDaXJjbGVcIiwgW1wibGlua2VkaGllcmFyY2h5XCIsIFwic2hhcGVcIiwgXCJvdXRlclwiXSkuc3RhdGVzLmNyZWF0ZShcImhvdmVyRGlzYWJsZWRcIiwgeyBzY2FsZTogMS4yLCBvcGFjaXR5OiAxLCBzdHJva2VEYXNoYXJyYXk6IDIgfSk7XHJcbiAgICAgICAgcihcIkNpcmNsZVwiLCBbXCJsaW5rZWRoaWVyYXJjaHlcIiwgXCJzaGFwZVwiLCBcIm91dGVyXCJdKS5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJcIiwgeyBzY2FsZTogMS4wNSwgc3Ryb2tlRGFzaGFycmF5OiAwIH0pO1xyXG4gICAgICAgIHIoXCJDaXJjbGVcIiwgW1wibGlua2VkaGllcmFyY2h5XCIsIFwic2hhcGVcIiwgXCJvdXRlclwiXSkuc3RhdGVzLmNyZWF0ZShcImhpZGRlblwiLCB7IG9wYWNpdHk6IDAsIHN0cm9rZURhc2hhcnJheTogMCB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjaGFydHMvaGllcmFyY2h5OiBCcmVhZGNydW1iQmFyXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIkJyZWFkY3J1bWJCYXJcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDgsXHJcbiAgICAgICAgICAgIGxheW91dDogZ3JpZExheW91dFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJMYWJlbFwiLCBbXCJicmVhZGNydW1iXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiA0LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDQsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JPdmVyU3R5bGU6IFwicG9pbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgcG9wdWxhdGVUZXh0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJ7Y2F0ZWdvcnl9OlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJMYWJlbFwiLCBbXCJicmVhZGNydW1iXCJdKS5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvbkhvdmVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiTGFiZWxcIiwgW1wiYnJlYWRjcnVtYlwiXSkuc3RhdGVzLmNyZWF0ZShcImRvd25cIiwgeyBzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uOiAwIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvbkRvd25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJMYWJlbFwiLCBbXCJicmVhZGNydW1iXCIsIFwibGFzdFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwie2NhdGVnb3J5fVwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JPdmVyU3R5bGU6IFwiZGVmYXVsdFwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYnJlYWRjcnVtYlwiLCBcImxhYmVsXCIsIFwiYmFja2dyb3VuZFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNoYXJ0cy9oaWVyYXJjaHk6IFBhcnRpdGlvblxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJQYXJ0aXRpb25cIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgZG93bkRlcHRoOiAxLFxyXG4gICAgICAgICAgICB1cERlcHRoOiAwLFxyXG4gICAgICAgICAgICBpbml0aWFsRGVwdGg6IDVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiSGllcmFyY2h5Tm9kZVwiLCBbXCJwYXJ0aXRpb25cIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHNldFN0YXRlT25DaGlsZHJlbjogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiSGllcmFyY2h5Tm9kZVwiLCBbXCJwYXJ0aXRpb25cIl0pLnN0YXRlcy5jcmVhdGUoXCJoaWRkZW5cIiwge1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkxhYmVsXCIsIFtcInBhcnRpdGlvblwiLCBcIm5vZGVcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICB4OiBwNTAsXHJcbiAgICAgICAgICAgICAgICB5OiBwNTAsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJYOiBwNTAsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAxLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAxLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxLFxyXG4gICAgICAgICAgICAgICAgcm90YXRpb246IDkwLFxyXG4gICAgICAgICAgICAgICAgcG9wdWxhdGVUZXh0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJ7Y2F0ZWdvcnl9XCIsXHJcbiAgICAgICAgICAgICAgICBvdmVyc2l6ZWRCZWhhdmlvcjogXCJmaXRcIixcclxuICAgICAgICAgICAgICAgIG1pblNjYWxlOiAwLjRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJhbHRlcm5hdGl2ZVRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJMYWJlbFwiLCBbXCJob3Jpem9udGFsXCIsIFwicGFydGl0aW9uXCIsIFwibm9kZVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcm90YXRpb246IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJwYXJ0aXRpb25cIiwgXCJub2RlXCIsIFwic2hhcGVcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogMCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzQkw6IDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wicGFydGl0aW9uXCIsIFwibm9kZVwiLCBcInNoYXBlXCIsIFwibGFzdFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNzVcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjaGFydHMvaGllcmFyY2h5OiBTdW5idXJzdFxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJTdW5idXJzdFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBzaW5nbGVCcmFuY2hPbmx5OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkhpZXJhcmNoeU5vZGVcIiwgW1wic3VuYnVyc3RcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHNldFN0YXRlT25DaGlsZHJlbjogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiSGllcmFyY2h5Tm9kZVwiLCBbXCJzdW5idXJzdFwiXSkuc3RhdGVzLmNyZWF0ZShcImhpZGRlblwiLCB7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlNsaWNlXCIsIFtcInN1bmJ1cnN0XCIsIFwibm9kZVwiLCBcInNoYXBlXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzOiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiU2xpY2VcIiwgW1wic3VuYnVyc3RcIiwgXCJub2RlXCIsIFwic2hhcGVcIiwgXCJsYXN0XCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43NVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSYWRpYWxMYWJlbFwiLCBbXCJzdW5idXJzdFwiLCBcIm5vZGVcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICAgIHRleHRUeXBlOiBcInJhZGlhbFwiLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IDEsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMSxcclxuICAgICAgICAgICAgICAgIGNlbnRlclg6IHA1MCxcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwie2NhdGVnb3J5fVwiLFxyXG4gICAgICAgICAgICAgICAgb3ZlcnNpemVkQmVoYXZpb3I6IFwiZml0XCIsXHJcbiAgICAgICAgICAgICAgICBtaW5TY2FsZTogMC40LFxyXG4gICAgICAgICAgICAgICAgYmFzZVJhZGl1czogcDUwLFxyXG4gICAgICAgICAgICAgICAgcm90YXRpb246IDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJhbHRlcm5hdGl2ZVRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNoYXJ0cy9oaWVyYXJjaHk6IEZvcmNlRGlyZWN0ZWRcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiRm9yY2VEaXJlY3RlZFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBtaW5SYWRpdXM6IHBlcmNlbnQoMSksXHJcbiAgICAgICAgICAgIG1heFJhZGl1czogcGVyY2VudCg4KSxcclxuICAgICAgICAgICAgaW5pdGlhbEZyYW1lczogNTAwLFxyXG4gICAgICAgICAgICBjZW50ZXJTdHJlbmd0aDogMC44LFxyXG4gICAgICAgICAgICBtYW55Qm9keVN0cmVuZ3RoOiAtMTQsXHJcbiAgICAgICAgICAgIHZlbG9jaXR5RGVjYXk6IDAuNSxcclxuICAgICAgICAgICAgbGlua1dpdGhTdHJlbmd0aDogMC41LFxyXG4gICAgICAgICAgICBzaG93T25GcmFtZTogMTAsXHJcbiAgICAgICAgICAgIHNpbmdsZUJyYW5jaE9ubHk6IGZhbHNlLFxyXG4gICAgICAgICAgICB1cERlcHRoOiBJbmZpbml0eSxcclxuICAgICAgICAgICAgZG93bkRlcHRoOiAxLFxyXG4gICAgICAgICAgICBpbml0aWFsRGVwdGg6IDUsXHJcbiAgICAgICAgICAgIHRvcERlcHRoOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY2hhcnRzL2hpZXJhcmNoeTogVHJlZVxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJUcmVlXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBcInZlcnRpY2FsXCIsXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAyMCxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAyMCxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMjAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDIwLFxyXG4gICAgICAgICAgICBzaW5nbGVCcmFuY2hPbmx5OiBmYWxzZSxcclxuICAgICAgICAgICAgdXBEZXB0aDogSW5maW5pdHksXHJcbiAgICAgICAgICAgIGRvd25EZXB0aDogMSxcclxuICAgICAgICAgICAgaW5pdGlhbERlcHRoOiA1LFxyXG4gICAgICAgICAgICB0b3BEZXB0aDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNoYXJ0cy9oaWVyYXJjaHk6IFBhY2tcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiUGFja1wiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMjAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDIwLFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAyMCxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAyMCxcclxuICAgICAgICAgICAgbm9kZVBhZGRpbmc6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiTGFiZWxcIiwgW1wicGFja1wiLCBcIm5vZGVcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJYOiBwNTAsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAxLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAxLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxLFxyXG4gICAgICAgICAgICAgICAgcG9wdWxhdGVUZXh0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJ7Y2F0ZWdvcnl9XCIsXHJcbiAgICAgICAgICAgICAgICBvdmVyc2l6ZWRCZWhhdmlvcjogXCJmaXRcIixcclxuICAgICAgICAgICAgICAgIG1pblNjYWxlOiAwLjRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJhbHRlcm5hdGl2ZVRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJDaXJjbGVcIiwgW1wicGFja1wiLCBcIm5vZGVcIiwgXCJzaGFwZVwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNSxcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJMaW5rZWRIaWVyYXJjaHlOb2RlXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJMaW5rZWRIaWVyYXJjaHlOb2RlXCIpLnN0YXRlcy5jcmVhdGUoXCJoaWRkZW5cIiwgeyBzY2FsZTogMCwgb3BhY2l0eTogMCwgdmlzaWJsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY2hhcnRzL2hpZXJhcmNoeTogVHJlZW1hcFxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJUcmVlbWFwXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHVwRGVwdGg6IDAsXHJcbiAgICAgICAgICAgIGxheW91dEFsZ29yaXRobTogXCJzcXVhcmlmeVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkxhYmVsXCIsIFtcInRyZWVtYXBcIiwgXCJub2RlXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgeDogcDUwLFxyXG4gICAgICAgICAgICAgICAgeTogcDUwLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyWDogcDUwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IDEsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMSxcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwie2NhdGVnb3J5fVwiLFxyXG4gICAgICAgICAgICAgICAgb3ZlcnNpemVkQmVoYXZpb3I6IFwiZml0XCIsXHJcbiAgICAgICAgICAgICAgICBtaW5TY2FsZTogMC40XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiYWx0ZXJuYXRpdmVUZXh0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiSGllcmFyY2h5Tm9kZVwiLCBbXCJ0cmVlbWFwXCIsIFwibm9kZVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgdG9vbHRpcFk6IHBlcmNlbnQoNDApLFxyXG4gICAgICAgICAgICBpc01lYXN1cmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgY3Vyc29yT3ZlclN0eWxlOiBcInBvaW50ZXJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJIaWVyYXJjaHlOb2RlXCIsIFtcInRyZWVtYXBcIiwgXCJub2RlXCIsIFwibGFzdFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY3Vyc29yT3ZlclN0eWxlOiBcImRlZmF1bHRcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcInRyZWVtYXBcIiwgXCJub2RlXCIsIFwic2hhcGVcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogMCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzQkw6IDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogMCxcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjaGFydHMvaGllcmFyY2h5OiBWb3Jvbm9pIFRyZWVtYXBcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHIoXCJWb3Jvbm9pVHJlZW1hcFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJwb2x5Z29uXCIsXHJcbiAgICAgICAgICAgICAgICBtaW5XZWlnaHRSYXRpbzogMC4wMDUsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJnZW5jZVJhdGlvOiAwLjAwNSxcclxuICAgICAgICAgICAgICAgIG1heEl0ZXJhdGlvbkNvdW50OiAxMDAsXHJcbiAgICAgICAgICAgICAgICBzaW5nbGVCcmFuY2hPbmx5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiR3JhcGhpY3NcIiwgW1widm9yb25vaXRyZWVtYXBcIiwgXCJub2RlXCIsIFwic2hhcGVcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByKFwiUG9seWdvblwiLCBbXCJoaWVyYXJjaHlcIiwgXCJub2RlXCIsIFwic2hhcGVcIiwgXCJkZXB0aDFcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogM1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkxhYmVsXCIsIFtcInZvcm9ub2l0cmVlbWFwXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICAgICAgY2VudGVyWDogcDUwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IDEsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogMSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMSxcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlVGV4dDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwie2NhdGVnb3J5fVwiLFxyXG4gICAgICAgICAgICAgICAgb3ZlcnNpemVkQmVoYXZpb3I6IFwiZml0XCIsXHJcbiAgICAgICAgICAgICAgICBtaW5TY2FsZTogMC40LFxyXG4gICAgICAgICAgICAgICAgbGF5ZXI6IDMwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiYWx0ZXJuYXRpdmVUZXh0XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1IaWVyYXJjaHlEZWZhdWx0VGhlbWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyDefaultTheme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyLink.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyLink.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HierarchyLink: () => (/* binding */ HierarchyLink)\n/* harmony export */ });\n/* harmony import */ var _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n/**\r\n * Draws a link between nodes in a hierarchy series.\r\n */\r\nclass HierarchyLink extends _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _handleBullets(bullets) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this.bullets, (bullet) => {\r\n            bullet.dispose();\r\n        });\r\n        bullets.each((bullet) => {\r\n            const newBullet = bullet(this._root, this.get(\"source\"), this.get(\"target\"));\r\n            if (newBullet) {\r\n                this.bullets.push(newBullet);\r\n                const sprite = newBullet.get(\"sprite\");\r\n                this.addDisposer(newBullet.on(\"locationX\", () => {\r\n                    this._clear = true;\r\n                    this.markDirty();\r\n                }));\r\n                if (sprite) {\r\n                    const series = this.series;\r\n                    if (series) {\r\n                        series.linksContainer.children.push(sprite);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _changed() {\r\n        var _a, _b;\r\n        super._changed();\r\n        if (this._clear) {\r\n            let source = this.get(\"source\");\r\n            let target = this.get(\"target\");\r\n            if (source && target) {\r\n                const sourceNode = source.get(\"node\");\r\n                const targetNode = target.get(\"node\");\r\n                const x0 = sourceNode.x();\r\n                const y0 = sourceNode.y();\r\n                const x1 = targetNode.x();\r\n                const y1 = targetNode.y();\r\n                this._display.moveTo(x0, y0);\r\n                this._display.lineTo(x1, y1);\r\n                const sourceRadius = (_a = sourceNode.dataItem) === null || _a === void 0 ? void 0 : _a.get(\"outerCircle\").get(\"radius\", 0);\r\n                const targetRadius = (_b = targetNode.dataItem) === null || _b === void 0 ? void 0 : _b.get(\"outerCircle\").get(\"radius\", 0);\r\n                const distance = Math.hypot(x1 - x0, y1 - y0);\r\n                const trueDistance = distance - sourceRadius - targetRadius;\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this.bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        const location = bullet.get(\"locationX\", 0.5);\r\n                        // const tx = trueDistance / distance * (x1 - x0);\r\n                        // const ty = trueDistance / distance * (y1 - y0);\r\n                        sprite.set(\"x\", x0 + sourceRadius / distance * (x1 - x0) + trueDistance / distance * (x1 - x0) * location);\r\n                        sprite.set(\"y\", y0 + sourceRadius / distance * (y1 - y0) + trueDistance / distance * (y1 - y0) * location);\r\n                        if (bullet.get(\"autoRotate\")) {\r\n                            sprite.set(\"rotation\", Math.atan2(y1 - y0, x1 - x0) * 180 / Math.PI + bullet.get(\"autoRotateAngle\", 0));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    hide(duration) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this.bullets, (bullet) => {\r\n            if (bullet) {\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.hide(duration);\r\n                }\r\n            }\r\n        });\r\n        return super.hide();\r\n    }\r\n    show(duration) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this.bullets, (bullet) => {\r\n            if (bullet) {\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.show(duration);\r\n                }\r\n            }\r\n        });\r\n        return super.show();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"source\")) {\r\n            const source = this.get(\"source\");\r\n            if (source) {\r\n                const sourceNode = source.get(\"node\");\r\n                sourceNode.events.on(\"positionchanged\", () => {\r\n                    this._markDirtyKey(\"stroke\");\r\n                });\r\n            }\r\n        }\r\n        if (this.isDirty(\"target\")) {\r\n            const target = this.get(\"target\");\r\n            if (target) {\r\n                const targetNode = target.get(\"node\");\r\n                targetNode.events.on(\"positionchanged\", () => {\r\n                    this._markDirtyKey(\"stroke\");\r\n                });\r\n            }\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this.bullets, (bullet) => {\r\n            bullet.dispose();\r\n        });\r\n        this.bullets = [];\r\n    }\r\n}\r\nObject.defineProperty(HierarchyLink, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"HierarchyLink\"\r\n});\r\nObject.defineProperty(HierarchyLink, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([HierarchyLink.className])\r\n});\r\n//# sourceMappingURL=HierarchyLink.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9IaWVyYXJjaHlMaW5rLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDtBQUNOO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QiwyREFBUTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyREFBUTtBQUNuQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NoYXJ0cy9oaWVyYXJjaHkvSGllcmFyY2h5TGluay5qcz8zNGY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0dyYXBoaWNzXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0FycmF5XCI7XHJcbi8qKlxyXG4gKiBEcmF3cyBhIGxpbmsgYmV0d2VlbiBub2RlcyBpbiBhIGhpZXJhcmNoeSBzZXJpZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSGllcmFyY2h5TGluayBleHRlbmRzIEdyYXBoaWNzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYnVsbGV0c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlcmllc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVCdWxsZXRzKGJ1bGxldHMpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgYnVsbGV0LmRpc3Bvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBidWxsZXRzLmVhY2goKGJ1bGxldCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdCdWxsZXQgPSBidWxsZXQodGhpcy5fcm9vdCwgdGhpcy5nZXQoXCJzb3VyY2VcIiksIHRoaXMuZ2V0KFwidGFyZ2V0XCIpKTtcclxuICAgICAgICAgICAgaWYgKG5ld0J1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXRzLnB1c2gobmV3QnVsbGV0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IG5ld0J1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZERpc3Bvc2VyKG5ld0J1bGxldC5vbihcImxvY2F0aW9uWFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5zZXJpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcmllcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXMubGlua3NDb250YWluZXIuY2hpbGRyZW4ucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2NoYW5nZWQoKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICBsZXQgc291cmNlID0gdGhpcy5nZXQoXCJzb3VyY2VcIik7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmdldChcInRhcmdldFwiKTtcclxuICAgICAgICAgICAgaWYgKHNvdXJjZSAmJiB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZU5vZGUgPSBzb3VyY2UuZ2V0KFwibm9kZVwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuZ2V0KFwibm9kZVwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHgwID0gc291cmNlTm9kZS54KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5MCA9IHNvdXJjZU5vZGUueSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeDEgPSB0YXJnZXROb2RlLngoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkxID0gdGFyZ2V0Tm9kZS55KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5Lm1vdmVUbyh4MCwgeTApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5saW5lVG8oeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZVJhZGl1cyA9IChfYSA9IHNvdXJjZU5vZGUuZGF0YUl0ZW0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXQoXCJvdXRlckNpcmNsZVwiKS5nZXQoXCJyYWRpdXNcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRSYWRpdXMgPSAoX2IgPSB0YXJnZXROb2RlLmRhdGFJdGVtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0KFwib3V0ZXJDaXJjbGVcIikuZ2V0KFwicmFkaXVzXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KHgxIC0geDAsIHkxIC0geTApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJ1ZURpc3RhbmNlID0gZGlzdGFuY2UgLSBzb3VyY2VSYWRpdXMgLSB0YXJnZXRSYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBidWxsZXQuZ2V0KFwic3ByaXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBidWxsZXQuZ2V0KFwibG9jYXRpb25YXCIsIDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHR4ID0gdHJ1ZURpc3RhbmNlIC8gZGlzdGFuY2UgKiAoeDEgLSB4MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHR5ID0gdHJ1ZURpc3RhbmNlIC8gZGlzdGFuY2UgKiAoeTEgLSB5MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5zZXQoXCJ4XCIsIHgwICsgc291cmNlUmFkaXVzIC8gZGlzdGFuY2UgKiAoeDEgLSB4MCkgKyB0cnVlRGlzdGFuY2UgLyBkaXN0YW5jZSAqICh4MSAtIHgwKSAqIGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldChcInlcIiwgeTAgKyBzb3VyY2VSYWRpdXMgLyBkaXN0YW5jZSAqICh5MSAtIHkwKSArIHRydWVEaXN0YW5jZSAvIGRpc3RhbmNlICogKHkxIC0geTApICogbG9jYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnVsbGV0LmdldChcImF1dG9Sb3RhdGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5zZXQoXCJyb3RhdGlvblwiLCBNYXRoLmF0YW4yKHkxIC0geTAsIHgxIC0geDApICogMTgwIC8gTWF0aC5QSSArIGJ1bGxldC5nZXQoXCJhdXRvUm90YXRlQW5nbGVcIiwgMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoaWRlKGR1cmF0aW9uKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5idWxsZXRzLCAoYnVsbGV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChidWxsZXQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGJ1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLmhpZGUoZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLmhpZGUoKTtcclxuICAgIH1cclxuICAgIHNob3coZHVyYXRpb24pIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGJ1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuc2hvdyhkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc3VwZXIuc2hvdygpO1xyXG4gICAgfVxyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwic291cmNlXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0KFwic291cmNlXCIpO1xyXG4gICAgICAgICAgICBpZiAoc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VOb2RlID0gc291cmNlLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2VOb2RlLmV2ZW50cy5vbihcInBvc2l0aW9uY2hhbmdlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya0RpcnR5S2V5KFwic3Ryb2tlXCIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRhcmdldFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLmdldChcInRhcmdldFwiKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5nZXQoXCJub2RlXCIpO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZS5ldmVudHMub24oXCJwb3NpdGlvbmNoYW5nZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShcInN0cm9rZVwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuX2Rpc3Bvc2UoKTtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgYnVsbGV0LmRpc3Bvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJ1bGxldHMgPSBbXTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSGllcmFyY2h5TGluaywgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiSGllcmFyY2h5TGlua1wiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSGllcmFyY2h5TGluaywgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBHcmFwaGljcy5jbGFzc05hbWVzLmNvbmNhdChbSGllcmFyY2h5TGluay5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGllcmFyY2h5TGluay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyLink.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyNode.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyNode.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HierarchyNode: () => (/* binding */ HierarchyNode)\n/* harmony export */ });\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n\r\n/**\r\n * Base class for hierarchy nodes.\r\n */\r\nclass HierarchyNode extends _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Related series.\r\n         */\r\n        Object.defineProperty(this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_clickDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.states.create(\"disabled\", {});\r\n        this.states.create(\"hover\", {});\r\n        this.states.create(\"hoverDisabled\", {});\r\n        this.on(\"disabled\", () => {\r\n            const dataItem = this.dataItem;\r\n            if (!dataItem.get(\"children\")) {\r\n                this.set(\"disabled\", true);\r\n                return;\r\n            }\r\n            const disabled = this.get(\"disabled\");\r\n            const series = this.series;\r\n            if (dataItem && series) {\r\n                if (dataItem.get(\"disabled\") != disabled) {\r\n                    if (disabled) {\r\n                        series.disableDataItem(dataItem);\r\n                    }\r\n                    else {\r\n                        series.enableDataItem(dataItem, series.get(\"downDepth\", 1), 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"toggleKey\")) {\r\n            const toggleKey = this.get(\"toggleKey\");\r\n            if (toggleKey == \"disabled\") {\r\n                this._clickDisposer = this.events.on(\"click\", () => {\r\n                    if (!this._isDragging) {\r\n                        let series = this.series;\r\n                        if (series) {\r\n                            series.selectDataItem(this.dataItem);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._clickDisposer) {\r\n                    this._clickDisposer.dispose();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(HierarchyNode, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"HierarchyNode\"\r\n});\r\nObject.defineProperty(HierarchyNode, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([HierarchyNode.className])\r\n});\r\n//# sourceMappingURL=HierarchyNode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9IaWVyYXJjaHlOb2RlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNPLDRCQUE0Qiw2REFBUztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QyxzQ0FBc0M7QUFDdEMsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw2REFBUztBQUNwQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NoYXJ0cy9oaWVyYXJjaHkvSGllcmFyY2h5Tm9kZS5qcz8wNGY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuLi8uLi9jb3JlL3JlbmRlci9Db250YWluZXJcIjtcclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGhpZXJhcmNoeSBub2Rlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIaWVyYXJjaHlOb2RlIGV4dGVuZHMgQ29udGFpbmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVsYXRlZCBzZXJpZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2VyaWVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jbGlja0Rpc3Bvc2VyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgICAgIHRoaXMuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICB0aGlzLnN0YXRlcy5jcmVhdGUoXCJob3ZlclwiLCB7fSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJEaXNhYmxlZFwiLCB7fSk7XHJcbiAgICAgICAgdGhpcy5vbihcImRpc2FibGVkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtO1xyXG4gICAgICAgICAgICBpZiAoIWRhdGFJdGVtLmdldChcImNoaWxkcmVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5nZXQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5zZXJpZXM7XHJcbiAgICAgICAgICAgIGlmIChkYXRhSXRlbSAmJiBzZXJpZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhSXRlbS5nZXQoXCJkaXNhYmxlZFwiKSAhPSBkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXMuZGlzYWJsZURhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllcy5lbmFibGVEYXRhSXRlbShkYXRhSXRlbSwgc2VyaWVzLmdldChcImRvd25EZXB0aFwiLCAxKSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ0b2dnbGVLZXlcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9nZ2xlS2V5ID0gdGhpcy5nZXQoXCJ0b2dnbGVLZXlcIik7XHJcbiAgICAgICAgICAgIGlmICh0b2dnbGVLZXkgPT0gXCJkaXNhYmxlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGlja0Rpc3Bvc2VyID0gdGhpcy5ldmVudHMub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXJpZXMgPSB0aGlzLnNlcmllcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcmllcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzLnNlbGVjdERhdGFJdGVtKHRoaXMuZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xpY2tEaXNwb3Nlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsaWNrRGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShIaWVyYXJjaHlOb2RlLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJIaWVyYXJjaHlOb2RlXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShIaWVyYXJjaHlOb2RlLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IENvbnRhaW5lci5jbGFzc05hbWVzLmNvbmNhdChbSGllcmFyY2h5Tm9kZS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGllcmFyY2h5Tm9kZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyNode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchy.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchy.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LinkedHierarchy: () => (/* binding */ LinkedHierarchy)\n/* harmony export */ });\n/* harmony import */ var _Hierarchy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Hierarchy */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/Hierarchy.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _LinkedHierarchyNode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LinkedHierarchyNode */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchyNode.js\");\n/* harmony import */ var _HierarchyLink__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./HierarchyLink */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyLink.js\");\n/* harmony import */ var _core_util_Template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _core_render_Circle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/render/Circle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Circle.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n;\r\n/**\r\n * A base class for linked hierarchy series.\r\n */\r\nclass LinkedHierarchy extends _Hierarchy__WEBPACK_IMPORTED_MODULE_0__.Hierarchy {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"linkBullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.List()\r\n        });\r\n        /**\r\n         * A list of nodes in a [[LinkedHierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<LinkedHierarchyNode>\r\n         */\r\n        Object.defineProperty(this, \"nodes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _LinkedHierarchyNode__WEBPACK_IMPORTED_MODULE_3__.LinkedHierarchyNode._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.nodes.template.get(\"themeTags\", []), [this._tag, \"linkedhierarchy\", \"hierarchy\", \"node\"]),\r\n                x: this.width() / 2,\r\n                y: this.height() / 2\r\n            }, [this.nodes.template])))\r\n        });\r\n        /**\r\n         * A list of node circle elements in a [[LinkedHierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<Circle>\r\n         */\r\n        Object.defineProperty(this, \"circles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _core_render_Circle__WEBPACK_IMPORTED_MODULE_5__.Circle._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.circles.template.get(\"themeTags\", []), [this._tag, \"shape\"])\r\n            }, [this.circles.template])))\r\n        });\r\n        /**\r\n         * A list of node outer circle elements in a [[LinkedHierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<Circle>\r\n         */\r\n        Object.defineProperty(this, \"outerCircles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _core_render_Circle__WEBPACK_IMPORTED_MODULE_5__.Circle._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.outerCircles.template.get(\"themeTags\", []), [this._tag, \"outer\", \"shape\"])\r\n            }, [this.outerCircles.template])))\r\n        });\r\n        /**\r\n         * A list of link elements in a [[LinkedHierarchy]] chart.\r\n         *\r\n         * @default new ListTemplate<HierarchyLink>\r\n         */\r\n        Object.defineProperty(this, \"links\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.ListTemplate(_core_util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({}), () => _HierarchyLink__WEBPACK_IMPORTED_MODULE_6__.HierarchyLink._new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_4__.mergeTags(this.links.template.get(\"themeTags\", []), [this._tag, \"linkedhierarchy\", \"hierarchy\", \"link\"])\r\n            }, [this.links.template])))\r\n        });\r\n        /**\r\n         * A [[Container]] that link elements are placed in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"linksContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.moveValue(_core_render_Container__WEBPACK_IMPORTED_MODULE_7__.Container.new(this._root, {}), 0)\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.fields.push(\"linkWith\", \"x\", \"y\");\r\n        this._disposers.push(this.linkBullets.events.onAll(() => {\r\n            this.links.each((link) => {\r\n                link._handleBullets(this.linkBullets);\r\n            });\r\n        }));\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeNode(dataItem) {\r\n        const node = super.makeNode(dataItem);\r\n        const circle = node.children.moveValue(this.circles.make(), 0);\r\n        this.circles.push(circle);\r\n        node.setPrivate(\"tooltipTarget\", circle);\r\n        dataItem.setRaw(\"circle\", circle);\r\n        const outerCircle = node.children.moveValue(this.outerCircles.make(), 0);\r\n        this.outerCircles.push(outerCircle);\r\n        dataItem.setRaw(\"outerCircle\", outerCircle);\r\n        const label = dataItem.get(\"label\");\r\n        circle.on(\"radius\", () => {\r\n            const d = circle.get(\"radius\", this.width()) * 2;\r\n            label.setAll({ maxWidth: d, maxHeight: d });\r\n            outerCircle.set(\"radius\", d / 2);\r\n            this._handleRadiusChange();\r\n        });\r\n        const d = circle.get(\"radius\", this.width()) * 2;\r\n        label.setAll({ maxWidth: d, maxHeight: d });\r\n        circle._setDataItem(dataItem);\r\n        outerCircle._setDataItem(dataItem);\r\n        return node;\r\n    }\r\n    _handleRadiusChange() {\r\n    }\r\n    processDataItem(dataItem) {\r\n        dataItem.setRaw(\"childLinks\", []);\r\n        dataItem.setRaw(\"links\", []);\r\n        super.processDataItem(dataItem);\r\n    }\r\n    _processDataItem(dataItem) {\r\n        super._processDataItem(dataItem);\r\n        const parentDataItem = dataItem.get(\"parent\");\r\n        if (parentDataItem && parentDataItem.get(\"depth\") >= this.get(\"topDepth\")) {\r\n            const link = this.linkDataItems(parentDataItem, dataItem);\r\n            dataItem.setRaw(\"parentLink\", link);\r\n        }\r\n        const node = dataItem.get(\"node\");\r\n        this.updateLinkWith(this.dataItems);\r\n        node._updateLinks(0);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLinkWith(dataItems) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(dataItems, (dataItem) => {\r\n            const linkWith = dataItem.get(\"linkWith\");\r\n            if (linkWith) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(linkWith, (id) => {\r\n                    const linkWithDataItem = this._getDataItemById(this.dataItems, id);\r\n                    if (linkWithDataItem) {\r\n                        this.linkDataItems(dataItem, linkWithDataItem);\r\n                    }\r\n                });\r\n            }\r\n            const children = dataItem.get(\"children\");\r\n            if (children) {\r\n                this.updateLinkWith(children);\r\n            }\r\n        });\r\n    }\r\n    _getPoint(hierarchyNode) {\r\n        return { x: hierarchyNode.x, y: hierarchyNode.y };\r\n    }\r\n    _animatePositions(dataItem) {\r\n        const node = dataItem.get(\"node\");\r\n        const hierarchyNode = dataItem.get(\"d3HierarchyNode\");\r\n        const point = this._getPoint(hierarchyNode);\r\n        const duration = this.get(\"animationDuration\", 0);\r\n        const easing = this.get(\"animationEasing\");\r\n        node.animate({ key: \"x\", to: point.x, duration: duration, easing: easing });\r\n        node.animate({ key: \"y\", to: point.y, duration: duration, easing: easing });\r\n    }\r\n    _updateNode(dataItem) {\r\n        super._updateNode(dataItem);\r\n        this._animatePositions(dataItem);\r\n        const hierarchyNode = dataItem.get(\"d3HierarchyNode\");\r\n        const hierarchyChildren = hierarchyNode.children;\r\n        if (hierarchyChildren) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(hierarchyChildren, (hierarchyChild) => {\r\n                this._updateNodes(hierarchyChild);\r\n            });\r\n        }\r\n        const fill = dataItem.get(\"fill\");\r\n        const fillPattern = dataItem.get(\"fillPattern\");\r\n        const circle = dataItem.get(\"circle\");\r\n        const children = dataItem.get(\"children\");\r\n        if (circle) {\r\n            circle._setDefault(\"fill\", fill);\r\n            circle._setDefault(\"fillPattern\", fillPattern);\r\n            circle._setDefault(\"stroke\", fill);\r\n        }\r\n        const outerCircle = dataItem.get(\"outerCircle\");\r\n        if (outerCircle) {\r\n            outerCircle._setDefault(\"fill\", fill);\r\n            outerCircle._setDefault(\"stroke\", fill);\r\n            if (!children || children.length == 0) {\r\n                outerCircle.setPrivate(\"visible\", false);\r\n            }\r\n            else {\r\n                outerCircle.setPrivate(\"visible\", true);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Link two data items with a link element.\r\n     *\r\n     * @param   source    Source node data item\r\n     * @param   target    Target node data item\r\n     * @param   strength  Link strength\r\n     * @return            Link element\r\n     */\r\n    linkDataItems(source, target, strength) {\r\n        let link;\r\n        const sourceLinks = source.get(\"links\");\r\n        if (sourceLinks) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(sourceLinks, (lnk) => {\r\n                if (lnk.get(\"target\") == target) {\r\n                    link = lnk;\r\n                }\r\n            });\r\n        }\r\n        const targetLinks = target.get(\"links\");\r\n        if (targetLinks) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(targetLinks, (lnk) => {\r\n                if (lnk.get(\"target\") == source) {\r\n                    link = lnk;\r\n                }\r\n            });\r\n        }\r\n        if (!link) {\r\n            link = this.links.make();\r\n            link.series = this;\r\n            this.links.push(link);\r\n            this.linksContainer.children.push(link);\r\n            link.set(\"source\", source);\r\n            link.set(\"target\", target);\r\n            link._setDataItem(source);\r\n            link._handleBullets(this.linkBullets);\r\n            link.set(\"stroke\", source.get(\"fill\"));\r\n            if (strength != null) {\r\n                link.set(\"strength\", strength);\r\n            }\r\n            source.get(\"childLinks\").push(link);\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.move(source.get(\"links\"), link);\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.move(target.get(\"links\"), link);\r\n            this._processLink(link, source, target);\r\n        }\r\n        return link;\r\n    }\r\n    /**\r\n     * Unlink two linked data items.\r\n     *\r\n     * @param   source  Source node data item\r\n     * @param   target  Target node data item\r\n     */\r\n    unlinkDataItems(source, target) {\r\n        let link;\r\n        const sourceLinks = source.get(\"links\");\r\n        if (sourceLinks) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(sourceLinks, (lnk) => {\r\n                if (lnk && lnk.get(\"target\") == target) {\r\n                    link = lnk;\r\n                    _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.remove(sourceLinks, link);\r\n                }\r\n            });\r\n        }\r\n        const targetLinks = target.get(\"links\");\r\n        if (targetLinks) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(targetLinks, (lnk) => {\r\n                if (lnk && lnk.get(\"target\") == source) {\r\n                    link = lnk;\r\n                    _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.remove(targetLinks, link);\r\n                }\r\n            });\r\n        }\r\n        if (link) {\r\n            this._disposeLink(link);\r\n        }\r\n        this._handleUnlink();\r\n    }\r\n    _handleUnlink() {\r\n    }\r\n    _disposeLink(link) {\r\n        this.links.removeValue(link);\r\n        link.dispose();\r\n    }\r\n    /**\r\n     * Returns `true` if two nodes are linked with each other.\r\n     */\r\n    areLinked(source, target) {\r\n        const sourceLinks = source.get(\"links\");\r\n        let linked = false;\r\n        if (sourceLinks) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(sourceLinks, (lnk) => {\r\n                if (lnk.get(\"target\") == target) {\r\n                    linked = true;\r\n                }\r\n            });\r\n        }\r\n        const targetLinks = target.get(\"links\");\r\n        if (targetLinks) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(targetLinks, (lnk) => {\r\n                if (lnk.get(\"target\") == source) {\r\n                    linked = true;\r\n                }\r\n            });\r\n        }\r\n        return linked;\r\n    }\r\n    _processLink(_link, _source, _target) {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const links = dataItem.get(\"links\");\r\n        if (links) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_8__.each(links, (link) => {\r\n                this._disposeLink(link);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Select a data item.\r\n     * @param  dataItem  Data item\r\n     */\r\n    selectDataItem(dataItem) {\r\n        const parent = dataItem.get(\"parent\");\r\n        if (!dataItem.get(\"disabled\")) {\r\n            this.set(\"selectedDataItem\", dataItem);\r\n        }\r\n        else {\r\n            if (parent) {\r\n                this.setRaw(\"selectedDataItem\", parent);\r\n                const type = \"dataitemselected\";\r\n                this.events.dispatch(type, { type: type, target: this, dataItem: parent });\r\n                this.disableDataItem(dataItem);\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(LinkedHierarchy, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"LinkedHierarchy\"\r\n});\r\nObject.defineProperty(LinkedHierarchy, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Hierarchy__WEBPACK_IMPORTED_MODULE_0__.Hierarchy.classNames.concat([LinkedHierarchy.className])\r\n});\r\n//# sourceMappingURL=LinkedHierarchy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9MaW5rZWRIaWVyYXJjaHkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF3QztBQUNnQjtBQUNJO0FBQ1o7QUFDSTtBQUNGO0FBQ0U7QUFDSjtBQUNBO0FBQ0o7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsaURBQVM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGlEQUFJO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MseURBQVksQ0FBQyx5REFBUSxPQUFPLFNBQVMscUVBQW1CO0FBQ2hHLDJCQUEyQix1REFBZ0I7QUFDM0M7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHlEQUFZLENBQUMseURBQVEsT0FBTyxTQUFTLHVEQUFNO0FBQ25GLDJCQUEyQix1REFBZ0I7QUFDM0MsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MseURBQVksQ0FBQyx5REFBUSxPQUFPLFNBQVMsdURBQU07QUFDbkYsMkJBQTJCLHVEQUFnQjtBQUMzQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5REFBWSxDQUFDLHlEQUFRLE9BQU8sU0FBUyx5REFBYTtBQUMxRiwyQkFBMkIsdURBQWdCO0FBQzNDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDZEQUFTLG1CQUFtQjtBQUN2RSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJCQUEyQjtBQUN0RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBMkQ7QUFDbEYsdUJBQXVCLDJEQUEyRDtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQVc7QUFDdkI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCLFlBQVksa0RBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQVc7QUFDdkI7QUFDQTtBQUNBLG9CQUFvQixvREFBYTtBQUNqQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQWE7QUFDakM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw0Q0FBNEM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9MaW5rZWRIaWVyYXJjaHkuanM/NjdjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIaWVyYXJjaHkgfSBmcm9tIFwiLi9IaWVyYXJjaHlcIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBMaW5rZWRIaWVyYXJjaHlOb2RlIH0gZnJvbSBcIi4vTGlua2VkSGllcmFyY2h5Tm9kZVwiO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHlMaW5rIH0gZnJvbSBcIi4vSGllcmFyY2h5TGlua1wiO1xyXG5pbXBvcnQgeyBUZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgQ2lyY2xlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0NpcmNsZVwiO1xyXG5pbXBvcnQgeyBMaXN0VGVtcGxhdGUgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0xpc3RcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVXRpbHNcIjtcclxuaW1wb3J0IHsgTGlzdCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvTGlzdFwiO1xyXG47XHJcbi8qKlxyXG4gKiBBIGJhc2UgY2xhc3MgZm9yIGxpbmtlZCBoaWVyYXJjaHkgc2VyaWVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExpbmtlZEhpZXJhcmNoeSBleHRlbmRzIEhpZXJhcmNoeSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmtCdWxsZXRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBMaXN0KClcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGxpc3Qgb2Ygbm9kZXMgaW4gYSBbW0xpbmtlZEhpZXJhcmNoeV1dIGNoYXJ0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgbmV3IExpc3RUZW1wbGF0ZTxMaW5rZWRIaWVyYXJjaHlOb2RlPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5vZGVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuYWRkRGlzcG9zZXIobmV3IExpc3RUZW1wbGF0ZShUZW1wbGF0ZS5uZXcoe30pLCAoKSA9PiBMaW5rZWRIaWVyYXJjaHlOb2RlLl9uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiAkdXRpbHMubWVyZ2VUYWdzKHRoaXMubm9kZXMudGVtcGxhdGUuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKSwgW3RoaXMuX3RhZywgXCJsaW5rZWRoaWVyYXJjaHlcIiwgXCJoaWVyYXJjaHlcIiwgXCJub2RlXCJdKSxcclxuICAgICAgICAgICAgICAgIHg6IHRoaXMud2lkdGgoKSAvIDIsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmhlaWdodCgpIC8gMlxyXG4gICAgICAgICAgICB9LCBbdGhpcy5ub2Rlcy50ZW1wbGF0ZV0pKSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGxpc3Qgb2Ygbm9kZSBjaXJjbGUgZWxlbWVudHMgaW4gYSBbW0xpbmtlZEhpZXJhcmNoeV1dIGNoYXJ0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgbmV3IExpc3RUZW1wbGF0ZTxDaXJjbGU+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2lyY2xlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmFkZERpc3Bvc2VyKG5ldyBMaXN0VGVtcGxhdGUoVGVtcGxhdGUubmV3KHt9KSwgKCkgPT4gQ2lyY2xlLl9uZXcodGhpcy5fcm9vdCwge1xyXG4gICAgICAgICAgICAgICAgdGhlbWVUYWdzOiAkdXRpbHMubWVyZ2VUYWdzKHRoaXMuY2lyY2xlcy50ZW1wbGF0ZS5nZXQoXCJ0aGVtZVRhZ3NcIiwgW10pLCBbdGhpcy5fdGFnLCBcInNoYXBlXCJdKVxyXG4gICAgICAgICAgICB9LCBbdGhpcy5jaXJjbGVzLnRlbXBsYXRlXSkpKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgbGlzdCBvZiBub2RlIG91dGVyIGNpcmNsZSBlbGVtZW50cyBpbiBhIFtbTGlua2VkSGllcmFyY2h5XV0gY2hhcnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBuZXcgTGlzdFRlbXBsYXRlPENpcmNsZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRlckNpcmNsZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5hZGREaXNwb3NlcihuZXcgTGlzdFRlbXBsYXRlKFRlbXBsYXRlLm5ldyh7fSksICgpID0+IENpcmNsZS5fbmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFnczogJHV0aWxzLm1lcmdlVGFncyh0aGlzLm91dGVyQ2lyY2xlcy50ZW1wbGF0ZS5nZXQoXCJ0aGVtZVRhZ3NcIiwgW10pLCBbdGhpcy5fdGFnLCBcIm91dGVyXCIsIFwic2hhcGVcIl0pXHJcbiAgICAgICAgICAgIH0sIFt0aGlzLm91dGVyQ2lyY2xlcy50ZW1wbGF0ZV0pKSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGxpc3Qgb2YgbGluayBlbGVtZW50cyBpbiBhIFtbTGlua2VkSGllcmFyY2h5XV0gY2hhcnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBuZXcgTGlzdFRlbXBsYXRlPEhpZXJhcmNoeUxpbms+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGlua3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5hZGREaXNwb3NlcihuZXcgTGlzdFRlbXBsYXRlKFRlbXBsYXRlLm5ldyh7fSksICgpID0+IEhpZXJhcmNoeUxpbmsuX25ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5saW5rcy50ZW1wbGF0ZS5nZXQoXCJ0aGVtZVRhZ3NcIiwgW10pLCBbdGhpcy5fdGFnLCBcImxpbmtlZGhpZXJhcmNoeVwiLCBcImhpZXJhcmNoeVwiLCBcImxpbmtcIl0pXHJcbiAgICAgICAgICAgIH0sIFt0aGlzLmxpbmtzLnRlbXBsYXRlXSkpKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tDb250YWluZXJdXSB0aGF0IGxpbmsgZWxlbWVudHMgYXJlIHBsYWNlZCBpbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IENvbnRhaW5lci5uZXcoKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmtzQ29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2hpbGRyZW4ubW92ZVZhbHVlKENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwge30pLCAwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHRoaXMuZmllbGRzLnB1c2goXCJsaW5rV2l0aFwiLCBcInhcIiwgXCJ5XCIpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMubGlua0J1bGxldHMuZXZlbnRzLm9uQWxsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5saW5rcy5lYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsaW5rLl9oYW5kbGVCdWxsZXRzKHRoaXMubGlua0J1bGxldHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFrZU5vZGUoZGF0YUl0ZW0pIHtcclxuICAgICAgICBjb25zdCBub2RlID0gc3VwZXIubWFrZU5vZGUoZGF0YUl0ZW0pO1xyXG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IG5vZGUuY2hpbGRyZW4ubW92ZVZhbHVlKHRoaXMuY2lyY2xlcy5tYWtlKCksIDApO1xyXG4gICAgICAgIHRoaXMuY2lyY2xlcy5wdXNoKGNpcmNsZSk7XHJcbiAgICAgICAgbm9kZS5zZXRQcml2YXRlKFwidG9vbHRpcFRhcmdldFwiLCBjaXJjbGUpO1xyXG4gICAgICAgIGRhdGFJdGVtLnNldFJhdyhcImNpcmNsZVwiLCBjaXJjbGUpO1xyXG4gICAgICAgIGNvbnN0IG91dGVyQ2lyY2xlID0gbm9kZS5jaGlsZHJlbi5tb3ZlVmFsdWUodGhpcy5vdXRlckNpcmNsZXMubWFrZSgpLCAwKTtcclxuICAgICAgICB0aGlzLm91dGVyQ2lyY2xlcy5wdXNoKG91dGVyQ2lyY2xlKTtcclxuICAgICAgICBkYXRhSXRlbS5zZXRSYXcoXCJvdXRlckNpcmNsZVwiLCBvdXRlckNpcmNsZSk7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkYXRhSXRlbS5nZXQoXCJsYWJlbFwiKTtcclxuICAgICAgICBjaXJjbGUub24oXCJyYWRpdXNcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkID0gY2lyY2xlLmdldChcInJhZGl1c1wiLCB0aGlzLndpZHRoKCkpICogMjtcclxuICAgICAgICAgICAgbGFiZWwuc2V0QWxsKHsgbWF4V2lkdGg6IGQsIG1heEhlaWdodDogZCB9KTtcclxuICAgICAgICAgICAgb3V0ZXJDaXJjbGUuc2V0KFwicmFkaXVzXCIsIGQgLyAyKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlUmFkaXVzQ2hhbmdlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZCA9IGNpcmNsZS5nZXQoXCJyYWRpdXNcIiwgdGhpcy53aWR0aCgpKSAqIDI7XHJcbiAgICAgICAgbGFiZWwuc2V0QWxsKHsgbWF4V2lkdGg6IGQsIG1heEhlaWdodDogZCB9KTtcclxuICAgICAgICBjaXJjbGUuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICBvdXRlckNpcmNsZS5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZVJhZGl1c0NoYW5nZSgpIHtcclxuICAgIH1cclxuICAgIHByb2Nlc3NEYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIGRhdGFJdGVtLnNldFJhdyhcImNoaWxkTGlua3NcIiwgW10pO1xyXG4gICAgICAgIGRhdGFJdGVtLnNldFJhdyhcImxpbmtzXCIsIFtdKTtcclxuICAgICAgICBzdXBlci5wcm9jZXNzRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgfVxyXG4gICAgX3Byb2Nlc3NEYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIHN1cGVyLl9wcm9jZXNzRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudERhdGFJdGVtID0gZGF0YUl0ZW0uZ2V0KFwicGFyZW50XCIpO1xyXG4gICAgICAgIGlmIChwYXJlbnREYXRhSXRlbSAmJiBwYXJlbnREYXRhSXRlbS5nZXQoXCJkZXB0aFwiKSA+PSB0aGlzLmdldChcInRvcERlcHRoXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSB0aGlzLmxpbmtEYXRhSXRlbXMocGFyZW50RGF0YUl0ZW0sIGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KFwicGFyZW50TGlua1wiLCBsaW5rKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IGRhdGFJdGVtLmdldChcIm5vZGVcIik7XHJcbiAgICAgICAgdGhpcy51cGRhdGVMaW5rV2l0aCh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgbm9kZS5fdXBkYXRlTGlua3MoMCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlTGlua1dpdGgoZGF0YUl0ZW1zKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2goZGF0YUl0ZW1zLCAoZGF0YUl0ZW0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbGlua1dpdGggPSBkYXRhSXRlbS5nZXQoXCJsaW5rV2l0aFwiKTtcclxuICAgICAgICAgICAgaWYgKGxpbmtXaXRoKSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChsaW5rV2l0aCwgKGlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua1dpdGhEYXRhSXRlbSA9IHRoaXMuX2dldERhdGFJdGVtQnlJZCh0aGlzLmRhdGFJdGVtcywgaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5rV2l0aERhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlua0RhdGFJdGVtcyhkYXRhSXRlbSwgbGlua1dpdGhEYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBkYXRhSXRlbS5nZXQoXCJjaGlsZHJlblwiKTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmtXaXRoKGNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2dldFBvaW50KGhpZXJhcmNoeU5vZGUpIHtcclxuICAgICAgICByZXR1cm4geyB4OiBoaWVyYXJjaHlOb2RlLngsIHk6IGhpZXJhcmNoeU5vZGUueSB9O1xyXG4gICAgfVxyXG4gICAgX2FuaW1hdGVQb3NpdGlvbnMoZGF0YUl0ZW0pIHtcclxuICAgICAgICBjb25zdCBub2RlID0gZGF0YUl0ZW0uZ2V0KFwibm9kZVwiKTtcclxuICAgICAgICBjb25zdCBoaWVyYXJjaHlOb2RlID0gZGF0YUl0ZW0uZ2V0KFwiZDNIaWVyYXJjaHlOb2RlXCIpO1xyXG4gICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5fZ2V0UG9pbnQoaGllcmFyY2h5Tm9kZSk7XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmdldChcImFuaW1hdGlvbkR1cmF0aW9uXCIsIDApO1xyXG4gICAgICAgIGNvbnN0IGVhc2luZyA9IHRoaXMuZ2V0KFwiYW5pbWF0aW9uRWFzaW5nXCIpO1xyXG4gICAgICAgIG5vZGUuYW5pbWF0ZSh7IGtleTogXCJ4XCIsIHRvOiBwb2ludC54LCBkdXJhdGlvbjogZHVyYXRpb24sIGVhc2luZzogZWFzaW5nIH0pO1xyXG4gICAgICAgIG5vZGUuYW5pbWF0ZSh7IGtleTogXCJ5XCIsIHRvOiBwb2ludC55LCBkdXJhdGlvbjogZHVyYXRpb24sIGVhc2luZzogZWFzaW5nIH0pO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZU5vZGUoZGF0YUl0ZW0pIHtcclxuICAgICAgICBzdXBlci5fdXBkYXRlTm9kZShkYXRhSXRlbSk7XHJcbiAgICAgICAgdGhpcy5fYW5pbWF0ZVBvc2l0aW9ucyhkYXRhSXRlbSk7XHJcbiAgICAgICAgY29uc3QgaGllcmFyY2h5Tm9kZSA9IGRhdGFJdGVtLmdldChcImQzSGllcmFyY2h5Tm9kZVwiKTtcclxuICAgICAgICBjb25zdCBoaWVyYXJjaHlDaGlsZHJlbiA9IGhpZXJhcmNoeU5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgaWYgKGhpZXJhcmNoeUNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGhpZXJhcmNoeUNoaWxkcmVuLCAoaGllcmFyY2h5Q2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU5vZGVzKGhpZXJhcmNoeUNoaWxkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZpbGwgPSBkYXRhSXRlbS5nZXQoXCJmaWxsXCIpO1xyXG4gICAgICAgIGNvbnN0IGZpbGxQYXR0ZXJuID0gZGF0YUl0ZW0uZ2V0KFwiZmlsbFBhdHRlcm5cIik7XHJcbiAgICAgICAgY29uc3QgY2lyY2xlID0gZGF0YUl0ZW0uZ2V0KFwiY2lyY2xlXCIpO1xyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZGF0YUl0ZW0uZ2V0KFwiY2hpbGRyZW5cIik7XHJcbiAgICAgICAgaWYgKGNpcmNsZSkge1xyXG4gICAgICAgICAgICBjaXJjbGUuX3NldERlZmF1bHQoXCJmaWxsXCIsIGZpbGwpO1xyXG4gICAgICAgICAgICBjaXJjbGUuX3NldERlZmF1bHQoXCJmaWxsUGF0dGVyblwiLCBmaWxsUGF0dGVybik7XHJcbiAgICAgICAgICAgIGNpcmNsZS5fc2V0RGVmYXVsdChcInN0cm9rZVwiLCBmaWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgb3V0ZXJDaXJjbGUgPSBkYXRhSXRlbS5nZXQoXCJvdXRlckNpcmNsZVwiKTtcclxuICAgICAgICBpZiAob3V0ZXJDaXJjbGUpIHtcclxuICAgICAgICAgICAgb3V0ZXJDaXJjbGUuX3NldERlZmF1bHQoXCJmaWxsXCIsIGZpbGwpO1xyXG4gICAgICAgICAgICBvdXRlckNpcmNsZS5fc2V0RGVmYXVsdChcInN0cm9rZVwiLCBmaWxsKTtcclxuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgb3V0ZXJDaXJjbGUuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3V0ZXJDaXJjbGUuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExpbmsgdHdvIGRhdGEgaXRlbXMgd2l0aCBhIGxpbmsgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBzb3VyY2UgICAgU291cmNlIG5vZGUgZGF0YSBpdGVtXHJcbiAgICAgKiBAcGFyYW0gICB0YXJnZXQgICAgVGFyZ2V0IG5vZGUgZGF0YSBpdGVtXHJcbiAgICAgKiBAcGFyYW0gICBzdHJlbmd0aCAgTGluayBzdHJlbmd0aFxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIExpbmsgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBsaW5rRGF0YUl0ZW1zKHNvdXJjZSwgdGFyZ2V0LCBzdHJlbmd0aCkge1xyXG4gICAgICAgIGxldCBsaW5rO1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZUxpbmtzID0gc291cmNlLmdldChcImxpbmtzXCIpO1xyXG4gICAgICAgIGlmIChzb3VyY2VMaW5rcykge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChzb3VyY2VMaW5rcywgKGxuaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxuay5nZXQoXCJ0YXJnZXRcIikgPT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IGxuaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldExpbmtzID0gdGFyZ2V0LmdldChcImxpbmtzXCIpO1xyXG4gICAgICAgIGlmICh0YXJnZXRMaW5rcykge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0YXJnZXRMaW5rcywgKGxuaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxuay5nZXQoXCJ0YXJnZXRcIikgPT0gc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IGxuaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGluaykge1xyXG4gICAgICAgICAgICBsaW5rID0gdGhpcy5saW5rcy5tYWtlKCk7XHJcbiAgICAgICAgICAgIGxpbmsuc2VyaWVzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5saW5rcy5wdXNoKGxpbmspO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmtzQ29udGFpbmVyLmNoaWxkcmVuLnB1c2gobGluayk7XHJcbiAgICAgICAgICAgIGxpbmsuc2V0KFwic291cmNlXCIsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgIGxpbmsuc2V0KFwidGFyZ2V0XCIsIHRhcmdldCk7XHJcbiAgICAgICAgICAgIGxpbmsuX3NldERhdGFJdGVtKHNvdXJjZSk7XHJcbiAgICAgICAgICAgIGxpbmsuX2hhbmRsZUJ1bGxldHModGhpcy5saW5rQnVsbGV0cyk7XHJcbiAgICAgICAgICAgIGxpbmsuc2V0KFwic3Ryb2tlXCIsIHNvdXJjZS5nZXQoXCJmaWxsXCIpKTtcclxuICAgICAgICAgICAgaWYgKHN0cmVuZ3RoICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxpbmsuc2V0KFwic3RyZW5ndGhcIiwgc3RyZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNvdXJjZS5nZXQoXCJjaGlsZExpbmtzXCIpLnB1c2gobGluayk7XHJcbiAgICAgICAgICAgICRhcnJheS5tb3ZlKHNvdXJjZS5nZXQoXCJsaW5rc1wiKSwgbGluayk7XHJcbiAgICAgICAgICAgICRhcnJheS5tb3ZlKHRhcmdldC5nZXQoXCJsaW5rc1wiKSwgbGluayk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NMaW5rKGxpbmssIHNvdXJjZSwgdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpbms7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVubGluayB0d28gbGlua2VkIGRhdGEgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgc291cmNlICBTb3VyY2Ugbm9kZSBkYXRhIGl0ZW1cclxuICAgICAqIEBwYXJhbSAgIHRhcmdldCAgVGFyZ2V0IG5vZGUgZGF0YSBpdGVtXHJcbiAgICAgKi9cclxuICAgIHVubGlua0RhdGFJdGVtcyhzb3VyY2UsIHRhcmdldCkge1xyXG4gICAgICAgIGxldCBsaW5rO1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZUxpbmtzID0gc291cmNlLmdldChcImxpbmtzXCIpO1xyXG4gICAgICAgIGlmIChzb3VyY2VMaW5rcykge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChzb3VyY2VMaW5rcywgKGxuaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxuayAmJiBsbmsuZ2V0KFwidGFyZ2V0XCIpID09IHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsbms7XHJcbiAgICAgICAgICAgICAgICAgICAgJGFycmF5LnJlbW92ZShzb3VyY2VMaW5rcywgbGluayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0YXJnZXRMaW5rcyA9IHRhcmdldC5nZXQoXCJsaW5rc1wiKTtcclxuICAgICAgICBpZiAodGFyZ2V0TGlua3MpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGFyZ2V0TGlua3MsIChsbmspID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChsbmsgJiYgbG5rLmdldChcInRhcmdldFwiKSA9PSBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rID0gbG5rO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJheS5yZW1vdmUodGFyZ2V0TGlua3MsIGxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxpbmspIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZUxpbmsobGluayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVVubGluaygpO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZVVubGluaygpIHtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlTGluayhsaW5rKSB7XHJcbiAgICAgICAgdGhpcy5saW5rcy5yZW1vdmVWYWx1ZShsaW5rKTtcclxuICAgICAgICBsaW5rLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdHdvIG5vZGVzIGFyZSBsaW5rZWQgd2l0aCBlYWNoIG90aGVyLlxyXG4gICAgICovXHJcbiAgICBhcmVMaW5rZWQoc291cmNlLCB0YXJnZXQpIHtcclxuICAgICAgICBjb25zdCBzb3VyY2VMaW5rcyA9IHNvdXJjZS5nZXQoXCJsaW5rc1wiKTtcclxuICAgICAgICBsZXQgbGlua2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHNvdXJjZUxpbmtzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHNvdXJjZUxpbmtzLCAobG5rKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG5rLmdldChcInRhcmdldFwiKSA9PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0TGlua3MgPSB0YXJnZXQuZ2V0KFwibGlua3NcIik7XHJcbiAgICAgICAgaWYgKHRhcmdldExpbmtzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRhcmdldExpbmtzLCAobG5rKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG5rLmdldChcInRhcmdldFwiKSA9PSBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpbmtlZDtcclxuICAgIH1cclxuICAgIF9wcm9jZXNzTGluayhfbGluaywgX3NvdXJjZSwgX3RhcmdldCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGRpc3Bvc2VEYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIHN1cGVyLmRpc3Bvc2VEYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgY29uc3QgbGlua3MgPSBkYXRhSXRlbS5nZXQoXCJsaW5rc1wiKTtcclxuICAgICAgICBpZiAobGlua3MpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2gobGlua3MsIChsaW5rKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlTGluayhsaW5rKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWxlY3QgYSBkYXRhIGl0ZW0uXHJcbiAgICAgKiBAcGFyYW0gIGRhdGFJdGVtICBEYXRhIGl0ZW1cclxuICAgICAqL1xyXG4gICAgc2VsZWN0RGF0YUl0ZW0oZGF0YUl0ZW0pIHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSBkYXRhSXRlbS5nZXQoXCJwYXJlbnRcIik7XHJcbiAgICAgICAgaWYgKCFkYXRhSXRlbS5nZXQoXCJkaXNhYmxlZFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldChcInNlbGVjdGVkRGF0YUl0ZW1cIiwgZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSYXcoXCJzZWxlY3RlZERhdGFJdGVtXCIsIHBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gXCJkYXRhaXRlbXNlbGVjdGVkXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaCh0eXBlLCB7IHR5cGU6IHR5cGUsIHRhcmdldDogdGhpcywgZGF0YUl0ZW06IHBhcmVudCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZURhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTGlua2VkSGllcmFyY2h5LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJMaW5rZWRIaWVyYXJjaHlcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZEhpZXJhcmNoeSwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBIaWVyYXJjaHkuY2xhc3NOYW1lcy5jb25jYXQoW0xpbmtlZEhpZXJhcmNoeS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGlua2VkSGllcmFyY2h5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchyNode.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchyNode.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LinkedHierarchyNode: () => (/* binding */ LinkedHierarchyNode)\n/* harmony export */ });\n/* harmony import */ var _HierarchyNode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HierarchyNode */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/HierarchyNode.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n/**\r\n * A node class for [[LinkedHierarchy]].\r\n */\r\nclass LinkedHierarchyNode extends _HierarchyNode__WEBPACK_IMPORTED_MODULE_0__.HierarchyNode {\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.states.create(\"disabled\", {});\r\n        this.states.create(\"hover\", {});\r\n        this.states.create(\"hoverDisabled\", {});\r\n    }\r\n    _updateLinks(duration) {\r\n        const dataItem = this.dataItem;\r\n        if (dataItem) {\r\n            let links = dataItem.get(\"links\");\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(links, (link) => {\r\n                let source = link.get(\"source\");\r\n                let target = link.get(\"target\");\r\n                if (source && target) {\r\n                    if (source.get(\"node\").isHidden() || target.get(\"node\").isHidden()) {\r\n                        link.hide(duration);\r\n                    }\r\n                    else {\r\n                        link.show(duration);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"disabled\")) {\r\n            this._updateLinks();\r\n        }\r\n    }\r\n    _onHide(duration) {\r\n        super._onHide(duration);\r\n        this._updateLinks(duration);\r\n    }\r\n    _onShow(duration) {\r\n        super._onShow(duration);\r\n        this._updateLinks(duration);\r\n    }\r\n}\r\nObject.defineProperty(LinkedHierarchyNode, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"LinkedHierarchyNode\"\r\n});\r\nObject.defineProperty(LinkedHierarchyNode, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _HierarchyNode__WEBPACK_IMPORTED_MODULE_0__.HierarchyNode.classNames.concat([LinkedHierarchyNode.className])\r\n});\r\n//# sourceMappingURL=LinkedHierarchyNode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9MaW5rZWRIaWVyYXJjaHlOb2RlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDtBQUNBO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPLGtDQUFrQyx5REFBYTtBQUN0RDtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLHNDQUFzQztBQUN0Qyw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFhO0FBQ3hCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY2hhcnRzL2hpZXJhcmNoeS9MaW5rZWRIaWVyYXJjaHlOb2RlLmpzPzg4Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSGllcmFyY2h5Tm9kZSB9IGZyb20gXCIuL0hpZXJhcmNoeU5vZGVcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQXJyYXlcIjtcclxuLyoqXHJcbiAqIEEgbm9kZSBjbGFzcyBmb3IgW1tMaW5rZWRIaWVyYXJjaHldXS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMaW5rZWRIaWVyYXJjaHlOb2RlIGV4dGVuZHMgSGllcmFyY2h5Tm9kZSB7XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMuY3JlYXRlKFwiZGlzYWJsZWRcIiwge30pO1xyXG4gICAgICAgIHRoaXMuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHt9KTtcclxuICAgICAgICB0aGlzLnN0YXRlcy5jcmVhdGUoXCJob3ZlckRpc2FibGVkXCIsIHt9KTtcclxuICAgIH1cclxuICAgIF91cGRhdGVMaW5rcyhkdXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IGRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbTtcclxuICAgICAgICBpZiAoZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgbGV0IGxpbmtzID0gZGF0YUl0ZW0uZ2V0KFwibGlua3NcIik7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGxpbmtzLCAobGluaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNvdXJjZSA9IGxpbmsuZ2V0KFwic291cmNlXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGxpbmsuZ2V0KFwidGFyZ2V0XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAmJiB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmdldChcIm5vZGVcIikuaXNIaWRkZW4oKSB8fCB0YXJnZXQuZ2V0KFwibm9kZVwiKS5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuaGlkZShkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rLnNob3coZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImRpc2FibGVkXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxpbmtzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX29uSGlkZShkdXJhdGlvbikge1xyXG4gICAgICAgIHN1cGVyLl9vbkhpZGUoZHVyYXRpb24pO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZUxpbmtzKGR1cmF0aW9uKTtcclxuICAgIH1cclxuICAgIF9vblNob3coZHVyYXRpb24pIHtcclxuICAgICAgICBzdXBlci5fb25TaG93KGR1cmF0aW9uKTtcclxuICAgICAgICB0aGlzLl91cGRhdGVMaW5rcyhkdXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZEhpZXJhcmNoeU5vZGUsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkxpbmtlZEhpZXJhcmNoeU5vZGVcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZEhpZXJhcmNoeU5vZGUsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogSGllcmFyY2h5Tm9kZS5jbGFzc05hbWVzLmNvbmNhdChbTGlua2VkSGllcmFyY2h5Tm9kZS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGlua2VkSGllcmFyY2h5Tm9kZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/charts/hierarchy/LinkedHierarchyNode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/Registry.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Registry: () => (/* binding */ Registry),\n/* harmony export */   addLicense: () => (/* binding */ addLicense),\n/* harmony export */   disposeAllRootElements: () => (/* binding */ disposeAllRootElements),\n/* harmony export */   getRootById: () => (/* binding */ getRootById),\n/* harmony export */   registry: () => (/* binding */ registry)\n/* harmony export */ });\n/**\r\n * @ignore\r\n */\r\nclass Registry {\r\n    constructor() {\r\n        /**\r\n         * Currently running version of amCharts.\r\n         */\r\n        Object.defineProperty(this, \"version\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"5.13.6\"\r\n        });\r\n        /**\r\n         * List of applied licenses.\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"licenses\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Entities that have their `id` setting set.\r\n         */\r\n        Object.defineProperty(this, \"entitiesById\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * All created [[Root]] elements.\r\n         */\r\n        Object.defineProperty(this, \"rootElements\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\n/**\r\n    * @ignore\r\n */\r\nconst registry = new Registry();\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @param  license  License key\r\n */\r\nfunction addLicense(license) {\r\n    registry.licenses.push(license);\r\n}\r\n/**\r\n * Disposes all [[Root]] elements.\r\n */\r\nfunction disposeAllRootElements() {\r\n    let root;\r\n    while (root = registry.rootElements.pop()) {\r\n        root.dispose();\r\n    }\r\n}\r\n/**\r\n * Finds and returns a `Root` element assigned to a container with `id`.\r\n *\r\n * @param   id  Container ID\r\n * @return      Root\r\n * @since 5.9.2\r\n */\r\nfunction getRootById(id) {\r\n    let found;\r\n    registry.rootElements.forEach((item) => {\r\n        if (item.dom.id == id) {\r\n            found = item;\r\n        }\r\n    });\r\n    return found;\r\n}\r\n//# sourceMappingURL=Registry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9SZWdpc3RyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9SZWdpc3RyeS5qcz9kZDc4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmVnaXN0cnkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudGx5IHJ1bm5pbmcgdmVyc2lvbiBvZiBhbUNoYXJ0cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJzaW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFwiNS4xMy42XCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0IG9mIGFwcGxpZWQgbGljZW5zZXMuXHJcbiAgICAgICAgICogQGlnbm9yZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpY2Vuc2VzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRW50aXRpZXMgdGhhdCBoYXZlIHRoZWlyIGBpZGAgc2V0dGluZyBzZXQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZW50aXRpZXNCeUlkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGNyZWF0ZWQgW1tSb290XV0gZWxlbWVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicm9vdEVsZW1lbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAgICAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjb25zdCByZWdpc3RyeSA9IG5ldyBSZWdpc3RyeSgpO1xyXG4vKipcclxuICogQWRkcyBhIGxpY2Vuc2UsIGUuZy46XHJcbiAqXHJcbiAqIGBgYFR5cGVTY3JpcHRcclxuICogYW01LmFkZExpY2Vuc2UoXCJ4eHh4eHh4eFwiKTtcclxuICogYGBgXHJcbiAqIGBgYEphdmFTY3JpcHRcclxuICogYW01LmFkZExpY2Vuc2UoXCJ4eHh4eHh4eFwiKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIE11bHRpcGxlIGxpY2Vuc2VzIGNhbiBiZSBhZGRlZCB0byBjb3ZlciBmb3IgbXVsdGlwbGUgcHJvZHVjdHMuXHJcbiAqXHJcbiAqIEBwYXJhbSAgbGljZW5zZSAgTGljZW5zZSBrZXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRMaWNlbnNlKGxpY2Vuc2UpIHtcclxuICAgIHJlZ2lzdHJ5LmxpY2Vuc2VzLnB1c2gobGljZW5zZSk7XHJcbn1cclxuLyoqXHJcbiAqIERpc3Bvc2VzIGFsbCBbW1Jvb3RdXSBlbGVtZW50cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwb3NlQWxsUm9vdEVsZW1lbnRzKCkge1xyXG4gICAgbGV0IHJvb3Q7XHJcbiAgICB3aGlsZSAocm9vdCA9IHJlZ2lzdHJ5LnJvb3RFbGVtZW50cy5wb3AoKSkge1xyXG4gICAgICAgIHJvb3QuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBGaW5kcyBhbmQgcmV0dXJucyBhIGBSb290YCBlbGVtZW50IGFzc2lnbmVkIHRvIGEgY29udGFpbmVyIHdpdGggYGlkYC5cclxuICpcclxuICogQHBhcmFtICAgaWQgIENvbnRhaW5lciBJRFxyXG4gKiBAcmV0dXJuICAgICAgUm9vdFxyXG4gKiBAc2luY2UgNS45LjJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSb290QnlJZChpZCkge1xyXG4gICAgbGV0IGZvdW5kO1xyXG4gICAgcmVnaXN0cnkucm9vdEVsZW1lbnRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBpZiAoaXRlbS5kb20uaWQgPT0gaWQpIHtcclxuICAgICAgICAgICAgZm91bmQgPSBpdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvdW5kO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZ2lzdHJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Root.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/Root.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Root: () => (/* binding */ Root)\n/* harmony export */ });\n/* harmony import */ var _util_Animation__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./util/Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _render_Container__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _render_Text__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./render/Text */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js\");\n/* harmony import */ var _render_HorizontalLayout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./render/HorizontalLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js\");\n/* harmony import */ var _render_VerticalLayout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./render/VerticalLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js\");\n/* harmony import */ var _render_GridLayout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./render/GridLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js\");\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _util_ResizeSensor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./util/ResizeSensor */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js\");\n/* harmony import */ var _util_InterfaceColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./util/InterfaceColors */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js\");\n/* harmony import */ var _render_Graphics__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _render_Rectangle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./render/Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n/* harmony import */ var _render_Tooltip__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./render/Tooltip */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js\");\n/* harmony import */ var _util_NumberFormatter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/NumberFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js\");\n/* harmony import */ var _util_DateFormatter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util/DateFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js\");\n/* harmony import */ var _util_DurationFormatter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util/DurationFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js\");\n/* harmony import */ var _util_Language__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/Language */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js\");\n/* harmony import */ var _util_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../themes/DefaultTheme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js\");\n/* harmony import */ var _render_backend_CanvasRenderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./render/backend/CanvasRenderer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _util_Color__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _util_PopulateString__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./util/PopulateString */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\");\n/* harmony import */ var _Registry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Registry */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js\");\n/* harmony import */ var _util_Order__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./util/Order */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Object__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _locales_en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locales/en */ \"(ssr)/./node_modules/@amcharts/amcharts5/locales/en.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction rAF(fps, callback) {\r\n    if (fps == null) {\r\n        requestAnimationFrame(callback);\r\n    }\r\n    else {\r\n        setTimeout(() => {\r\n            requestAnimationFrame(callback);\r\n        }, 1000 / fps);\r\n    }\r\n}\r\n// TODO implement Disposer\r\n/**\r\n * Root element of the chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\r\n */\r\nclass Root {\r\n    constructor(id, settings = {}, isReal) {\r\n        /**\r\n         * A reference to original chart container (div element).\r\n         */\r\n        Object.defineProperty(this, \"dom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_inner\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDirtyAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPositions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_ticker\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_tickers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_updateTick\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        /**\r\n         * Root's event dispatcher.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n         */\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher()\r\n        });\r\n        /**\r\n         * @ignore\r\n         * @todo needs description\r\n         */\r\n        Object.defineProperty(this, \"animationTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_animations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rootContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Main content container.\r\n         */\r\n        Object.defineProperty(this, \"container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[Container]] used to display tooltips in.\r\n         */\r\n        Object.defineProperty(this, \"tooltipContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipContainerSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Locale-related\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"language\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _util_Language__WEBPACK_IMPORTED_MODULE_1__.Language.new(this, {})\r\n        });\r\n        /**\r\n         * Locale used by the chart.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\r\n         */\r\n        Object.defineProperty(this, \"locale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _locales_en__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\r\n        });\r\n        // Date-time related\r\n        /**\r\n         * Use UTC when formatting date/time.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#utc-and-time-zones} for more info\r\n         */\r\n        Object.defineProperty(this, \"utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * If set, will format date/time in specific time zone.\r\n         *\r\n         * The value should be named time zone, e.g.:\r\n         * `\"America/Vancouver\"`, `\"Australia/Sydney\"`, `\"UTC\"`.\r\n         *\r\n         * NOTE: Using time zone feature may noticeable affect performance of the\r\n         * chart, especially with large data sets, since every single date will need\r\n         * to be recalculated.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#time-zone} for more info\r\n         * @since 5.1.0\r\n         */\r\n        Object.defineProperty(this, \"timezone\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * The maximum FPS that the Root will run at.\r\n         *\r\n         * If `undefined` it will run at the highest FPS.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Performance} for more info\r\n         */\r\n        Object.defineProperty(this, \"fps\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Number formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n         */\r\n        Object.defineProperty(this, \"numberFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _util_NumberFormatter__WEBPACK_IMPORTED_MODULE_3__.NumberFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Date/time formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"dateFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _util_DateFormatter__WEBPACK_IMPORTED_MODULE_4__.DateFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Duration formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"durationFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _util_DurationFormatter__WEBPACK_IMPORTED_MODULE_5__.DurationFormatter.new(this, {})\r\n        });\r\n        // Accessibility\r\n        /**\r\n         * Global tab index for using for the whole chart\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n         */\r\n        Object.defineProperty(this, \"tabindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        //@todo maybe make this better\r\n        Object.defineProperty(this, \"_tabindexes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_a11yD\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusedSprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isShift\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_keyboardDragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_readerAlertElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_logo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDiv\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Used for dynamically-created CSS and JavaScript with strict source policies.\r\n         */\r\n        Object.defineProperty(this, \"nonce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Special color set to be used for various controls.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\r\n         */\r\n        Object.defineProperty(this, \"interfaceColors\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * An instance of vertical layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"verticalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _render_VerticalLayout__WEBPACK_IMPORTED_MODULE_6__.VerticalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of horizontal layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default HorizontalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"horizontalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _render_HorizontalLayout__WEBPACK_IMPORTED_MODULE_7__.HorizontalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of grid layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"gridLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _render_GridLayout__WEBPACK_IMPORTED_MODULE_8__.GridLayout.new(this, {})\r\n        });\r\n        Object.defineProperty(this, \"_paused\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates whether chart should resized automatically when parent container\r\n         * width and/or height changes.\r\n         *\r\n         * If disabled (`autoResize = false`) you can make the chart resize manually\r\n         * by calling root element's `resize()` method.\r\n         */\r\n        Object.defineProperty(this, \"autoResize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_fontHash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"_isDisposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_resizeSensorDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltips\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_htmlElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlEnabledContainers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Entities that have their `id` setting set.\r\n         *\r\n         * @since 5.11.0\r\n         */\r\n        Object.defineProperty(this, \"entitiesById\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n        if (settings.accessible == false) {\r\n            this._a11yD = true;\r\n        }\r\n        if (settings.useSafeResolution == null) {\r\n            settings.useSafeResolution = true;\r\n        }\r\n        let resolution;\r\n        if (settings.useSafeResolution) {\r\n            resolution = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getSafeResolution();\r\n        }\r\n        this._renderer = new _render_backend_CanvasRenderer__WEBPACK_IMPORTED_MODULE_10__.CanvasRenderer(resolution);\r\n        let dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(_Registry__WEBPACK_IMPORTED_MODULE_12__.registry.rootElements, (root) => {\r\n            if (root.dom === dom) {\r\n                throw new Error(\"You cannot have multiple Roots on the same DOM node\");\r\n            }\r\n        });\r\n        this.interfaceColors = _util_InterfaceColors__WEBPACK_IMPORTED_MODULE_13__.InterfaceColors.new(this, {});\r\n        if (dom === null) {\r\n            throw new Error(\"Could not find HTML element with id `\" + id + \"`\");\r\n        }\r\n        this.dom = dom;\r\n        let inner = document.createElement(\"div\");\r\n        inner.style.position = \"relative\";\r\n        inner.style.width = \"100%\";\r\n        inner.style.height = \"100%\";\r\n        dom.appendChild(inner);\r\n        const tooltipContainerBounds = settings.tooltipContainerBounds;\r\n        if (tooltipContainerBounds) {\r\n            this._tooltipContainerSettings = tooltipContainerBounds;\r\n        }\r\n        this._inner = inner;\r\n        this._updateComputedStyles();\r\n        _Registry__WEBPACK_IMPORTED_MODULE_12__.registry.rootElements.push(this);\r\n    }\r\n    static new(id, settings) {\r\n        const root = new Root(id, settings, true);\r\n        root._init();\r\n        return root;\r\n    }\r\n    moveDOM(id) {\r\n        let dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        if (dom) {\r\n            while (this.dom.childNodes.length > 0) {\r\n                dom.appendChild(this.dom.childNodes[0]);\r\n            }\r\n            this.dom = dom;\r\n            this._initResizeSensor();\r\n            this.resize();\r\n        }\r\n    }\r\n    _handleLogo() {\r\n        if (this._logo) {\r\n            const w = this.dom.offsetWidth;\r\n            const h = this.dom.offsetHeight;\r\n            if ((w <= 150) || (h <= 60)) {\r\n                this._logo.hide();\r\n            }\r\n            else {\r\n                this._logo.show();\r\n            }\r\n        }\r\n    }\r\n    _showBranding() {\r\n        if (!this._logo) {\r\n            const logo = this.tooltipContainer.children.push(_render_Container__WEBPACK_IMPORTED_MODULE_14__.Container.new(this, {\r\n                interactive: true,\r\n                interactiveChildren: false,\r\n                position: \"absolute\",\r\n                setStateOnChildren: true,\r\n                paddingTop: 9,\r\n                paddingRight: 9,\r\n                paddingBottom: 9,\r\n                paddingLeft: 9,\r\n                scale: .6,\r\n                y: (0,_util_Percent__WEBPACK_IMPORTED_MODULE_15__.percent)(100),\r\n                centerY: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100,\r\n                tooltipText: \"Created using amCharts 5\",\r\n                tooltipX: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100,\r\n                cursorOverStyle: \"pointer\",\r\n                background: _render_Rectangle__WEBPACK_IMPORTED_MODULE_16__.Rectangle.new(this, {\r\n                    fill: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0x474758),\r\n                    fillOpacity: 0,\r\n                    tooltipY: 5\r\n                })\r\n            }));\r\n            const tooltip = _render_Tooltip__WEBPACK_IMPORTED_MODULE_18__.Tooltip.new(this, {\r\n                pointerOrientation: \"horizontal\",\r\n                paddingTop: 4,\r\n                paddingRight: 7,\r\n                paddingBottom: 4,\r\n                paddingLeft: 7\r\n            });\r\n            tooltip.label.setAll({\r\n                fontSize: 12\r\n            });\r\n            tooltip.get(\"background\").setAll({\r\n                fill: this.interfaceColors.get(\"background\"),\r\n                stroke: this.interfaceColors.get(\"grid\"),\r\n                strokeOpacity: 0.3\r\n            });\r\n            logo.set(\"tooltip\", tooltip);\r\n            logo.events.on(\"click\", () => {\r\n                window.open(\"https://www.amcharts.com/\", \"_blank\");\r\n            });\r\n            logo.states.create(\"hover\", {});\r\n            const m = logo.children.push(_render_Graphics__WEBPACK_IMPORTED_MODULE_19__.Graphics.new(this, {\r\n                stroke: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0xcccccc),\r\n                strokeWidth: 3,\r\n                svgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\r\n            }));\r\n            m.states.create(\"hover\", { stroke: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0x3CABFF) });\r\n            const a = logo.children.push(_render_Graphics__WEBPACK_IMPORTED_MODULE_19__.Graphics.new(this, {\r\n                stroke: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0x888888),\r\n                strokeWidth: 3,\r\n                svgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\r\n            }));\r\n            a.states.create(\"hover\", { stroke: (0,_util_Color__WEBPACK_IMPORTED_MODULE_17__.color)(0x474758) });\r\n            //logo.set(\"tooltip\", this._tooltip);\r\n            //logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\r\n            this._logo = logo;\r\n            this._handleLogo();\r\n        }\r\n    }\r\n    _getRealSize() {\r\n        return this.dom.getBoundingClientRect();\r\n    }\r\n    _getCalculatedSize(rect) {\r\n        if (this._settings.calculateSize) {\r\n            return this._settings.calculateSize(rect);\r\n        }\r\n        else {\r\n            return {\r\n                width: rect.width,\r\n                height: rect.height,\r\n            };\r\n        }\r\n    }\r\n    _init() {\r\n        const settings = this._settings;\r\n        if (settings.accessible !== false) {\r\n            if (settings.focusable) {\r\n                this._inner.setAttribute(\"focusable\", \"true\");\r\n                this._inner.setAttribute(\"tabindex\", this.tabindex + \"\");\r\n            }\r\n            if (settings.ariaLabel) {\r\n                this._inner.setAttribute(\"aria-label\", settings.ariaLabel);\r\n            }\r\n            if (settings.role) {\r\n                this._inner.setAttribute(\"role\", settings.role);\r\n            }\r\n        }\r\n        const renderer = this._renderer;\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const width = Math.floor(size.width);\r\n        const height = Math.floor(size.height);\r\n        const realWidth = Math.floor(rect.width);\r\n        const realHeight = Math.floor(rect.height);\r\n        const rootContainer = _render_Container__WEBPACK_IMPORTED_MODULE_14__.Container.new(this, {\r\n            visible: true,\r\n            width: width,\r\n            height: height,\r\n        });\r\n        this._rootContainer = rootContainer;\r\n        this._rootContainer._defaultThemes.push(_themes_DefaultTheme__WEBPACK_IMPORTED_MODULE_20__.DefaultTheme.new(this));\r\n        const container = rootContainer.children.push(_render_Container__WEBPACK_IMPORTED_MODULE_14__.Container.new(this, { visible: true, width: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100, height: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100 }));\r\n        this.container = container;\r\n        renderer.resize(realWidth, realHeight, width, height);\r\n        //@todo: better appendChild - refer\r\n        this._inner.appendChild(renderer.view);\r\n        // TODO: TMP TMP TMP for testing only, remove\r\n        //renderer.debugGhostView = true;\r\n        this._initResizeSensor();\r\n        // HTML content holder\r\n        const htmlElementContainer = document.createElement(\"div\");\r\n        this._htmlElementContainer = htmlElementContainer;\r\n        htmlElementContainer.className = \"am5-html-container\";\r\n        htmlElementContainer.style.position = \"absolute\";\r\n        htmlElementContainer.style.pointerEvents = \"none\";\r\n        if (!this._tooltipContainerSettings) {\r\n            htmlElementContainer.style.overflow = \"hidden\";\r\n        }\r\n        this._inner.appendChild(htmlElementContainer);\r\n        if (this._a11yD !== true) {\r\n            // Create element which is used to make announcements to screen reader\r\n            const readerAlertElement = document.createElement(\"div\");\r\n            readerAlertElement.className = \"am5-reader-container\";\r\n            readerAlertElement.setAttribute(\"role\", \"alert\");\r\n            // readerAlertElement.style.zIndex = \"-100000\";\r\n            // readerAlertElement.style.opacity = \"0\";\r\n            // readerAlertElement.style.top = \"0\";\r\n            readerAlertElement.style.position = \"absolute\";\r\n            readerAlertElement.style.width = \"1px\";\r\n            readerAlertElement.style.height = \"1px\";\r\n            readerAlertElement.style.overflow = \"hidden\";\r\n            readerAlertElement.style.clip = \"rect(1px, 1px, 1px, 1px)\";\r\n            this._readerAlertElement = readerAlertElement;\r\n            this._inner.appendChild(this._readerAlertElement);\r\n            const focusElementContainer = document.createElement(\"div\");\r\n            focusElementContainer.className = \"am5-focus-container\";\r\n            focusElementContainer.style.position = \"absolute\";\r\n            focusElementContainer.style.pointerEvents = \"none\";\r\n            focusElementContainer.style.top = \"0px\";\r\n            focusElementContainer.style.left = \"0px\";\r\n            focusElementContainer.style.overflow = \"hidden\";\r\n            focusElementContainer.style.width = width + \"px\";\r\n            focusElementContainer.style.height = height + \"px\";\r\n            focusElementContainer.setAttribute(\"role\", \"graphics-document\");\r\n            _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(focusElementContainer, false);\r\n            this._focusElementContainer = focusElementContainer;\r\n            this._inner.appendChild(this._focusElementContainer);\r\n            const tooltipElementContainer = document.createElement(\"div\");\r\n            this._tooltipElementContainer = tooltipElementContainer;\r\n            tooltipElementContainer.className = \"am5-tooltip-container\";\r\n            this._inner.appendChild(tooltipElementContainer);\r\n            // Add keyboard events for accessibility, e.g. simulating drag with arrow\r\n            // keys and click with ENTER\r\n            if (_util_Utils__WEBPACK_IMPORTED_MODULE_9__.supports(\"keyboardevents\")) {\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(window, \"keydown\", (ev) => {\r\n                    const eventKey = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getEventKey(ev);\r\n                    if (eventKey == \"Shift\") {\r\n                        this._isShift = true;\r\n                    }\r\n                    else if (eventKey == \"Tab\") {\r\n                        this._isShift = ev.shiftKey;\r\n                    }\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(window, \"keyup\", (ev) => {\r\n                    const eventKey = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getEventKey(ev);\r\n                    if (eventKey == \"Shift\") {\r\n                        this._isShift = false;\r\n                    }\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElementContainer, \"click\", () => {\r\n                    // Some screen readers convert ENTER (and some SPACE) press whil on\r\n                    // focused element to a \"click\" event, preventing actual \"keydown\"\r\n                    // event from firing. We're using this \"click\" event to still\r\n                    // generate internal click events.\r\n                    const focusedSprite = this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        const announceText = focusedSprite.get(\"clickAnnounceText\", \"\");\r\n                        if (announceText !== \"\") {\r\n                            this.readerAlert(announceText);\r\n                        }\r\n                        const downEvent = renderer.getEvent(new MouseEvent(\"click\"));\r\n                        focusedSprite.events.dispatch(\"click\", {\r\n                            type: \"click\",\r\n                            originalEvent: downEvent.event,\r\n                            point: downEvent.point,\r\n                            simulated: true,\r\n                            target: focusedSprite\r\n                        });\r\n                    }\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElementContainer, \"keydown\", (ev) => {\r\n                    const focusedSprite = this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        if (ev.key == \"Escape\") {\r\n                            // ESC pressed - lose current focus\r\n                            _util_Utils__WEBPACK_IMPORTED_MODULE_9__.blur();\r\n                            this._focusedSprite = undefined;\r\n                        }\r\n                        let dragOffsetX = 0;\r\n                        let dragOffsetY = 0;\r\n                        // TODO: figure out if using bogus MouseEvent is fine, or it will\r\n                        // fail on some platforms\r\n                        const eventKey = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getEventKey(ev);\r\n                        switch (eventKey) {\r\n                            case \"Enter\":\r\n                            case \" \":\r\n                                const announceText = focusedSprite.get(\"clickAnnounceText\", \"\");\r\n                                if (announceText !== \"\") {\r\n                                    this.readerAlert(announceText);\r\n                                }\r\n                                if (eventKey == \" \" && focusedSprite.get(\"role\") != \"checkbox\") {\r\n                                    return;\r\n                                }\r\n                                ev.preventDefault();\r\n                                const downEvent = renderer.getEvent(new MouseEvent(\"mouse\"));\r\n                                focusedSprite.events.dispatch(\"click\", {\r\n                                    type: \"click\",\r\n                                    originalEvent: downEvent.event,\r\n                                    point: downEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                                return;\r\n                            case \"ArrowLeft\":\r\n                                dragOffsetX = -6;\r\n                                break;\r\n                            case \"ArrowRight\":\r\n                                dragOffsetX = 6;\r\n                                break;\r\n                            case \"ArrowUp\":\r\n                                dragOffsetY = -6;\r\n                                break;\r\n                            case \"ArrowDown\":\r\n                                dragOffsetY = 6;\r\n                                break;\r\n                            default:\r\n                                return;\r\n                        }\r\n                        if (dragOffsetX != 0 || dragOffsetY != 0) {\r\n                            ev.preventDefault();\r\n                            if (!focusedSprite.isDragging()) {\r\n                                // Start dragging\r\n                                this._keyboardDragPoint = {\r\n                                    x: 0,\r\n                                    y: 0\r\n                                };\r\n                                const downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\r\n                                    clientX: 0,\r\n                                    clientY: 0\r\n                                }));\r\n                                downEvent.point = {\r\n                                    x: 0,\r\n                                    y: 0\r\n                                };\r\n                                if (focusedSprite.events.isEnabled(\"pointerdown\")) {\r\n                                    focusedSprite.events.dispatch(\"pointerdown\", {\r\n                                        type: \"pointerdown\",\r\n                                        originalEvent: downEvent.event,\r\n                                        point: downEvent.point,\r\n                                        simulated: true,\r\n                                        target: focusedSprite\r\n                                    });\r\n                                }\r\n                            }\r\n                            else {\r\n                                // Move focus marker\r\n                                //this._positionFocusElement(focusedSprite);\r\n                            }\r\n                            // Move incrementally\r\n                            const dragPoint = this._keyboardDragPoint;\r\n                            dragPoint.x += dragOffsetX;\r\n                            dragPoint.y += dragOffsetY;\r\n                            const moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\r\n                                clientX: dragPoint.x,\r\n                                clientY: dragPoint.y\r\n                            }), false);\r\n                            if (focusedSprite.events.isEnabled(\"globalpointermove\")) {\r\n                                focusedSprite.events.dispatch(\"globalpointermove\", {\r\n                                    type: \"globalpointermove\",\r\n                                    originalEvent: moveEvent.event,\r\n                                    point: moveEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElementContainer, \"keyup\", (ev) => {\r\n                    if (this._focusedSprite) {\r\n                        const focusedSprite = this._focusedSprite;\r\n                        const eventKey = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.getEventKey(ev);\r\n                        switch (eventKey) {\r\n                            case \"ArrowLeft\":\r\n                            case \"ArrowRight\":\r\n                            case \"ArrowUp\":\r\n                            case \"ArrowDown\":\r\n                                if (focusedSprite.isDragging()) {\r\n                                    // Simulate drag stop\r\n                                    const dragPoint = this._keyboardDragPoint;\r\n                                    const upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\r\n                                        clientX: dragPoint.x,\r\n                                        clientY: dragPoint.y\r\n                                    }));\r\n                                    if (focusedSprite.events.isEnabled(\"globalpointerup\")) {\r\n                                        focusedSprite.events.dispatch(\"globalpointerup\", {\r\n                                            type: \"globalpointerup\",\r\n                                            originalEvent: upEvent.event,\r\n                                            point: upEvent.point,\r\n                                            simulated: true,\r\n                                            target: focusedSprite\r\n                                        });\r\n                                    }\r\n                                    //this._positionFocusElement(focusedSprite);\r\n                                    this._keyboardDragPoint = undefined;\r\n                                    // @todo dispatch mouseup event instead of calling dragStop?\r\n                                    // this._dispatchEvent(\"globalpointerup\", target, upEvent);\r\n                                    return;\r\n                                }\r\n                                else if (focusedSprite.get(\"focusableGroup\")) {\r\n                                    // Find next item in focusable group\r\n                                    const group = focusedSprite.get(\"focusableGroup\");\r\n                                    const items = this._tabindexes.filter((item) => {\r\n                                        return item.get(\"focusableGroup\") == group && item.getPrivate(\"focusable\") !== false && item.isVisibleDeep() ? true : false;\r\n                                    });\r\n                                    let index = items.indexOf(focusedSprite);\r\n                                    const lastIndex = items.length - 1;\r\n                                    index += (eventKey == \"ArrowRight\" || eventKey == \"ArrowDown\") ? 1 : -1;\r\n                                    if (index < 0) {\r\n                                        index = lastIndex;\r\n                                    }\r\n                                    else if (index > lastIndex) {\r\n                                        index = 0;\r\n                                    }\r\n                                    _util_Utils__WEBPACK_IMPORTED_MODULE_9__.focus(items[index].getPrivate(\"focusElement\").dom);\r\n                                }\r\n                                break;\r\n                            case \"Tab\":\r\n                                const group = focusedSprite.get(\"focusableGroup\");\r\n                                if (group && this._isShift) {\r\n                                    this._focusNext(focusedSprite.getPrivate(\"focusElement\").dom, -1, group);\r\n                                    return;\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n        this._startTicker();\r\n        this.setThemes([]);\r\n        this._addTooltip();\r\n        if (!this._hasLicense()) {\r\n            this._showBranding();\r\n        }\r\n    }\r\n    _initResizeSensor() {\r\n        if (this._resizeSensorDisposer) {\r\n            this._resizeSensorDisposer.dispose();\r\n        }\r\n        this._resizeSensorDisposer = new _util_ResizeSensor__WEBPACK_IMPORTED_MODULE_21__.ResizeSensor(this.dom, () => {\r\n            if (this.autoResize) {\r\n                this.resize();\r\n            }\r\n        });\r\n        this._disposers.push(this._resizeSensorDisposer);\r\n    }\r\n    /**\r\n     * If automatic resizing of char is disabled (`root.autoResize = false`), it\r\n     * can be resized manually by calling this method.\r\n     */\r\n    resize() {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const w = Math.floor(size.width);\r\n        const h = Math.floor(size.height);\r\n        if (w > 0 && h > 0) {\r\n            const realWidth = Math.floor(rect.width);\r\n            const realHeight = Math.floor(rect.height);\r\n            const htmlElementContainer = this._htmlElementContainer;\r\n            htmlElementContainer.style.width = w + \"px\";\r\n            htmlElementContainer.style.height = h + \"px\";\r\n            if (this._a11yD !== true) {\r\n                const focusElementContainer = this._focusElementContainer;\r\n                focusElementContainer.style.width = w + \"px\";\r\n                focusElementContainer.style.height = h + \"px\";\r\n            }\r\n            this._renderer.resize(realWidth, realHeight, w, h);\r\n            const rootContainer = this._rootContainer;\r\n            rootContainer.setPrivate(\"width\", w);\r\n            rootContainer.setPrivate(\"height\", h);\r\n            this._render();\r\n            this._handleLogo();\r\n        }\r\n    }\r\n    _render() {\r\n        this._renderer.render(this._rootContainer._display);\r\n        if (this._focusElementDirty) {\r\n            this._updateCurrentFocus();\r\n            this._focusElementDirty = false;\r\n        }\r\n    }\r\n    _runTickers(currentTime) {\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(this._tickers, (f) => {\r\n            f(currentTime);\r\n        });\r\n    }\r\n    _runAnimations(currentTime) {\r\n        let running = 0;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.keepIf(this._animations, (animation) => {\r\n            const state = animation._runAnimation(currentTime);\r\n            if (state === _util_Animation__WEBPACK_IMPORTED_MODULE_22__.AnimationState.Stopped) {\r\n                return false;\r\n            }\r\n            else if (state === _util_Animation__WEBPACK_IMPORTED_MODULE_22__.AnimationState.Playing) {\r\n                ++running;\r\n                return true;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        });\r\n        this._isDirtyAnimation = false;\r\n        return running === 0;\r\n    }\r\n    _runDirties() {\r\n        //console.log(\"tick **************************************************************\");\r\n        let allParents = {};\r\n        while (this._isDirtyParents) {\r\n            // This must be before calling _prepareChildren\r\n            this._isDirtyParents = false;\r\n            _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(this._dirtyParents).forEach((key) => {\r\n                const parent = this._dirtyParents[key];\r\n                delete this._dirtyParents[key];\r\n                if (!parent.isDisposed()) {\r\n                    allParents[parent.uid] = parent;\r\n                    parent._prepareChildren();\r\n                }\r\n            });\r\n        }\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(allParents).forEach((key) => {\r\n            allParents[key]._updateChildren();\r\n        });\r\n        const objects = [];\r\n        //\t\tconsole.log(\"_beforeChanged\")\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(this._dirty).forEach((key) => {\r\n            const entity = this._dirty[key];\r\n            if (entity.isDisposed()) {\r\n                delete this._dirty[entity.uid];\r\n            }\r\n            else {\r\n                objects.push(entity);\r\n                entity._beforeChanged();\r\n            }\r\n        });\r\n        //\t\tconsole.log(\"_changed\")\r\n        objects.forEach((entity) => {\r\n            entity._changed();\r\n            delete this._dirty[entity.uid];\r\n            entity._clearDirty();\r\n        });\r\n        this._isDirty = false;\r\n        const depths = {};\r\n        const bounds = [];\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(this._dirtyBounds).forEach((key) => {\r\n            const entity = this._dirtyBounds[key];\r\n            delete this._dirtyBounds[key];\r\n            if (!entity.isDisposed()) {\r\n                depths[entity.uid] = entity.depth();\r\n                bounds.push(entity);\r\n            }\r\n        });\r\n        this._positionHTMLElements();\r\n        // High depth -> low depth\r\n        bounds.sort((x, y) => {\r\n            return _util_Order__WEBPACK_IMPORTED_MODULE_24__.compare(depths[y.uid], depths[x.uid]);\r\n        });\r\n        //\t\tconsole.log(\"_updateBounds\")\r\n        bounds.forEach((entity) => {\r\n            entity._updateBounds();\r\n        });\r\n        //\t\tconsole.log(\"_updatePosition\")\r\n        const dirtyPositions = this._dirtyPositions;\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.keys(dirtyPositions).forEach((key) => {\r\n            const sprite = dirtyPositions[key];\r\n            delete dirtyPositions[key];\r\n            if (!sprite.isDisposed()) {\r\n                sprite._updatePosition();\r\n            }\r\n        });\r\n        //\t\tconsole.log(\"_afterChanged\")\r\n        objects.forEach((entity) => {\r\n            entity._afterChanged();\r\n        });\r\n    }\r\n    _renderFrame(currentTime) {\r\n        if (this._updateTick) {\r\n            if (this.events.isEnabled(\"framestarted\")) {\r\n                this.events.dispatch(\"framestarted\", {\r\n                    type: \"framestarted\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            this._checkComputedStyles();\r\n            this._runTickers(currentTime);\r\n            const animationDone = this._runAnimations(currentTime);\r\n            this._runDirties();\r\n            this._render();\r\n            this._renderer.resetImageArray();\r\n            this._positionHTMLElements();\r\n            if (this.events.isEnabled(\"frameended\")) {\r\n                this.events.dispatch(\"frameended\", {\r\n                    type: \"frameended\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            return this._tickers.length === 0 &&\r\n                animationDone &&\r\n                !this._isDirtyAnimation &&\r\n                !this._isDirty;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    _runTicker(currentTime, now) {\r\n        if (!this.isDisposed()) {\r\n            this.animationTime = currentTime;\r\n            const done = this._renderFrame(currentTime);\r\n            // No more work to do\r\n            if (done) {\r\n                this._ticker = null;\r\n                this.animationTime = null;\r\n            }\r\n            else {\r\n                if (!this._paused) {\r\n                    if (now) {\r\n                        this._ticker;\r\n                    }\r\n                    else {\r\n                        rAF(this.fps, this._ticker);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _runTickerNow(timeout = 10000) {\r\n        if (!this.isDisposed()) {\r\n            const endTime = performance.now() + timeout;\r\n            for (;;) {\r\n                const currentTime = performance.now();\r\n                if (currentTime >= endTime) {\r\n                    this.animationTime = null;\r\n                    break;\r\n                }\r\n                this.animationTime = currentTime;\r\n                const done = this._renderFrame(currentTime);\r\n                if (done) {\r\n                    this.animationTime = null;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _startTicker() {\r\n        if (this._ticker === null) {\r\n            this.animationTime = null;\r\n            this._ticker = (currentTime) => {\r\n                this._runTicker(currentTime);\r\n            };\r\n            rAF(this.fps, this._ticker);\r\n        }\r\n    }\r\n    /**\r\n     * Returns whether the root is updating or not.\r\n     */\r\n    get updateTick() {\r\n        return this._updateTick;\r\n    }\r\n    /**\r\n     * Enables or disables the root updating.\r\n     */\r\n    set updateTick(value) {\r\n        this._updateTick = value;\r\n        if (value) {\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyEntity(entity) {\r\n        this._isDirty = true;\r\n        if (this._dirty[entity.uid] === undefined) {\r\n            this._dirty[entity.uid] = entity;\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _addDirtyParent(parent) {\r\n        this._isDirty = true;\r\n        this._isDirtyParents = true;\r\n        if (this._dirtyParents[parent.uid] === undefined) {\r\n            this._dirtyParents[parent.uid] = parent;\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _addDirtyBounds(entity) {\r\n        this._isDirty = true;\r\n        if (this._dirtyBounds[entity.uid] === undefined) {\r\n            this._dirtyBounds[entity.uid] = entity;\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _addDirtyPosition(sprite) {\r\n        this._isDirty = true;\r\n        if (this._dirtyPositions[sprite.uid] === undefined) {\r\n            this._dirtyPositions[sprite.uid] = sprite;\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _addAnimation(animation) {\r\n        this._isDirtyAnimation = true;\r\n        // TODO use numeric id instead\r\n        if (this._animations.indexOf(animation) === -1) {\r\n            this._animations.push(animation);\r\n        }\r\n        this._startTicker();\r\n    }\r\n    _markDirty() {\r\n        this._isDirty = true;\r\n    }\r\n    _markDirtyRedraw() {\r\n        this.events.once(\"frameended\", () => {\r\n            this._isDirty = true;\r\n            this._startTicker();\r\n        });\r\n    }\r\n    eachFrame(f) {\r\n        this._tickers.push(f);\r\n        this._startTicker();\r\n        return new _util_Disposer__WEBPACK_IMPORTED_MODULE_25__.Disposer(() => {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.removeFirst(this._tickers, f);\r\n        });\r\n    }\r\n    markDirtyGlobal(container) {\r\n        if (!container) {\r\n            container = this.container;\r\n        }\r\n        container.walkChildren((child) => {\r\n            if (child instanceof _render_Container__WEBPACK_IMPORTED_MODULE_14__.Container) {\r\n                this.markDirtyGlobal(child);\r\n            }\r\n            child.markDirty();\r\n            child.markDirtyBounds();\r\n        });\r\n    }\r\n    /**\r\n     * Returns width of the target container, in pixels.\r\n     *\r\n     * @return Width\r\n     */\r\n    width() {\r\n        // TODO make this more efficient, maybe just return the renderer's width ?\r\n        return Math.floor(this._getCalculatedSize(this._getRealSize()).width);\r\n    }\r\n    /**\r\n     * Returns height of the target container, in pixels.\r\n     *\r\n     * @return Height\r\n     */\r\n    height() {\r\n        // TODO make this more efficient, maybe just return the renderer's height ?\r\n        return Math.floor(this._getCalculatedSize(this._getRealSize()).height);\r\n    }\r\n    /**\r\n     * Disposes root and all the content in it.\r\n     */\r\n    dispose() {\r\n        if (!this._isDisposed) {\r\n            this._isDisposed = true;\r\n            this._rootContainer.dispose();\r\n            this._renderer.dispose();\r\n            this.horizontalLayout.dispose();\r\n            this.verticalLayout.dispose();\r\n            this.interfaceColors.dispose();\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(this._disposers, (x) => {\r\n                x.dispose();\r\n            });\r\n            if (this._inner) {\r\n                _util_Utils__WEBPACK_IMPORTED_MODULE_9__.removeElement(this._inner);\r\n            }\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(_Registry__WEBPACK_IMPORTED_MODULE_12__.registry.rootElements, this);\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if root element is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._isDisposed;\r\n    }\r\n    /**\r\n     * Triggers screen reader read out a message.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n     * @param  text  Alert text\r\n     */\r\n    readerAlert(text) {\r\n        if (this._a11yD !== true) {\r\n            const element = this._readerAlertElement;\r\n            text = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.stripTags(text);\r\n            if (element.innerHTML == text) {\r\n                element.innerHTML = \"\";\r\n            }\r\n            element.innerHTML = text;\r\n        }\r\n    }\r\n    /**\r\n     * Sets themes to be used for the chart.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n     * @param  themes  A list of themes\r\n     */\r\n    setThemes(themes) {\r\n        this._rootContainer.set(\"themes\", themes);\r\n        // otherwise new themes are not applied\r\n        const tooltipContainer = this.tooltipContainer;\r\n        if (tooltipContainer) {\r\n            tooltipContainer._applyThemes();\r\n        }\r\n        // @todo review this\r\n        const interfaceColors = this.interfaceColors;\r\n        if (interfaceColors) {\r\n            interfaceColors._applyThemes();\r\n        }\r\n    }\r\n    _addTooltip() {\r\n        if (!this.tooltipContainer) {\r\n            const tooltipContainerSettings = this._tooltipContainerSettings;\r\n            const tooltipContainer = this._rootContainer.children.push(_render_Container__WEBPACK_IMPORTED_MODULE_14__.Container.new(this, {\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                width: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100,\r\n                height: _util_Percent__WEBPACK_IMPORTED_MODULE_15__.p100,\r\n                layer: tooltipContainerSettings ? 35 : 30,\r\n                layerMargin: tooltipContainerSettings ? tooltipContainerSettings : undefined\r\n            }));\r\n            this.tooltipContainer = tooltipContainer;\r\n            const tooltip = _render_Tooltip__WEBPACK_IMPORTED_MODULE_18__.Tooltip.new(this, {});\r\n            this.container.set(\"tooltip\", tooltip);\r\n            tooltip.hide(0);\r\n            this._tooltip = tooltip;\r\n        }\r\n    }\r\n    /**\r\n     * Accesibility\r\n     */\r\n    _registerTabindexOrder(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        if (target.get(\"focusable\")) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.pushOne(this._tabindexes, target);\r\n        }\r\n        else {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(this._tabindexes, target);\r\n        }\r\n        this._invalidateTabindexes();\r\n    }\r\n    _unregisterTabindexOrder(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(this._tabindexes, target);\r\n        this._invalidateTabindexes();\r\n    }\r\n    _invalidateTabindexes() {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        this._tabindexes.sort((a, b) => {\r\n            const aindex = a.get(\"tabindexOrder\", 0);\r\n            const bindex = b.get(\"tabindexOrder\", 0);\r\n            if (aindex == bindex) {\r\n                return 0;\r\n            }\r\n            else if (aindex > bindex) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        });\r\n        const groups = [];\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(this._tabindexes, (item, index) => {\r\n            if (!item.getPrivate(\"focusElement\")) {\r\n                this._makeFocusElement(index, item);\r\n            }\r\n            else {\r\n                this._moveFocusElement(index, item);\r\n            }\r\n            const group = item.get(\"focusableGroup\");\r\n            if (group && item.getPrivate(\"focusable\") !== false) {\r\n                if (groups.indexOf(group) !== -1) {\r\n                    // Non-first element in the group, make it not directly focusable\r\n                    item.getPrivate(\"focusElement\").dom.setAttribute(\"tabindex\", \"-1\");\r\n                }\r\n                else {\r\n                    groups.push(group);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _updateCurrentFocus() {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        if (this._focusedSprite) {\r\n            this._decorateFocusElement(this._focusedSprite);\r\n            this._positionFocusElement(this._focusedSprite);\r\n        }\r\n    }\r\n    _decorateFocusElement(target, focusElement) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Decorate with proper accessibility attributes\r\n        if (!focusElement) {\r\n            focusElement = target.getPrivate(\"focusElement\").dom;\r\n        }\r\n        if (!focusElement) {\r\n            return;\r\n        }\r\n        const role = target.get(\"role\");\r\n        if (role) {\r\n            focusElement.setAttribute(\"role\", role);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"role\");\r\n        }\r\n        const ariaLabel = target.get(\"ariaLabel\");\r\n        if (ariaLabel) {\r\n            const label = (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_26__.populateString)(target, ariaLabel);\r\n            focusElement.setAttribute(\"aria-label\", label);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-label\");\r\n        }\r\n        const ariaLive = target.get(\"ariaLive\");\r\n        if (ariaLive) {\r\n            focusElement.setAttribute(\"aria-live\", ariaLive);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-live\");\r\n        }\r\n        const ariaChecked = target.get(\"ariaChecked\");\r\n        if (ariaChecked != null && role && [\"checkbox\", \"option\", \"radio\", \"menuitemcheckbox\", \"menuitemradio\", \"treeitem\"].indexOf(role) !== -1) {\r\n            focusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-checked\");\r\n        }\r\n        const ariaCurrent = target.get(\"ariaCurrent\");\r\n        if (ariaCurrent != null) {\r\n            focusElement.setAttribute(\"aria-current\", ariaCurrent);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-current\");\r\n        }\r\n        const ariaSelected = target.get(\"ariaSelected\");\r\n        if (ariaSelected != null && role && [\"gridcell\", \"option\", \"row\", \"tab\", \"columnheader\", \"rowheader\", \"treeitem\"].indexOf(role) !== -1) {\r\n            focusElement.setAttribute(\"aria-selected\", ariaSelected ? \"true\" : \"false\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-selected\");\r\n        }\r\n        if (target.get(\"ariaHidden\")) {\r\n            focusElement.setAttribute(\"aria-hidden\", \"true\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-hidden\");\r\n        }\r\n        const ariaOrientation = target.get(\"ariaOrientation\");\r\n        if (ariaOrientation) {\r\n            focusElement.setAttribute(\"aria-orientation\", ariaOrientation);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-orientation\");\r\n        }\r\n        const ariaValueNow = target.get(\"ariaValueNow\");\r\n        if (ariaValueNow) {\r\n            focusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuenow\");\r\n        }\r\n        const ariaValueMin = target.get(\"ariaValueMin\");\r\n        if (ariaValueMin) {\r\n            focusElement.setAttribute(\"aria-valuemin\", ariaValueMin);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuemin\");\r\n        }\r\n        const ariaValueMax = target.get(\"ariaValueMax\");\r\n        if (ariaValueMax) {\r\n            focusElement.setAttribute(\"aria-valuemax\", ariaValueMax);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuemax\");\r\n        }\r\n        const ariaValueText = target.get(\"ariaValueText\");\r\n        if (ariaValueText) {\r\n            focusElement.setAttribute(\"aria-valuetext\", ariaValueText);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuetext\");\r\n        }\r\n        const ariaControls = target.get(\"ariaControls\");\r\n        if (ariaControls) {\r\n            focusElement.setAttribute(\"aria-controls\", ariaControls);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-controls\");\r\n        }\r\n        if (target.get(\"visible\") && target.get(\"opacity\") !== 0 && target.get(\"role\") != \"tooltip\" && !target.isHidden() && target.getPrivate(\"focusable\") !== false && (target.height() || target.width())) {\r\n            if (focusElement.getAttribute(\"tabindex\") != \"-1\") {\r\n                focusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\r\n            }\r\n            focusElement.removeAttribute(\"aria-hidden\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"tabindex\");\r\n            focusElement.setAttribute(\"aria-hidden\", \"true\");\r\n        }\r\n    }\r\n    _makeFocusElement(index, target) {\r\n        if (target.getPrivate(\"focusElement\") || this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Init\r\n        const focusElement = document.createElement(\"div\");\r\n        if (target.get(\"role\") != \"tooltip\") {\r\n            focusElement.tabIndex = this.tabindex;\r\n        }\r\n        focusElement.style.position = \"absolute\";\r\n        _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(focusElement, false);\r\n        const disposers = [];\r\n        target.setPrivate(\"focusElement\", {\r\n            dom: focusElement,\r\n            disposers,\r\n        });\r\n        this._decorateFocusElement(target);\r\n        disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElement, \"focus\", (ev) => {\r\n            this._handleFocus(ev);\r\n        }));\r\n        disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(focusElement, \"blur\", (ev) => {\r\n            this._handleBlur(ev);\r\n        }));\r\n        this._moveFocusElement(index, target);\r\n    }\r\n    _removeFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(this._tabindexes, target);\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        if (focusElement) {\r\n            const container = this._focusElementContainer;\r\n            container.removeChild(focusElement.dom);\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(focusElement.disposers, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n    }\r\n    _hideFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        focusElement.dom.style.display = \"none\";\r\n    }\r\n    _moveFocusElement(index, target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Get container\r\n        const container = this._focusElementContainer;\r\n        const focusElement = target.getPrivate(\"focusElement\").dom;\r\n        if (focusElement === this._focusElementContainer.children[index]) {\r\n            // Nothing to do\r\n            return;\r\n        }\r\n        const next = this._focusElementContainer.children[index + 1];\r\n        if (next) {\r\n            container.insertBefore(focusElement, next);\r\n        }\r\n        else {\r\n            container.append(focusElement);\r\n        }\r\n    }\r\n    _positionFocusElement(target) {\r\n        if (this._a11yD == true || target == undefined) {\r\n            return;\r\n        }\r\n        const bounds = target.globalBounds();\r\n        let width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\r\n        let height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\r\n        const padding = this._settings.focusPadding !== undefined ? this._settings.focusPadding : 2;\r\n        let x = bounds.left - padding;\r\n        let y = bounds.top - padding;\r\n        if (width < 0) {\r\n            x += width;\r\n            width = Math.abs(width);\r\n        }\r\n        if (height < 0) {\r\n            y += height;\r\n            height = Math.abs(height);\r\n        }\r\n        const focusElement = target.getPrivate(\"focusElement\").dom;\r\n        focusElement.style.top = y + \"px\";\r\n        focusElement.style.left = x + \"px\";\r\n        focusElement.style.width = (width + padding * 2) + \"px\";\r\n        focusElement.style.height = (height + padding * 2) + \"px\";\r\n    }\r\n    _getSpriteByFocusElement(target) {\r\n        let found;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.eachContinue(this._tabindexes, (item, _index) => {\r\n            if (item.getPrivate(\"focusElement\").dom === target) {\r\n                found = item;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        return found;\r\n    }\r\n    _handleFocus(ev) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Get element\r\n        //const focused = this._tabindexes[index];\r\n        const focused = this._getSpriteByFocusElement(ev.target);\r\n        if (!focused) {\r\n            return;\r\n        }\r\n        // Jump over hidden elements\r\n        if (!focused.isVisibleDeep()) {\r\n            this._focusNext(ev.target, this._isShift ? -1 : 1);\r\n            return;\r\n        }\r\n        // Size and position\r\n        this._positionFocusElement(focused);\r\n        //this._decorateFocusElement(focused);\r\n        this._focusedSprite = focused;\r\n        if (focused.events.isEnabled(\"focus\")) {\r\n            focused.events.dispatch(\"focus\", {\r\n                type: \"focus\",\r\n                originalEvent: ev,\r\n                target: focused\r\n            });\r\n        }\r\n    }\r\n    _focusNext(el, direction, group) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focusableElements = Array.from(document.querySelectorAll([\r\n            'a[href]',\r\n            'area[href]',\r\n            'button:not([disabled])',\r\n            'details',\r\n            'input:not([disabled])',\r\n            'iframe:not([disabled])',\r\n            'select:not([disabled])',\r\n            'textarea:not([disabled])',\r\n            '[contentEditable=\"\"]',\r\n            '[contentEditable=\"true\"]',\r\n            '[contentEditable=\"TRUE\"]',\r\n            '[tabindex]:not([tabindex^=\"-\"])',\r\n            //':not([disabled])'\r\n        ].join(',')));\r\n        let index = focusableElements.indexOf(el) + direction;\r\n        if (index < 0) {\r\n            index = focusableElements.length - 1;\r\n        }\r\n        else if (index >= focusableElements.length) {\r\n            index = 0;\r\n        }\r\n        const targetElement = focusableElements[index];\r\n        if (group && direction == -1) {\r\n            const target = this._getSpriteByFocusElement(targetElement);\r\n            if (target && target.get(\"focusableGroup\") == group) {\r\n                this._focusNext(targetElement, direction);\r\n                return;\r\n            }\r\n        }\r\n        targetElement.focus();\r\n    }\r\n    _handleBlur(ev) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focused = this._focusedSprite;\r\n        if (focused && !focused.isDisposed() && focused.events.isEnabled(\"blur\")) {\r\n            focused.events.dispatch(\"blur\", {\r\n                type: \"blur\",\r\n                originalEvent: ev,\r\n                target: focused\r\n            });\r\n        }\r\n        this._focusedSprite = undefined;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltip(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const text = _util_Utils__WEBPACK_IMPORTED_MODULE_9__.stripTags(target._getText());\r\n        let tooltipElement = target.getPrivate(\"tooltipElement\");\r\n        if (target.get(\"role\") == \"tooltip\" && text != \"\") {\r\n            if (!tooltipElement) {\r\n                tooltipElement = this._makeTooltipElement(target);\r\n            }\r\n            if (tooltipElement.innerHTML != text) {\r\n                tooltipElement.innerHTML = text;\r\n            }\r\n            tooltipElement.setAttribute(\"aria-hidden\", target.isVisibleDeep() ? \"false\" : \"true\");\r\n        }\r\n        else if (tooltipElement) {\r\n            tooltipElement.remove();\r\n            target.removePrivate(\"tooltipElement\");\r\n        }\r\n    }\r\n    _makeTooltipElement(target) {\r\n        const container = this._tooltipElementContainer;\r\n        const tooltipElement = document.createElement(\"div\");\r\n        tooltipElement.style.position = \"absolute\";\r\n        tooltipElement.style.width = \"1px\";\r\n        tooltipElement.style.height = \"1px\";\r\n        tooltipElement.style.overflow = \"hidden\";\r\n        tooltipElement.style.clip = \"rect(1px, 1px, 1px, 1px)\";\r\n        _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(tooltipElement, false);\r\n        this._decorateFocusElement(target, tooltipElement);\r\n        container.append(tooltipElement);\r\n        target.setPrivate(\"tooltipElement\", tooltipElement);\r\n        return tooltipElement;\r\n    }\r\n    _removeTooltipElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const tooltipElement = target.getPrivate(\"tooltipElement\");\r\n        if (tooltipElement) {\r\n            const parent = tooltipElement.parentElement;\r\n            if (parent) {\r\n                parent.removeChild(tooltipElement);\r\n            }\r\n        }\r\n    }\r\n    _invalidateAccessibility(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        this._focusElementDirty = true;\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        if (target.get(\"focusable\")) {\r\n            if (focusElement) {\r\n                this._decorateFocusElement(target);\r\n                this._positionFocusElement(target);\r\n            }\r\n            // else {\r\n            // \tthis._renderer._makeFocusElement(0, this);\r\n            // }\r\n        }\r\n        else if (focusElement) {\r\n            this._removeFocusElement(target);\r\n        }\r\n        //this.updateCurrentFocus();\r\n    }\r\n    /**\r\n     * Returns `true` if `target` is currently focused.\r\n     *\r\n     * @param   target  Target\r\n     * @return          Focused?\r\n     */\r\n    focused(target) {\r\n        return this._focusedSprite === target;\r\n    }\r\n    /**\r\n     * Converts document coordinates to coordinates withing root element.\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    documentPointToRoot(point) {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const scaleWidth = size.width / rect.width;\r\n        const scaleHeight = size.height / rect.height;\r\n        return {\r\n            x: (point.x - rect.left) * scaleWidth,\r\n            y: (point.y - rect.top) * scaleHeight,\r\n        };\r\n    }\r\n    /**\r\n     * Converts root coordinates to document\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    rootPointToDocument(point) {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const scaleWidth = size.width / rect.width;\r\n        const scaleHeight = size.height / rect.height;\r\n        return {\r\n            x: (point.x / scaleWidth) + rect.left,\r\n            y: (point.y / scaleHeight) + rect.top\r\n        };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addDisposer(disposer) {\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _updateComputedStyles() {\r\n        const styles = window.getComputedStyle(this.dom);\r\n        let fontHash = \"\";\r\n        _util_Object__WEBPACK_IMPORTED_MODULE_23__.each(styles, (key, val) => {\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_27__.isString(key) && key.match(/^font/)) {\r\n                fontHash += val;\r\n            }\r\n        });\r\n        const changed = fontHash != this._fontHash;\r\n        if (changed) {\r\n            this._fontHash = fontHash;\r\n        }\r\n        return changed;\r\n    }\r\n    _checkComputedStyles() {\r\n        if (this._updateComputedStyles()) {\r\n            this._invalidateLabelBounds(this.container);\r\n        }\r\n    }\r\n    _invalidateLabelBounds(target) {\r\n        if (target instanceof _render_Container__WEBPACK_IMPORTED_MODULE_14__.Container) {\r\n            target.children.each((child) => {\r\n                this._invalidateLabelBounds(child);\r\n            });\r\n        }\r\n        else if (target instanceof _render_Text__WEBPACK_IMPORTED_MODULE_28__.Text) {\r\n            target.markDirtyBounds();\r\n        }\r\n    }\r\n    /**\r\n     * To all the clever heads out there. Yes, we did not make any attempts to\r\n     * scramble this.\r\n     *\r\n     * This is a part of a tool meant for our users to manage their commercial\r\n     * licenses for removal of amCharts branding from charts.\r\n     *\r\n     * The only legit way to do so is to purchase a commercial license for amCharts:\r\n     * https://www.amcharts.com/online-store/\r\n     *\r\n     * Removing or altering this code, or disabling amCharts branding in any other\r\n     * way is against the license and thus illegal.\r\n     */\r\n    _hasLicense() {\r\n        for (let i = 0; i < _Registry__WEBPACK_IMPORTED_MODULE_12__.registry.licenses.length; i++) {\r\n            if (_Registry__WEBPACK_IMPORTED_MODULE_12__.registry.licenses[i].match(/^AM5C.{5,}/i)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    _licenseApplied() {\r\n        if (this._logo) {\r\n            this._logo.set(\"forceHidden\", true);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get debugGhostView() {\r\n        return this._renderer.debugGhostView;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    set debugGhostView(value) {\r\n        this._renderer.debugGhostView = value;\r\n    }\r\n    /**\r\n     * Set this to `true` if you need chart to require first a tap onto it before\r\n     * touch gesture related functionality like zoom/pan is turned on.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n     * @default false\r\n     * @since 5.2.9\r\n     * @param  value  Needs a tap to activate touch functions\r\n     */\r\n    set tapToActivate(value) {\r\n        this._renderer.tapToActivate = value;\r\n    }\r\n    /**\r\n     * @return Needs a tap to activate touch functions\r\n     */\r\n    get tapToActivate() {\r\n        return this._renderer.tapToActivate;\r\n    }\r\n    /**\r\n     * If `tapToActivate` is set to `true`, this setting will determine number\r\n     * of milliseconds the chart will stay \"active\", before releasing the\r\n     * controls back to the page.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n     * @default 3000\r\n     * @since 5.2.9\r\n     * @param  value  Timeout\r\n     */\r\n    set tapToActivateTimeout(value) {\r\n        this._renderer.tapToActivateTimeout = value;\r\n    }\r\n    /**\r\n     * @return Timeout\r\n     */\r\n    get tapToActivateTimeout() {\r\n        return this._renderer.tapToActivateTimeout;\r\n    }\r\n    _makeHTMLElement(target) {\r\n        // Get container\r\n        const container = this._htmlElementContainer;\r\n        // Init\r\n        const htmlElement = document.createElement(\"div\");\r\n        target.setPrivate(\"htmlElement\", htmlElement);\r\n        // Should we put this into a wrapper?\r\n        let needWrapper = false;\r\n        let wrapperTarget;\r\n        target._walkParents((parent) => {\r\n            if (parent.get(\"verticalScrollbar\")) {\r\n                needWrapper = true;\r\n                wrapperTarget = parent;\r\n                return false;\r\n            }\r\n        });\r\n        let htmlElementWrapper;\r\n        if (needWrapper) {\r\n            htmlElementWrapper = document.createElement(\"div\");\r\n            target.setPrivate(\"htmlElementWrapper\", htmlElementWrapper);\r\n            target.setPrivate(\"wrapperContainer\", wrapperTarget);\r\n            htmlElementWrapper.style.position = \"absolute\";\r\n            htmlElementWrapper.style.overflow = \"hidden\";\r\n            htmlElementWrapper.style.boxSizing = \"border-box\";\r\n            htmlElementWrapper.style.top = \"0px\";\r\n            htmlElementWrapper.style.left = \"0px\";\r\n            htmlElementWrapper.style.width = \"100%\";\r\n            htmlElementWrapper.style.height = \"100%\";\r\n            wrapperTarget.events.on(\"boundschanged\", () => {\r\n                this._positionHTMLElement(target);\r\n            });\r\n        }\r\n        //htmlElement.tabIndex = this.tabindex;\r\n        htmlElement.style.position = \"absolute\";\r\n        htmlElement.style.overflow = \"auto\";\r\n        htmlElement.style.boxSizing = \"border-box\";\r\n        _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(htmlElement, target.get(\"interactive\", false));\r\n        // Translate events\r\n        if (target.events.isEnabled(\"click\")) {\r\n            _util_Utils__WEBPACK_IMPORTED_MODULE_9__.setInteractive(htmlElement, true);\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_9__.addEventListener(htmlElement, \"click\", (ev) => {\r\n                const downEvent = this._renderer.getEvent(ev);\r\n                target.events.dispatch(\"click\", {\r\n                    type: \"click\",\r\n                    originalEvent: downEvent.event,\r\n                    point: downEvent.point,\r\n                    simulated: false,\r\n                    target: target\r\n                });\r\n            }));\r\n        }\r\n        this._positionHTMLElement(target);\r\n        if (needWrapper) {\r\n            htmlElementWrapper.append(htmlElement);\r\n            container.append(htmlElementWrapper);\r\n        }\r\n        else {\r\n            container.append(htmlElement);\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.pushOne(this._htmlEnabledContainers, target);\r\n        return htmlElement;\r\n    }\r\n    _positionHTMLElements() {\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(this._htmlEnabledContainers, (target) => {\r\n            this._positionHTMLElement(target);\r\n        });\r\n    }\r\n    _positionHTMLElement(target) {\r\n        const htmlElementWrapper = target.getPrivate(\"htmlElementWrapper\");\r\n        if (htmlElementWrapper) {\r\n            const wrapperTarget = target.getPrivate(\"wrapperContainer\");\r\n            if (wrapperTarget) {\r\n                const bounds = wrapperTarget.globalBounds();\r\n                htmlElementWrapper.style.clipPath = \"rect(\" + bounds.top + \"px \" + bounds.right + \"px \" + bounds.bottom + \"px \" + bounds.left + \"px)\";\r\n            }\r\n        }\r\n        const htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (htmlElement) {\r\n            // Translate settings\r\n            const visualSettings = [\r\n                \"paddingTop\",\r\n                \"paddingRight\",\r\n                \"paddingBottom\",\r\n                \"paddingLeft\",\r\n                \"minWidth\",\r\n                \"minHeight\",\r\n                \"maxWidth\",\r\n                \"maxHeight\"\r\n            ];\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(visualSettings, (setting) => {\r\n                const value = target.get(setting);\r\n                if (value) {\r\n                    htmlElement.style[setting] = value + \"px\";\r\n                }\r\n                else {\r\n                    htmlElement.style[setting] = \"\";\r\n                }\r\n            });\r\n            const strtingSettings = [\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\"\r\n            ];\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_11__.each(strtingSettings, (setting) => {\r\n                const value = target.get(setting);\r\n                if (value) {\r\n                    if (setting == \"fontSize\" && !_util_Type__WEBPACK_IMPORTED_MODULE_27__.isString(value)) {\r\n                        htmlElement.style[setting] = value + \"px\";\r\n                    }\r\n                    else {\r\n                        htmlElement.style[setting] = value + \"\";\r\n                    }\r\n                }\r\n                else {\r\n                    htmlElement.style[setting] = \"\";\r\n                }\r\n            });\r\n            // Init and reset scale / rotation\r\n            const scale = target.compositeScale() || 1;\r\n            const rotation = target.compositeRotation() || 0;\r\n            htmlElement.style.transform = \"\";\r\n            htmlElement.style.transformOrigin = \"\";\r\n            // Deal with opacity\r\n            const opacity = target.compositeOpacity();\r\n            setTimeout(() => {\r\n                htmlElement.style.opacity = opacity + \"\";\r\n            }, 10);\r\n            const visible = target.isVisibleDeep();\r\n            if (visible) {\r\n                htmlElement.style.display = \"block\";\r\n            }\r\n            // Deal with position\r\n            // const bounds = target.globalBounds();\r\n            // htmlElement.style.top = (bounds.top) + \"px\";\r\n            // htmlElement.style.left = (bounds.left) + \"px\";\r\n            let pos = {\r\n                x: target.x() + target.get(\"dx\", 0),\r\n                y: target.y() + target.get(\"dy\", 0)\r\n            };\r\n            if (target.parent) {\r\n                pos = target.parent.toGlobal(pos);\r\n            }\r\n            htmlElement.style.top = pos.y + \"px\";\r\n            htmlElement.style.left = pos.x + \"px\";\r\n            // Use width/height if those are set\r\n            const width = target.get(\"width\");\r\n            const height = target.get(\"height\");\r\n            let w = 0;\r\n            let h = 0;\r\n            if (width) {\r\n                w = target.width();\r\n            }\r\n            if (height) {\r\n                h = target.height();\r\n            }\r\n            if (!width || !height) {\r\n                htmlElement.style.position = \"fixed\";\r\n                htmlElement.style.width = \"\";\r\n                htmlElement.style.height = \"\";\r\n                const bbox = htmlElement.getBoundingClientRect();\r\n                htmlElement.style.position = \"absolute\";\r\n                if (!width)\r\n                    w = bbox.width;\r\n                if (!height)\r\n                    h = bbox.height;\r\n                let lw = w / scale;\r\n                let lh = h / scale;\r\n                let cx = target.get(\"centerX\", 0);\r\n                let cy = target.get(\"centerY\", 0);\r\n                let ll = 0;\r\n                let lr = 0;\r\n                let lt = 0;\r\n                let lb = 0;\r\n                if (cx instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_15__.Percent) {\r\n                    ll = -cx.value * lw;\r\n                    lr = (1 - cx.value) * lw;\r\n                }\r\n                else {\r\n                    ll = -cx;\r\n                    lr = lw - cx;\r\n                }\r\n                if (cy instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_15__.Percent) {\r\n                    lt = -cy.value * lh;\r\n                    lb = (1 - cy.value) * lh;\r\n                }\r\n                else {\r\n                    lt = -cy;\r\n                    lb = lh - cy;\r\n                }\r\n                target._localBounds = { left: ll, right: lr, top: lt, bottom: lb };\r\n                let previousBounds = target._adjustedLocalBounds;\r\n                let newBounds = target._display.getAdjustedBounds(target._localBounds);\r\n                target._adjustedLocalBounds = newBounds;\r\n                // compare each value of the bounds\r\n                if (previousBounds.left !== newBounds.left || previousBounds.right !== newBounds.right || previousBounds.top !== newBounds.top || previousBounds.bottom !== newBounds.bottom) {\r\n                    target.markDirtyBounds();\r\n                }\r\n            }\r\n            if (w > 0) {\r\n                htmlElement.style.minWidth = (w) + \"px\";\r\n            }\r\n            if (h > 0) {\r\n                htmlElement.style.minHeight = (h) + \"px\";\r\n            }\r\n            // Hide or show\r\n            if (!visible || opacity == 0) {\r\n                htmlElement.style.display = \"none\";\r\n            }\r\n            // Center position\r\n            const x = target.get(\"centerX\", 0);\r\n            const originX = (0,_util_Percent__WEBPACK_IMPORTED_MODULE_15__.isPercent)(x) ? x.percent + \"%\" : x + \"px\";\r\n            const y = target.get(\"centerY\", 0);\r\n            const originY = (0,_util_Percent__WEBPACK_IMPORTED_MODULE_15__.isPercent)(y) ? y.percent + \"%\" : y + \"px\";\r\n            if (x || y) {\r\n                htmlElement.style.transform = \"translate(-\" + originX + \", -\" + originY + \")\" + htmlElement.style.transform;\r\n            }\r\n            // Deal with scale\r\n            if (scale != 1) {\r\n                htmlElement.style.transform += \"scale(\" + scale + \")\";\r\n            }\r\n            if (rotation != 0) {\r\n                htmlElement.style.transform += \" rotate(\" + rotation + \"deg)\";\r\n            }\r\n            if (htmlElement.style.transform != \"\") {\r\n                htmlElement.style.transformOrigin = originX + \" \" + originY;\r\n                //htmlElement.style.transformOrigin = \"0% 0%\";\r\n            }\r\n        }\r\n    }\r\n    _setHTMLContent(target, html) {\r\n        let htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (!htmlElement) {\r\n            htmlElement = this._makeHTMLElement(target);\r\n            if (!this.autoResize) {\r\n                this.resize();\r\n            }\r\n        }\r\n        if (htmlElement.innerHTML != html) {\r\n            htmlElement.innerHTML = html;\r\n        }\r\n    }\r\n    _removeHTMLContent(target) {\r\n        const htmlElementWrapper = target.getPrivate(\"htmlElementWrapper\");\r\n        const htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (htmlElementWrapper) {\r\n            this._htmlElementContainer.removeChild(htmlElementWrapper);\r\n            target.removePrivate(\"htmlElement\");\r\n            target.removePrivate(\"htmlElementWrapper\");\r\n            target.removePrivate(\"wrapperContainer\");\r\n        }\r\n        else if (htmlElement) {\r\n            this._htmlElementContainer.removeChild(htmlElement);\r\n            target.removePrivate(\"htmlElement\");\r\n            target.removePrivate(\"wrapperContainer\");\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_11__.remove(this._htmlEnabledContainers, target);\r\n    }\r\n}\r\n//# sourceMappingURL=Root.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9Sb290LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrRDtBQUNIO0FBQ1Y7QUFDd0I7QUFDSjtBQUNSO0FBQ047QUFDUTtBQUNNO0FBQ1o7QUFDRTtBQUNKO0FBQ2M7QUFDSjtBQUNRO0FBQ2xCO0FBQ2M7QUFDSDtBQUNXO0FBQ0U7QUFDOUI7QUFDa0I7QUFDakI7QUFDQztBQUNBO0FBQ0U7QUFDRjtBQUNGO0FBQ0g7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzRUFBc0U7QUFDL0U7QUFDTztBQUNQLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBeUQ7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRUFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvREFBUSxhQUFhO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtREFBRTtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaUdBQWlHO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRkFBZ0Y7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrRkFBa0Y7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRkFBZ0Y7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrRUFBZSxhQUFhO0FBQy9DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOEVBQThFO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOERBQWEsYUFBYTtBQUM3QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhFQUE4RTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNFQUFpQixhQUFhO0FBQ2pELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRUFBZ0U7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlHQUFpRztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQWMsYUFBYTtBQUM5QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0VBQWdCLGFBQWE7QUFDaEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBEQUFVLGFBQWE7QUFDMUMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUF3QjtBQUNqRDtBQUNBLDZCQUE2QiwyRUFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOENBQVcsQ0FBQyxnREFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsK0JBQStCLG1FQUFlLGFBQWE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnREFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx5REFBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQU87QUFDMUIseUJBQXlCLGdEQUFJO0FBQzdCO0FBQ0EsMEJBQTBCLGdEQUFJO0FBQzlCO0FBQ0EsNEJBQTRCLHlEQUFTO0FBQ3JDLDBCQUEwQixtREFBSztBQUMvQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYiw0QkFBNEIscURBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiwwQ0FBMEM7QUFDMUMseUNBQXlDLHVEQUFRO0FBQ2pELHdCQUF3QixtREFBSztBQUM3QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLHVDQUF1QyxRQUFRLG1EQUFLLFlBQVk7QUFDaEUseUNBQXlDLHVEQUFRO0FBQ2pELHdCQUF3QixtREFBSztBQUM3QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLHVDQUF1QyxRQUFRLG1EQUFLLFlBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix5REFBUztBQUN2QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxnREFBZ0QsK0RBQVk7QUFDNUQsc0RBQXNELHlEQUFTLGFBQWEsc0JBQXNCLGdEQUFJLFVBQVUsZ0RBQUksRUFBRTtBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFxQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFlO0FBQy9CLHFDQUFxQyx5REFBdUI7QUFDNUQscUNBQXFDLG9EQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIscUNBQXFDLHlEQUF1QjtBQUM1RCxxQ0FBcUMsb0RBQWtCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixxQ0FBcUMseURBQXVCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxpQkFBaUI7QUFDakIscUNBQXFDLHlEQUF1QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsb0RBQWtCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIscUNBQXFDLHlEQUF1QjtBQUM1RDtBQUNBO0FBQ0EseUNBQXlDLG9EQUFrQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsOENBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyw2REFBWTtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOENBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnREFBYTtBQUNyQjtBQUNBLDBCQUEwQiw0REFBYztBQUN4QztBQUNBO0FBQ0EsK0JBQStCLDREQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFFBQVEsK0NBQVk7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsK0NBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpREFBYztBQUNqQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRLCtDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscURBQVE7QUFDM0IsWUFBWSxxREFBa0I7QUFDOUIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5REFBUztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZ0JBQWdCLHNEQUFvQjtBQUNwQztBQUNBLFlBQVksZ0RBQWEsQ0FBQyxnREFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0VBQWdFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0RBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQXlEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSx5REFBUztBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFJO0FBQzNCLHdCQUF3QixnREFBSTtBQUM1QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsNEJBQTRCLHFEQUFPLGFBQWE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFjO0FBQzFCO0FBQ0E7QUFDQSxZQUFZLGdEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnREFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRLDhDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixxRUFBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVCQUF1Qix5REFBdUI7QUFDOUM7QUFDQSxTQUFTO0FBQ1QsdUJBQXVCLHlEQUF1QjtBQUM5QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdEQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtEQUFnQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1REFBcUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtDQUFZO0FBQ3BCLGdCQUFnQixpREFBYztBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix5REFBUztBQUN2QztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsbUNBQW1DLCtDQUFJO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsSUFBSSxnREFBUSxrQkFBa0I7QUFDdEQsZ0JBQWdCLGdEQUFRLDJCQUEyQixHQUFHO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRGQUE0RjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRGQUE0RjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFxQjtBQUM3QjtBQUNBO0FBQ0EsWUFBWSx1REFBcUI7QUFDakMsaUNBQWlDLHlEQUF1QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpREFBYztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOENBQVc7QUFDdkI7QUFDQTtBQUNBLGtEQUFrRCxpREFBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG1EQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG1EQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIseURBQVM7QUFDckM7QUFDQSw0QkFBNEIseURBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnREFBYTtBQUNyQjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvUm9vdC5qcz85NmRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFuaW1hdGlvblN0YXRlIH0gZnJvbSBcIi4vdXRpbC9BbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4vcmVuZGVyL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSBcIi4vcmVuZGVyL1RleHRcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbExheW91dCB9IGZyb20gXCIuL3JlbmRlci9Ib3Jpem9udGFsTGF5b3V0XCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsTGF5b3V0IH0gZnJvbSBcIi4vcmVuZGVyL1ZlcnRpY2FsTGF5b3V0XCI7XHJcbmltcG9ydCB7IEdyaWRMYXlvdXQgfSBmcm9tIFwiLi9yZW5kZXIvR3JpZExheW91dFwiO1xyXG5pbXBvcnQgeyBEaXNwb3NlciB9IGZyb20gXCIuL3V0aWwvRGlzcG9zZXJcIjtcclxuaW1wb3J0IHsgUmVzaXplU2Vuc29yIH0gZnJvbSBcIi4vdXRpbC9SZXNpemVTZW5zb3JcIjtcclxuaW1wb3J0IHsgSW50ZXJmYWNlQ29sb3JzIH0gZnJvbSBcIi4vdXRpbC9JbnRlcmZhY2VDb2xvcnNcIjtcclxuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi9yZW5kZXIvR3JhcGhpY3NcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4vcmVuZGVyL1JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSBcIi4vcmVuZGVyL1Rvb2x0aXBcIjtcclxuaW1wb3J0IHsgTnVtYmVyRm9ybWF0dGVyIH0gZnJvbSBcIi4vdXRpbC9OdW1iZXJGb3JtYXR0ZXJcIjtcclxuaW1wb3J0IHsgRGF0ZUZvcm1hdHRlciB9IGZyb20gXCIuL3V0aWwvRGF0ZUZvcm1hdHRlclwiO1xyXG5pbXBvcnQgeyBEdXJhdGlvbkZvcm1hdHRlciB9IGZyb20gXCIuL3V0aWwvRHVyYXRpb25Gb3JtYXR0ZXJcIjtcclxuaW1wb3J0IHsgTGFuZ3VhZ2UgfSBmcm9tIFwiLi91dGlsL0xhbmd1YWdlXCI7XHJcbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCIuL3V0aWwvRXZlbnREaXNwYXRjaGVyXCI7XHJcbmltcG9ydCB7IERlZmF1bHRUaGVtZSB9IGZyb20gXCIuLi90aGVtZXMvRGVmYXVsdFRoZW1lXCI7XHJcbmltcG9ydCB7IENhbnZhc1JlbmRlcmVyIH0gZnJvbSBcIi4vcmVuZGVyL2JhY2tlbmQvQ2FudmFzUmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgcDEwMCwgcGVyY2VudCwgaXNQZXJjZW50LCBQZXJjZW50IH0gZnJvbSBcIi4vdXRpbC9QZXJjZW50XCI7XHJcbmltcG9ydCB7IGNvbG9yIH0gZnJvbSBcIi4vdXRpbC9Db2xvclwiO1xyXG5pbXBvcnQgeyBwb3B1bGF0ZVN0cmluZyB9IGZyb20gXCIuL3V0aWwvUG9wdWxhdGVTdHJpbmdcIjtcclxuaW1wb3J0IHsgcmVnaXN0cnkgfSBmcm9tIFwiLi9SZWdpc3RyeVwiO1xyXG5pbXBvcnQgKiBhcyAkb3JkZXIgZnJvbSBcIi4vdXRpbC9PcmRlclwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuL3V0aWwvT2JqZWN0XCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgZW4gZnJvbSBcIi4uLy4uL2xvY2FsZXMvZW5cIjtcclxuZnVuY3Rpb24gckFGKGZwcywgY2FsbGJhY2spIHtcclxuICAgIGlmIChmcHMgPT0gbnVsbCkge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKTtcclxuICAgICAgICB9LCAxMDAwIC8gZnBzKTtcclxuICAgIH1cclxufVxyXG4vLyBUT0RPIGltcGxlbWVudCBEaXNwb3NlclxyXG4vKipcclxuICogUm9vdCBlbGVtZW50IG9mIHRoZSBjaGFydC5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkLyNSb290X2VsZW1lbnR9IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBSb290IHtcclxuICAgIGNvbnN0cnVjdG9yKGlkLCBzZXR0aW5ncyA9IHt9LCBpc1JlYWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byBvcmlnaW5hbCBjaGFydCBjb250YWluZXIgKGRpdiBlbGVtZW50KS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkb21cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lubmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNEaXJ0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0RpcnR5UGFyZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0RpcnR5QW5pbWF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RpcnR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RpcnR5UGFyZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXJ0eUJvdW5kc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXJ0eVBvc2l0aW9uc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90aWNrZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90aWNrZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VwZGF0ZVRpY2tcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJvb3QncyBldmVudCBkaXNwYXRjaGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZXZlbnRzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRXZlbnREaXNwYXRjaGVyKClcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAaWdub3JlXHJcbiAgICAgICAgICogQHRvZG8gbmVlZHMgZGVzY3JpcHRpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbmltYXRpb25UaW1lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYW5pbWF0aW9uc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZW5kZXJlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcm9vdENvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNYWluIGNvbnRlbnQgY29udGFpbmVyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gdXNlZCB0byBkaXNwbGF5IHRvb2x0aXBzIGluLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvb2x0aXBDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Rvb2x0aXBDb250YWluZXJTZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG9vbHRpcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2NhbGUtcmVsYXRlZFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBpZ25vcmVcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYW5ndWFnZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBMYW5ndWFnZS5uZXcodGhpcywge30pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTG9jYWxlIHVzZWQgYnkgdGhlIGNoYXJ0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvbG9jYWxlcy99XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9jYWxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGVuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGF0ZS10aW1lIHJlbGF0ZWRcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVc2UgVVRDIHdoZW4gZm9ybWF0dGluZyBkYXRlL3RpbWUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctZGF0ZXMvI3V0Yy1hbmQtdGltZS16b25lc30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInV0Y1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIElmIHNldCwgd2lsbCBmb3JtYXQgZGF0ZS90aW1lIGluIHNwZWNpZmljIHRpbWUgem9uZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoZSB2YWx1ZSBzaG91bGQgYmUgbmFtZWQgdGltZSB6b25lLCBlLmcuOlxyXG4gICAgICAgICAqIGBcIkFtZXJpY2EvVmFuY291dmVyXCJgLCBgXCJBdXN0cmFsaWEvU3lkbmV5XCJgLCBgXCJVVENcImAuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBOT1RFOiBVc2luZyB0aW1lIHpvbmUgZmVhdHVyZSBtYXkgbm90aWNlYWJsZSBhZmZlY3QgcGVyZm9ybWFuY2Ugb2YgdGhlXHJcbiAgICAgICAgICogY2hhcnQsIGVzcGVjaWFsbHkgd2l0aCBsYXJnZSBkYXRhIHNldHMsIHNpbmNlIGV2ZXJ5IHNpbmdsZSBkYXRlIHdpbGwgbmVlZFxyXG4gICAgICAgICAqIHRvIGJlIHJlY2FsY3VsYXRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2dldHRpbmctc3RhcnRlZC9yb290LWVsZW1lbnQvI3RpbWUtem9uZX0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqIEBzaW5jZSA1LjEuMFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpbWV6b25lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIEZQUyB0aGF0IHRoZSBSb290IHdpbGwgcnVuIGF0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogSWYgYHVuZGVmaW5lZGAgaXQgd2lsbCBydW4gYXQgdGhlIGhpZ2hlc3QgRlBTLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkL3Jvb3QtZWxlbWVudC8jUGVyZm9ybWFuY2V9IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmcHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTnVtYmVyIGZvcm1hdHRlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2Zvcm1hdHRlcnMvZm9ybWF0dGluZy1udW1iZXJzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm51bWJlckZvcm1hdHRlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXJGb3JtYXR0ZXIubmV3KHRoaXMsIHt9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERhdGUvdGltZSBmb3JtYXR0ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctZGF0ZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGF0ZUZvcm1hdHRlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBEYXRlRm9ybWF0dGVyLm5ldyh0aGlzLCB7fSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEdXJhdGlvbiBmb3JtYXR0ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctZGF0ZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZHVyYXRpb25Gb3JtYXR0ZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogRHVyYXRpb25Gb3JtYXR0ZXIubmV3KHRoaXMsIHt9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFjY2Vzc2liaWxpdHlcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHbG9iYWwgdGFiIGluZGV4IGZvciB1c2luZyBmb3IgdGhlIHdob2xlIGNoYXJ0XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9hY2Nlc3NpYmlsaXR5L30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhYmluZGV4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL0B0b2RvIG1heWJlIG1ha2UgdGhpcyBiZXR0ZXJcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGFiaW5kZXhlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hMTF5RFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9mb2N1c0VsZW1lbnREaXJ0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9mb2N1c0VsZW1lbnRDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZvY3VzZWRTcHJpdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzU2hpZnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2tleWJvYXJkRHJhZ1BvaW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwRWxlbWVudENvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVhZGVyQWxlcnRFbGVtZW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sb2dvXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b29sdGlwRGl2XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVzZWQgZm9yIGR5bmFtaWNhbGx5LWNyZWF0ZWQgQ1NTIGFuZCBKYXZhU2NyaXB0IHdpdGggc3RyaWN0IHNvdXJjZSBwb2xpY2llcy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJub25jZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTcGVjaWFsIGNvbG9yIHNldCB0byBiZSB1c2VkIGZvciB2YXJpb3VzIGNvbnRyb2xzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29sb3JzLWdyYWRpZW50cy1hbmQtcGF0dGVybnMvI0ludGVyZmFjZV9jb2xvcnN9IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnRlcmZhY2VDb2xvcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW4gaW5zdGFuY2Ugb2YgdmVydGljYWwgbGF5b3V0IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHNldCBgbGF5b3V0YCBzZXR0aW5nXHJcbiAgICAgICAgICogb2YgYSBbW0NvbnRhaW5lcl1dLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlZmF1bHQgVmVydGljYWxMYXlvdXQubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJ0aWNhbExheW91dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBWZXJ0aWNhbExheW91dC5uZXcodGhpcywge30pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW4gaW5zdGFuY2Ugb2YgaG9yaXpvbnRhbCBsYXlvdXQgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gc2V0IGBsYXlvdXRgIHNldHRpbmdcclxuICAgICAgICAgKiBvZiBhIFtbQ29udGFpbmVyXV0uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBIb3Jpem9udGFsTGF5b3V0Lm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaG9yaXpvbnRhbExheW91dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBIb3Jpem9udGFsTGF5b3V0Lm5ldyh0aGlzLCB7fSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbiBpbnN0YW5jZSBvZiBncmlkIGxheW91dCBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byBzZXQgYGxheW91dGAgc2V0dGluZ1xyXG4gICAgICAgICAqIG9mIGEgW1tDb250YWluZXJdXS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZWZhdWx0IFZlcnRpY2FsTGF5b3V0Lm5ldygpXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZ3JpZExheW91dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBHcmlkTGF5b3V0Lm5ldyh0aGlzLCB7fSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGF1c2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgY2hhcnQgc2hvdWxkIHJlc2l6ZWQgYXV0b21hdGljYWxseSB3aGVuIHBhcmVudCBjb250YWluZXJcclxuICAgICAgICAgKiB3aWR0aCBhbmQvb3IgaGVpZ2h0IGNoYW5nZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBJZiBkaXNhYmxlZCAoYGF1dG9SZXNpemUgPSBmYWxzZWApIHlvdSBjYW4gbWFrZSB0aGUgY2hhcnQgcmVzaXplIG1hbnVhbGx5XHJcbiAgICAgICAgICogYnkgY2FsbGluZyByb290IGVsZW1lbnQncyBgcmVzaXplKClgIG1ldGhvZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhdXRvUmVzaXplXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZm9udEhhc2hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogXCJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0Rpc3Bvc2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3Bvc2Vyc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZXNpemVTZW5zb3JEaXNwb3NlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG9vbHRpcHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaHRtbEVsZW1lbnRDb250YWluZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2h0bWxFbmFibGVkQ29udGFpbmVyc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEVudGl0aWVzIHRoYXQgaGF2ZSB0aGVpciBgaWRgIHNldHRpbmcgc2V0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNpbmNlIDUuMTEuMFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVudGl0aWVzQnlJZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghaXNSZWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgdXNlIGBuZXcgQ2xhc3MoKWAsIGluc3RlYWQgdXNlIGBDbGFzcy5uZXcoKWBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmFjY2Vzc2libGUgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5fYTExeUQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2V0dGluZ3MudXNlU2FmZVJlc29sdXRpb24gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzZXR0aW5ncy51c2VTYWZlUmVzb2x1dGlvbiA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXNvbHV0aW9uO1xyXG4gICAgICAgIGlmIChzZXR0aW5ncy51c2VTYWZlUmVzb2x1dGlvbikge1xyXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gJHV0aWxzLmdldFNhZmVSZXNvbHV0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHJlc29sdXRpb24pO1xyXG4gICAgICAgIGxldCBkb207XHJcbiAgICAgICAgaWYgKGlkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZG9tID0gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5lYWNoKHJlZ2lzdHJ5LnJvb3RFbGVtZW50cywgKHJvb3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJvb3QuZG9tID09PSBkb20pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgaGF2ZSBtdWx0aXBsZSBSb290cyBvbiB0aGUgc2FtZSBET00gbm9kZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaW50ZXJmYWNlQ29sb3JzID0gSW50ZXJmYWNlQ29sb3JzLm5ldyh0aGlzLCB7fSk7XHJcbiAgICAgICAgaWYgKGRvbSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBIVE1MIGVsZW1lbnQgd2l0aCBpZCBgXCIgKyBpZCArIFwiYFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kb20gPSBkb207XHJcbiAgICAgICAgbGV0IGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBpbm5lci5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcclxuICAgICAgICBpbm5lci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGlubmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChpbm5lcik7XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcENvbnRhaW5lckJvdW5kcyA9IHNldHRpbmdzLnRvb2x0aXBDb250YWluZXJCb3VuZHM7XHJcbiAgICAgICAgaWYgKHRvb2x0aXBDb250YWluZXJCb3VuZHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcENvbnRhaW5lclNldHRpbmdzID0gdG9vbHRpcENvbnRhaW5lckJvdW5kcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW5uZXIgPSBpbm5lcjtcclxuICAgICAgICB0aGlzLl91cGRhdGVDb21wdXRlZFN0eWxlcygpO1xyXG4gICAgICAgIHJlZ2lzdHJ5LnJvb3RFbGVtZW50cy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG5ldyhpZCwgc2V0dGluZ3MpIHtcclxuICAgICAgICBjb25zdCByb290ID0gbmV3IFJvb3QoaWQsIHNldHRpbmdzLCB0cnVlKTtcclxuICAgICAgICByb290Ll9pbml0KCk7XHJcbiAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICB9XHJcbiAgICBtb3ZlRE9NKGlkKSB7XHJcbiAgICAgICAgbGV0IGRvbTtcclxuICAgICAgICBpZiAoaWQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICBkb20gPSBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvbSkge1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5kb20uY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBkb20uYXBwZW5kQ2hpbGQodGhpcy5kb20uY2hpbGROb2Rlc1swXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kb20gPSBkb207XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRSZXNpemVTZW5zb3IoKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlTG9nbygpIHtcclxuICAgICAgICBpZiAodGhpcy5fbG9nbykge1xyXG4gICAgICAgICAgICBjb25zdCB3ID0gdGhpcy5kb20ub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGggPSB0aGlzLmRvbS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGlmICgodyA8PSAxNTApIHx8IChoIDw9IDYwKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nby5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dvLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zaG93QnJhbmRpbmcoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9sb2dvKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZ28gPSB0aGlzLnRvb2x0aXBDb250YWluZXIuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMsIHtcclxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgc2V0U3RhdGVPbkNoaWxkcmVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogOSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogOSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDksXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogOSxcclxuICAgICAgICAgICAgICAgIHNjYWxlOiAuNixcclxuICAgICAgICAgICAgICAgIHk6IHBlcmNlbnQoMTAwKSxcclxuICAgICAgICAgICAgICAgIGNlbnRlclk6IHAxMDAsXHJcbiAgICAgICAgICAgICAgICB0b29sdGlwVGV4dDogXCJDcmVhdGVkIHVzaW5nIGFtQ2hhcnRzIDVcIixcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBYOiBwMTAwLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yT3ZlclN0eWxlOiBcInBvaW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFJlY3RhbmdsZS5uZXcodGhpcywge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IGNvbG9yKDB4NDc0NzU4KSxcclxuICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMCxcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwWTogNVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gVG9vbHRpcC5uZXcodGhpcywge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlck9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIixcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IDQsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDcsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiA0LFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRvb2x0aXAubGFiZWwuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdG9vbHRpcC5nZXQoXCJiYWNrZ3JvdW5kXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLmludGVyZmFjZUNvbG9ycy5nZXQoXCJiYWNrZ3JvdW5kXCIpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB0aGlzLmludGVyZmFjZUNvbG9ycy5nZXQoXCJncmlkXCIpLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC4zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsb2dvLnNldChcInRvb2x0aXBcIiwgdG9vbHRpcCk7XHJcbiAgICAgICAgICAgIGxvZ28uZXZlbnRzLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oXCJodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vXCIsIFwiX2JsYW5rXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbG9nby5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJcIiwge30pO1xyXG4gICAgICAgICAgICBjb25zdCBtID0gbG9nby5jaGlsZHJlbi5wdXNoKEdyYXBoaWNzLm5ldyh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IGNvbG9yKDB4Y2NjY2NjKSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzLFxyXG4gICAgICAgICAgICAgICAgc3ZnUGF0aDogXCJNNSAyNSBMMTMgMjVoMTMuNmMzLjQgMCA2IDAgMTAuMy00LjNzNS4yLTEyIDguNi0xMmMzLjQgMCA0LjMgOC42IDcuNyA4LjZNODMuNCAyNUg3OS44Yy0zLjQgMC02IDAtMTAuMy00LjNzLTUuMi0xMi04LjYtMTItNC4zIDguNi03LjcgOC42XCJcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBtLnN0YXRlcy5jcmVhdGUoXCJob3ZlclwiLCB7IHN0cm9rZTogY29sb3IoMHgzQ0FCRkYpIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBhID0gbG9nby5jaGlsZHJlbi5wdXNoKEdyYXBoaWNzLm5ldyh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IGNvbG9yKDB4ODg4ODg4KSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzLFxyXG4gICAgICAgICAgICAgICAgc3ZnUGF0aDogXCJNODMuNCAyNWgtMzFDMzcgMjUgMzkuNSA0LjQgMjguNCA0LjRTMTguOSAyNC4yIDQuMyAyNUgwXCJcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBhLnN0YXRlcy5jcmVhdGUoXCJob3ZlclwiLCB7IHN0cm9rZTogY29sb3IoMHg0NzQ3NTgpIH0pO1xyXG4gICAgICAgICAgICAvL2xvZ28uc2V0KFwidG9vbHRpcFwiLCB0aGlzLl90b29sdGlwKTtcclxuICAgICAgICAgICAgLy9sb2dvLnNldFByaXZhdGUoXCJ0b29sdGlwVGFyZ2V0XCIsIGxvZ28uZ2V0KFwiYmFja2dyb3VuZFwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ28gPSBsb2dvO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVMb2dvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dldFJlYWxTaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIH1cclxuICAgIF9nZXRDYWxjdWxhdGVkU2l6ZShyZWN0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmNhbGN1bGF0ZVNpemUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmNhbGN1bGF0ZVNpemUocmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5fc2V0dGluZ3M7XHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmFjY2Vzc2libGUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5mb2N1c2FibGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lubmVyLnNldEF0dHJpYnV0ZShcImZvY3VzYWJsZVwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbm5lci5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCB0aGlzLnRhYmluZGV4ICsgXCJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmFyaWFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5uZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBzZXR0aW5ncy5hcmlhTGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5yb2xlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbm5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIHNldHRpbmdzLnJvbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuX2dldFJlYWxTaXplKCk7XHJcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldENhbGN1bGF0ZWRTaXplKHJlY3QpO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5mbG9vcihzaXplLndpZHRoKTtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmZsb29yKHNpemUuaGVpZ2h0KTtcclxuICAgICAgICBjb25zdCByZWFsV2lkdGggPSBNYXRoLmZsb29yKHJlY3Qud2lkdGgpO1xyXG4gICAgICAgIGNvbnN0IHJlYWxIZWlnaHQgPSBNYXRoLmZsb29yKHJlY3QuaGVpZ2h0KTtcclxuICAgICAgICBjb25zdCByb290Q29udGFpbmVyID0gQ29udGFpbmVyLm5ldyh0aGlzLCB7XHJcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcm9vdENvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XHJcbiAgICAgICAgdGhpcy5fcm9vdENvbnRhaW5lci5fZGVmYXVsdFRoZW1lcy5wdXNoKERlZmF1bHRUaGVtZS5uZXcodGhpcykpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHJvb3RDb250YWluZXIuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMsIHsgdmlzaWJsZTogdHJ1ZSwgd2lkdGg6IHAxMDAsIGhlaWdodDogcDEwMCB9KSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgcmVuZGVyZXIucmVzaXplKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgLy9AdG9kbzogYmV0dGVyIGFwcGVuZENoaWxkIC0gcmVmZXJcclxuICAgICAgICB0aGlzLl9pbm5lci5hcHBlbmRDaGlsZChyZW5kZXJlci52aWV3KTtcclxuICAgICAgICAvLyBUT0RPOiBUTVAgVE1QIFRNUCBmb3IgdGVzdGluZyBvbmx5LCByZW1vdmVcclxuICAgICAgICAvL3JlbmRlcmVyLmRlYnVnR2hvc3RWaWV3ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9pbml0UmVzaXplU2Vuc29yKCk7XHJcbiAgICAgICAgLy8gSFRNTCBjb250ZW50IGhvbGRlclxyXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLl9odG1sRWxlbWVudENvbnRhaW5lciA9IGh0bWxFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgIGh0bWxFbGVtZW50Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYW01LWh0bWwtY29udGFpbmVyXCI7XHJcbiAgICAgICAgaHRtbEVsZW1lbnRDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgaHRtbEVsZW1lbnRDb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xyXG4gICAgICAgIGlmICghdGhpcy5fdG9vbHRpcENvbnRhaW5lclNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50Q29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW5uZXIuYXBwZW5kQ2hpbGQoaHRtbEVsZW1lbnRDb250YWluZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgZWxlbWVudCB3aGljaCBpcyB1c2VkIHRvIG1ha2UgYW5ub3VuY2VtZW50cyB0byBzY3JlZW4gcmVhZGVyXHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlckFsZXJ0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIHJlYWRlckFsZXJ0RWxlbWVudC5jbGFzc05hbWUgPSBcImFtNS1yZWFkZXItY29udGFpbmVyXCI7XHJcbiAgICAgICAgICAgIHJlYWRlckFsZXJ0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiYWxlcnRcIik7XHJcbiAgICAgICAgICAgIC8vIHJlYWRlckFsZXJ0RWxlbWVudC5zdHlsZS56SW5kZXggPSBcIi0xMDAwMDBcIjtcclxuICAgICAgICAgICAgLy8gcmVhZGVyQWxlcnRFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgICAgICAgICAgLy8gcmVhZGVyQWxlcnRFbGVtZW50LnN0eWxlLnRvcCA9IFwiMFwiO1xyXG4gICAgICAgICAgICByZWFkZXJBbGVydEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgICAgIHJlYWRlckFsZXJ0RWxlbWVudC5zdHlsZS53aWR0aCA9IFwiMXB4XCI7XHJcbiAgICAgICAgICAgIHJlYWRlckFsZXJ0RWxlbWVudC5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xyXG4gICAgICAgICAgICByZWFkZXJBbGVydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICByZWFkZXJBbGVydEVsZW1lbnQuc3R5bGUuY2xpcCA9IFwicmVjdCgxcHgsIDFweCwgMXB4LCAxcHgpXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlYWRlckFsZXJ0RWxlbWVudCA9IHJlYWRlckFsZXJ0RWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5faW5uZXIuYXBwZW5kQ2hpbGQodGhpcy5fcmVhZGVyQWxlcnRFbGVtZW50KTtcclxuICAgICAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYW01LWZvY3VzLWNvbnRhaW5lclwiO1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnRDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnRDb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnRDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImdyYXBoaWNzLWRvY3VtZW50XCIpO1xyXG4gICAgICAgICAgICAkdXRpbHMuc2V0SW50ZXJhY3RpdmUoZm9jdXNFbGVtZW50Q29udGFpbmVyLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZvY3VzRWxlbWVudENvbnRhaW5lciA9IGZvY3VzRWxlbWVudENvbnRhaW5lcjtcclxuICAgICAgICAgICAgdGhpcy5faW5uZXIuYXBwZW5kQ2hpbGQodGhpcy5fZm9jdXNFbGVtZW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcEVsZW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICB0aGlzLl90b29sdGlwRWxlbWVudENvbnRhaW5lciA9IHRvb2x0aXBFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgICAgICB0b29sdGlwRWxlbWVudENvbnRhaW5lci5jbGFzc05hbWUgPSBcImFtNS10b29sdGlwLWNvbnRhaW5lclwiO1xyXG4gICAgICAgICAgICB0aGlzLl9pbm5lci5hcHBlbmRDaGlsZCh0b29sdGlwRWxlbWVudENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIC8vIEFkZCBrZXlib2FyZCBldmVudHMgZm9yIGFjY2Vzc2liaWxpdHksIGUuZy4gc2ltdWxhdGluZyBkcmFnIHdpdGggYXJyb3dcclxuICAgICAgICAgICAgLy8ga2V5cyBhbmQgY2xpY2sgd2l0aCBFTlRFUlxyXG4gICAgICAgICAgICBpZiAoJHV0aWxzLnN1cHBvcnRzKFwia2V5Ym9hcmRldmVudHNcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywgXCJrZXlkb3duXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50S2V5ID0gJHV0aWxzLmdldEV2ZW50S2V5KGV2KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRLZXkgPT0gXCJTaGlmdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hpZnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChldmVudEtleSA9PSBcIlRhYlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hpZnQgPSBldi5zaGlmdEtleTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwia2V5dXBcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRLZXkgPSAkdXRpbHMuZ2V0RXZlbnRLZXkoZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEtleSA9PSBcIlNoaWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTaGlmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKGZvY3VzRWxlbWVudENvbnRhaW5lciwgXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU29tZSBzY3JlZW4gcmVhZGVycyBjb252ZXJ0IEVOVEVSIChhbmQgc29tZSBTUEFDRSkgcHJlc3Mgd2hpbCBvblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvY3VzZWQgZWxlbWVudCB0byBhIFwiY2xpY2tcIiBldmVudCwgcHJldmVudGluZyBhY3R1YWwgXCJrZXlkb3duXCJcclxuICAgICAgICAgICAgICAgICAgICAvLyBldmVudCBmcm9tIGZpcmluZy4gV2UncmUgdXNpbmcgdGhpcyBcImNsaWNrXCIgZXZlbnQgdG8gc3RpbGxcclxuICAgICAgICAgICAgICAgICAgICAvLyBnZW5lcmF0ZSBpbnRlcm5hbCBjbGljayBldmVudHMuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9jdXNlZFNwcml0ZSA9IHRoaXMuX2ZvY3VzZWRTcHJpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzZWRTcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5ub3VuY2VUZXh0ID0gZm9jdXNlZFNwcml0ZS5nZXQoXCJjbGlja0Fubm91bmNlVGV4dFwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFubm91bmNlVGV4dCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkZXJBbGVydChhbm5vdW5jZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvd25FdmVudCA9IHJlbmRlcmVyLmdldEV2ZW50KG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c2VkU3ByaXRlLmV2ZW50cy5kaXNwYXRjaChcImNsaWNrXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2xpY2tcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGRvd25FdmVudC5ldmVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiBkb3duRXZlbnQucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGZvY3VzZWRTcHJpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoZm9jdXNFbGVtZW50Q29udGFpbmVyLCBcImtleWRvd25cIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9jdXNlZFNwcml0ZSA9IHRoaXMuX2ZvY3VzZWRTcHJpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzZWRTcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2LmtleSA9PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFU0MgcHJlc3NlZCAtIGxvc2UgY3VycmVudCBmb2N1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHV0aWxzLmJsdXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzZWRTcHJpdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRyYWdPZmZzZXRYID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRyYWdPZmZzZXRZID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogZmlndXJlIG91dCBpZiB1c2luZyBib2d1cyBNb3VzZUV2ZW50IGlzIGZpbmUsIG9yIGl0IHdpbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFpbCBvbiBzb21lIHBsYXRmb3Jtc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudEtleSA9ICR1dGlscy5nZXRFdmVudEtleShldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnRLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiBcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbm5vdW5jZVRleHQgPSBmb2N1c2VkU3ByaXRlLmdldChcImNsaWNrQW5ub3VuY2VUZXh0XCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbm5vdW5jZVRleHQgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkZXJBbGVydChhbm5vdW5jZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRLZXkgPT0gXCIgXCIgJiYgZm9jdXNlZFNwcml0ZS5nZXQoXCJyb2xlXCIpICE9IFwiY2hlY2tib3hcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG93bkV2ZW50ID0gcmVuZGVyZXIuZ2V0RXZlbnQobmV3IE1vdXNlRXZlbnQoXCJtb3VzZVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNlZFNwcml0ZS5ldmVudHMuZGlzcGF0Y2goXCJjbGlja1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2xpY2tcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZG93bkV2ZW50LmV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogZG93bkV2ZW50LnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZm9jdXNlZFNwcml0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0WCA9IC02O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0WCA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdPZmZzZXRZID0gLTY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldFkgPSA2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdPZmZzZXRYICE9IDAgfHwgZHJhZ09mZnNldFkgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm9jdXNlZFNwcml0ZS5pc0RyYWdnaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBkcmFnZ2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleWJvYXJkRHJhZ1BvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3duRXZlbnQgPSByZW5kZXJlci5nZXRFdmVudChuZXcgTW91c2VFdmVudChcIm1vdXNlZG93blwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFk6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bkV2ZW50LnBvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXNlZFNwcml0ZS5ldmVudHMuaXNFbmFibGVkKFwicG9pbnRlcmRvd25cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNlZFNwcml0ZS5ldmVudHMuZGlzcGF0Y2goXCJwb2ludGVyZG93blwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBvaW50ZXJkb3duXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBkb3duRXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogZG93bkV2ZW50LnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBmb2N1c2VkU3ByaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgZm9jdXMgbWFya2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9wb3NpdGlvbkZvY3VzRWxlbWVudChmb2N1c2VkU3ByaXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgaW5jcmVtZW50YWxseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJhZ1BvaW50ID0gdGhpcy5fa2V5Ym9hcmREcmFnUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnUG9pbnQueCArPSBkcmFnT2Zmc2V0WDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdQb2ludC55ICs9IGRyYWdPZmZzZXRZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW92ZUV2ZW50ID0gcmVuZGVyZXIuZ2V0RXZlbnQobmV3IE1vdXNlRXZlbnQoXCJtb3VzZW1vdmVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFg6IGRyYWdQb2ludC54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFk6IGRyYWdQb2ludC55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzZWRTcHJpdGUuZXZlbnRzLmlzRW5hYmxlZChcImdsb2JhbHBvaW50ZXJtb3ZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNlZFNwcml0ZS5ldmVudHMuZGlzcGF0Y2goXCJnbG9iYWxwb2ludGVybW92ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2xvYmFscG9pbnRlcm1vdmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogbW92ZUV2ZW50LmV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogbW92ZUV2ZW50LnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZm9jdXNlZFNwcml0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoZm9jdXNFbGVtZW50Q29udGFpbmVyLCBcImtleXVwXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9mb2N1c2VkU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvY3VzZWRTcHJpdGUgPSB0aGlzLl9mb2N1c2VkU3ByaXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudEtleSA9ICR1dGlscy5nZXRFdmVudEtleShldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnRLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkU3ByaXRlLmlzRHJhZ2dpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW11bGF0ZSBkcmFnIHN0b3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJhZ1BvaW50ID0gdGhpcy5fa2V5Ym9hcmREcmFnUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwRXZlbnQgPSByZW5kZXJlci5nZXRFdmVudChuZXcgTW91c2VFdmVudChcIm1vdXNldXBcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WDogZHJhZ1BvaW50LngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRZOiBkcmFnUG9pbnQueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkU3ByaXRlLmV2ZW50cy5pc0VuYWJsZWQoXCJnbG9iYWxwb2ludGVydXBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzZWRTcHJpdGUuZXZlbnRzLmRpc3BhdGNoKFwiZ2xvYmFscG9pbnRlcnVwXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdsb2JhbHBvaW50ZXJ1cFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IHVwRXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHVwRXZlbnQucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZm9jdXNlZFNwcml0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9wb3NpdGlvbkZvY3VzRWxlbWVudChmb2N1c2VkU3ByaXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5Ym9hcmREcmFnUG9pbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIGRpc3BhdGNoIG1vdXNldXAgZXZlbnQgaW5zdGVhZCBvZiBjYWxsaW5nIGRyYWdTdG9wP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9kaXNwYXRjaEV2ZW50KFwiZ2xvYmFscG9pbnRlcnVwXCIsIHRhcmdldCwgdXBFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9jdXNlZFNwcml0ZS5nZXQoXCJmb2N1c2FibGVHcm91cFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIG5leHQgaXRlbSBpbiBmb2N1c2FibGUgZ3JvdXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBmb2N1c2VkU3ByaXRlLmdldChcImZvY3VzYWJsZUdyb3VwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuX3RhYmluZGV4ZXMuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5nZXQoXCJmb2N1c2FibGVHcm91cFwiKSA9PSBncm91cCAmJiBpdGVtLmdldFByaXZhdGUoXCJmb2N1c2FibGVcIikgIT09IGZhbHNlICYmIGl0ZW0uaXNWaXNpYmxlRGVlcCgpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gaXRlbXMuaW5kZXhPZihmb2N1c2VkU3ByaXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gaXRlbXMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gKGV2ZW50S2V5ID09IFwiQXJyb3dSaWdodFwiIHx8IGV2ZW50S2V5ID09IFwiQXJyb3dEb3duXCIpID8gMSA6IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGxhc3RJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleCA+IGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1dGlscy5mb2N1cyhpdGVtc1tpbmRleF0uZ2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiKS5kb20pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUYWJcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IGZvY3VzZWRTcHJpdGUuZ2V0KFwiZm9jdXNhYmxlR3JvdXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwICYmIHRoaXMuX2lzU2hpZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9jdXNOZXh0KGZvY3VzZWRTcHJpdGUuZ2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiKS5kb20sIC0xLCBncm91cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RhcnRUaWNrZXIoKTtcclxuICAgICAgICB0aGlzLnNldFRoZW1lcyhbXSk7XHJcbiAgICAgICAgdGhpcy5fYWRkVG9vbHRpcCgpO1xyXG4gICAgICAgIGlmICghdGhpcy5faGFzTGljZW5zZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dCcmFuZGluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9pbml0UmVzaXplU2Vuc29yKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9yZXNpemVTZW5zb3JEaXNwb3Nlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNpemVTZW5zb3JEaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jlc2l6ZVNlbnNvckRpc3Bvc2VyID0gbmV3IFJlc2l6ZVNlbnNvcih0aGlzLmRvbSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdXRvUmVzaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fcmVzaXplU2Vuc29yRGlzcG9zZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBhdXRvbWF0aWMgcmVzaXppbmcgb2YgY2hhciBpcyBkaXNhYmxlZCAoYHJvb3QuYXV0b1Jlc2l6ZSA9IGZhbHNlYCksIGl0XHJcbiAgICAgKiBjYW4gYmUgcmVzaXplZCBtYW51YWxseSBieSBjYWxsaW5nIHRoaXMgbWV0aG9kLlxyXG4gICAgICovXHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuX2dldFJlYWxTaXplKCk7XHJcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldENhbGN1bGF0ZWRTaXplKHJlY3QpO1xyXG4gICAgICAgIGNvbnN0IHcgPSBNYXRoLmZsb29yKHNpemUud2lkdGgpO1xyXG4gICAgICAgIGNvbnN0IGggPSBNYXRoLmZsb29yKHNpemUuaGVpZ2h0KTtcclxuICAgICAgICBpZiAodyA+IDAgJiYgaCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgcmVhbFdpZHRoID0gTWF0aC5mbG9vcihyZWN0LndpZHRoKTtcclxuICAgICAgICAgICAgY29uc3QgcmVhbEhlaWdodCA9IE1hdGguZmxvb3IocmVjdC5oZWlnaHQpO1xyXG4gICAgICAgICAgICBjb25zdCBodG1sRWxlbWVudENvbnRhaW5lciA9IHRoaXMuX2h0bWxFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudENvbnRhaW5lci5zdHlsZS53aWR0aCA9IHcgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50Q29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hMTF5RCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50Q29udGFpbmVyID0gdGhpcy5fZm9jdXNFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgZm9jdXNFbGVtZW50Q29udGFpbmVyLnN0eWxlLndpZHRoID0gdyArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIGZvY3VzRWxlbWVudENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBoICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlc2l6ZShyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIHcsIGgpO1xyXG4gICAgICAgICAgICBjb25zdCByb290Q29udGFpbmVyID0gdGhpcy5fcm9vdENvbnRhaW5lcjtcclxuICAgICAgICAgICAgcm9vdENvbnRhaW5lci5zZXRQcml2YXRlKFwid2lkdGhcIiwgdyk7XHJcbiAgICAgICAgICAgIHJvb3RDb250YWluZXIuc2V0UHJpdmF0ZShcImhlaWdodFwiLCBoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxvZ28oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcih0aGlzLl9yb290Q29udGFpbmVyLl9kaXNwbGF5KTtcclxuICAgICAgICBpZiAodGhpcy5fZm9jdXNFbGVtZW50RGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ3VycmVudEZvY3VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZvY3VzRWxlbWVudERpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3J1blRpY2tlcnMoY3VycmVudFRpbWUpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90aWNrZXJzLCAoZikgPT4ge1xyXG4gICAgICAgICAgICBmKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9ydW5BbmltYXRpb25zKGN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgbGV0IHJ1bm5pbmcgPSAwO1xyXG4gICAgICAgICRhcnJheS5rZWVwSWYodGhpcy5fYW5pbWF0aW9ucywgKGFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGFuaW1hdGlvbi5fcnVuQW5pbWF0aW9uKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBBbmltYXRpb25TdGF0ZS5TdG9wcGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUgPT09IEFuaW1hdGlvblN0YXRlLlBsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICsrcnVubmluZztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9pc0RpcnR5QW5pbWF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHJ1bm5pbmcgPT09IDA7XHJcbiAgICB9XHJcbiAgICBfcnVuRGlydGllcygpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwidGljayAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlwiKTtcclxuICAgICAgICBsZXQgYWxsUGFyZW50cyA9IHt9O1xyXG4gICAgICAgIHdoaWxlICh0aGlzLl9pc0RpcnR5UGFyZW50cykge1xyXG4gICAgICAgICAgICAvLyBUaGlzIG11c3QgYmUgYmVmb3JlIGNhbGxpbmcgX3ByZXBhcmVDaGlsZHJlblxyXG4gICAgICAgICAgICB0aGlzLl9pc0RpcnR5UGFyZW50cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkb2JqZWN0LmtleXModGhpcy5fZGlydHlQYXJlbnRzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX2RpcnR5UGFyZW50c1trZXldO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RpcnR5UGFyZW50c1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsUGFyZW50c1twYXJlbnQudWlkXSA9IHBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuX3ByZXBhcmVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJG9iamVjdC5rZXlzKGFsbFBhcmVudHMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBhbGxQYXJlbnRzW2tleV0uX3VwZGF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIC8vXHRcdGNvbnNvbGUubG9nKFwiX2JlZm9yZUNoYW5nZWRcIilcclxuICAgICAgICAkb2JqZWN0LmtleXModGhpcy5fZGlydHkpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLl9kaXJ0eVtrZXldO1xyXG4gICAgICAgICAgICBpZiAoZW50aXR5LmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RpcnR5W2VudGl0eS51aWRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vXHRcdGNvbnNvbGUubG9nKFwiX2NoYW5nZWRcIilcclxuICAgICAgICBvYmplY3RzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICBlbnRpdHkuX2NoYW5nZWQoKTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RpcnR5W2VudGl0eS51aWRdO1xyXG4gICAgICAgICAgICBlbnRpdHkuX2NsZWFyRGlydHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9pc0RpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgZGVwdGhzID0ge307XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gW107XHJcbiAgICAgICAgJG9iamVjdC5rZXlzKHRoaXMuX2RpcnR5Qm91bmRzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5fZGlydHlCb3VuZHNba2V5XTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RpcnR5Qm91bmRzW2tleV07XHJcbiAgICAgICAgICAgIGlmICghZW50aXR5LmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgZGVwdGhzW2VudGl0eS51aWRdID0gZW50aXR5LmRlcHRoKCk7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMucHVzaChlbnRpdHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb25IVE1MRWxlbWVudHMoKTtcclxuICAgICAgICAvLyBIaWdoIGRlcHRoIC0+IGxvdyBkZXB0aFxyXG4gICAgICAgIGJvdW5kcy5zb3J0KCh4LCB5KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAkb3JkZXIuY29tcGFyZShkZXB0aHNbeS51aWRdLCBkZXB0aHNbeC51aWRdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL1x0XHRjb25zb2xlLmxvZyhcIl91cGRhdGVCb3VuZHNcIilcclxuICAgICAgICBib3VuZHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgIGVudGl0eS5fdXBkYXRlQm91bmRzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9cdFx0Y29uc29sZS5sb2coXCJfdXBkYXRlUG9zaXRpb25cIilcclxuICAgICAgICBjb25zdCBkaXJ0eVBvc2l0aW9ucyA9IHRoaXMuX2RpcnR5UG9zaXRpb25zO1xyXG4gICAgICAgICRvYmplY3Qua2V5cyhkaXJ0eVBvc2l0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGRpcnR5UG9zaXRpb25zW2tleV07XHJcbiAgICAgICAgICAgIGRlbGV0ZSBkaXJ0eVBvc2l0aW9uc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoIXNwcml0ZS5pc0Rpc3Bvc2VkKCkpIHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5fdXBkYXRlUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vXHRcdGNvbnNvbGUubG9nKFwiX2FmdGVyQ2hhbmdlZFwiKVxyXG4gICAgICAgIG9iamVjdHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgIGVudGl0eS5fYWZ0ZXJDaGFuZ2VkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfcmVuZGVyRnJhbWUoY3VycmVudFRpbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5fdXBkYXRlVGljaykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKFwiZnJhbWVzdGFydGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcImZyYW1lc3RhcnRlZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmcmFtZXN0YXJ0ZWRcIixcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50VGltZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrQ29tcHV0ZWRTdHlsZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5fcnVuVGlja2VycyhjdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbkRvbmUgPSB0aGlzLl9ydW5BbmltYXRpb25zKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy5fcnVuRGlydGllcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVzZXRJbWFnZUFycmF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uSFRNTEVsZW1lbnRzKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJmcmFtZWVuZGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcImZyYW1lZW5kZWRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZnJhbWVlbmRlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnRUaW1lLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcnMubGVuZ3RoID09PSAwICYmXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25Eb25lICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5faXNEaXJ0eUFuaW1hdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgIXRoaXMuX2lzRGlydHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcnVuVGlja2VyKGN1cnJlbnRUaW1lLCBub3cpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICBjb25zdCBkb25lID0gdGhpcy5fcmVuZGVyRnJhbWUoY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAvLyBObyBtb3JlIHdvcmsgdG8gZG9cclxuICAgICAgICAgICAgaWYgKGRvbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9wYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJBRih0aGlzLmZwcywgdGhpcy5fdGlja2VyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcnVuVGlja2VyTm93KHRpbWVvdXQgPSAxMDAwMCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0Rpc3Bvc2VkKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpICsgdGltZW91dDtcclxuICAgICAgICAgICAgZm9yICg7Oykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+PSBlbmRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9uZSA9IHRoaXMuX3JlbmRlckZyYW1lKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zdGFydFRpY2tlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5fdGlja2VyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IChjdXJyZW50VGltZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcnVuVGlja2VyKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgckFGKHRoaXMuZnBzLCB0aGlzLl90aWNrZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSByb290IGlzIHVwZGF0aW5nIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHVwZGF0ZVRpY2soKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZVRpY2s7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHJvb3QgdXBkYXRpbmcuXHJcbiAgICAgKi9cclxuICAgIHNldCB1cGRhdGVUaWNrKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlVGljayA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydFRpY2tlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGREaXJ0eUVudGl0eShlbnRpdHkpIHtcclxuICAgICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5fZGlydHlbZW50aXR5LnVpZF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eVtlbnRpdHkudWlkXSA9IGVudGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RhcnRUaWNrZXIoKTtcclxuICAgIH1cclxuICAgIF9hZGREaXJ0eVBhcmVudChwYXJlbnQpIHtcclxuICAgICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9pc0RpcnR5UGFyZW50cyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcnR5UGFyZW50c1twYXJlbnQudWlkXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5UGFyZW50c1twYXJlbnQudWlkXSA9IHBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RhcnRUaWNrZXIoKTtcclxuICAgIH1cclxuICAgIF9hZGREaXJ0eUJvdW5kcyhlbnRpdHkpIHtcclxuICAgICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5fZGlydHlCb3VuZHNbZW50aXR5LnVpZF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eUJvdW5kc1tlbnRpdHkudWlkXSA9IGVudGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RhcnRUaWNrZXIoKTtcclxuICAgIH1cclxuICAgIF9hZGREaXJ0eVBvc2l0aW9uKHNwcml0ZSkge1xyXG4gICAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLl9kaXJ0eVBvc2l0aW9uc1tzcHJpdGUudWlkXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5UG9zaXRpb25zW3Nwcml0ZS51aWRdID0gc3ByaXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zdGFydFRpY2tlcigpO1xyXG4gICAgfVxyXG4gICAgX2FkZEFuaW1hdGlvbihhbmltYXRpb24pIHtcclxuICAgICAgICB0aGlzLl9pc0RpcnR5QW5pbWF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAvLyBUT0RPIHVzZSBudW1lcmljIGlkIGluc3RlYWRcclxuICAgICAgICBpZiAodGhpcy5fYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGlvbikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zdGFydFRpY2tlcigpO1xyXG4gICAgfVxyXG4gICAgX21hcmtEaXJ0eSgpIHtcclxuICAgICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIF9tYXJrRGlydHlSZWRyYXcoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShcImZyYW1lZW5kZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnRUaWNrZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVhY2hGcmFtZShmKSB7XHJcbiAgICAgICAgdGhpcy5fdGlja2Vycy5wdXNoKGYpO1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0VGlja2VyKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdCh0aGlzLl90aWNrZXJzLCBmKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG1hcmtEaXJ0eUdsb2JhbChjb250YWluZXIpIHtcclxuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGFpbmVyLndhbGtDaGlsZHJlbigoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUdsb2JhbChjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hpbGQubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgIGNoaWxkLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdpZHRoIG9mIHRoZSB0YXJnZXQgY29udGFpbmVyLCBpbiBwaXhlbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBXaWR0aFxyXG4gICAgICovXHJcbiAgICB3aWR0aCgpIHtcclxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBtb3JlIGVmZmljaWVudCwgbWF5YmUganVzdCByZXR1cm4gdGhlIHJlbmRlcmVyJ3Mgd2lkdGggP1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuX2dldENhbGN1bGF0ZWRTaXplKHRoaXMuX2dldFJlYWxTaXplKCkpLndpZHRoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBoZWlnaHQgb2YgdGhlIHRhcmdldCBjb250YWluZXIsIGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIEhlaWdodFxyXG4gICAgICovXHJcbiAgICBoZWlnaHQoKSB7XHJcbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoaXMgbW9yZSBlZmZpY2llbnQsIG1heWJlIGp1c3QgcmV0dXJuIHRoZSByZW5kZXJlcidzIGhlaWdodCA/XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5fZ2V0Q2FsY3VsYXRlZFNpemUodGhpcy5fZ2V0UmVhbFNpemUoKSkuaGVpZ2h0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGlzcG9zZXMgcm9vdCBhbmQgYWxsIHRoZSBjb250ZW50IGluIGl0LlxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faXNEaXNwb3NlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fcm9vdENvbnRhaW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsTGF5b3V0LmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbExheW91dC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJmYWNlQ29sb3JzLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fZGlzcG9zZXJzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgeC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5uZXIpIHtcclxuICAgICAgICAgICAgICAgICR1dGlscy5yZW1vdmVFbGVtZW50KHRoaXMuX2lubmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkYXJyYXkucmVtb3ZlKHJlZ2lzdHJ5LnJvb3RFbGVtZW50cywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiByb290IGVsZW1lbnQgaXMgZGlzcG9zZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBEaXNwb3NlZD9cclxuICAgICAqL1xyXG4gICAgaXNEaXNwb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcnMgc2NyZWVuIHJlYWRlciByZWFkIG91dCBhIG1lc3NhZ2UuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvYWNjZXNzaWJpbGl0eS99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgdGV4dCAgQWxlcnQgdGV4dFxyXG4gICAgICovXHJcbiAgICByZWFkZXJBbGVydCh0ZXh0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZWFkZXJBbGVydEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHRleHQgPSAkdXRpbHMuc3RyaXBUYWdzKHRleHQpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5pbm5lckhUTUwgPT0gdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlbWVzIHRvIGJlIHVzZWQgZm9yIHRoZSBjaGFydC5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy90aGVtZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gIHRoZW1lcyAgQSBsaXN0IG9mIHRoZW1lc1xyXG4gICAgICovXHJcbiAgICBzZXRUaGVtZXModGhlbWVzKSB7XHJcbiAgICAgICAgdGhpcy5fcm9vdENvbnRhaW5lci5zZXQoXCJ0aGVtZXNcIiwgdGhlbWVzKTtcclxuICAgICAgICAvLyBvdGhlcndpc2UgbmV3IHRoZW1lcyBhcmUgbm90IGFwcGxpZWRcclxuICAgICAgICBjb25zdCB0b29sdGlwQ29udGFpbmVyID0gdGhpcy50b29sdGlwQ29udGFpbmVyO1xyXG4gICAgICAgIGlmICh0b29sdGlwQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXBDb250YWluZXIuX2FwcGx5VGhlbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEB0b2RvIHJldmlldyB0aGlzXHJcbiAgICAgICAgY29uc3QgaW50ZXJmYWNlQ29sb3JzID0gdGhpcy5pbnRlcmZhY2VDb2xvcnM7XHJcbiAgICAgICAgaWYgKGludGVyZmFjZUNvbG9ycykge1xyXG4gICAgICAgICAgICBpbnRlcmZhY2VDb2xvcnMuX2FwcGx5VGhlbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FkZFRvb2x0aXAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRvb2x0aXBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcENvbnRhaW5lclNldHRpbmdzID0gdGhpcy5fdG9vbHRpcENvbnRhaW5lclNldHRpbmdzO1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwQ29udGFpbmVyID0gdGhpcy5fcm9vdENvbnRhaW5lci5jaGlsZHJlbi5wdXNoKENvbnRhaW5lci5uZXcodGhpcywge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgIGlzTWVhc3VyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHAxMDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHAxMDAsXHJcbiAgICAgICAgICAgICAgICBsYXllcjogdG9vbHRpcENvbnRhaW5lclNldHRpbmdzID8gMzUgOiAzMCxcclxuICAgICAgICAgICAgICAgIGxheWVyTWFyZ2luOiB0b29sdGlwQ29udGFpbmVyU2V0dGluZ3MgPyB0b29sdGlwQ29udGFpbmVyU2V0dGluZ3MgOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLnRvb2x0aXBDb250YWluZXIgPSB0b29sdGlwQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gVG9vbHRpcC5uZXcodGhpcywge30pO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXQoXCJ0b29sdGlwXCIsIHRvb2x0aXApO1xyXG4gICAgICAgICAgICB0b29sdGlwLmhpZGUoMCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXAgPSB0b29sdGlwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWNjZXNpYmlsaXR5XHJcbiAgICAgKi9cclxuICAgIF9yZWdpc3RlclRhYmluZGV4T3JkZXIodGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGFyZ2V0LmdldChcImZvY3VzYWJsZVwiKSkge1xyXG4gICAgICAgICAgICAkYXJyYXkucHVzaE9uZSh0aGlzLl90YWJpbmRleGVzLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZSh0aGlzLl90YWJpbmRleGVzLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlVGFiaW5kZXhlcygpO1xyXG4gICAgfVxyXG4gICAgX3VucmVnaXN0ZXJUYWJpbmRleE9yZGVyKHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZSh0aGlzLl90YWJpbmRleGVzLCB0YXJnZXQpO1xyXG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVUYWJpbmRleGVzKCk7XHJcbiAgICB9XHJcbiAgICBfaW52YWxpZGF0ZVRhYmluZGV4ZXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl90YWJpbmRleGVzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYWluZGV4ID0gYS5nZXQoXCJ0YWJpbmRleE9yZGVyXCIsIDApO1xyXG4gICAgICAgICAgICBjb25zdCBiaW5kZXggPSBiLmdldChcInRhYmluZGV4T3JkZXJcIiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChhaW5kZXggPT0gYmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhaW5kZXggPiBiaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gW107XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdGFiaW5kZXhlcywgKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaXRlbS5nZXRQcml2YXRlKFwiZm9jdXNFbGVtZW50XCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWtlRm9jdXNFbGVtZW50KGluZGV4LCBpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdmVGb2N1c0VsZW1lbnQoaW5kZXgsIGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gaXRlbS5nZXQoXCJmb2N1c2FibGVHcm91cFwiKTtcclxuICAgICAgICAgICAgaWYgKGdyb3VwICYmIGl0ZW0uZ2V0UHJpdmF0ZShcImZvY3VzYWJsZVwiKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChncm91cHMuaW5kZXhPZihncm91cCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9uLWZpcnN0IGVsZW1lbnQgaW4gdGhlIGdyb3VwLCBtYWtlIGl0IG5vdCBkaXJlY3RseSBmb2N1c2FibGVcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldFByaXZhdGUoXCJmb2N1c0VsZW1lbnRcIikuZG9tLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiLTFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBncm91cHMucHVzaChncm91cCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF91cGRhdGVDdXJyZW50Rm9jdXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZm9jdXNlZFNwcml0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kZWNvcmF0ZUZvY3VzRWxlbWVudCh0aGlzLl9mb2N1c2VkU3ByaXRlKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25Gb2N1c0VsZW1lbnQodGhpcy5fZm9jdXNlZFNwcml0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2RlY29yYXRlRm9jdXNFbGVtZW50KHRhcmdldCwgZm9jdXNFbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEZWNvcmF0ZSB3aXRoIHByb3BlciBhY2Nlc3NpYmlsaXR5IGF0dHJpYnV0ZXNcclxuICAgICAgICBpZiAoIWZvY3VzRWxlbWVudCkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQgPSB0YXJnZXQuZ2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiKS5kb207XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZm9jdXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgcm9sZSA9IHRhcmdldC5nZXQoXCJyb2xlXCIpO1xyXG4gICAgICAgIGlmIChyb2xlKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIHJvbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFMYWJlbCA9IHRhcmdldC5nZXQoXCJhcmlhTGFiZWxcIik7XHJcbiAgICAgICAgaWYgKGFyaWFMYWJlbCkge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHBvcHVsYXRlU3RyaW5nKHRhcmdldCwgYXJpYUxhYmVsKTtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgbGFiZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFMaXZlID0gdGFyZ2V0LmdldChcImFyaWFMaXZlXCIpO1xyXG4gICAgICAgIGlmIChhcmlhTGl2ZSkge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIGFyaWFMaXZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFDaGVja2VkID0gdGFyZ2V0LmdldChcImFyaWFDaGVja2VkXCIpO1xyXG4gICAgICAgIGlmIChhcmlhQ2hlY2tlZCAhPSBudWxsICYmIHJvbGUgJiYgW1wiY2hlY2tib3hcIiwgXCJvcHRpb25cIiwgXCJyYWRpb1wiLCBcIm1lbnVpdGVtY2hlY2tib3hcIiwgXCJtZW51aXRlbXJhZGlvXCIsIFwidHJlZWl0ZW1cIl0uaW5kZXhPZihyb2xlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBhcmlhQ2hlY2tlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFyaWFDdXJyZW50ID0gdGFyZ2V0LmdldChcImFyaWFDdXJyZW50XCIpO1xyXG4gICAgICAgIGlmIChhcmlhQ3VycmVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWN1cnJlbnRcIiwgYXJpYUN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtY3VycmVudFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJpYVNlbGVjdGVkID0gdGFyZ2V0LmdldChcImFyaWFTZWxlY3RlZFwiKTtcclxuICAgICAgICBpZiAoYXJpYVNlbGVjdGVkICE9IG51bGwgJiYgcm9sZSAmJiBbXCJncmlkY2VsbFwiLCBcIm9wdGlvblwiLCBcInJvd1wiLCBcInRhYlwiLCBcImNvbHVtbmhlYWRlclwiLCBcInJvd2hlYWRlclwiLCBcInRyZWVpdGVtXCJdLmluZGV4T2Yocm9sZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIGFyaWFTZWxlY3RlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGFyZ2V0LmdldChcImFyaWFIaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJpYU9yaWVudGF0aW9uID0gdGFyZ2V0LmdldChcImFyaWFPcmllbnRhdGlvblwiKTtcclxuICAgICAgICBpZiAoYXJpYU9yaWVudGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLW9yaWVudGF0aW9uXCIsIGFyaWFPcmllbnRhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1vcmllbnRhdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJpYVZhbHVlTm93ID0gdGFyZ2V0LmdldChcImFyaWFWYWx1ZU5vd1wiKTtcclxuICAgICAgICBpZiAoYXJpYVZhbHVlTm93KSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIsIGFyaWFWYWx1ZU5vdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJpYVZhbHVlTWluID0gdGFyZ2V0LmdldChcImFyaWFWYWx1ZU1pblwiKTtcclxuICAgICAgICBpZiAoYXJpYVZhbHVlTWluKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWluXCIsIGFyaWFWYWx1ZU1pbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS12YWx1ZW1pblwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJpYVZhbHVlTWF4ID0gdGFyZ2V0LmdldChcImFyaWFWYWx1ZU1heFwiKTtcclxuICAgICAgICBpZiAoYXJpYVZhbHVlTWF4KSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWF4XCIsIGFyaWFWYWx1ZU1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS12YWx1ZW1heFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJpYVZhbHVlVGV4dCA9IHRhcmdldC5nZXQoXCJhcmlhVmFsdWVUZXh0XCIpO1xyXG4gICAgICAgIGlmIChhcmlhVmFsdWVUZXh0KSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVldGV4dFwiLCBhcmlhVmFsdWVUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXZhbHVldGV4dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJpYUNvbnRyb2xzID0gdGFyZ2V0LmdldChcImFyaWFDb250cm9sc1wiKTtcclxuICAgICAgICBpZiAoYXJpYUNvbnRyb2xzKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNvbnRyb2xzXCIsIGFyaWFDb250cm9scyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1jb250cm9sc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhcmdldC5nZXQoXCJ2aXNpYmxlXCIpICYmIHRhcmdldC5nZXQoXCJvcGFjaXR5XCIpICE9PSAwICYmIHRhcmdldC5nZXQoXCJyb2xlXCIpICE9IFwidG9vbHRpcFwiICYmICF0YXJnZXQuaXNIaWRkZW4oKSAmJiB0YXJnZXQuZ2V0UHJpdmF0ZShcImZvY3VzYWJsZVwiKSAhPT0gZmFsc2UgJiYgKHRhcmdldC5oZWlnaHQoKSB8fCB0YXJnZXQud2lkdGgoKSkpIHtcclxuICAgICAgICAgICAgaWYgKGZvY3VzRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSAhPSBcIi0xXCIpIHtcclxuICAgICAgICAgICAgICAgIGZvY3VzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIlwiICsgdGhpcy50YWJpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpO1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9tYWtlRm9jdXNFbGVtZW50KGluZGV4LCB0YXJnZXQpIHtcclxuICAgICAgICBpZiAodGFyZ2V0LmdldFByaXZhdGUoXCJmb2N1c0VsZW1lbnRcIikgfHwgdGhpcy5fYTExeUQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEluaXRcclxuICAgICAgICBjb25zdCBmb2N1c0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGlmICh0YXJnZXQuZ2V0KFwicm9sZVwiKSAhPSBcInRvb2x0aXBcIikge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQudGFiSW5kZXggPSB0aGlzLnRhYmluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb2N1c0VsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgJHV0aWxzLnNldEludGVyYWN0aXZlKGZvY3VzRWxlbWVudCwgZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IGRpc3Bvc2VycyA9IFtdO1xyXG4gICAgICAgIHRhcmdldC5zZXRQcml2YXRlKFwiZm9jdXNFbGVtZW50XCIsIHtcclxuICAgICAgICAgICAgZG9tOiBmb2N1c0VsZW1lbnQsXHJcbiAgICAgICAgICAgIGRpc3Bvc2VycyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9kZWNvcmF0ZUZvY3VzRWxlbWVudCh0YXJnZXQpO1xyXG4gICAgICAgIGRpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKGZvY3VzRWxlbWVudCwgXCJmb2N1c1wiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9jdXMoZXYpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBkaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihmb2N1c0VsZW1lbnQsIFwiYmx1clwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQmx1cihldik7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRoaXMuX21vdmVGb2N1c0VsZW1lbnQoaW5kZXgsIHRhcmdldCk7XHJcbiAgICB9XHJcbiAgICBfcmVtb3ZlRm9jdXNFbGVtZW50KHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZSh0aGlzLl90YWJpbmRleGVzLCB0YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGZvY3VzRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwiZm9jdXNFbGVtZW50XCIpO1xyXG4gICAgICAgIGlmIChmb2N1c0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fZm9jdXNFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoZm9jdXNFbGVtZW50LmRvbSk7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGZvY3VzRWxlbWVudC5kaXNwb3NlcnMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB4LmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hpZGVGb2N1c0VsZW1lbnQodGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmb2N1c0VsZW1lbnQgPSB0YXJnZXQuZ2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiKTtcclxuICAgICAgICBmb2N1c0VsZW1lbnQuZG9tLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIF9tb3ZlRm9jdXNFbGVtZW50KGluZGV4LCB0YXJnZXQpIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEdldCBjb250YWluZXJcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9mb2N1c0VsZW1lbnRDb250YWluZXI7XHJcbiAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50ID0gdGFyZ2V0LmdldFByaXZhdGUoXCJmb2N1c0VsZW1lbnRcIikuZG9tO1xyXG4gICAgICAgIGlmIChmb2N1c0VsZW1lbnQgPT09IHRoaXMuX2ZvY3VzRWxlbWVudENvbnRhaW5lci5jaGlsZHJlbltpbmRleF0pIHtcclxuICAgICAgICAgICAgLy8gTm90aGluZyB0byBkb1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLl9mb2N1c0VsZW1lbnRDb250YWluZXIuY2hpbGRyZW5baW5kZXggKyAxXTtcclxuICAgICAgICBpZiAobmV4dCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGZvY3VzRWxlbWVudCwgbmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGZvY3VzRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Bvc2l0aW9uRm9jdXNFbGVtZW50KHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlIHx8IHRhcmdldCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBib3VuZHMgPSB0YXJnZXQuZ2xvYmFsQm91bmRzKCk7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gYm91bmRzLnJpZ2h0ID09IGJvdW5kcy5sZWZ0ID8gdGFyZ2V0LndpZHRoKCkgOiBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdDtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gYm91bmRzLnRvcCA9PSBib3VuZHMuYm90dG9tID8gdGFyZ2V0LmhlaWdodCgpIDogYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3A7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMuX3NldHRpbmdzLmZvY3VzUGFkZGluZyAhPT0gdW5kZWZpbmVkID8gdGhpcy5fc2V0dGluZ3MuZm9jdXNQYWRkaW5nIDogMjtcclxuICAgICAgICBsZXQgeCA9IGJvdW5kcy5sZWZ0IC0gcGFkZGluZztcclxuICAgICAgICBsZXQgeSA9IGJvdW5kcy50b3AgLSBwYWRkaW5nO1xyXG4gICAgICAgIGlmICh3aWR0aCA8IDApIHtcclxuICAgICAgICAgICAgeCArPSB3aWR0aDtcclxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLmFicyh3aWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoZWlnaHQgPCAwKSB7XHJcbiAgICAgICAgICAgIHkgKz0gaGVpZ2h0O1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLmFicyhoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmb2N1c0VsZW1lbnQgPSB0YXJnZXQuZ2V0UHJpdmF0ZShcImZvY3VzRWxlbWVudFwiKS5kb207XHJcbiAgICAgICAgZm9jdXNFbGVtZW50LnN0eWxlLnRvcCA9IHkgKyBcInB4XCI7XHJcbiAgICAgICAgZm9jdXNFbGVtZW50LnN0eWxlLmxlZnQgPSB4ICsgXCJweFwiO1xyXG4gICAgICAgIGZvY3VzRWxlbWVudC5zdHlsZS53aWR0aCA9ICh3aWR0aCArIHBhZGRpbmcgKiAyKSArIFwicHhcIjtcclxuICAgICAgICBmb2N1c0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gKGhlaWdodCArIHBhZGRpbmcgKiAyKSArIFwicHhcIjtcclxuICAgIH1cclxuICAgIF9nZXRTcHJpdGVCeUZvY3VzRWxlbWVudCh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgZm91bmQ7XHJcbiAgICAgICAgJGFycmF5LmVhY2hDb250aW51ZSh0aGlzLl90YWJpbmRleGVzLCAoaXRlbSwgX2luZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmdldFByaXZhdGUoXCJmb2N1c0VsZW1lbnRcIikuZG9tID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGZvdW5kID0gaXRlbTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZm91bmQ7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlRm9jdXMoZXYpIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEdldCBlbGVtZW50XHJcbiAgICAgICAgLy9jb25zdCBmb2N1c2VkID0gdGhpcy5fdGFiaW5kZXhlc1tpbmRleF07XHJcbiAgICAgICAgY29uc3QgZm9jdXNlZCA9IHRoaXMuX2dldFNwcml0ZUJ5Rm9jdXNFbGVtZW50KGV2LnRhcmdldCk7XHJcbiAgICAgICAgaWYgKCFmb2N1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSnVtcCBvdmVyIGhpZGRlbiBlbGVtZW50c1xyXG4gICAgICAgIGlmICghZm9jdXNlZC5pc1Zpc2libGVEZWVwKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZm9jdXNOZXh0KGV2LnRhcmdldCwgdGhpcy5faXNTaGlmdCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2l6ZSBhbmQgcG9zaXRpb25cclxuICAgICAgICB0aGlzLl9wb3NpdGlvbkZvY3VzRWxlbWVudChmb2N1c2VkKTtcclxuICAgICAgICAvL3RoaXMuX2RlY29yYXRlRm9jdXNFbGVtZW50KGZvY3VzZWQpO1xyXG4gICAgICAgIHRoaXMuX2ZvY3VzZWRTcHJpdGUgPSBmb2N1c2VkO1xyXG4gICAgICAgIGlmIChmb2N1c2VkLmV2ZW50cy5pc0VuYWJsZWQoXCJmb2N1c1wiKSkge1xyXG4gICAgICAgICAgICBmb2N1c2VkLmV2ZW50cy5kaXNwYXRjaChcImZvY3VzXCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZm9jdXNcIixcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBmb2N1c2VkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9mb2N1c05leHQoZWwsIGRpcmVjdGlvbiwgZ3JvdXApIHtcclxuICAgICAgICBpZiAodGhpcy5fYTExeUQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFtcclxuICAgICAgICAgICAgJ2FbaHJlZl0nLFxyXG4gICAgICAgICAgICAnYXJlYVtocmVmXScsXHJcbiAgICAgICAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pJyxcclxuICAgICAgICAgICAgJ2RldGFpbHMnLFxyXG4gICAgICAgICAgICAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pJyxcclxuICAgICAgICAgICAgJ2lmcmFtZTpub3QoW2Rpc2FibGVkXSknLFxyXG4gICAgICAgICAgICAnc2VsZWN0Om5vdChbZGlzYWJsZWRdKScsXHJcbiAgICAgICAgICAgICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSknLFxyXG4gICAgICAgICAgICAnW2NvbnRlbnRFZGl0YWJsZT1cIlwiXScsXHJcbiAgICAgICAgICAgICdbY29udGVudEVkaXRhYmxlPVwidHJ1ZVwiXScsXHJcbiAgICAgICAgICAgICdbY29udGVudEVkaXRhYmxlPVwiVFJVRVwiXScsXHJcbiAgICAgICAgICAgICdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXhePVwiLVwiXSknLFxyXG4gICAgICAgICAgICAvLyc6bm90KFtkaXNhYmxlZF0pJ1xyXG4gICAgICAgIF0uam9pbignLCcpKSk7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gZm9jdXNhYmxlRWxlbWVudHMuaW5kZXhPZihlbCkgKyBkaXJlY3Rpb247XHJcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICBpbmRleCA9IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID49IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBmb2N1c2FibGVFbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgaWYgKGdyb3VwICYmIGRpcmVjdGlvbiA9PSAtMSkge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9nZXRTcHJpdGVCeUZvY3VzRWxlbWVudCh0YXJnZXRFbGVtZW50KTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQuZ2V0KFwiZm9jdXNhYmxlR3JvdXBcIikgPT0gZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzTmV4dCh0YXJnZXRFbGVtZW50LCBkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldEVsZW1lbnQuZm9jdXMoKTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVCbHVyKGV2KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ExMXlEID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmb2N1c2VkID0gdGhpcy5fZm9jdXNlZFNwcml0ZTtcclxuICAgICAgICBpZiAoZm9jdXNlZCAmJiAhZm9jdXNlZC5pc0Rpc3Bvc2VkKCkgJiYgZm9jdXNlZC5ldmVudHMuaXNFbmFibGVkKFwiYmx1clwiKSkge1xyXG4gICAgICAgICAgICBmb2N1c2VkLmV2ZW50cy5kaXNwYXRjaChcImJsdXJcIiwge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJibHVyXCIsXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogZm9jdXNlZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZm9jdXNlZFNwcml0ZSA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVUb29sdGlwKHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdGV4dCA9ICR1dGlscy5zdHJpcFRhZ3ModGFyZ2V0Ll9nZXRUZXh0KCkpO1xyXG4gICAgICAgIGxldCB0b29sdGlwRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwidG9vbHRpcEVsZW1lbnRcIik7XHJcbiAgICAgICAgaWYgKHRhcmdldC5nZXQoXCJyb2xlXCIpID09IFwidG9vbHRpcFwiICYmIHRleHQgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBpZiAoIXRvb2x0aXBFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRWxlbWVudCA9IHRoaXMuX21ha2VUb29sdGlwRWxlbWVudCh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwRWxlbWVudC5pbm5lckhUTUwgIT0gdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcEVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0b29sdGlwRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCB0YXJnZXQuaXNWaXNpYmxlRGVlcCgpID8gXCJmYWxzZVwiIDogXCJ0cnVlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0b29sdGlwRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0b29sdGlwRWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZVByaXZhdGUoXCJ0b29sdGlwRWxlbWVudFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfbWFrZVRvb2x0aXBFbGVtZW50KHRhcmdldCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX3Rvb2x0aXBFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgICAgIGNvbnN0IHRvb2x0aXBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0b29sdGlwRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICB0b29sdGlwRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiMXB4XCI7XHJcbiAgICAgICAgdG9vbHRpcEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcclxuICAgICAgICB0b29sdGlwRWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgdG9vbHRpcEVsZW1lbnQuc3R5bGUuY2xpcCA9IFwicmVjdCgxcHgsIDFweCwgMXB4LCAxcHgpXCI7XHJcbiAgICAgICAgJHV0aWxzLnNldEludGVyYWN0aXZlKHRvb2x0aXBFbGVtZW50LCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5fZGVjb3JhdGVGb2N1c0VsZW1lbnQodGFyZ2V0LCB0b29sdGlwRWxlbWVudCk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCh0b29sdGlwRWxlbWVudCk7XHJcbiAgICAgICAgdGFyZ2V0LnNldFByaXZhdGUoXCJ0b29sdGlwRWxlbWVudFwiLCB0b29sdGlwRWxlbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgX3JlbW92ZVRvb2x0aXBFbGVtZW50KHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcEVsZW1lbnQgPSB0YXJnZXQuZ2V0UHJpdmF0ZShcInRvb2x0aXBFbGVtZW50XCIpO1xyXG4gICAgICAgIGlmICh0b29sdGlwRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0b29sdGlwRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodG9vbHRpcEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2ludmFsaWRhdGVBY2Nlc3NpYmlsaXR5KHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hMTF5RCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZm9jdXNFbGVtZW50RGlydHkgPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IGZvY3VzRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwiZm9jdXNFbGVtZW50XCIpO1xyXG4gICAgICAgIGlmICh0YXJnZXQuZ2V0KFwiZm9jdXNhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGlmIChmb2N1c0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RlY29yYXRlRm9jdXNFbGVtZW50KHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkZvY3VzRWxlbWVudCh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBcdHRoaXMuX3JlbmRlcmVyLl9tYWtlRm9jdXNFbGVtZW50KDAsIHRoaXMpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZvY3VzRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVGb2N1c0VsZW1lbnQodGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy90aGlzLnVwZGF0ZUN1cnJlbnRGb2N1cygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBjdXJyZW50bHkgZm9jdXNlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICB0YXJnZXQgIFRhcmdldFxyXG4gICAgICogQHJldHVybiAgICAgICAgICBGb2N1c2VkP1xyXG4gICAgICovXHJcbiAgICBmb2N1c2VkKHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb2N1c2VkU3ByaXRlID09PSB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGRvY3VtZW50IGNvb3JkaW5hdGVzIHRvIGNvb3JkaW5hdGVzIHdpdGhpbmcgcm9vdCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHBvaW50ICBEb2N1bWVudCBwb2ludFxyXG4gICAgICogQHJldHVybiAgICAgICAgIFJvb3QgcG9pbnRcclxuICAgICAqL1xyXG4gICAgZG9jdW1lbnRQb2ludFRvUm9vdChwb2ludCkge1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLl9nZXRSZWFsU2l6ZSgpO1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9nZXRDYWxjdWxhdGVkU2l6ZShyZWN0KTtcclxuICAgICAgICBjb25zdCBzY2FsZVdpZHRoID0gc2l6ZS53aWR0aCAvIHJlY3Qud2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVIZWlnaHQgPSBzaXplLmhlaWdodCAvIHJlY3QuaGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IChwb2ludC54IC0gcmVjdC5sZWZ0KSAqIHNjYWxlV2lkdGgsXHJcbiAgICAgICAgICAgIHk6IChwb2ludC55IC0gcmVjdC50b3ApICogc2NhbGVIZWlnaHQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgcm9vdCBjb29yZGluYXRlcyB0byBkb2N1bWVudFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHBvaW50ICBEb2N1bWVudCBwb2ludFxyXG4gICAgICogQHJldHVybiAgICAgICAgIFJvb3QgcG9pbnRcclxuICAgICAqL1xyXG4gICAgcm9vdFBvaW50VG9Eb2N1bWVudChwb2ludCkge1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLl9nZXRSZWFsU2l6ZSgpO1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9nZXRDYWxjdWxhdGVkU2l6ZShyZWN0KTtcclxuICAgICAgICBjb25zdCBzY2FsZVdpZHRoID0gc2l6ZS53aWR0aCAvIHJlY3Qud2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVIZWlnaHQgPSBzaXplLmhlaWdodCAvIHJlY3QuaGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IChwb2ludC54IC8gc2NhbGVXaWR0aCkgKyByZWN0LmxlZnQsXHJcbiAgICAgICAgICAgIHk6IChwb2ludC55IC8gc2NhbGVIZWlnaHQpICsgcmVjdC50b3BcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGFkZERpc3Bvc2VyKGRpc3Bvc2VyKSB7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goZGlzcG9zZXIpO1xyXG4gICAgICAgIHJldHVybiBkaXNwb3NlcjtcclxuICAgIH1cclxuICAgIF91cGRhdGVDb21wdXRlZFN0eWxlcygpIHtcclxuICAgICAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmRvbSk7XHJcbiAgICAgICAgbGV0IGZvbnRIYXNoID0gXCJcIjtcclxuICAgICAgICAkb2JqZWN0LmVhY2goc3R5bGVzLCAoa2V5LCB2YWwpID0+IHtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzU3RyaW5nKGtleSkgJiYga2V5Lm1hdGNoKC9eZm9udC8pKSB7XHJcbiAgICAgICAgICAgICAgICBmb250SGFzaCArPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBjaGFuZ2VkID0gZm9udEhhc2ggIT0gdGhpcy5fZm9udEhhc2g7XHJcbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZm9udEhhc2ggPSBmb250SGFzaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XHJcbiAgICB9XHJcbiAgICBfY2hlY2tDb21wdXRlZFN0eWxlcygpIHtcclxuICAgICAgICBpZiAodGhpcy5fdXBkYXRlQ29tcHV0ZWRTdHlsZXMoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlTGFiZWxCb3VuZHModGhpcy5jb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9pbnZhbGlkYXRlTGFiZWxCb3VuZHModGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB0YXJnZXQuY2hpbGRyZW4uZWFjaCgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVMYWJlbEJvdW5kcyhjaGlsZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBUZXh0KSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRvIGFsbCB0aGUgY2xldmVyIGhlYWRzIG91dCB0aGVyZS4gWWVzLCB3ZSBkaWQgbm90IG1ha2UgYW55IGF0dGVtcHRzIHRvXHJcbiAgICAgKiBzY3JhbWJsZSB0aGlzLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgaXMgYSBwYXJ0IG9mIGEgdG9vbCBtZWFudCBmb3Igb3VyIHVzZXJzIHRvIG1hbmFnZSB0aGVpciBjb21tZXJjaWFsXHJcbiAgICAgKiBsaWNlbnNlcyBmb3IgcmVtb3ZhbCBvZiBhbUNoYXJ0cyBicmFuZGluZyBmcm9tIGNoYXJ0cy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgb25seSBsZWdpdCB3YXkgdG8gZG8gc28gaXMgdG8gcHVyY2hhc2UgYSBjb21tZXJjaWFsIGxpY2Vuc2UgZm9yIGFtQ2hhcnRzOlxyXG4gICAgICogaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL29ubGluZS1zdG9yZS9cclxuICAgICAqXHJcbiAgICAgKiBSZW1vdmluZyBvciBhbHRlcmluZyB0aGlzIGNvZGUsIG9yIGRpc2FibGluZyBhbUNoYXJ0cyBicmFuZGluZyBpbiBhbnkgb3RoZXJcclxuICAgICAqIHdheSBpcyBhZ2FpbnN0IHRoZSBsaWNlbnNlIGFuZCB0aHVzIGlsbGVnYWwuXHJcbiAgICAgKi9cclxuICAgIF9oYXNMaWNlbnNlKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVnaXN0cnkubGljZW5zZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHJlZ2lzdHJ5LmxpY2Vuc2VzW2ldLm1hdGNoKC9eQU01Qy57NSx9L2kpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfbGljZW5zZUFwcGxpZWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xvZ28pIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9nby5zZXQoXCJmb3JjZUhpZGRlblwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0IGRlYnVnR2hvc3RWaWV3KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci5kZWJ1Z0dob3N0VmlldztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBzZXQgZGVidWdHaG9zdFZpZXcodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlci5kZWJ1Z0dob3N0VmlldyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgaWYgeW91IG5lZWQgY2hhcnQgdG8gcmVxdWlyZSBmaXJzdCBhIHRhcCBvbnRvIGl0IGJlZm9yZVxyXG4gICAgICogdG91Y2ggZ2VzdHVyZSByZWxhdGVkIGZ1bmN0aW9uYWxpdHkgbGlrZSB6b29tL3BhbiBpcyB0dXJuZWQgb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkL3Jvb3QtZWxlbWVudC8jVG91Y2hfcmVsYXRlZF9vcHRpb25zfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAgICogQHNpbmNlIDUuMi45XHJcbiAgICAgKiBAcGFyYW0gIHZhbHVlICBOZWVkcyBhIHRhcCB0byBhY3RpdmF0ZSB0b3VjaCBmdW5jdGlvbnNcclxuICAgICAqL1xyXG4gICAgc2V0IHRhcFRvQWN0aXZhdGUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlci50YXBUb0FjdGl2YXRlID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4gTmVlZHMgYSB0YXAgdG8gYWN0aXZhdGUgdG91Y2ggZnVuY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIGdldCB0YXBUb0FjdGl2YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci50YXBUb0FjdGl2YXRlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBgdGFwVG9BY3RpdmF0ZWAgaXMgc2V0IHRvIGB0cnVlYCwgdGhpcyBzZXR0aW5nIHdpbGwgZGV0ZXJtaW5lIG51bWJlclxyXG4gICAgICogb2YgbWlsbGlzZWNvbmRzIHRoZSBjaGFydCB3aWxsIHN0YXkgXCJhY3RpdmVcIiwgYmVmb3JlIHJlbGVhc2luZyB0aGVcclxuICAgICAqIGNvbnRyb2xzIGJhY2sgdG8gdGhlIHBhZ2UuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkL3Jvb3QtZWxlbWVudC8jVG91Y2hfcmVsYXRlZF9vcHRpb25zfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAZGVmYXVsdCAzMDAwXHJcbiAgICAgKiBAc2luY2UgNS4yLjlcclxuICAgICAqIEBwYXJhbSAgdmFsdWUgIFRpbWVvdXRcclxuICAgICAqL1xyXG4gICAgc2V0IHRhcFRvQWN0aXZhdGVUaW1lb3V0KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIudGFwVG9BY3RpdmF0ZVRpbWVvdXQgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiBUaW1lb3V0XHJcbiAgICAgKi9cclxuICAgIGdldCB0YXBUb0FjdGl2YXRlVGltZW91dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZXIudGFwVG9BY3RpdmF0ZVRpbWVvdXQ7XHJcbiAgICB9XHJcbiAgICBfbWFrZUhUTUxFbGVtZW50KHRhcmdldCkge1xyXG4gICAgICAgIC8vIEdldCBjb250YWluZXJcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9odG1sRWxlbWVudENvbnRhaW5lcjtcclxuICAgICAgICAvLyBJbml0XHJcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRhcmdldC5zZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRcIiwgaHRtbEVsZW1lbnQpO1xyXG4gICAgICAgIC8vIFNob3VsZCB3ZSBwdXQgdGhpcyBpbnRvIGEgd3JhcHBlcj9cclxuICAgICAgICBsZXQgbmVlZFdyYXBwZXIgPSBmYWxzZTtcclxuICAgICAgICBsZXQgd3JhcHBlclRhcmdldDtcclxuICAgICAgICB0YXJnZXQuX3dhbGtQYXJlbnRzKChwYXJlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBhcmVudC5nZXQoXCJ2ZXJ0aWNhbFNjcm9sbGJhclwiKSkge1xyXG4gICAgICAgICAgICAgICAgbmVlZFdyYXBwZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlclRhcmdldCA9IHBhcmVudDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBodG1sRWxlbWVudFdyYXBwZXI7XHJcbiAgICAgICAgaWYgKG5lZWRXcmFwcGVyKSB7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIHRhcmdldC5zZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRXcmFwcGVyXCIsIGh0bWxFbGVtZW50V3JhcHBlcik7XHJcbiAgICAgICAgICAgIHRhcmdldC5zZXRQcml2YXRlKFwid3JhcHBlckNvbnRhaW5lclwiLCB3cmFwcGVyVGFyZ2V0KTtcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnRXcmFwcGVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudFdyYXBwZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudFdyYXBwZXIuc3R5bGUuYm94U2l6aW5nID0gXCJib3JkZXItYm94XCI7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50V3JhcHBlci5zdHlsZS50b3AgPSBcIjBweFwiO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudFdyYXBwZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50V3JhcHBlci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudFdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgIHdyYXBwZXJUYXJnZXQuZXZlbnRzLm9uKFwiYm91bmRzY2hhbmdlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkhUTUxFbGVtZW50KHRhcmdldCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2h0bWxFbGVtZW50LnRhYkluZGV4ID0gdGhpcy50YWJpbmRleDtcclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmJveFNpemluZyA9IFwiYm9yZGVyLWJveFwiO1xyXG4gICAgICAgICR1dGlscy5zZXRJbnRlcmFjdGl2ZShodG1sRWxlbWVudCwgdGFyZ2V0LmdldChcImludGVyYWN0aXZlXCIsIGZhbHNlKSk7XHJcbiAgICAgICAgLy8gVHJhbnNsYXRlIGV2ZW50c1xyXG4gICAgICAgIGlmICh0YXJnZXQuZXZlbnRzLmlzRW5hYmxlZChcImNsaWNrXCIpKSB7XHJcbiAgICAgICAgICAgICR1dGlscy5zZXRJbnRlcmFjdGl2ZShodG1sRWxlbWVudCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKGh0bWxFbGVtZW50LCBcImNsaWNrXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG93bkV2ZW50ID0gdGhpcy5fcmVuZGVyZXIuZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmV2ZW50cy5kaXNwYXRjaChcImNsaWNrXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZG93bkV2ZW50LmV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50OiBkb3duRXZlbnQucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb25IVE1MRWxlbWVudCh0YXJnZXQpO1xyXG4gICAgICAgIGlmIChuZWVkV3JhcHBlcikge1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudFdyYXBwZXIuYXBwZW5kKGh0bWxFbGVtZW50KTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChodG1sRWxlbWVudFdyYXBwZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChodG1sRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5wdXNoT25lKHRoaXMuX2h0bWxFbmFibGVkQ29udGFpbmVycywgdGFyZ2V0KTtcclxuICAgICAgICByZXR1cm4gaHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBfcG9zaXRpb25IVE1MRWxlbWVudHMoKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5faHRtbEVuYWJsZWRDb250YWluZXJzLCAodGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uSFRNTEVsZW1lbnQodGFyZ2V0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9wb3NpdGlvbkhUTUxFbGVtZW50KHRhcmdldCkge1xyXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50V3JhcHBlciA9IHRhcmdldC5nZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRXcmFwcGVyXCIpO1xyXG4gICAgICAgIGlmIChodG1sRWxlbWVudFdyYXBwZXIpIHtcclxuICAgICAgICAgICAgY29uc3Qgd3JhcHBlclRhcmdldCA9IHRhcmdldC5nZXRQcml2YXRlKFwid3JhcHBlckNvbnRhaW5lclwiKTtcclxuICAgICAgICAgICAgaWYgKHdyYXBwZXJUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IHdyYXBwZXJUYXJnZXQuZ2xvYmFsQm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudFdyYXBwZXIuc3R5bGUuY2xpcFBhdGggPSBcInJlY3QoXCIgKyBib3VuZHMudG9wICsgXCJweCBcIiArIGJvdW5kcy5yaWdodCArIFwicHggXCIgKyBib3VuZHMuYm90dG9tICsgXCJweCBcIiArIGJvdW5kcy5sZWZ0ICsgXCJweClcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRcIik7XHJcbiAgICAgICAgaWYgKGh0bWxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIFRyYW5zbGF0ZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICBjb25zdCB2aXN1YWxTZXR0aW5ncyA9IFtcclxuICAgICAgICAgICAgICAgIFwicGFkZGluZ1RvcFwiLFxyXG4gICAgICAgICAgICAgICAgXCJwYWRkaW5nUmlnaHRcIixcclxuICAgICAgICAgICAgICAgIFwicGFkZGluZ0JvdHRvbVwiLFxyXG4gICAgICAgICAgICAgICAgXCJwYWRkaW5nTGVmdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJtaW5XaWR0aFwiLFxyXG4gICAgICAgICAgICAgICAgXCJtaW5IZWlnaHRcIixcclxuICAgICAgICAgICAgICAgIFwibWF4V2lkdGhcIixcclxuICAgICAgICAgICAgICAgIFwibWF4SGVpZ2h0XCJcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godmlzdWFsU2V0dGluZ3MsIChzZXR0aW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRhcmdldC5nZXQoc2V0dGluZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZVtzZXR0aW5nXSA9IHZhbHVlICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGVbc2V0dGluZ10gPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3Qgc3RydGluZ1NldHRpbmdzID0gW1xyXG4gICAgICAgICAgICAgICAgXCJmb250RmFtaWx5XCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTaXplXCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250V2VpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250VmFyaWFudFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvblwiXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHN0cnRpbmdTZXR0aW5ncywgKHNldHRpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0LmdldChzZXR0aW5nKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nID09IFwiZm9udFNpemVcIiAmJiAhJHR5cGUuaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlW3NldHRpbmddID0gdmFsdWUgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZVtzZXR0aW5nXSA9IHZhbHVlICsgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZVtzZXR0aW5nXSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBJbml0IGFuZCByZXNldCBzY2FsZSAvIHJvdGF0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGFyZ2V0LmNvbXBvc2l0ZVNjYWxlKCkgfHwgMTtcclxuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0YXJnZXQuY29tcG9zaXRlUm90YXRpb24oKSB8fCAwO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcIlwiO1xyXG4gICAgICAgICAgICAvLyBEZWFsIHdpdGggb3BhY2l0eVxyXG4gICAgICAgICAgICBjb25zdCBvcGFjaXR5ID0gdGFyZ2V0LmNvbXBvc2l0ZU9wYWNpdHkoKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eSArIFwiXCI7XHJcbiAgICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IHRhcmdldC5pc1Zpc2libGVEZWVwKCk7XHJcbiAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERlYWwgd2l0aCBwb3NpdGlvblxyXG4gICAgICAgICAgICAvLyBjb25zdCBib3VuZHMgPSB0YXJnZXQuZ2xvYmFsQm91bmRzKCk7XHJcbiAgICAgICAgICAgIC8vIGh0bWxFbGVtZW50LnN0eWxlLnRvcCA9IChib3VuZHMudG9wKSArIFwicHhcIjtcclxuICAgICAgICAgICAgLy8gaHRtbEVsZW1lbnQuc3R5bGUubGVmdCA9IChib3VuZHMubGVmdCkgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIGxldCBwb3MgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiB0YXJnZXQueCgpICsgdGFyZ2V0LmdldChcImR4XCIsIDApLFxyXG4gICAgICAgICAgICAgICAgeTogdGFyZ2V0LnkoKSArIHRhcmdldC5nZXQoXCJkeVwiLCAwKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcG9zID0gdGFyZ2V0LnBhcmVudC50b0dsb2JhbChwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLnRvcCA9IHBvcy55ICsgXCJweFwiO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5sZWZ0ID0gcG9zLnggKyBcInB4XCI7XHJcbiAgICAgICAgICAgIC8vIFVzZSB3aWR0aC9oZWlnaHQgaWYgdGhvc2UgYXJlIHNldFxyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRhcmdldC5nZXQoXCJ3aWR0aFwiKTtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGFyZ2V0LmdldChcImhlaWdodFwiKTtcclxuICAgICAgICAgICAgbGV0IHcgPSAwO1xyXG4gICAgICAgICAgICBsZXQgaCA9IDA7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgdyA9IHRhcmdldC53aWR0aCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGggPSB0YXJnZXQuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLndpZHRoID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiYm94ID0gaHRtbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICAgICAgICAgIGlmICghd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgdyA9IGJib3gud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICBoID0gYmJveC5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgbHcgPSB3IC8gc2NhbGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGggPSBoIC8gc2NhbGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3ggPSB0YXJnZXQuZ2V0KFwiY2VudGVyWFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGxldCBjeSA9IHRhcmdldC5nZXQoXCJjZW50ZXJZXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxsID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBsciA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgbHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxiID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChjeCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsbCA9IC1jeC52YWx1ZSAqIGx3O1xyXG4gICAgICAgICAgICAgICAgICAgIGxyID0gKDEgLSBjeC52YWx1ZSkgKiBsdztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxsID0gLWN4O1xyXG4gICAgICAgICAgICAgICAgICAgIGxyID0gbHcgLSBjeDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjeSBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsdCA9IC1jeS52YWx1ZSAqIGxoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxiID0gKDEgLSBjeS52YWx1ZSkgKiBsaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGx0ID0gLWN5O1xyXG4gICAgICAgICAgICAgICAgICAgIGxiID0gbGggLSBjeTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRhcmdldC5fbG9jYWxCb3VuZHMgPSB7IGxlZnQ6IGxsLCByaWdodDogbHIsIHRvcDogbHQsIGJvdHRvbTogbGIgfTtcclxuICAgICAgICAgICAgICAgIGxldCBwcmV2aW91c0JvdW5kcyA9IHRhcmdldC5fYWRqdXN0ZWRMb2NhbEJvdW5kcztcclxuICAgICAgICAgICAgICAgIGxldCBuZXdCb3VuZHMgPSB0YXJnZXQuX2Rpc3BsYXkuZ2V0QWRqdXN0ZWRCb3VuZHModGFyZ2V0Ll9sb2NhbEJvdW5kcyk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuX2FkanVzdGVkTG9jYWxCb3VuZHMgPSBuZXdCb3VuZHM7XHJcbiAgICAgICAgICAgICAgICAvLyBjb21wYXJlIGVhY2ggdmFsdWUgb2YgdGhlIGJvdW5kc1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQm91bmRzLmxlZnQgIT09IG5ld0JvdW5kcy5sZWZ0IHx8IHByZXZpb3VzQm91bmRzLnJpZ2h0ICE9PSBuZXdCb3VuZHMucmlnaHQgfHwgcHJldmlvdXNCb3VuZHMudG9wICE9PSBuZXdCb3VuZHMudG9wIHx8IHByZXZpb3VzQm91bmRzLmJvdHRvbSAhPT0gbmV3Qm91bmRzLmJvdHRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodyA+IDApIHtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLm1pbldpZHRoID0gKHcpICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gKGgpICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEhpZGUgb3Igc2hvd1xyXG4gICAgICAgICAgICBpZiAoIXZpc2libGUgfHwgb3BhY2l0eSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ2VudGVyIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IHggPSB0YXJnZXQuZ2V0KFwiY2VudGVyWFwiLCAwKTtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luWCA9IGlzUGVyY2VudCh4KSA/IHgucGVyY2VudCArIFwiJVwiIDogeCArIFwicHhcIjtcclxuICAgICAgICAgICAgY29uc3QgeSA9IHRhcmdldC5nZXQoXCJjZW50ZXJZXCIsIDApO1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5ZID0gaXNQZXJjZW50KHkpID8geS5wZXJjZW50ICsgXCIlXCIgOiB5ICsgXCJweFwiO1xyXG4gICAgICAgICAgICBpZiAoeCB8fCB5KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZSgtXCIgKyBvcmlnaW5YICsgXCIsIC1cIiArIG9yaWdpblkgKyBcIilcIiArIGh0bWxFbGVtZW50LnN0eWxlLnRyYW5zZm9ybTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEZWFsIHdpdGggc2NhbGVcclxuICAgICAgICAgICAgaWYgKHNjYWxlICE9IDEpIHtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSArPSBcInNjYWxlKFwiICsgc2NhbGUgKyBcIilcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocm90YXRpb24gIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtICs9IFwiIHJvdGF0ZShcIiArIHJvdGF0aW9uICsgXCJkZWcpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGh0bWxFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBvcmlnaW5YICsgXCIgXCIgKyBvcmlnaW5ZO1xyXG4gICAgICAgICAgICAgICAgLy9odG1sRWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcIjAlIDAlXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0SFRNTENvbnRlbnQodGFyZ2V0LCBodG1sKSB7XHJcbiAgICAgICAgbGV0IGh0bWxFbGVtZW50ID0gdGFyZ2V0LmdldFByaXZhdGUoXCJodG1sRWxlbWVudFwiKTtcclxuICAgICAgICBpZiAoIWh0bWxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50ID0gdGhpcy5fbWFrZUhUTUxFbGVtZW50KHRhcmdldCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hdXRvUmVzaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChodG1sRWxlbWVudC5pbm5lckhUTUwgIT0gaHRtbCkge1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9yZW1vdmVIVE1MQ29udGVudCh0YXJnZXQpIHtcclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudFdyYXBwZXIgPSB0YXJnZXQuZ2V0UHJpdmF0ZShcImh0bWxFbGVtZW50V3JhcHBlclwiKTtcclxuICAgICAgICBjb25zdCBodG1sRWxlbWVudCA9IHRhcmdldC5nZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRcIik7XHJcbiAgICAgICAgaWYgKGh0bWxFbGVtZW50V3JhcHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9odG1sRWxlbWVudENvbnRhaW5lci5yZW1vdmVDaGlsZChodG1sRWxlbWVudFdyYXBwZXIpO1xyXG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlUHJpdmF0ZShcImh0bWxFbGVtZW50XCIpO1xyXG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlUHJpdmF0ZShcImh0bWxFbGVtZW50V3JhcHBlclwiKTtcclxuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZVByaXZhdGUoXCJ3cmFwcGVyQ29udGFpbmVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChodG1sRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9odG1sRWxlbWVudENvbnRhaW5lci5yZW1vdmVDaGlsZChodG1sRWxlbWVudCk7XHJcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVQcml2YXRlKFwiaHRtbEVsZW1lbnRcIik7XHJcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVQcml2YXRlKFwid3JhcHBlckNvbnRhaW5lclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LnJlbW92ZSh0aGlzLl9odG1sRW5hYmxlZENvbnRhaW5lcnMsIHRhcmdldCk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um9vdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Root.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js":
/*!******************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/Theme.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Theme: () => (/* binding */ Theme)\n/* harmony export */ });\n/* harmony import */ var _util_Template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _util_Order__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/Order */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n\r\n/**\r\n * A base class for an amCharts theme.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n * @important\r\n */\r\nclass Theme {\r\n    constructor(root, isReal) {\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rules\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._root = root;\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root) {\r\n        const x = (new this(root, true));\r\n        x.setupDefaultRules();\r\n        return x;\r\n    }\r\n    setupDefaultRules() { }\r\n    /**\r\n     * Looks up the rules for a specific theme class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @return             Array<IRule<A>>\r\n     */\r\n    _lookupRules(themeClass) {\r\n        return this._rules[themeClass];\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * NOTE: the difference from `rule()` is that `ruleRaw()` does not do any\r\n     * type checks.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    ruleRaw(themeClass, themeTags = []) {\r\n        let rules = this._rules[themeClass];\r\n        if (!rules) {\r\n            rules = this._rules[themeClass] = [];\r\n        }\r\n        themeTags.sort(_util_Order__WEBPACK_IMPORTED_MODULE_0__.compare);\r\n        const { index, found } = _util_Array__WEBPACK_IMPORTED_MODULE_1__.getSortedIndex(rules, (x) => {\r\n            const order = _util_Order__WEBPACK_IMPORTED_MODULE_0__.compare(x.tags.length, themeTags.length);\r\n            if (order === 0) {\r\n                return _util_Order__WEBPACK_IMPORTED_MODULE_0__.compareArray(x.tags, themeTags, _util_Order__WEBPACK_IMPORTED_MODULE_0__.compare);\r\n            }\r\n            else {\r\n                return order;\r\n            }\r\n        });\r\n        if (found) {\r\n            return rules[index].template;\r\n        }\r\n        else {\r\n            const template = _util_Template__WEBPACK_IMPORTED_MODULE_2__.Template.new({});\r\n            rules.splice(index, 0, {\r\n                tags: themeTags,\r\n                template,\r\n            });\r\n            return template;\r\n        }\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    rule(themeClass, themeTags = []) {\r\n        return this.ruleRaw(themeClass, themeTags);\r\n    }\r\n}\r\n//# sourceMappingURL=Theme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9UaGVtZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ0o7QUFDQTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUF5RDtBQUNsRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBNEU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQWdEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQWdEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBYztBQUNyQyxnQkFBZ0IsZUFBZSxFQUFFLHVEQUFxQjtBQUN0RCwwQkFBMEIsZ0RBQWM7QUFDeEM7QUFDQSx1QkFBdUIscURBQW1CLG9CQUFvQixnREFBYztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvREFBUSxPQUFPO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFnRDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvVGhlbWUuanM/ZTBjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZW1wbGF0ZSB9IGZyb20gXCIuL3V0aWwvVGVtcGxhdGVcIjtcclxuaW1wb3J0ICogYXMgJG9yZGVyIGZyb20gXCIuL3V0aWwvT3JkZXJcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuL3V0aWwvQXJyYXlcIjtcclxuLyoqXHJcbiAqIEEgYmFzZSBjbGFzcyBmb3IgYW4gYW1DaGFydHMgdGhlbWUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3RoZW1lcy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRoZW1lIHtcclxuICAgIGNvbnN0cnVjdG9yKHJvb3QsIGlzUmVhbCkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yb290XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ydWxlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3Jvb3QgPSByb290O1xyXG4gICAgICAgIGlmICghaXNSZWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgdXNlIGBuZXcgQ2xhc3MoKWAsIGluc3RlYWQgdXNlIGBDbGFzcy5uZXcoKWBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkLyNOZXdfZWxlbWVudF9zeW50YXh9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIHJvb3QgICAgICBSb290IGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSAgIHNldHRpbmdzICBTZXR0aW5nc1xyXG4gICAgICogQHBhcmFtICAgdGVtcGxhdGUgIFRlbXBsYXRlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgSW5zdGFudGlhdGVkIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbmV3KHJvb3QpIHtcclxuICAgICAgICBjb25zdCB4ID0gKG5ldyB0aGlzKHJvb3QsIHRydWUpKTtcclxuICAgICAgICB4LnNldHVwRGVmYXVsdFJ1bGVzKCk7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcbiAgICBzZXR1cERlZmF1bHRSdWxlcygpIHsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb29rcyB1cCB0aGUgcnVsZXMgZm9yIGEgc3BlY2lmaWMgdGhlbWUgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvdGhlbWVzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAgdGhlbWVDbGFzcyBUaGVtZSBjbGFzc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICBBcnJheTxJUnVsZTxBPj5cclxuICAgICAqL1xyXG4gICAgX2xvb2t1cFJ1bGVzKHRoZW1lQ2xhc3MpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcnVsZXNbdGhlbWVDbGFzc107XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBbW1RlbXBsYXRlXV0gZm9yIHNwZWNpZmljIHRoZW1lIGNsYXNzIGFuZCB0YWdzLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IHRoZSBkaWZmZXJlbmNlIGZyb20gYHJ1bGUoKWAgaXMgdGhhdCBgcnVsZVJhdygpYCBkb2VzIG5vdCBkbyBhbnlcclxuICAgICAqIHR5cGUgY2hlY2tzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L3RoZW1lcy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIHRoZW1lQ2xhc3MgVGhlbWUgY2xhc3NcclxuICAgICAqIEBwYXJhbSAgIHRoZW1lVGFncyAgVGhlbWUgdGFnc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICBUZW1wbGF0ZVxyXG4gICAgICovXHJcbiAgICBydWxlUmF3KHRoZW1lQ2xhc3MsIHRoZW1lVGFncyA9IFtdKSB7XHJcbiAgICAgICAgbGV0IHJ1bGVzID0gdGhpcy5fcnVsZXNbdGhlbWVDbGFzc107XHJcbiAgICAgICAgaWYgKCFydWxlcykge1xyXG4gICAgICAgICAgICBydWxlcyA9IHRoaXMuX3J1bGVzW3RoZW1lQ2xhc3NdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoZW1lVGFncy5zb3J0KCRvcmRlci5jb21wYXJlKTtcclxuICAgICAgICBjb25zdCB7IGluZGV4LCBmb3VuZCB9ID0gJGFycmF5LmdldFNvcnRlZEluZGV4KHJ1bGVzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmRlciA9ICRvcmRlci5jb21wYXJlKHgudGFncy5sZW5ndGgsIHRoZW1lVGFncy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBpZiAob3JkZXIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkb3JkZXIuY29tcGFyZUFycmF5KHgudGFncywgdGhlbWVUYWdzLCAkb3JkZXIuY29tcGFyZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZm91bmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJ1bGVzW2luZGV4XS50ZW1wbGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gVGVtcGxhdGUubmV3KHt9KTtcclxuICAgICAgICAgICAgcnVsZXMuc3BsaWNlKGluZGV4LCAwLCB7XHJcbiAgICAgICAgICAgICAgICB0YWdzOiB0aGVtZVRhZ3MsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBbW1RlbXBsYXRlXV0gZm9yIHNwZWNpZmljIHRoZW1lIGNsYXNzIGFuZCB0YWdzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L3RoZW1lcy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIHRoZW1lQ2xhc3MgVGhlbWUgY2xhc3NcclxuICAgICAqIEBwYXJhbSAgIHRoZW1lVGFncyAgVGhlbWUgdGFnc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICBUZW1wbGF0ZVxyXG4gICAgICovXHJcbiAgICBydWxlKHRoZW1lQ2xhc3MsIHRoZW1lVGFncyA9IFtdKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucnVsZVJhdyh0aGVtZUNsYXNzLCB0aGVtZVRhZ3MpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRoZW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Bullet.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Bullet.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bullet: () => (/* binding */ Bullet)\n/* harmony export */ });\n/* harmony import */ var _core_util_Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n\r\n/**\r\n * A universal placeholder for bullet elements.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n */\r\nclass Bullet extends _core_util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        // used by MapPolygons where one data item can have multiple bullets of the same kind\r\n        Object.defineProperty(this, \"_index\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Target series object if it's a bullet for series.\r\n         */\r\n        Object.defineProperty(this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        // Applying themes because bullet will not have parent\r\n        super._afterNewApplyThemes();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"sprite\")) {\r\n            const sprite = this.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite.setAll({ position: \"absolute\", role: \"figure\" });\r\n                this._disposers.push(sprite);\r\n            }\r\n        }\r\n        if (this.isDirty(\"locationX\") || this.isDirty(\"locationY\")) {\r\n            if (this.series) {\r\n                this.series._positionBullet(this);\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Bullet, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Bullet\"\r\n});\r\nObject.defineProperty(Bullet, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([Bullet.className])\r\n});\r\n//# sourceMappingURL=Bullet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQnVsbGV0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMEVBQTBFO0FBQ25GO0FBQ08scUJBQXFCLHFEQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzQ0FBc0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxREFBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL0J1bGxldC5qcz81ZTZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvRW50aXR5XCI7XHJcbi8qKlxyXG4gKiBBIHVuaXZlcnNhbCBwbGFjZWhvbGRlciBmb3IgYnVsbGV0IGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvYnVsbGV0cy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICAvLyB1c2VkIGJ5IE1hcFBvbHlnb25zIHdoZXJlIG9uZSBkYXRhIGl0ZW0gY2FuIGhhdmUgbXVsdGlwbGUgYnVsbGV0cyBvZiB0aGUgc2FtZSBraW5kXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2luZGV4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRhcmdldCBzZXJpZXMgb2JqZWN0IGlmIGl0J3MgYSBidWxsZXQgZm9yIHNlcmllcy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXJpZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgLy8gQXBwbHlpbmcgdGhlbWVzIGJlY2F1c2UgYnVsbGV0IHdpbGwgbm90IGhhdmUgcGFyZW50XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3QXBwbHlUaGVtZXMoKTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInNwcml0ZVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLnNldEFsbCh7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHJvbGU6IFwiZmlndXJlXCIgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChzcHJpdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJsb2NhdGlvblhcIikgfHwgdGhpcy5pc0RpcnR5KFwibG9jYXRpb25ZXCIpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlcmllcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXJpZXMuX3Bvc2l0aW9uQnVsbGV0KHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWxsZXQsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkJ1bGxldFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnVsbGV0LCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IEVudGl0eS5jbGFzc05hbWVzLmNvbmNhdChbQnVsbGV0LmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWxsZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Bullet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button)\n/* harmony export */ });\n/* harmony import */ var _render_RoundedRectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../render/RoundedRectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js\");\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n/**\r\n * Draws an interactive button.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/buttons/} for more info\r\n * @important\r\n */\r\nclass Button extends _Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    _afterNew() {\r\n        this._settings.themeTags = _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__.mergeTags(this._settings.themeTags, [\"button\"]);\r\n        super._afterNew();\r\n        if (!this._settings.background) {\r\n            this.set(\"background\", _render_RoundedRectangle__WEBPACK_IMPORTED_MODULE_2__.RoundedRectangle.new(this._root, {\r\n                themeTags: _core_util_Utils__WEBPACK_IMPORTED_MODULE_1__.mergeTags(this._settings.themeTags, [\"background\"])\r\n            }));\r\n        }\r\n        this.setPrivate(\"trustBounds\", true);\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"icon\")) {\r\n            const previous = this._prevSettings.icon;\r\n            const icon = this.get(\"icon\");\r\n            if (icon !== previous) {\r\n                this._disposeProperty(\"icon\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (icon) {\r\n                    this.children.push(icon);\r\n                }\r\n                this._prevSettings.icon = icon;\r\n            }\r\n        }\r\n        if (this.isDirty(\"label\")) {\r\n            const previous = this._prevSettings.label;\r\n            const label = this.get(\"label\");\r\n            if (label !== previous) {\r\n                this._disposeProperty(\"label\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (label) {\r\n                    this.children.push(label);\r\n                }\r\n                this._prevSettings.label = label;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Button, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Button\"\r\n});\r\nObject.defineProperty(Button, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([Button.className])\r\n});\r\n//# sourceMappingURL=Button.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQnV0dG9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEQ7QUFDdEI7QUFDUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBFQUEwRTtBQUNuRjtBQUNBO0FBQ08scUJBQXFCLGlEQUFTO0FBQ3JDO0FBQ0EsbUNBQW1DLHVEQUFnQjtBQUNuRDtBQUNBO0FBQ0EsbUNBQW1DLHNFQUFnQjtBQUNuRCwyQkFBMkIsdURBQWdCO0FBQzNDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQVM7QUFDcEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9CdXR0b24uanM/Y2ZmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3VuZGVkUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL3JlbmRlci9Sb3VuZGVkUmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9VdGlsc1wiO1xyXG4vKipcclxuICogRHJhd3MgYW4gaW50ZXJhY3RpdmUgYnV0dG9uLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvYnV0dG9ucy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENvbnRhaW5lciB7XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzID0gJHV0aWxzLm1lcmdlVGFncyh0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MsIFtcImJ1dHRvblwiXSk7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zZXR0aW5ncy5iYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KFwiYmFja2dyb3VuZFwiLCBSb3VuZGVkUmVjdGFuZ2xlLm5ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZVRhZ3M6ICR1dGlscy5tZXJnZVRhZ3ModGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzLCBbXCJiYWNrZ3JvdW5kXCJdKVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcInRydXN0Qm91bmRzXCIsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImljb25cIikpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9wcmV2U2V0dGluZ3MuaWNvbjtcclxuICAgICAgICAgICAgY29uc3QgaWNvbiA9IHRoaXMuZ2V0KFwiaWNvblwiKTtcclxuICAgICAgICAgICAgaWYgKGljb24gIT09IHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlUHJvcGVydHkoXCJpY29uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGljb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goaWNvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2U2V0dGluZ3MuaWNvbiA9IGljb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImxhYmVsXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5fcHJldlNldHRpbmdzLmxhYmVsO1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuZ2V0KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCAhPT0gcHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VQcm9wZXJ0eShcImxhYmVsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxhYmVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZTZXR0aW5ncy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXR0b24sIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkJ1dHRvblwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnV0dG9uLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IENvbnRhaW5lci5jbGFzc05hbWVzLmNvbmNhdChbQnV0dG9uLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdXR0b24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Circle.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Circle.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Circle: () => (/* binding */ Circle)\n/* harmony export */ });\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n\r\n/**\r\n * Draws a circle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass Circle extends _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.isMeasured = true;\r\n        this.setPrivateRaw(\"trustBounds\", true);\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"radius\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this._display.drawCircle(0, 0, Math.abs(this.get(\"radius\", 10)));\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Circle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Circle\"\r\n});\r\nObject.defineProperty(Circle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([Circle.className])\r\n});\r\n//# sourceMappingURL=Circle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ2lyY2xlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQTJFO0FBQ3BGO0FBQ0E7QUFDTyxxQkFBcUIsK0NBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVE7QUFDbkIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9DaXJjbGUuanM/YzQ4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gXCIuL0dyYXBoaWNzXCI7XHJcbi8qKlxyXG4gKiBEcmF3cyBhIGNpcmNsZS5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29tbW9uLWVsZW1lbnRzL2dyYXBoaWNzL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2lyY2xlIGV4dGVuZHMgR3JhcGhpY3Mge1xyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuaXNNZWFzdXJlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwidHJ1c3RCb3VuZHNcIiwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBfYmVmb3JlQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYmVmb3JlQ2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJyYWRpdXNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9jaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9jaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NsZWFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZHJhd0NpcmNsZSgwLCAwLCBNYXRoLmFicyh0aGlzLmdldChcInJhZGl1c1wiLCAxMCkpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENpcmNsZSwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiQ2lyY2xlXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaXJjbGUsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogR3JhcGhpY3MuY2xhc3NOYW1lcy5jb25jYXQoW0NpcmNsZS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2lyY2xlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Circle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Component: () => (/* binding */ Component),\n/* harmony export */   DataItem: () => (/* binding */ DataItem)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _util_Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _util_Data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Data */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Object__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A base element that holds data bit (data item) for any [[Component]].\r\n */\r\nclass DataItem extends _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Settings {\r\n    constructor(component, dataContext, settings) {\r\n        super(settings);\r\n        /**\r\n         * A data item's owener [[Component]].\r\n         */\r\n        Object.defineProperty(this, \"component\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A reference to actual item in source data this item is based on.\r\n         */\r\n        Object.defineProperty(this, \"dataContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * @todo requires description\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"open\" values.\r\n         */\r\n        Object.defineProperty(this, \"open\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"close\" values.\r\n         */\r\n        Object.defineProperty(this, \"close\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.dataContext = dataContext;\r\n        this.component = component;\r\n        this._settings.visible = true;\r\n        this._checkDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this.component.markDirtyValues(this);\r\n    }\r\n    _startAnimation() {\r\n        this.component._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this.component._root.animationTime;\r\n    }\r\n    _dispose() {\r\n        if (this.component) {\r\n            this.component.disposeDataItem(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    /**\r\n     * Shows a data item that's currently hidden.\r\n     */\r\n    show(duration) {\r\n        this.setRaw(\"visible\", true);\r\n        if (this.component) {\r\n            this.component.showDataItem(this, duration);\r\n        }\r\n    }\r\n    /**\r\n     * Hides a data item that's currently visible.\r\n     */\r\n    hide(duration) {\r\n        this.setRaw(\"visible\", false);\r\n        if (this.component) {\r\n            this.component.hideDataItem(this, duration);\r\n        }\r\n    }\r\n    isHidden() {\r\n        return !this.get(\"visible\");\r\n    }\r\n}\r\n/**\r\n * A base class for elements that make use of data.\r\n */\r\nclass Component extends _Container__WEBPACK_IMPORTED_MODULE_1__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_data\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Data__WEBPACK_IMPORTED_MODULE_2__.ListData()\r\n        });\r\n        Object.defineProperty(this, \"_dataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mainDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._dataItems\r\n        });\r\n        Object.defineProperty(this, \"valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\"id\"]\r\n        });\r\n        Object.defineProperty(this, \"_valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueFieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataChanged\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates if the component has already been initialized.\r\n         */\r\n        Object.defineProperty(this, \"inited\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    /**\r\n     * Component's data.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n     */\r\n    set data(data) {\r\n        data.incrementRef();\r\n        this._data.decrementRef();\r\n        this._data = data;\r\n    }\r\n    /**\r\n     * @return  Data\r\n     */\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._data.decrementRef();\r\n    }\r\n    _onDataClear() {\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._data.incrementRef();\r\n        this._updateFields();\r\n        this._disposers.push(this.data.events.onAll((change) => {\r\n            const dataItems = this._mainDataItems;\r\n            this.markDirtyValues();\r\n            this._markDirtyGroup();\r\n            this._dataChanged = true;\r\n            if (change.type === \"clear\") {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(dataItems, (dataItem) => {\r\n                    dataItem.dispose();\r\n                });\r\n                dataItems.length = 0;\r\n                this._onDataClear();\r\n            }\r\n            else if (change.type === \"push\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.push(dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                const properties = this._makeDataItem(change.newValue);\r\n                if (dataItem.bullets && dataItem.bullets.length == 0) {\r\n                    dataItem.bullets = undefined;\r\n                }\r\n                _util_Object__WEBPACK_IMPORTED_MODULE_4__.keys(properties).forEach((key) => {\r\n                    dataItem.animate({\r\n                        key: key,\r\n                        to: properties[key],\r\n                        duration: this.get(\"interpolationDuration\", 0),\r\n                        easing: this.get(\"interpolationEasing\"),\r\n                    });\r\n                });\r\n                dataItem.dataContext = change.newValue;\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                const dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\r\n                dataItems.splice(change.index, 0, dataItem);\r\n                this.processDataItem(dataItem);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                const dataItem = dataItems[change.index];\r\n                dataItem.dispose();\r\n                dataItems.splice(change.index, 1);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                const dataItem = dataItems[change.oldIndex];\r\n                dataItems.splice(change.oldIndex, 1);\r\n                dataItems.splice(change.newIndex, 0, dataItem);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n            this._afterDataChange();\r\n        }));\r\n    }\r\n    _updateFields() {\r\n        if (this.valueFields) {\r\n            this._valueFields = [];\r\n            this._valueFieldsF = {};\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(this.valueFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueFields.push(key);\r\n                    this._valueFieldsF[key] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\r\n                }\r\n            });\r\n        }\r\n        if (this.fields) {\r\n            this._fields = [];\r\n            this._fieldsF = {};\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(this.fields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._fields.push(key);\r\n                    this._fieldsF[key] = key + \"Field\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * A list of component's data items.\r\n     *\r\n     * @return  Data items\r\n     */\r\n    get dataItems() {\r\n        return this._dataItems;\r\n    }\r\n    processDataItem(_dataItem) { }\r\n    _makeDataItem(data) {\r\n        //const output: this[\"_dataItemSettings\"] = {};\r\n        const output = {}; // temporary to solve error\r\n        if (this._valueFields) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(this._valueFields, (key) => {\r\n                const field = this.get((this._valueFieldsF[key].fieldKey));\r\n                output[key] = data[field];\r\n                output[this._valueFieldsF[key].workingKey] = output[key];\r\n            });\r\n        }\r\n        if (this._fields) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(this._fields, (key) => {\r\n                const field = this.get((this._fieldsF[key]));\r\n                output[key] = data[field];\r\n            });\r\n        }\r\n        return output;\r\n    }\r\n    /**\r\n     * Creates a new data item and processes it.\r\n     *\r\n     * @param   data         Data item settings\r\n     * @param   dataContext  Data context\r\n     * @return               New data item\r\n     */\r\n    makeDataItem(data, dataContext) {\r\n        let dataItem = new DataItem(this, dataContext, data);\r\n        this.processDataItem(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * Adds new explicit data item to series.\r\n     *\r\n     * @param   data         Data item settings\r\n     * @param   dataContext  Data context\r\n     * @return               New data item\r\n     */\r\n    pushDataItem(data, dataContext) {\r\n        const dataItem = this.makeDataItem(data, dataContext);\r\n        this._mainDataItems.push(dataItem);\r\n        return dataItem;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(_dataItem) {\r\n    }\r\n    /**\r\n     * Shows component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    showDataItem(dataItem, _duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", true);\r\n        });\r\n    }\r\n    /**\r\n     * Hides component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    hideDataItem(dataItem, _duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(this, void 0, void 0, function* () {\r\n            dataItem.set(\"visible\", false);\r\n        });\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._valuesDirty = false;\r\n    }\r\n    _afterDataChange() {\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._dataChanged) {\r\n            const type = \"datavalidated\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n            this._dataChanged = false;\r\n        }\r\n        this.inited = true;\r\n    }\r\n    /**\r\n     * Forces a repaint of the element which relies on data.\r\n     *\r\n     * @since 5.0.21\r\n     */\r\n    markDirtyValues(_dataItem) {\r\n        this.markDirty();\r\n        this._valuesDirty = true;\r\n    }\r\n    _markDirtyGroup() {\r\n        this._dataGrouped = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n}\r\nObject.defineProperty(Component, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Component\"\r\n});\r\nObject.defineProperty(Component, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Container__WEBPACK_IMPORTED_MODULE_1__.Container.classNames.concat([Component.className])\r\n});\r\n//# sourceMappingURL=Component.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ29tcG9uZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWtDO0FBQ1E7QUFDRjtBQUNBO0FBQ0E7QUFDRTtBQUMxQztBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsa0RBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsaURBQVM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFRO0FBQy9CLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdURBQXVEO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZDQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOENBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDBCQUEwQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ29tcG9uZW50LmpzP2VmZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWwvRW50aXR5XCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBMaXN0RGF0YSB9IGZyb20gXCIuLi91dGlsL0RhdGFcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4uL3V0aWwvT2JqZWN0XCI7XHJcbi8qKlxyXG4gKiBBIGJhc2UgZWxlbWVudCB0aGF0IGhvbGRzIGRhdGEgYml0IChkYXRhIGl0ZW0pIGZvciBhbnkgW1tDb21wb25lbnRdXS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEYXRhSXRlbSBleHRlbmRzIFNldHRpbmdzIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCwgZGF0YUNvbnRleHQsIHNldHRpbmdzKSB7XHJcbiAgICAgICAgc3VwZXIoc2V0dGluZ3MpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgZGF0YSBpdGVtJ3Mgb3dlbmVyIFtbQ29tcG9uZW50XV0uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29tcG9uZW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIGFjdHVhbCBpdGVtIGluIHNvdXJjZSBkYXRhIHRoaXMgaXRlbSBpcyBiYXNlZCBvbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkYXRhQ29udGV4dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAdG9kbyByZXF1aXJlcyBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJ1bGxldHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBzZXQgb2YgXCJvcGVuXCIgdmFsdWVzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBzZXQgb2YgXCJjbG9zZVwiIHZhbHVlcy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbG9zZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRhdGFDb250ZXh0ID0gZGF0YUNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tEaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1hcmtEaXJ0eSgpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudC5tYXJrRGlydHlWYWx1ZXModGhpcyk7XHJcbiAgICB9XHJcbiAgICBfc3RhcnRBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQuX3Jvb3QuX2FkZEFuaW1hdGlvbih0aGlzKTtcclxuICAgIH1cclxuICAgIF9hbmltYXRpb25UaW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5fcm9vdC5hbmltYXRpb25UaW1lO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmRpc3Bvc2VEYXRhSXRlbSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX2Rpc3Bvc2UoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2hvd3MgYSBkYXRhIGl0ZW0gdGhhdCdzIGN1cnJlbnRseSBoaWRkZW4uXHJcbiAgICAgKi9cclxuICAgIHNob3coZHVyYXRpb24pIHtcclxuICAgICAgICB0aGlzLnNldFJhdyhcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LnNob3dEYXRhSXRlbSh0aGlzLCBkdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyBhIGRhdGEgaXRlbSB0aGF0J3MgY3VycmVudGx5IHZpc2libGUuXHJcbiAgICAgKi9cclxuICAgIGhpZGUoZHVyYXRpb24pIHtcclxuICAgICAgICB0aGlzLnNldFJhdyhcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5oaWRlRGF0YUl0ZW0odGhpcywgZHVyYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlzSGlkZGVuKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5nZXQoXCJ2aXNpYmxlXCIpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIGJhc2UgY2xhc3MgZm9yIGVsZW1lbnRzIHRoYXQgbWFrZSB1c2Ugb2YgZGF0YS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb21wb25lbnQgZXh0ZW5kcyBDb250YWluZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGF0YVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTGlzdERhdGEoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kYXRhSXRlbXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbWFpbkRhdGFJdGVtc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9kYXRhSXRlbXNcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZUZpZWxkc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpZWxkc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXCJpZFwiXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl92YWx1ZUZpZWxkc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdmFsdWVGaWVsZHNGXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9maWVsZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZpZWxkc0ZcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ZhbHVlc0RpcnR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RhdGFDaGFuZ2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RhdGFHcm91cGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBjb21wb25lbnQgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0ZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50J3MgZGF0YS5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9kYXRhL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICovXHJcbiAgICBzZXQgZGF0YShkYXRhKSB7XHJcbiAgICAgICAgZGF0YS5pbmNyZW1lbnRSZWYoKTtcclxuICAgICAgICB0aGlzLl9kYXRhLmRlY3JlbWVudFJlZigpO1xyXG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJuICBEYXRhXHJcbiAgICAgKi9cclxuICAgIGdldCBkYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuX2Rpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLl9kYXRhLmRlY3JlbWVudFJlZigpO1xyXG4gICAgfVxyXG4gICAgX29uRGF0YUNsZWFyKCkge1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgICAgIHRoaXMuX2RhdGEuaW5jcmVtZW50UmVmKCk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlRmllbGRzKCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5kYXRhLmV2ZW50cy5vbkFsbCgoY2hhbmdlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtcyA9IHRoaXMuX21haW5EYXRhSXRlbXM7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5VmFsdWVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eUdyb3VwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGFDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSBcImNsZWFyXCIpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGRhdGFJdGVtcywgKGRhdGFJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbXMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uRGF0YUNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicHVzaFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IG5ldyBEYXRhSXRlbSh0aGlzLCBjaGFuZ2UubmV3VmFsdWUsIHRoaXMuX21ha2VEYXRhSXRlbShjaGFuZ2UubmV3VmFsdWUpKTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtcy5wdXNoKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0RhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJzZXRJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IGRhdGFJdGVtc1tjaGFuZ2UuaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IHRoaXMuX21ha2VEYXRhSXRlbShjaGFuZ2UubmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtLmJ1bGxldHMgJiYgZGF0YUl0ZW0uYnVsbGV0cy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLmJ1bGxldHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkb2JqZWN0LmtleXMocHJvcGVydGllcykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogcHJvcGVydGllc1trZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5nZXQoXCJpbnRlcnBvbGF0aW9uRHVyYXRpb25cIiwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogdGhpcy5nZXQoXCJpbnRlcnBvbGF0aW9uRWFzaW5nXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5kYXRhQ29udGV4dCA9IGNoYW5nZS5uZXdWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJpbnNlcnRJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IG5ldyBEYXRhSXRlbSh0aGlzLCBjaGFuZ2UubmV3VmFsdWUsIHRoaXMuX21ha2VEYXRhSXRlbShjaGFuZ2UubmV3VmFsdWUpKTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtcy5zcGxpY2UoY2hhbmdlLmluZGV4LCAwLCBkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NEYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicmVtb3ZlSW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBkYXRhSXRlbXNbY2hhbmdlLmluZGV4XTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtcy5zcGxpY2UoY2hhbmdlLmluZGV4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJtb3ZlSW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBkYXRhSXRlbXNbY2hhbmdlLm9sZEluZGV4XTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtcy5zcGxpY2UoY2hhbmdlLm9sZEluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIGRhdGFJdGVtcy5zcGxpY2UoY2hhbmdlLm5ld0luZGV4LCAwLCBkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIElTdHJlYW1FdmVudCB0eXBlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyRGF0YUNoYW5nZSgpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIF91cGRhdGVGaWVsZHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmFsdWVGaWVsZHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWVGaWVsZHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWVGaWVsZHNGID0ge307XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMudmFsdWVGaWVsZHMsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5nZXQoKGtleSArIFwiRmllbGRcIikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVGaWVsZHMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlRmllbGRzRltrZXldID0geyBmaWVsZEtleToga2V5ICsgXCJGaWVsZFwiLCB3b3JraW5nS2V5OiBrZXkgKyBcIldvcmtpbmdcIiB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZmllbGRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpZWxkcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9maWVsZHNGID0ge307XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuZmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZ2V0KChrZXkgKyBcIkZpZWxkXCIpKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpZWxkcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmllbGRzRltrZXldID0ga2V5ICsgXCJGaWVsZFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgbGlzdCBvZiBjb21wb25lbnQncyBkYXRhIGl0ZW1zLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gIERhdGEgaXRlbXNcclxuICAgICAqL1xyXG4gICAgZ2V0IGRhdGFJdGVtcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YUl0ZW1zO1xyXG4gICAgfVxyXG4gICAgcHJvY2Vzc0RhdGFJdGVtKF9kYXRhSXRlbSkgeyB9XHJcbiAgICBfbWFrZURhdGFJdGVtKGRhdGEpIHtcclxuICAgICAgICAvL2NvbnN0IG91dHB1dDogdGhpc1tcIl9kYXRhSXRlbVNldHRpbmdzXCJdID0ge307XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307IC8vIHRlbXBvcmFyeSB0byBzb2x2ZSBlcnJvclxyXG4gICAgICAgIGlmICh0aGlzLl92YWx1ZUZpZWxkcykge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl92YWx1ZUZpZWxkcywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmdldCgodGhpcy5fdmFsdWVGaWVsZHNGW2tleV0uZmllbGRLZXkpKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gZGF0YVtmaWVsZF07XHJcbiAgICAgICAgICAgICAgICBvdXRwdXRbdGhpcy5fdmFsdWVGaWVsZHNGW2tleV0ud29ya2luZ0tleV0gPSBvdXRwdXRba2V5XTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9maWVsZHMpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fZmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZ2V0KCh0aGlzLl9maWVsZHNGW2tleV0pKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gZGF0YVtmaWVsZF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGRhdGEgaXRlbSBhbmQgcHJvY2Vzc2VzIGl0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGRhdGEgICAgICAgICBEYXRhIGl0ZW0gc2V0dGluZ3NcclxuICAgICAqIEBwYXJhbSAgIGRhdGFDb250ZXh0ICBEYXRhIGNvbnRleHRcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICAgICBOZXcgZGF0YSBpdGVtXHJcbiAgICAgKi9cclxuICAgIG1ha2VEYXRhSXRlbShkYXRhLCBkYXRhQ29udGV4dCkge1xyXG4gICAgICAgIGxldCBkYXRhSXRlbSA9IG5ldyBEYXRhSXRlbSh0aGlzLCBkYXRhQ29udGV4dCwgZGF0YSk7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzRGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIHJldHVybiBkYXRhSXRlbTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBuZXcgZXhwbGljaXQgZGF0YSBpdGVtIHRvIHNlcmllcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkYXRhICAgICAgICAgRGF0YSBpdGVtIHNldHRpbmdzXHJcbiAgICAgKiBAcGFyYW0gICBkYXRhQ29udGV4dCAgRGF0YSBjb250ZXh0XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgICAgTmV3IGRhdGEgaXRlbVxyXG4gICAgICovXHJcbiAgICBwdXNoRGF0YUl0ZW0oZGF0YSwgZGF0YUNvbnRleHQpIHtcclxuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHRoaXMubWFrZURhdGFJdGVtKGRhdGEsIGRhdGFDb250ZXh0KTtcclxuICAgICAgICB0aGlzLl9tYWluRGF0YUl0ZW1zLnB1c2goZGF0YUl0ZW0pO1xyXG4gICAgICAgIHJldHVybiBkYXRhSXRlbTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlRGF0YUl0ZW0oX2RhdGFJdGVtKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIGNvbXBvbmVudCdzIGRhdGEgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkYXRhSXRlbSAgIERhdGEgaXRlbVxyXG4gICAgICogQHBhcmFtICAgX2R1cmF0aW9uICBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgc2hvd0RhdGFJdGVtKGRhdGFJdGVtLCBfZHVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBkYXRhSXRlbS5zZXQoXCJ2aXNpYmxlXCIsIHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyBjb21wb25lbnQncyBkYXRhIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgZGF0YUl0ZW0gICBEYXRhIGl0ZW1cclxuICAgICAqIEBwYXJhbSAgIF9kdXJhdGlvbiAgQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICBQcm9taXNlXHJcbiAgICAgKi9cclxuICAgIGhpZGVEYXRhSXRlbShkYXRhSXRlbSwgX2R1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgZGF0YUl0ZW0uc2V0KFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfY2xlYXJEaXJ0eSgpIHtcclxuICAgICAgICBzdXBlci5fY2xlYXJEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlc0RpcnR5ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJEYXRhQ2hhbmdlKCkge1xyXG4gICAgfVxyXG4gICAgX2FmdGVyQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RhdGFDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcImRhdGF2YWxpZGF0ZWRcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZGF0YUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGb3JjZXMgYSByZXBhaW50IG9mIHRoZSBlbGVtZW50IHdoaWNoIHJlbGllcyBvbiBkYXRhLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSA1LjAuMjFcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5VmFsdWVzKF9kYXRhSXRlbSkge1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzRGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgX21hcmtEaXJ0eUdyb3VwKCkge1xyXG4gICAgICAgIHRoaXMuX2RhdGFHcm91cGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5U2l6ZSgpIHtcclxuICAgICAgICB0aGlzLl9zaXplRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiQ29tcG9uZW50XCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQ29udGFpbmVyLmNsYXNzTmFtZXMuY29uY2F0KFtDb21wb25lbnQuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbXBvbmVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Container: () => (/* binding */ Container)\n/* harmony export */ });\n/* harmony import */ var _util_Children__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Children */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _Sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sprite */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\");\n/* harmony import */ var _Rectangle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n/* harmony import */ var _HorizontalLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HorizontalLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js\");\n/* harmony import */ var _VerticalLayout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./VerticalLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js\");\n/* harmony import */ var _GridLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GridLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js\");\n/* harmony import */ var _util_PopulateString__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../util/PopulateString */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A basic element that can have child elements, maintain their layout, and\r\n * have a background.\r\n *\r\n * It can have any [[Sprite]] element as a child, from very basic shapes, to\r\n * full-fledged charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n * @important\r\n */\r\nclass Container extends _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeContainer()\r\n        });\r\n        Object.defineProperty(this, \"_childrenDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeContainer()\r\n        });\r\n        /**\r\n         * List of Container's child elements.\r\n         */\r\n        Object.defineProperty(this, \"children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Children__WEBPACK_IMPORTED_MODULE_1__.Children(this)\r\n        });\r\n        Object.defineProperty(this, \"_percentageSizeChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_percentagePositionChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_prevWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_prevHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_vsbd0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_vsbd1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.addChild(this._childrenDisplay);\r\n    }\r\n    _dispose() {\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.eachReverse(this.allChildren(), (child) => {\r\n            child.dispose();\r\n        });\r\n        if (this.getPrivate(\"htmlElement\")) {\r\n            this._root._removeHTMLContent(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"interactiveChildren\")) {\r\n            this._display.interactiveChildren = this.get(\"interactiveChildren\", false);\r\n        }\r\n        if (this.isDirty(\"layout\")) {\r\n            this._prevWidth = 0;\r\n            this._prevHeight = 0;\r\n            this.markDirtyBounds();\r\n            if (this._prevSettings.layout) {\r\n                this.children.each((child) => {\r\n                    child.removePrivate(\"x\");\r\n                    child.removePrivate(\"y\");\r\n                });\r\n            }\r\n        }\r\n        if (this.isDirty(\"paddingTop\") || this.isDirty(\"paddingBottom\") || this.isDirty(\"paddingLeft\") || this.isDirty(\"paddingRight\")) {\r\n            this.children.each((child) => {\r\n                child.markDirtyPosition();\r\n            });\r\n        }\r\n        if (this.isDirty(\"maskContent\")) {\r\n            const childrenDisplay = this._childrenDisplay;\r\n            let contentMask = this._contentMask;\r\n            if (this.get(\"maskContent\")) {\r\n                if (!contentMask) {\r\n                    contentMask = _Rectangle__WEBPACK_IMPORTED_MODULE_3__.Rectangle.new(this._root, {\r\n                        x: -.5,\r\n                        y: -.5,\r\n                        width: this.width() + 1,\r\n                        height: this.height() + 1\r\n                    });\r\n                    this._contentMask = contentMask;\r\n                    childrenDisplay.addChildAt(contentMask._display, 0);\r\n                    childrenDisplay.mask = contentMask._display;\r\n                }\r\n            }\r\n            else {\r\n                if (contentMask) {\r\n                    childrenDisplay.removeChild(contentMask._display);\r\n                    childrenDisplay.mask = null;\r\n                    contentMask.dispose();\r\n                    this._contentMask = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateSize() {\r\n        super._updateSize();\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._percentageSizeChildren, (child) => {\r\n            child._updateSize();\r\n        });\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._percentagePositionChildren, (child) => {\r\n            child.markDirtyPosition();\r\n            child._updateSize();\r\n        });\r\n        this.updateBackground();\r\n    }\r\n    updateBackground() {\r\n        const background = this.get(\"background\");\r\n        let bounds = this._localBounds;\r\n        if (bounds && !this.isHidden()) {\r\n            let x = bounds.left;\r\n            let y = bounds.top;\r\n            let w = bounds.right - x;\r\n            let h = bounds.bottom - y;\r\n            let maxWidth = this.get(\"maxWidth\");\r\n            let maxHeight = this.get(\"maxHeight\");\r\n            if (maxHeight) {\r\n                if (h > maxHeight) {\r\n                    h = maxHeight;\r\n                }\r\n            }\r\n            if (maxWidth) {\r\n                if (w > maxWidth) {\r\n                    w = maxWidth;\r\n                }\r\n            }\r\n            let width = this.width();\r\n            let height = this.height();\r\n            if (background) {\r\n                background.setAll({ width: w, height: h, x: x, y: y });\r\n                if (this._display.interactive) {\r\n                    background._display.interactive = true;\r\n                }\r\n            }\r\n            const contentMask = this._contentMask;\r\n            if (contentMask) {\r\n                contentMask.setAll({ width: width + 1, height: height + 1 });\r\n            }\r\n            const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                verticalScrollbar.set(\"height\", height);\r\n                verticalScrollbar.set(\"x\", width - verticalScrollbar.width() - verticalScrollbar.get(\"marginRight\", 0));\r\n                verticalScrollbar.set(\"end\", verticalScrollbar.get(\"start\", 0) + height / this._contentHeight);\r\n                const bg = verticalScrollbar.get(\"background\");\r\n                if (bg) {\r\n                    bg.setAll({ width: verticalScrollbar.width(), height: height });\r\n                }\r\n                let visible = true;\r\n                if (this._contentHeight <= height) {\r\n                    visible = false;\r\n                }\r\n                verticalScrollbar.setPrivate(\"visible\", visible);\r\n            }\r\n        }\r\n    }\r\n    _applyThemes(force = false) {\r\n        if (super._applyThemes(force)) {\r\n            this.eachChildren((child) => {\r\n                child._applyThemes(force);\r\n            });\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    _applyState(name) {\r\n        super._applyState(name);\r\n        if (this.get(\"setStateOnChildren\")) {\r\n            this.eachChildren((child) => {\r\n                child.states.apply(name);\r\n            });\r\n        }\r\n    }\r\n    _applyStateAnimated(name, duration) {\r\n        super._applyStateAnimated(name, duration);\r\n        if (this.get(\"setStateOnChildren\")) {\r\n            this.eachChildren((child) => {\r\n                child.states.applyAnimate(name, duration);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Returns container's inner width (width without padding) in pixels.\r\n     *\r\n     * @return Inner width (px)\r\n     */\r\n    innerWidth() {\r\n        return this.width() - this.get(\"paddingRight\", 0) - this.get(\"paddingLeft\", 0);\r\n    }\r\n    /**\r\n     * Returns container's inner height (height without padding) in pixels.\r\n     *\r\n     * @return Inner height (px)\r\n     */\r\n    innerHeight() {\r\n        return this.height() - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0);\r\n    }\r\n    _getBounds() {\r\n        if (!this.get(\"html\")) {\r\n            let width = this.get(\"width\");\r\n            let height = this.get(\"height\");\r\n            let pWidth = this.getPrivate(\"width\");\r\n            let pHeight = this.getPrivate(\"height\");\r\n            let bounds = {\r\n                left: 0,\r\n                top: 0,\r\n                right: this.width(),\r\n                bottom: this.height()\r\n            };\r\n            let layout = this.get(\"layout\");\r\n            let horizontal = false;\r\n            let vertical = false;\r\n            if (layout instanceof _HorizontalLayout__WEBPACK_IMPORTED_MODULE_4__.HorizontalLayout || layout instanceof _GridLayout__WEBPACK_IMPORTED_MODULE_5__.GridLayout) {\r\n                horizontal = true;\r\n            }\r\n            if (layout instanceof _VerticalLayout__WEBPACK_IMPORTED_MODULE_6__.VerticalLayout) {\r\n                vertical = true;\r\n            }\r\n            if ((width != null || pWidth != null) && (height != null || pHeight != null) && !this.get(\"verticalScrollbar\")) {\r\n                // void\r\n            }\r\n            else {\r\n                let m = Number.MAX_VALUE;\r\n                let l = m;\r\n                let r = -m;\r\n                let t = m;\r\n                let b = -m;\r\n                const paddingLeft = this.get(\"paddingLeft\", 0);\r\n                const paddingTop = this.get(\"paddingTop\", 0);\r\n                const paddingRight = this.get(\"paddingRight\", 0);\r\n                const paddingBottom = this.get(\"paddingBottom\", 0);\r\n                this.children.each((child) => {\r\n                    if (child.get(\"position\") != \"absolute\" && child.get(\"isMeasured\")) {\r\n                        let childBounds = child.adjustedLocalBounds();\r\n                        let childX = child.x();\r\n                        let childY = child.y();\r\n                        let cl = childX + childBounds.left;\r\n                        let cr = childX + childBounds.right;\r\n                        let ct = childY + childBounds.top;\r\n                        let cb = childY + childBounds.bottom;\r\n                        if (horizontal) {\r\n                            cl -= child.get(\"marginLeft\", 0);\r\n                            cr += child.get(\"marginRight\", 0);\r\n                        }\r\n                        if (vertical) {\r\n                            ct -= child.get(\"marginTop\", 0);\r\n                            cb += child.get(\"marginBottom\", 0);\r\n                        }\r\n                        if (cl < l) {\r\n                            l = cl;\r\n                        }\r\n                        if (cr > r) {\r\n                            r = cr;\r\n                        }\r\n                        if (ct < t) {\r\n                            t = ct;\r\n                        }\r\n                        if (cb > b) {\r\n                            b = cb;\r\n                        }\r\n                    }\r\n                });\r\n                if (l == m) {\r\n                    l = 0;\r\n                }\r\n                if (r == -m) {\r\n                    r = 0;\r\n                }\r\n                if (t == m) {\r\n                    t = 0;\r\n                }\r\n                if (b == -m) {\r\n                    b = 0;\r\n                }\r\n                bounds.left = l - paddingLeft;\r\n                bounds.top = t - paddingTop;\r\n                bounds.right = r + paddingRight;\r\n                bounds.bottom = b + paddingBottom;\r\n                const minWidth = this.get(\"minWidth\");\r\n                if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(minWidth) && minWidth > 0) {\r\n                    if (bounds.right - bounds.left < minWidth) {\r\n                        if (bounds.right >= minWidth) {\r\n                            bounds.left = bounds.right - minWidth;\r\n                        }\r\n                        else {\r\n                            bounds.right = bounds.left + minWidth;\r\n                        }\r\n                    }\r\n                }\r\n                const minHeight = this.get(\"minHeight\");\r\n                if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(minHeight) && minHeight > 0) {\r\n                    if (bounds.bottom - bounds.top < minHeight) {\r\n                        if (bounds.bottom >= minHeight) {\r\n                            bounds.top = bounds.bottom - minHeight;\r\n                        }\r\n                        else {\r\n                            bounds.bottom = bounds.top + minHeight;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._contentWidth = bounds.right - bounds.left;\r\n            this._contentHeight = bounds.bottom - bounds.top;\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(width)) {\r\n                bounds.left = 0;\r\n                bounds.right = width;\r\n            }\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(pWidth)) {\r\n                bounds.left = 0;\r\n                bounds.right = pWidth;\r\n            }\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(height)) {\r\n                bounds.top = 0;\r\n                bounds.bottom = height;\r\n            }\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_7__.isNumber(pHeight)) {\r\n                bounds.top = 0;\r\n                bounds.bottom = pHeight;\r\n            }\r\n            this._localBounds = bounds;\r\n        }\r\n        else {\r\n            let bounds = this._localBounds;\r\n            if (bounds) {\r\n                this._contentWidth = bounds.right - bounds.left;\r\n                this._contentHeight = bounds.bottom - bounds.top;\r\n            }\r\n        }\r\n    }\r\n    _updateBounds() {\r\n        const layout = this.get(\"layout\");\r\n        if (layout) {\r\n            layout.updateContainer(this);\r\n        }\r\n        super._updateBounds();\r\n        this.updateBackground();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        super.markDirty();\r\n        this._root._addDirtyParent(this);\r\n    }\r\n    _prepareChildren() {\r\n        const innerWidth = this.innerWidth();\r\n        const innerHeight = this.innerHeight();\r\n        if (innerWidth != this._prevWidth || innerHeight != this._prevHeight) {\r\n            let layout = this.get(\"layout\");\r\n            let horizontal = false;\r\n            let vertical = false;\r\n            if (layout) {\r\n                if (layout instanceof _HorizontalLayout__WEBPACK_IMPORTED_MODULE_4__.HorizontalLayout || layout instanceof _GridLayout__WEBPACK_IMPORTED_MODULE_5__.GridLayout) {\r\n                    horizontal = true;\r\n                }\r\n                if (layout instanceof _VerticalLayout__WEBPACK_IMPORTED_MODULE_6__.VerticalLayout) {\r\n                    vertical = true;\r\n                }\r\n            }\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._percentageSizeChildren, (child) => {\r\n                if (!horizontal) {\r\n                    let width = child.get(\"width\");\r\n                    if (width instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_8__.Percent) {\r\n                        child.setPrivate(\"width\", width.value * innerWidth);\r\n                    }\r\n                }\r\n                if (!vertical) {\r\n                    let height = child.get(\"height\");\r\n                    if (height instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_8__.Percent) {\r\n                        child.setPrivate(\"height\", height.value * innerHeight);\r\n                    }\r\n                }\r\n            });\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._percentagePositionChildren, (child) => {\r\n                child.markDirtyPosition();\r\n                child.markDirtyBounds();\r\n            });\r\n            this._prevWidth = innerWidth;\r\n            this._prevHeight = innerHeight;\r\n            this._sizeDirty = true;\r\n            this.updateBackground();\r\n        }\r\n        this._handleStates();\r\n    }\r\n    _updateHTMLContent() {\r\n        const html = this.get(\"html\", \"\");\r\n        if (html && html !== \"\") {\r\n            this._root._setHTMLContent(this, (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_9__.populateString)(this, html));\r\n        }\r\n        else {\r\n            this._root._removeHTMLContent(this);\r\n        }\r\n        this._root._positionHTMLElement(this);\r\n    }\r\n    /**\r\n     * If scrolling is enabled on the Container (by adding `verticalScrollbar`)\r\n     * the Container will scroll in such way so that target element becomes\r\n     * visible if its currently outside of view.\r\n     *\r\n     * @param  child  Target child\r\n     * @since 5.10.5\r\n     */\r\n    scrollToChild(child) {\r\n        const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n        if (verticalScrollbar) {\r\n            let y = child.y();\r\n            let h = this.innerHeight();\r\n            let ch = child.height();\r\n            let contentH = this._contentHeight;\r\n            let max = 1 - (h - ch / 2) / contentH;\r\n            if (y + ch * .7 + this._childrenDisplay.y > h || y - ch * .3 + this._childrenDisplay.y < 0) {\r\n                let pos = Math.max(0, Math.min(max, (y - ch / 2) / contentH));\r\n                verticalScrollbar.animate({ key: \"start\", to: pos, duration: verticalScrollbar.get(\"animationDuration\", 0), easing: verticalScrollbar.get(\"animationEasing\") });\r\n            }\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        if (this.isDirty(\"html\")) {\r\n            this._updateHTMLContent();\r\n        }\r\n        if (this.isDirty(\"verticalScrollbar\")) {\r\n            const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                verticalScrollbar._setParent(this);\r\n                verticalScrollbar.startGrip.setPrivate(\"visible\", false);\r\n                verticalScrollbar.endGrip.setPrivate(\"visible\", false);\r\n                this.set(\"maskContent\", true);\r\n                this.set(\"paddingRight\", verticalScrollbar.width() + verticalScrollbar.get(\"marginRight\", 0) + verticalScrollbar.get(\"marginLeft\", 0));\r\n                let background = this.get(\"background\");\r\n                if (!background) {\r\n                    background = this.set(\"background\", _Rectangle__WEBPACK_IMPORTED_MODULE_3__.Rectangle.new(this._root, {\r\n                        themeTags: [\"background\"],\r\n                        fillOpacity: 0,\r\n                        fill: this._root.interfaceColors.get(\"alternativeBackground\")\r\n                    }));\r\n                }\r\n                this._vsbd0 = this.events.on(\"wheel\", (event) => {\r\n                    const wheelEvent = event.originalEvent;\r\n                    // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n                    // some page element is over the chart.\r\n                    if (_util_Utils__WEBPACK_IMPORTED_MODULE_10__.isLocalEvent(wheelEvent, this)) {\r\n                        wheelEvent.preventDefault();\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                    let shiftY = wheelEvent.deltaY / 5000;\r\n                    const start = verticalScrollbar.get(\"start\", 0);\r\n                    const end = verticalScrollbar.get(\"end\", 1);\r\n                    if (start + shiftY <= 0) {\r\n                        shiftY = -start;\r\n                    }\r\n                    if (end + shiftY >= 1) {\r\n                        shiftY = 1 - end;\r\n                    }\r\n                    if (start + shiftY >= 0 && end + shiftY <= 1) {\r\n                        verticalScrollbar.set(\"start\", start + shiftY);\r\n                        verticalScrollbar.set(\"end\", end + shiftY);\r\n                    }\r\n                });\r\n                this._disposers.push(this._vsbd0);\r\n                this._vsbd1 = verticalScrollbar.events.on(\"rangechanged\", () => {\r\n                    let h = this._contentHeight;\r\n                    const childrenDisplay = this._childrenDisplay;\r\n                    const contentMask = this._contentMask;\r\n                    childrenDisplay.y = -verticalScrollbar.get(\"start\", 0) * h;\r\n                    childrenDisplay.markDirtyLayer();\r\n                    if (contentMask) {\r\n                        contentMask._display.y = -childrenDisplay.y;\r\n                        childrenDisplay.mask = contentMask._display;\r\n                    }\r\n                });\r\n                this._disposers.push(this._vsbd1);\r\n                this._display.addChild(verticalScrollbar._display);\r\n            }\r\n            else {\r\n                const previous = this._prevSettings.verticalScrollbar;\r\n                if (previous) {\r\n                    this._display.removeChild(previous._display);\r\n                    if (this._vsbd0) {\r\n                        this._vsbd0.dispose();\r\n                    }\r\n                    if (this._vsbd1) {\r\n                        this._vsbd1.dispose();\r\n                    }\r\n                    const childrenDisplay = this._childrenDisplay;\r\n                    childrenDisplay.y = 0;\r\n                    this.setPrivate(\"height\", undefined);\r\n                    this.set(\"maskContent\", false);\r\n                    this.set(\"paddingRight\", undefined);\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"background\")) {\r\n            // TODO maybe this should dispose ?\r\n            const previous = this._prevSettings[\"background\"];\r\n            if (previous) {\r\n                this._display.removeChild(previous._display);\r\n            }\r\n            const background = this.get(\"background\");\r\n            if (background instanceof _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite) {\r\n                background.set(\"isMeasured\", false);\r\n                background._setParent(this);\r\n                this._display.addChildAt(background._display, 0);\r\n            }\r\n        }\r\n        if (this.isDirty(\"mask\")) {\r\n            const mask = this.get(\"mask\");\r\n            const previous = this._prevSettings[\"mask\"];\r\n            if (previous) {\r\n                this._display.removeChild(previous._display);\r\n                if (previous != mask) {\r\n                    previous.dispose();\r\n                }\r\n            }\r\n            if (mask) {\r\n                const parent = mask.parent;\r\n                if (parent) {\r\n                    parent.children.removeValue(mask);\r\n                }\r\n                mask._setParent(this);\r\n                this._display.addChildAt(mask._display, 0);\r\n                this._childrenDisplay.mask = mask._display;\r\n            }\r\n        }\r\n    }\r\n    _processTemplateField() {\r\n        super._processTemplateField();\r\n        this.children.each((child) => {\r\n            child._processTemplateField();\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    walkChildren(f) {\r\n        this.children.each((child) => {\r\n            if (child instanceof Container) {\r\n                child.walkChildren(f);\r\n            }\r\n            f(child);\r\n        });\r\n    }\r\n    eachChildren(f) {\r\n        const background = this.get(\"background\");\r\n        if (background) {\r\n            f(background);\r\n        }\r\n        const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n        if (verticalScrollbar) {\r\n            f(verticalScrollbar);\r\n        }\r\n        const mask = this.get(\"mask\");\r\n        if (mask) {\r\n            f(mask);\r\n        }\r\n        this.children.values.forEach((child) => {\r\n            f(child);\r\n        });\r\n    }\r\n    allChildren() {\r\n        const output = [];\r\n        this.eachChildren((x) => {\r\n            output.push(x);\r\n        });\r\n        return output;\r\n    }\r\n    _setDataItem(dataItem) {\r\n        const updated = (dataItem !== this._dataItem);\r\n        super._setDataItem(dataItem);\r\n        const html = this.get(\"html\", \"\");\r\n        if (html && html !== \"\" && updated) {\r\n            this._root._setHTMLContent(this, (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_9__.populateString)(this, html));\r\n        }\r\n    }\r\n    contentWidth() {\r\n        return this._contentWidth;\r\n    }\r\n    contentHeight() {\r\n        return this._contentHeight;\r\n    }\r\n}\r\nObject.defineProperty(Container, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Container\"\r\n});\r\nObject.defineProperty(Container, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite.classNames.concat([Container.className])\r\n});\r\n//# sourceMappingURL=Container.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvQ29udGFpbmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE0QztBQUNGO0FBQ1I7QUFDTTtBQUNjO0FBQ0o7QUFDUjtBQUNjO0FBQ2hCO0FBQ0Y7QUFDRTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkVBQTZFO0FBQ3RGO0FBQ0E7QUFDTyx3QkFBd0IsMkNBQU07QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvREFBUTtBQUMvQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBa0I7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGlEQUFTO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNULFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQ0FBaUM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNDQUFzQztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtEQUFrRDtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywrREFBZ0Isc0JBQXNCLG1EQUFVO0FBQ2xGO0FBQ0E7QUFDQSxrQ0FBa0MsMkRBQWM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0RBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0RBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywrREFBZ0Isc0JBQXNCLG1EQUFVO0FBQ3RGO0FBQ0E7QUFDQSxzQ0FBc0MsMkRBQWM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0EseUNBQXlDLGtEQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsa0RBQU87QUFDakQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxvRUFBYztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0lBQWtJO0FBQzlLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsaURBQVM7QUFDakU7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDJDQUFNO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxvRUFBYztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL0NvbnRhaW5lci5qcz9jNDkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoaWxkcmVuIH0gZnJvbSBcIi4uL3V0aWwvQ2hpbGRyZW5cIjtcclxuaW1wb3J0IHsgUGVyY2VudCB9IGZyb20gXCIuLi91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSBcIi4vU3ByaXRlXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuL1JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsTGF5b3V0IH0gZnJvbSBcIi4vSG9yaXpvbnRhbExheW91dFwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbExheW91dCB9IGZyb20gXCIuL1ZlcnRpY2FsTGF5b3V0XCI7XHJcbmltcG9ydCB7IEdyaWRMYXlvdXQgfSBmcm9tIFwiLi9HcmlkTGF5b3V0XCI7XHJcbmltcG9ydCB7IHBvcHVsYXRlU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWwvUG9wdWxhdGVTdHJpbmdcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi91dGlsL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi91dGlsL1V0aWxzXCI7XHJcbi8qKlxyXG4gKiBBIGJhc2ljIGVsZW1lbnQgdGhhdCBjYW4gaGF2ZSBjaGlsZCBlbGVtZW50cywgbWFpbnRhaW4gdGhlaXIgbGF5b3V0LCBhbmRcclxuICogaGF2ZSBhIGJhY2tncm91bmQuXHJcbiAqXHJcbiAqIEl0IGNhbiBoYXZlIGFueSBbW1Nwcml0ZV1dIGVsZW1lbnQgYXMgYSBjaGlsZCwgZnJvbSB2ZXJ5IGJhc2ljIHNoYXBlcywgdG9cclxuICogZnVsbC1mbGVkZ2VkIGNoYXJ0cy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29tbW9uLWVsZW1lbnRzL2NvbnRhaW5lcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb250YWluZXIgZXh0ZW5kcyBTcHJpdGUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcGxheVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9yb290Ll9yZW5kZXJlci5tYWtlQ29udGFpbmVyKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2hpbGRyZW5EaXNwbGF5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3Jvb3QuX3JlbmRlcmVyLm1ha2VDb250YWluZXIoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIExpc3Qgb2YgQ29udGFpbmVyJ3MgY2hpbGQgZWxlbWVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hpbGRyZW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IENoaWxkcmVuKHRoaXMpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BlcmNlbnRhZ2VTaXplQ2hpbGRyZW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGVyY2VudGFnZVBvc2l0aW9uQ2hpbGRyZW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHJldldpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcHJldkhlaWdodFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvbnRlbnRXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvbnRlbnRIZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jb250ZW50TWFza1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdnNiZDBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ZzYmQxXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuYWRkQ2hpbGQodGhpcy5fY2hpbGRyZW5EaXNwbGF5KTtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgICRhcnJheS5lYWNoUmV2ZXJzZSh0aGlzLmFsbENoaWxkcmVuKCksIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBjaGlsZC5kaXNwb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UHJpdmF0ZShcImh0bWxFbGVtZW50XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuX3JlbW92ZUhUTUxDb250ZW50KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgfVxyXG4gICAgX2NoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2NoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaW50ZXJhY3RpdmVDaGlsZHJlblwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmludGVyYWN0aXZlQ2hpbGRyZW4gPSB0aGlzLmdldChcImludGVyYWN0aXZlQ2hpbGRyZW5cIiwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwibGF5b3V0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXZXaWR0aCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXZIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcHJldlNldHRpbmdzLmxheW91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5lYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZVByaXZhdGUoXCJ4XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZVByaXZhdGUoXCJ5XCIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInBhZGRpbmdUb3BcIikgfHwgdGhpcy5pc0RpcnR5KFwicGFkZGluZ0JvdHRvbVwiKSB8fCB0aGlzLmlzRGlydHkoXCJwYWRkaW5nTGVmdFwiKSB8fCB0aGlzLmlzRGlydHkoXCJwYWRkaW5nUmlnaHRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5lYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQubWFya0RpcnR5UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJtYXNrQ29udGVudFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbkRpc3BsYXkgPSB0aGlzLl9jaGlsZHJlbkRpc3BsYXk7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50TWFzayA9IHRoaXMuX2NvbnRlbnRNYXNrO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJtYXNrQ29udGVudFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb250ZW50TWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRNYXNrID0gUmVjdGFuZ2xlLm5ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IC0uNSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogLS41LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCgpICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCgpICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRNYXNrID0gY29udGVudE1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5EaXNwbGF5LmFkZENoaWxkQXQoY29udGVudE1hc2suX2Rpc3BsYXksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuRGlzcGxheS5tYXNrID0gY29udGVudE1hc2suX2Rpc3BsYXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudE1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbkRpc3BsYXkucmVtb3ZlQ2hpbGQoY29udGVudE1hc2suX2Rpc3BsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuRGlzcGxheS5tYXNrID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50TWFzay5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29udGVudE1hc2sgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlU2l6ZSgpIHtcclxuICAgICAgICBzdXBlci5fdXBkYXRlU2l6ZSgpO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3BlcmNlbnRhZ2VTaXplQ2hpbGRyZW4sIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBjaGlsZC5fdXBkYXRlU2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3BlcmNlbnRhZ2VQb3NpdGlvbkNoaWxkcmVuLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgY2hpbGQubWFya0RpcnR5UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgY2hpbGQuX3VwZGF0ZVNpemUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUJhY2tncm91bmQoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUJhY2tncm91bmQoKSB7XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuZ2V0KFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICBsZXQgYm91bmRzID0gdGhpcy5fbG9jYWxCb3VuZHM7XHJcbiAgICAgICAgaWYgKGJvdW5kcyAmJiAhdGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gYm91bmRzLmxlZnQ7XHJcbiAgICAgICAgICAgIGxldCB5ID0gYm91bmRzLnRvcDtcclxuICAgICAgICAgICAgbGV0IHcgPSBib3VuZHMucmlnaHQgLSB4O1xyXG4gICAgICAgICAgICBsZXQgaCA9IGJvdW5kcy5ib3R0b20gLSB5O1xyXG4gICAgICAgICAgICBsZXQgbWF4V2lkdGggPSB0aGlzLmdldChcIm1heFdpZHRoXCIpO1xyXG4gICAgICAgICAgICBsZXQgbWF4SGVpZ2h0ID0gdGhpcy5nZXQoXCJtYXhIZWlnaHRcIik7XHJcbiAgICAgICAgICAgIGlmIChtYXhIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoID4gbWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaCA9IG1heEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWF4V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh3ID4gbWF4V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB3ID0gbWF4V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHdpZHRoID0gdGhpcy53aWR0aCgpO1xyXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcclxuICAgICAgICAgICAgaWYgKGJhY2tncm91bmQpIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0QWxsKHsgd2lkdGg6IHcsIGhlaWdodDogaCwgeDogeCwgeTogeSB9KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwbGF5LmludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC5fZGlzcGxheS5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY29udGVudE1hc2sgPSB0aGlzLl9jb250ZW50TWFzaztcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnRNYXNrKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50TWFzay5zZXRBbGwoeyB3aWR0aDogd2lkdGggKyAxLCBoZWlnaHQ6IGhlaWdodCArIDEgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdmVydGljYWxTY3JvbGxiYXIgPSB0aGlzLmdldChcInZlcnRpY2FsU2Nyb2xsYmFyXCIpO1xyXG4gICAgICAgICAgICBpZiAodmVydGljYWxTY3JvbGxiYXIpIHtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyLnNldChcImhlaWdodFwiLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWxTY3JvbGxiYXIuc2V0KFwieFwiLCB3aWR0aCAtIHZlcnRpY2FsU2Nyb2xsYmFyLndpZHRoKCkgLSB2ZXJ0aWNhbFNjcm9sbGJhci5nZXQoXCJtYXJnaW5SaWdodFwiLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbGJhci5zZXQoXCJlbmRcIiwgdmVydGljYWxTY3JvbGxiYXIuZ2V0KFwic3RhcnRcIiwgMCkgKyBoZWlnaHQgLyB0aGlzLl9jb250ZW50SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJnID0gdmVydGljYWxTY3JvbGxiYXIuZ2V0KFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChiZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJnLnNldEFsbCh7IHdpZHRoOiB2ZXJ0aWNhbFNjcm9sbGJhci53aWR0aCgpLCBoZWlnaHQ6IGhlaWdodCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCB2aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb250ZW50SGVpZ2h0IDw9IGhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyLnNldFByaXZhdGUoXCJ2aXNpYmxlXCIsIHZpc2libGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FwcGx5VGhlbWVzKGZvcmNlID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoc3VwZXIuX2FwcGx5VGhlbWVzKGZvcmNlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVhY2hDaGlsZHJlbigoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNoaWxkLl9hcHBseVRoZW1lcyhmb3JjZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYXBwbHlTdGF0ZShuYW1lKSB7XHJcbiAgICAgICAgc3VwZXIuX2FwcGx5U3RhdGUobmFtZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwic2V0U3RhdGVPbkNoaWxkcmVuXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWFjaENoaWxkcmVuKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuc3RhdGVzLmFwcGx5KG5hbWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYXBwbHlTdGF0ZUFuaW1hdGVkKG5hbWUsIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIuX2FwcGx5U3RhdGVBbmltYXRlZChuYW1lLCBkdXJhdGlvbik7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwic2V0U3RhdGVPbkNoaWxkcmVuXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWFjaENoaWxkcmVuKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuc3RhdGVzLmFwcGx5QW5pbWF0ZShuYW1lLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBjb250YWluZXIncyBpbm5lciB3aWR0aCAod2lkdGggd2l0aG91dCBwYWRkaW5nKSBpbiBwaXhlbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBJbm5lciB3aWR0aCAocHgpXHJcbiAgICAgKi9cclxuICAgIGlubmVyV2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGgoKSAtIHRoaXMuZ2V0KFwicGFkZGluZ1JpZ2h0XCIsIDApIC0gdGhpcy5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBjb250YWluZXIncyBpbm5lciBoZWlnaHQgKGhlaWdodCB3aXRob3V0IHBhZGRpbmcpIGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIElubmVyIGhlaWdodCAocHgpXHJcbiAgICAgKi9cclxuICAgIGlubmVySGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodCgpIC0gdGhpcy5nZXQoXCJwYWRkaW5nVG9wXCIsIDApIC0gdGhpcy5nZXQoXCJwYWRkaW5nQm90dG9tXCIsIDApO1xyXG4gICAgfVxyXG4gICAgX2dldEJvdW5kcygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0KFwiaHRtbFwiKSkge1xyXG4gICAgICAgICAgICBsZXQgd2lkdGggPSB0aGlzLmdldChcIndpZHRoXCIpO1xyXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5nZXQoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgICAgIGxldCBwV2lkdGggPSB0aGlzLmdldFByaXZhdGUoXCJ3aWR0aFwiKTtcclxuICAgICAgICAgICAgbGV0IHBIZWlnaHQgPSB0aGlzLmdldFByaXZhdGUoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgICAgIGxldCBib3VuZHMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMud2lkdGgoKSxcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogdGhpcy5oZWlnaHQoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBsZXQgbGF5b3V0ID0gdGhpcy5nZXQoXCJsYXlvdXRcIik7XHJcbiAgICAgICAgICAgIGxldCBob3Jpem9udGFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCB2ZXJ0aWNhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAobGF5b3V0IGluc3RhbmNlb2YgSG9yaXpvbnRhbExheW91dCB8fCBsYXlvdXQgaW5zdGFuY2VvZiBHcmlkTGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGF5b3V0IGluc3RhbmNlb2YgVmVydGljYWxMYXlvdXQpIHtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKHdpZHRoICE9IG51bGwgfHwgcFdpZHRoICE9IG51bGwpICYmIChoZWlnaHQgIT0gbnVsbCB8fCBwSGVpZ2h0ICE9IG51bGwpICYmICF0aGlzLmdldChcInZlcnRpY2FsU2Nyb2xsYmFyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2b2lkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbSA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgICAgICAgICAgICBsZXQgbCA9IG07XHJcbiAgICAgICAgICAgICAgICBsZXQgciA9IC1tO1xyXG4gICAgICAgICAgICAgICAgbGV0IHQgPSBtO1xyXG4gICAgICAgICAgICAgICAgbGV0IGIgPSAtbTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gdGhpcy5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRpbmdUb3AgPSB0aGlzLmdldChcInBhZGRpbmdUb3BcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSB0aGlzLmdldChcInBhZGRpbmdSaWdodFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSB0aGlzLmdldChcInBhZGRpbmdCb3R0b21cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmdldChcInBvc2l0aW9uXCIpICE9IFwiYWJzb2x1dGVcIiAmJiBjaGlsZC5nZXQoXCJpc01lYXN1cmVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZEJvdW5kcyA9IGNoaWxkLmFkanVzdGVkTG9jYWxCb3VuZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkWCA9IGNoaWxkLngoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkWSA9IGNoaWxkLnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNsID0gY2hpbGRYICsgY2hpbGRCb3VuZHMubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNyID0gY2hpbGRYICsgY2hpbGRCb3VuZHMucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdCA9IGNoaWxkWSArIGNoaWxkQm91bmRzLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNiID0gY2hpbGRZICsgY2hpbGRCb3VuZHMuYm90dG9tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9yaXpvbnRhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2wgLT0gY2hpbGQuZ2V0KFwibWFyZ2luTGVmdFwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyICs9IGNoaWxkLmdldChcIm1hcmdpblJpZ2h0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3QgLT0gY2hpbGQuZ2V0KFwibWFyZ2luVG9wXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IgKz0gY2hpbGQuZ2V0KFwibWFyZ2luQm90dG9tXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbCA8IGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBjbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3IgPiByKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gY3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0IDwgdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYiA+IGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIgPSBjYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGwgPT0gbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGwgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHIgPT0gLW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0ID09IG0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChiID09IC1tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYiA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBib3VuZHMubGVmdCA9IGwgLSBwYWRkaW5nTGVmdDtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgPSB0IC0gcGFkZGluZ1RvcDtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IHIgKyBwYWRkaW5nUmlnaHQ7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMuYm90dG9tID0gYiArIHBhZGRpbmdCb3R0b207XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtaW5XaWR0aCA9IHRoaXMuZ2V0KFwibWluV2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluV2lkdGgpICYmIG1pbldpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCA8IG1pbldpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHMucmlnaHQgPj0gbWluV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gYm91bmRzLnJpZ2h0IC0gbWluV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMucmlnaHQgPSBib3VuZHMubGVmdCArIG1pbldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWluSGVpZ2h0ID0gdGhpcy5nZXQoXCJtaW5IZWlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluSGVpZ2h0KSAmJiBtaW5IZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wIDwgbWluSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHMuYm90dG9tID49IG1pbkhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCA9IGJvdW5kcy5ib3R0b20gLSBtaW5IZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMuYm90dG9tID0gYm91bmRzLnRvcCArIG1pbkhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9jb250ZW50V2lkdGggPSBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdDtcclxuICAgICAgICAgICAgdGhpcy5fY29udGVudEhlaWdodCA9IGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIod2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMucmlnaHQgPSB3aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIocFdpZHRoKSkge1xyXG4gICAgICAgICAgICAgICAgYm91bmRzLmxlZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gcFdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihoZWlnaHQpKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMudG9wID0gMDtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy5ib3R0b20gPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHBIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMudG9wID0gMDtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy5ib3R0b20gPSBwSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gYm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGJvdW5kcyA9IHRoaXMuX2xvY2FsQm91bmRzO1xyXG4gICAgICAgICAgICBpZiAoYm91bmRzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50V2lkdGggPSBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRIZWlnaHQgPSBib3VuZHMuYm90dG9tIC0gYm91bmRzLnRvcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVCb3VuZHMoKSB7XHJcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5nZXQoXCJsYXlvdXRcIik7XHJcbiAgICAgICAgaWYgKGxheW91dCkge1xyXG4gICAgICAgICAgICBsYXlvdXQudXBkYXRlQ29udGFpbmVyKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fdXBkYXRlQm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVCYWNrZ3JvdW5kKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5KCkge1xyXG4gICAgICAgIHN1cGVyLm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMuX3Jvb3QuX2FkZERpcnR5UGFyZW50KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBjb25zdCBpbm5lcldpZHRoID0gdGhpcy5pbm5lcldpZHRoKCk7XHJcbiAgICAgICAgY29uc3QgaW5uZXJIZWlnaHQgPSB0aGlzLmlubmVySGVpZ2h0KCk7XHJcbiAgICAgICAgaWYgKGlubmVyV2lkdGggIT0gdGhpcy5fcHJldldpZHRoIHx8IGlubmVySGVpZ2h0ICE9IHRoaXMuX3ByZXZIZWlnaHQpIHtcclxuICAgICAgICAgICAgbGV0IGxheW91dCA9IHRoaXMuZ2V0KFwibGF5b3V0XCIpO1xyXG4gICAgICAgICAgICBsZXQgaG9yaXpvbnRhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgdmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGxheW91dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxheW91dCBpbnN0YW5jZW9mIEhvcml6b250YWxMYXlvdXQgfHwgbGF5b3V0IGluc3RhbmNlb2YgR3JpZExheW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxheW91dCBpbnN0YW5jZW9mIFZlcnRpY2FsTGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3BlcmNlbnRhZ2VTaXplQ2hpbGRyZW4sIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFob3Jpem9udGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gY2hpbGQuZ2V0KFwid2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwid2lkdGhcIiwgd2lkdGgudmFsdWUgKiBpbm5lcldpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9IGNoaWxkLmdldChcImhlaWdodFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwiaGVpZ2h0XCIsIGhlaWdodC52YWx1ZSAqIGlubmVySGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9wZXJjZW50YWdlUG9zaXRpb25DaGlsZHJlbiwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXJrRGlydHlQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9wcmV2V2lkdGggPSBpbm5lcldpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLl9wcmV2SGVpZ2h0ID0gaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemVEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQmFja2dyb3VuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9oYW5kbGVTdGF0ZXMoKTtcclxuICAgIH1cclxuICAgIF91cGRhdGVIVE1MQ29udGVudCgpIHtcclxuICAgICAgICBjb25zdCBodG1sID0gdGhpcy5nZXQoXCJodG1sXCIsIFwiXCIpO1xyXG4gICAgICAgIGlmIChodG1sICYmIGh0bWwgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm9vdC5fc2V0SFRNTENvbnRlbnQodGhpcywgcG9wdWxhdGVTdHJpbmcodGhpcywgaHRtbCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcm9vdC5fcmVtb3ZlSFRNTENvbnRlbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jvb3QuX3Bvc2l0aW9uSFRNTEVsZW1lbnQodGhpcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIElmIHNjcm9sbGluZyBpcyBlbmFibGVkIG9uIHRoZSBDb250YWluZXIgKGJ5IGFkZGluZyBgdmVydGljYWxTY3JvbGxiYXJgKVxyXG4gICAgICogdGhlIENvbnRhaW5lciB3aWxsIHNjcm9sbCBpbiBzdWNoIHdheSBzbyB0aGF0IHRhcmdldCBlbGVtZW50IGJlY29tZXNcclxuICAgICAqIHZpc2libGUgaWYgaXRzIGN1cnJlbnRseSBvdXRzaWRlIG9mIHZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICBjaGlsZCAgVGFyZ2V0IGNoaWxkXHJcbiAgICAgKiBAc2luY2UgNS4xMC41XHJcbiAgICAgKi9cclxuICAgIHNjcm9sbFRvQ2hpbGQoY2hpbGQpIHtcclxuICAgICAgICBjb25zdCB2ZXJ0aWNhbFNjcm9sbGJhciA9IHRoaXMuZ2V0KFwidmVydGljYWxTY3JvbGxiYXJcIik7XHJcbiAgICAgICAgaWYgKHZlcnRpY2FsU2Nyb2xsYmFyKSB7XHJcbiAgICAgICAgICAgIGxldCB5ID0gY2hpbGQueSgpO1xyXG4gICAgICAgICAgICBsZXQgaCA9IHRoaXMuaW5uZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgbGV0IGNoID0gY2hpbGQuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50SCA9IHRoaXMuX2NvbnRlbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGxldCBtYXggPSAxIC0gKGggLSBjaCAvIDIpIC8gY29udGVudEg7XHJcbiAgICAgICAgICAgIGlmICh5ICsgY2ggKiAuNyArIHRoaXMuX2NoaWxkcmVuRGlzcGxheS55ID4gaCB8fCB5IC0gY2ggKiAuMyArIHRoaXMuX2NoaWxkcmVuRGlzcGxheS55IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKG1heCwgKHkgLSBjaCAvIDIpIC8gY29udGVudEgpKTtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyLmFuaW1hdGUoeyBrZXk6IFwic3RhcnRcIiwgdG86IHBvcywgZHVyYXRpb246IHZlcnRpY2FsU2Nyb2xsYmFyLmdldChcImFuaW1hdGlvbkR1cmF0aW9uXCIsIDApLCBlYXNpbmc6IHZlcnRpY2FsU2Nyb2xsYmFyLmdldChcImFuaW1hdGlvbkVhc2luZ1wiKSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVDaGlsZHJlbigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaHRtbFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVIVE1MQ29udGVudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwidmVydGljYWxTY3JvbGxiYXJcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgdmVydGljYWxTY3JvbGxiYXIgPSB0aGlzLmdldChcInZlcnRpY2FsU2Nyb2xsYmFyXCIpO1xyXG4gICAgICAgICAgICBpZiAodmVydGljYWxTY3JvbGxiYXIpIHtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyLl9zZXRQYXJlbnQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbGJhci5zdGFydEdyaXAuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmVydGljYWxTY3JvbGxiYXIuZW5kR3JpcC5zZXRQcml2YXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcIm1hc2tDb250ZW50XCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJwYWRkaW5nUmlnaHRcIiwgdmVydGljYWxTY3JvbGxiYXIud2lkdGgoKSArIHZlcnRpY2FsU2Nyb2xsYmFyLmdldChcIm1hcmdpblJpZ2h0XCIsIDApICsgdmVydGljYWxTY3JvbGxiYXIuZ2V0KFwibWFyZ2luTGVmdFwiLCAwKSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFja2dyb3VuZCA9IHRoaXMuZ2V0KFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICghYmFja2dyb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQgPSB0aGlzLnNldChcImJhY2tncm91bmRcIiwgUmVjdGFuZ2xlLm5ldyh0aGlzLl9yb290LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lVGFnczogW1wiYmFja2dyb3VuZFwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IHRoaXMuX3Jvb3QuaW50ZXJmYWNlQ29sb3JzLmdldChcImFsdGVybmF0aXZlQmFja2dyb3VuZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZzYmQwID0gdGhpcy5ldmVudHMub24oXCJ3aGVlbFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgd2hlZWwgZXZlbnQgaWYgaXQgaXMgaGFwcGVuaW5nIG9uIGEgbm9uLWNoYXJ0IGVsZW1lbnQsIGUuZy4gaWZcclxuICAgICAgICAgICAgICAgICAgICAvLyBzb21lIHBhZ2UgZWxlbWVudCBpcyBvdmVyIHRoZSBjaGFydC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHV0aWxzLmlzTG9jYWxFdmVudCh3aGVlbEV2ZW50LCB0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVlbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzaGlmdFkgPSB3aGVlbEV2ZW50LmRlbHRhWSAvIDUwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSB2ZXJ0aWNhbFNjcm9sbGJhci5nZXQoXCJzdGFydFwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSB2ZXJ0aWNhbFNjcm9sbGJhci5nZXQoXCJlbmRcIiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ICsgc2hpZnRZIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnRZID0gLXN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kICsgc2hpZnRZID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnRZID0gMSAtIGVuZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ICsgc2hpZnRZID49IDAgJiYgZW5kICsgc2hpZnRZIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxTY3JvbGxiYXIuc2V0KFwic3RhcnRcIiwgc3RhcnQgKyBzaGlmdFkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbGJhci5zZXQoXCJlbmRcIiwgZW5kICsgc2hpZnRZKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMuX3ZzYmQwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZzYmQxID0gdmVydGljYWxTY3JvbGxiYXIuZXZlbnRzLm9uKFwicmFuZ2VjaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaCA9IHRoaXMuX2NvbnRlbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW5EaXNwbGF5ID0gdGhpcy5fY2hpbGRyZW5EaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRNYXNrID0gdGhpcy5fY29udGVudE1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5EaXNwbGF5LnkgPSAtdmVydGljYWxTY3JvbGxiYXIuZ2V0KFwic3RhcnRcIiwgMCkgKiBoO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuRGlzcGxheS5tYXJrRGlydHlMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50TWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50TWFzay5fZGlzcGxheS55ID0gLWNoaWxkcmVuRGlzcGxheS55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbkRpc3BsYXkubWFzayA9IGNvbnRlbnRNYXNrLl9kaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fdnNiZDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5hZGRDaGlsZCh2ZXJ0aWNhbFNjcm9sbGJhci5fZGlzcGxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuX3ByZXZTZXR0aW5ncy52ZXJ0aWNhbFNjcm9sbGJhcjtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkucmVtb3ZlQ2hpbGQocHJldmlvdXMuX2Rpc3BsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl92c2JkMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92c2JkMC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl92c2JkMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92c2JkMS5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuRGlzcGxheSA9IHRoaXMuX2NoaWxkcmVuRGlzcGxheTtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbkRpc3BsYXkueSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwiaGVpZ2h0XCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJtYXNrQ29udGVudFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJwYWRkaW5nUmlnaHRcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiYmFja2dyb3VuZFwiKSkge1xyXG4gICAgICAgICAgICAvLyBUT0RPIG1heWJlIHRoaXMgc2hvdWxkIGRpc3Bvc2UgP1xyXG4gICAgICAgICAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuX3ByZXZTZXR0aW5nc1tcImJhY2tncm91bmRcIl07XHJcbiAgICAgICAgICAgIGlmIChwcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5yZW1vdmVDaGlsZChwcmV2aW91cy5fZGlzcGxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuZ2V0KFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICAgICAgaWYgKGJhY2tncm91bmQgaW5zdGFuY2VvZiBTcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0KFwiaXNNZWFzdXJlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLl9zZXRQYXJlbnQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmFkZENoaWxkQXQoYmFja2dyb3VuZC5fZGlzcGxheSwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIm1hc2tcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgbWFzayA9IHRoaXMuZ2V0KFwibWFza1wiKTtcclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9wcmV2U2V0dGluZ3NbXCJtYXNrXCJdO1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkucmVtb3ZlQ2hpbGQocHJldmlvdXMuX2Rpc3BsYXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzICE9IG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1hc2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG1hc2sucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5yZW1vdmVWYWx1ZShtYXNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1hc2suX3NldFBhcmVudCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYWRkQ2hpbGRBdChtYXNrLl9kaXNwbGF5LCAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuRGlzcGxheS5tYXNrID0gbWFzay5fZGlzcGxheTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wcm9jZXNzVGVtcGxhdGVGaWVsZCgpIHtcclxuICAgICAgICBzdXBlci5fcHJvY2Vzc1RlbXBsYXRlRmllbGQoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLmVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGNoaWxkLl9wcm9jZXNzVGVtcGxhdGVGaWVsZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHdhbGtDaGlsZHJlbihmKSB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5lYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkLndhbGtDaGlsZHJlbihmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmKGNoaWxkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVhY2hDaGlsZHJlbihmKSB7XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuZ2V0KFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xyXG4gICAgICAgICAgICBmKGJhY2tncm91bmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2ZXJ0aWNhbFNjcm9sbGJhciA9IHRoaXMuZ2V0KFwidmVydGljYWxTY3JvbGxiYXJcIik7XHJcbiAgICAgICAgaWYgKHZlcnRpY2FsU2Nyb2xsYmFyKSB7XHJcbiAgICAgICAgICAgIGYodmVydGljYWxTY3JvbGxiYXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtYXNrID0gdGhpcy5nZXQoXCJtYXNrXCIpO1xyXG4gICAgICAgIGlmIChtYXNrKSB7XHJcbiAgICAgICAgICAgIGYobWFzayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4udmFsdWVzLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGYoY2hpbGQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYWxsQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gW107XHJcbiAgICAgICAgdGhpcy5lYWNoQ2hpbGRyZW4oKHgpID0+IHtcclxuICAgICAgICAgICAgb3V0cHV0LnB1c2goeCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuICAgIF9zZXREYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSAoZGF0YUl0ZW0gIT09IHRoaXMuX2RhdGFJdGVtKTtcclxuICAgICAgICBzdXBlci5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIGNvbnN0IGh0bWwgPSB0aGlzLmdldChcImh0bWxcIiwgXCJcIik7XHJcbiAgICAgICAgaWYgKGh0bWwgJiYgaHRtbCAhPT0gXCJcIiAmJiB1cGRhdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuX3NldEhUTUxDb250ZW50KHRoaXMsIHBvcHVsYXRlU3RyaW5nKHRoaXMsIGh0bWwpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb250ZW50V2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnRXaWR0aDtcclxuICAgIH1cclxuICAgIGNvbnRlbnRIZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnRIZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRhaW5lciwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiQ29udGFpbmVyXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWluZXIsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogU3ByaXRlLmNsYXNzTmFtZXMuY29uY2F0KFtDb250YWluZXIuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRhaW5lci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Graphics: () => (/* binding */ Graphics),\n/* harmony export */   visualSettings: () => (/* binding */ visualSettings)\n/* harmony export */ });\n/* harmony import */ var _render_patterns_PicturePattern__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../render/patterns/PicturePattern */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js\");\n/* harmony import */ var _Sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sprite */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\");\n/* harmony import */ var _backend_Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./backend/Renderer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n\r\n\r\n\r\nconst visualSettings = [\"fill\", \"fillOpacity\", \"stroke\", \"strokeWidth\", \"strokeOpacity\", \"fillPattern\", \"strokePattern\", \"fillGradient\", \"strokeGradient\", \"strokeDasharray\", \"strokeDashoffset\", \"shadowBlur\", \"shadowColor\", \"shadowOpacity\", \"shadowOffsetX\", \"shadowOffsetY\", \"blur\", \"sepia\", \"invert\", \"brightness\", \"hue\", \"contrast\", \"saturate\"];\r\n/**\r\n * Base class used for drawing shapes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass Graphics extends _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"draw\") || this.isDirty(\"svgPath\")) {\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\") || this.isDirty(\"visible\") || this.isDirty(\"forceHidden\") || this.isDirty(\"scale\") || this.isDirty(\"fillGradient\") || this.isDirty(\"strokeGradient\") || this.isDirty(\"fillPattern\") || this.isDirty(\"strokePattern\") || this.isDirty(\"fillOpacity\") || this.isDirty(\"strokeOpacity\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"draw\") || this.isDirty(\"blendMode\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"svgPath\") || this.isDirty(\"lineJoin\") || this.isDirty(\"lineCap\") || this.isDirty(\"shadowColor\") || this.isDirty(\"shadowBlur\") || this.isDirty(\"shadowOffsetX\") || this.isDirty(\"shadowOffsetY\")) {\r\n            this._clear = true;\r\n        }\r\n        this._display.crisp = this.get(\"crisp\", false);\r\n        if (this.isDirty(\"fillGradient\")) {\r\n            const gradient = this.get(\"fillGradient\");\r\n            if (gradient) {\r\n                this._display.isMeasured = true;\r\n                const gradientTarget = gradient.get(\"target\");\r\n                if (gradientTarget) {\r\n                    this._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\r\n                        this._markDirtyKey(\"fill\");\r\n                    }));\r\n                    this._disposers.push(gradientTarget.events.on(\"positionchanged\", () => {\r\n                        this._markDirtyKey(\"fill\");\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"strokeGradient\")) {\r\n            const gradient = this.get(\"strokeGradient\");\r\n            if (gradient) {\r\n                this._display.isMeasured = true;\r\n                const gradientTarget = gradient.get(\"target\");\r\n                if (gradientTarget) {\r\n                    this._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\r\n                        this._markDirtyKey(\"stroke\");\r\n                    }));\r\n                    this._disposers.push(gradientTarget.events.on(\"positionchanged\", () => {\r\n                        this._markDirtyKey(\"stroke\");\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this.markDirtyBounds();\r\n            this.markDirtyLayer();\r\n            this._display.clear();\r\n            let strokeDasharray = this.get(\"strokeDasharray\");\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(strokeDasharray)) {\r\n                if (strokeDasharray < 0.5) {\r\n                    strokeDasharray = [0];\r\n                }\r\n                else {\r\n                    strokeDasharray = [strokeDasharray];\r\n                }\r\n            }\r\n            this._display.setLineDash(strokeDasharray);\r\n            const strokeDashoffset = this.get(\"strokeDashoffset\");\r\n            if (strokeDashoffset) {\r\n                this._display.setLineDashOffset(strokeDashoffset);\r\n            }\r\n            const blendMode = this.get(\"blendMode\", _backend_Renderer__WEBPACK_IMPORTED_MODULE_2__.BlendMode.NORMAL);\r\n            this._display.blendMode = blendMode;\r\n            const draw = this.get(\"draw\");\r\n            if (draw && typeof draw === \"function\") {\r\n                draw(this._display, this);\r\n            }\r\n            const svgPath = this.get(\"svgPath\");\r\n            if (svgPath != null) {\r\n                this._display.svgPath(svgPath);\r\n            }\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._clear) {\r\n            const fill = this.get(\"fill\");\r\n            const fillGradient = this.get(\"fillGradient\");\r\n            const fillPattern = this.get(\"fillPattern\");\r\n            const fillOpacity = this.get(\"fillOpacity\");\r\n            const stroke = this.get(\"stroke\");\r\n            const strokeGradient = this.get(\"strokeGradient\");\r\n            const strokePattern = this.get(\"strokePattern\");\r\n            const shadowColor = this.get(\"shadowColor\");\r\n            const shadowBlur = this.get(\"shadowBlur\");\r\n            const shadowOffsetX = this.get(\"shadowOffsetX\");\r\n            const shadowOffsetY = this.get(\"shadowOffsetY\");\r\n            const shadowOpacity = this.get(\"shadowOpacity\");\r\n            if (shadowColor && (shadowBlur || shadowOffsetX || shadowOffsetY)) {\r\n                this._display.shadow(shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY, shadowOpacity);\r\n            }\r\n            if (fill && !fillGradient) {\r\n                this._display.beginFill(fill, fillOpacity);\r\n                this._display.endFill();\r\n            }\r\n            if (fillGradient) {\r\n                if (fill) {\r\n                    const stops = fillGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && fill) {\r\n                                stop.color = fill;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = fillOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                const gradient = fillGradient.getFill(this);\r\n                if (gradient) {\r\n                    this._display.beginFill(gradient, fillOpacity);\r\n                    this._display.endFill();\r\n                }\r\n            }\r\n            if (fillPattern) {\r\n                const pattern = fillPattern.pattern;\r\n                if (pattern) {\r\n                    this._display.beginFill(pattern, fillOpacity);\r\n                    this._display.endFill();\r\n                    if (fillPattern instanceof _render_patterns_PicturePattern__WEBPACK_IMPORTED_MODULE_4__.PicturePattern) {\r\n                        fillPattern.events.once(\"loaded\", () => {\r\n                            this._clear = true;\r\n                            this.markDirty();\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            if (stroke || strokeGradient || strokePattern) {\r\n                const strokeOpacity = this.get(\"strokeOpacity\");\r\n                let strokeWidth = this.get(\"strokeWidth\", 1);\r\n                if (this.get(\"nonScalingStroke\")) {\r\n                    strokeWidth = strokeWidth / this.get(\"scale\", 1);\r\n                }\r\n                if (this.get(\"crisp\")) {\r\n                    strokeWidth /= this._root._renderer.resolution;\r\n                }\r\n                const lineJoin = this.get(\"lineJoin\");\r\n                const lineCap = this.get(\"lineCap\");\r\n                if (stroke && !strokeGradient) {\r\n                    this._display.lineStyle(strokeWidth, stroke, strokeOpacity, lineJoin, lineCap);\r\n                    this._display.endStroke();\r\n                }\r\n                if (strokeGradient) {\r\n                    const stops = strokeGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_3__.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && stroke) {\r\n                                stop.color = stroke;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = strokeOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                    const gradient = strokeGradient.getFill(this);\r\n                    if (gradient) {\r\n                        this._display.lineStyle(strokeWidth, gradient, strokeOpacity, lineJoin, lineCap);\r\n                        this._display.endStroke();\r\n                    }\r\n                }\r\n                if (strokePattern) {\r\n                    /*\r\n                    let changed = false;\r\n                    \r\n                    if (stroke && (!strokePattern.get(\"color\") || strokePattern.get(\"colorInherited\"))) {\r\n                        strokePattern.set(\"color\", stroke);\r\n                        strokePattern.set(\"colorInherited\", true);\r\n                        changed = true;\r\n                    }\r\n                    if (changed) {\r\n                        // @todo: is this OK?\r\n                        strokePattern._changed();\r\n                    }\r\n                    */\r\n                    let pattern = strokePattern.pattern;\r\n                    if (pattern) {\r\n                        this._display.lineStyle(strokeWidth, pattern, strokeOpacity, lineJoin, lineCap);\r\n                        this._display.endStroke();\r\n                        if (strokePattern instanceof _render_patterns_PicturePattern__WEBPACK_IMPORTED_MODULE_4__.PicturePattern) {\r\n                            strokePattern.events.once(\"loaded\", () => {\r\n                                this._clear = true;\r\n                                this.markDirty();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this.getPrivate(\"showingTooltip\")) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n        this._clear = false;\r\n    }\r\n}\r\nObject.defineProperty(Graphics, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Graphics\"\r\n});\r\nObject.defineProperty(Graphics, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite.classNames.concat([Graphics.className])\r\n});\r\n//# sourceMappingURL=Graphics.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvR3JhcGhpY3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtRTtBQUNqQztBQUNhO0FBQ1Q7QUFDRTtBQUNqQztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQTJFO0FBQ3BGO0FBQ0E7QUFDTyx1QkFBdUIsMkNBQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsd0RBQVM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkNBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQywyRUFBYztBQUM3RDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsMkVBQWM7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL0dyYXBoaWNzLmpzPzVmNDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGljdHVyZVBhdHRlcm4gfSBmcm9tIFwiLi4vcmVuZGVyL3BhdHRlcm5zL1BpY3R1cmVQYXR0ZXJuXCI7XHJcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuL1Nwcml0ZVwiO1xyXG5pbXBvcnQgeyBCbGVuZE1vZGUgfSBmcm9tIFwiLi9iYWNrZW5kL1JlbmRlcmVyXCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi91dGlsL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi91dGlsL0FycmF5XCI7XHJcbmV4cG9ydCBjb25zdCB2aXN1YWxTZXR0aW5ncyA9IFtcImZpbGxcIiwgXCJmaWxsT3BhY2l0eVwiLCBcInN0cm9rZVwiLCBcInN0cm9rZVdpZHRoXCIsIFwic3Ryb2tlT3BhY2l0eVwiLCBcImZpbGxQYXR0ZXJuXCIsIFwic3Ryb2tlUGF0dGVyblwiLCBcImZpbGxHcmFkaWVudFwiLCBcInN0cm9rZUdyYWRpZW50XCIsIFwic3Ryb2tlRGFzaGFycmF5XCIsIFwic3Ryb2tlRGFzaG9mZnNldFwiLCBcInNoYWRvd0JsdXJcIiwgXCJzaGFkb3dDb2xvclwiLCBcInNoYWRvd09wYWNpdHlcIiwgXCJzaGFkb3dPZmZzZXRYXCIsIFwic2hhZG93T2Zmc2V0WVwiLCBcImJsdXJcIiwgXCJzZXBpYVwiLCBcImludmVydFwiLCBcImJyaWdodG5lc3NcIiwgXCJodWVcIiwgXCJjb250cmFzdFwiLCBcInNhdHVyYXRlXCJdO1xyXG4vKipcclxuICogQmFzZSBjbGFzcyB1c2VkIGZvciBkcmF3aW5nIHNoYXBlcy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29tbW9uLWVsZW1lbnRzL2dyYXBoaWNzL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR3JhcGhpY3MgZXh0ZW5kcyBTcHJpdGUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcGxheVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9yb290Ll9yZW5kZXJlci5tYWtlR3JhcGhpY3MoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jbGVhclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZHJhd1wiKSB8fCB0aGlzLmlzRGlydHkoXCJzdmdQYXRoXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJmaWxsXCIpIHx8IHRoaXMuaXNEaXJ0eShcInN0cm9rZVwiKSB8fCB0aGlzLmlzRGlydHkoXCJ2aXNpYmxlXCIpIHx8IHRoaXMuaXNEaXJ0eShcImZvcmNlSGlkZGVuXCIpIHx8IHRoaXMuaXNEaXJ0eShcInNjYWxlXCIpIHx8IHRoaXMuaXNEaXJ0eShcImZpbGxHcmFkaWVudFwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VHcmFkaWVudFwiKSB8fCB0aGlzLmlzRGlydHkoXCJmaWxsUGF0dGVyblwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VQYXR0ZXJuXCIpIHx8IHRoaXMuaXNEaXJ0eShcImZpbGxPcGFjaXR5XCIpIHx8IHRoaXMuaXNEaXJ0eShcInN0cm9rZU9wYWNpdHlcIikgfHwgdGhpcy5pc0RpcnR5KFwic3Ryb2tlV2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwiZHJhd1wiKSB8fCB0aGlzLmlzRGlydHkoXCJibGVuZE1vZGVcIikgfHwgdGhpcy5pc0RpcnR5KFwic3Ryb2tlRGFzaGFycmF5XCIpIHx8IHRoaXMuaXNEaXJ0eShcInN0cm9rZURhc2hvZmZzZXRcIikgfHwgdGhpcy5pc0RpcnR5KFwic3ZnUGF0aFwiKSB8fCB0aGlzLmlzRGlydHkoXCJsaW5lSm9pblwiKSB8fCB0aGlzLmlzRGlydHkoXCJsaW5lQ2FwXCIpIHx8IHRoaXMuaXNEaXJ0eShcInNoYWRvd0NvbG9yXCIpIHx8IHRoaXMuaXNEaXJ0eShcInNoYWRvd0JsdXJcIikgfHwgdGhpcy5pc0RpcnR5KFwic2hhZG93T2Zmc2V0WFwiKSB8fCB0aGlzLmlzRGlydHkoXCJzaGFkb3dPZmZzZXRZXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheS5jcmlzcCA9IHRoaXMuZ2V0KFwiY3Jpc3BcIiwgZmFsc2UpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJmaWxsR3JhZGllbnRcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgZ3JhZGllbnQgPSB0aGlzLmdldChcImZpbGxHcmFkaWVudFwiKTtcclxuICAgICAgICAgICAgaWYgKGdyYWRpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmlzTWVhc3VyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhZGllbnRUYXJnZXQgPSBncmFkaWVudC5nZXQoXCJ0YXJnZXRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhZGllbnRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChncmFkaWVudFRhcmdldC5ldmVudHMub24oXCJib3VuZHNjaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya0RpcnR5S2V5KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goZ3JhZGllbnRUYXJnZXQuZXZlbnRzLm9uKFwicG9zaXRpb25jaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya0RpcnR5S2V5KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInN0cm9rZUdyYWRpZW50XCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50ID0gdGhpcy5nZXQoXCJzdHJva2VHcmFkaWVudFwiKTtcclxuICAgICAgICAgICAgaWYgKGdyYWRpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmlzTWVhc3VyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhZGllbnRUYXJnZXQgPSBncmFkaWVudC5nZXQoXCJ0YXJnZXRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhZGllbnRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChncmFkaWVudFRhcmdldC5ldmVudHMub24oXCJib3VuZHNjaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFya0RpcnR5S2V5KFwic3Ryb2tlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChncmFkaWVudFRhcmdldC5ldmVudHMub24oXCJwb3NpdGlvbmNoYW5nZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlLZXkoXCJzdHJva2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2NoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fY2xlYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlMYXllcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGxldCBzdHJva2VEYXNoYXJyYXkgPSB0aGlzLmdldChcInN0cm9rZURhc2hhcnJheVwiKTtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHN0cm9rZURhc2hhcnJheSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VEYXNoYXJyYXkgPCAwLjUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXkgPSBbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXkgPSBbc3Ryb2tlRGFzaGFycmF5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnNldExpbmVEYXNoKHN0cm9rZURhc2hhcnJheSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZURhc2hvZmZzZXQgPSB0aGlzLmdldChcInN0cm9rZURhc2hvZmZzZXRcIik7XHJcbiAgICAgICAgICAgIGlmIChzdHJva2VEYXNob2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnNldExpbmVEYXNoT2Zmc2V0KHN0cm9rZURhc2hvZmZzZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGJsZW5kTW9kZSA9IHRoaXMuZ2V0KFwiYmxlbmRNb2RlXCIsIEJsZW5kTW9kZS5OT1JNQUwpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmJsZW5kTW9kZSA9IGJsZW5kTW9kZTtcclxuICAgICAgICAgICAgY29uc3QgZHJhdyA9IHRoaXMuZ2V0KFwiZHJhd1wiKTtcclxuICAgICAgICAgICAgaWYgKGRyYXcgJiYgdHlwZW9mIGRyYXcgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgZHJhdyh0aGlzLl9kaXNwbGF5LCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzdmdQYXRoID0gdGhpcy5nZXQoXCJzdmdQYXRoXCIpO1xyXG4gICAgICAgICAgICBpZiAoc3ZnUGF0aCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnN2Z1BhdGgoc3ZnUGF0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9hZnRlckNoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fY2xlYXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlsbCA9IHRoaXMuZ2V0KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsbEdyYWRpZW50ID0gdGhpcy5nZXQoXCJmaWxsR3JhZGllbnRcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGxQYXR0ZXJuID0gdGhpcy5nZXQoXCJmaWxsUGF0dGVyblwiKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsbE9wYWNpdHkgPSB0aGlzLmdldChcImZpbGxPcGFjaXR5XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdHJva2UgPSB0aGlzLmdldChcInN0cm9rZVwiKTtcclxuICAgICAgICAgICAgY29uc3Qgc3Ryb2tlR3JhZGllbnQgPSB0aGlzLmdldChcInN0cm9rZUdyYWRpZW50XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdHJva2VQYXR0ZXJuID0gdGhpcy5nZXQoXCJzdHJva2VQYXR0ZXJuXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFkb3dDb2xvciA9IHRoaXMuZ2V0KFwic2hhZG93Q29sb3JcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0JsdXIgPSB0aGlzLmdldChcInNoYWRvd0JsdXJcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd09mZnNldFggPSB0aGlzLmdldChcInNoYWRvd09mZnNldFhcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd09mZnNldFkgPSB0aGlzLmdldChcInNoYWRvd09mZnNldFlcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd09wYWNpdHkgPSB0aGlzLmdldChcInNoYWRvd09wYWNpdHlcIik7XHJcbiAgICAgICAgICAgIGlmIChzaGFkb3dDb2xvciAmJiAoc2hhZG93Qmx1ciB8fCBzaGFkb3dPZmZzZXRYIHx8IHNoYWRvd09mZnNldFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnNoYWRvdyhzaGFkb3dDb2xvciwgc2hhZG93Qmx1ciwgc2hhZG93T2Zmc2V0WCwgc2hhZG93T2Zmc2V0WSwgc2hhZG93T3BhY2l0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZpbGwgJiYgIWZpbGxHcmFkaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5iZWdpbkZpbGwoZmlsbCwgZmlsbE9wYWNpdHkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5lbmRGaWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZpbGxHcmFkaWVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9wcyA9IGZpbGxHcmFkaWVudC5nZXQoXCJzdG9wc1wiLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChzdG9wcywgKHN0b3ApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoIXN0b3AuY29sb3IgfHwgc3RvcC5jb2xvckluaGVyaXRlZCkgJiYgZmlsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AuY29sb3IgPSBmaWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AuY29sb3JJbmhlcml0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3Aub3BhY2l0eSA9PSBudWxsIHx8IHN0b3Aub3BhY2l0eUluaGVyaXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3Aub3BhY2l0eSA9IGZpbGxPcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3Aub3BhY2l0eUluaGVyaXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50ID0gZmlsbEdyYWRpZW50LmdldEZpbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhZGllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmJlZ2luRmlsbChncmFkaWVudCwgZmlsbE9wYWNpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZW5kRmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmaWxsUGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IGZpbGxQYXR0ZXJuLnBhdHRlcm47XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYmVnaW5GaWxsKHBhdHRlcm4sIGZpbGxPcGFjaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmVuZEZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsbFBhdHRlcm4gaW5zdGFuY2VvZiBQaWN0dXJlUGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsUGF0dGVybi5ldmVudHMub25jZShcImxvYWRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cm9rZSB8fCBzdHJva2VHcmFkaWVudCB8fCBzdHJva2VQYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJva2VPcGFjaXR5ID0gdGhpcy5nZXQoXCJzdHJva2VPcGFjaXR5XCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cm9rZVdpZHRoID0gdGhpcy5nZXQoXCJzdHJva2VXaWR0aFwiLCAxKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChcIm5vblNjYWxpbmdTdHJva2VcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aCA9IHN0cm9rZVdpZHRoIC8gdGhpcy5nZXQoXCJzY2FsZVwiLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChcImNyaXNwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggLz0gdGhpcy5fcm9vdC5fcmVuZGVyZXIucmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVKb2luID0gdGhpcy5nZXQoXCJsaW5lSm9pblwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVDYXAgPSB0aGlzLmdldChcImxpbmVDYXBcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3Ryb2tlICYmICFzdHJva2VHcmFkaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkubGluZVN0eWxlKHN0cm9rZVdpZHRoLCBzdHJva2UsIHN0cm9rZU9wYWNpdHksIGxpbmVKb2luLCBsaW5lQ2FwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmVuZFN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0cm9rZUdyYWRpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcHMgPSBzdHJva2VHcmFkaWVudC5nZXQoXCJzdG9wc1wiLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChzdG9wcywgKHN0b3ApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoIXN0b3AuY29sb3IgfHwgc3RvcC5jb2xvckluaGVyaXRlZCkgJiYgc3Ryb2tlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcC5jb2xvciA9IHN0cm9rZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wLmNvbG9ySW5oZXJpdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9wLm9wYWNpdHkgPT0gbnVsbCB8fCBzdG9wLm9wYWNpdHlJbmhlcml0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wLm9wYWNpdHkgPSBzdHJva2VPcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3Aub3BhY2l0eUluaGVyaXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBncmFkaWVudCA9IHN0cm9rZUdyYWRpZW50LmdldEZpbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkubGluZVN0eWxlKHN0cm9rZVdpZHRoLCBncmFkaWVudCwgc3Ryb2tlT3BhY2l0eSwgbGluZUpvaW4sIGxpbmVDYXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmVuZFN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdHJva2VQYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJva2UgJiYgKCFzdHJva2VQYXR0ZXJuLmdldChcImNvbG9yXCIpIHx8IHN0cm9rZVBhdHRlcm4uZ2V0KFwiY29sb3JJbmhlcml0ZWRcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVBhdHRlcm4uc2V0KFwiY29sb3JcIiwgc3Ryb2tlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlUGF0dGVybi5zZXQoXCJjb2xvckluaGVyaXRlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvOiBpcyB0aGlzIE9LP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VQYXR0ZXJuLl9jaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSBzdHJva2VQYXR0ZXJuLnBhdHRlcm47XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5saW5lU3R5bGUoc3Ryb2tlV2lkdGgsIHBhdHRlcm4sIHN0cm9rZU9wYWNpdHksIGxpbmVKb2luLCBsaW5lQ2FwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5lbmRTdHJva2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZVBhdHRlcm4gaW5zdGFuY2VvZiBQaWN0dXJlUGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlUGF0dGVybi5ldmVudHMub25jZShcImxvYWRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRQcml2YXRlKFwic2hvd2luZ1Rvb2x0aXBcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jbGVhciA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcywgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiR3JhcGhpY3NcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFNwcml0ZS5jbGFzc05hbWVzLmNvbmNhdChbR3JhcGhpY3MuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GridLayout: () => (/* binding */ GridLayout)\n/* harmony export */ });\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Layout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n\r\n\r\n\r\n/**\r\n * A grid children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nclass GridLayout extends _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout {\r\n    _afterNew() {\r\n        this._setRawDefault(\"maxColumns\", Number.MAX_VALUE);\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingLeft = container.get(\"paddingLeft\", 0);\r\n        let paddingRight = container.get(\"paddingRight\", 0);\r\n        let paddingTop = container.get(\"paddingTop\", 0);\r\n        let availableWidth = container.maxWidth() - paddingLeft - paddingRight;\r\n        let minCellWidth = availableWidth;\r\n        let maxCellWidth = 1;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.get(\"visible\") && child.getPrivate(\"visible\") && !child.get(\"forceHidden\")) {\r\n                if (child.get(\"position\") != \"absolute\") {\r\n                    let childWidth = child.width();\r\n                    if (childWidth < minCellWidth) {\r\n                        minCellWidth = childWidth;\r\n                    }\r\n                    if (childWidth > maxCellWidth) {\r\n                        maxCellWidth = childWidth;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        minCellWidth = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(minCellWidth, 1, availableWidth);\r\n        maxCellWidth = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(maxCellWidth, 1, availableWidth);\r\n        let columnCount = 1;\r\n        if (this.get(\"fixedWidthGrid\")) {\r\n            columnCount = availableWidth / maxCellWidth;\r\n        }\r\n        else {\r\n            columnCount = availableWidth / minCellWidth;\r\n        }\r\n        columnCount = Math.max(1, Math.floor(columnCount));\r\n        columnCount = Math.min(this.get(\"maxColumns\", Number.MAX_VALUE), columnCount);\r\n        let columnWidths = this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n        let prevY = paddingTop;\r\n        let column = 0;\r\n        let maxRowHeight = 0;\r\n        columnCount = columnWidths.length;\r\n        let prevX = paddingLeft;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\" && child.isVisible()) {\r\n                const marginTop = child.get(\"marginTop\", 0);\r\n                const marginBottom = child.get(\"marginBottom\", 0);\r\n                let bounds = child.adjustedLocalBounds();\r\n                let marginLeft = child.get(\"marginLeft\", 0);\r\n                let marginRight = child.get(\"marginRight\", 0);\r\n                let x = prevX + marginLeft - bounds.left;\r\n                let y = prevY + marginTop - bounds.top;\r\n                child.setPrivate(\"x\", x);\r\n                child.setPrivate(\"y\", y);\r\n                prevX += columnWidths[column] + marginRight;\r\n                maxRowHeight = Math.max(maxRowHeight, child.height() + marginTop + marginBottom);\r\n                column++;\r\n                if (column >= columnCount) {\r\n                    column = 0;\r\n                    prevX = paddingLeft;\r\n                    prevY += maxRowHeight;\r\n                    maxRowHeight = 0;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getColumnWidths(container, columnCount, maxCellWidth, availableWidth) {\r\n        let totalWidth = 0;\r\n        let columnWidths = [];\r\n        let column = 0;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            let bounds = child.adjustedLocalBounds();\r\n            if (child.get(\"position\") != \"absolute\" && child.isVisible()) {\r\n                if (this.get(\"fixedWidthGrid\")) {\r\n                    columnWidths[column] = maxCellWidth;\r\n                }\r\n                else {\r\n                    columnWidths[column] = Math.max(columnWidths[column] | 0, bounds.right - bounds.left + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0));\r\n                }\r\n                if (column < container.children.length - 1) {\r\n                    column++;\r\n                    if (column == columnCount) {\r\n                        column = 0;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(columnWidths, (w) => {\r\n            totalWidth += w;\r\n        });\r\n        if (totalWidth > availableWidth) {\r\n            if (columnCount > 2) {\r\n                columnCount -= 1;\r\n                return this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n            }\r\n            else {\r\n                return [availableWidth];\r\n            }\r\n        }\r\n        return columnWidths;\r\n    }\r\n}\r\nObject.defineProperty(GridLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"GridLayout\"\r\n});\r\nObject.defineProperty(GridLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout.classNames.concat([GridLayout.className])\r\n});\r\n//# sourceMappingURL=GridLayout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvR3JpZExheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEO0FBQ1I7QUFDRjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTLG9GQUFvRjtBQUM3RjtBQUNPLHlCQUF5QiwyQ0FBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVCQUF1QixrREFBZ0I7QUFDdkMsdUJBQXVCLGtEQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsNkNBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkNBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9HcmlkTGF5b3V0LmpzPzZkNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGF5b3V0LCBlYWNoQ2hpbGRyZW4gfSBmcm9tIFwiLi9MYXlvdXRcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICRtYXRoIGZyb20gXCIuLi91dGlsL01hdGhcIjtcclxuLyoqXHJcbiAqIEEgZ3JpZCBjaGlsZHJlbiBsYXlvdXQgZm9yIFtbQ29udGFpbmVyXV0uXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9jb250YWluZXJzLyNMYXlvdXR9IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBHcmlkTGF5b3V0IGV4dGVuZHMgTGF5b3V0IHtcclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICB0aGlzLl9zZXRSYXdEZWZhdWx0KFwibWF4Q29sdW1uc1wiLCBOdW1iZXIuTUFYX1ZBTFVFKTtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVDb250YWluZXIoY29udGFpbmVyKSB7XHJcbiAgICAgICAgbGV0IHBhZGRpbmdMZWZ0ID0gY29udGFpbmVyLmdldChcInBhZGRpbmdMZWZ0XCIsIDApO1xyXG4gICAgICAgIGxldCBwYWRkaW5nUmlnaHQgPSBjb250YWluZXIuZ2V0KFwicGFkZGluZ1JpZ2h0XCIsIDApO1xyXG4gICAgICAgIGxldCBwYWRkaW5nVG9wID0gY29udGFpbmVyLmdldChcInBhZGRpbmdUb3BcIiwgMCk7XHJcbiAgICAgICAgbGV0IGF2YWlsYWJsZVdpZHRoID0gY29udGFpbmVyLm1heFdpZHRoKCkgLSBwYWRkaW5nTGVmdCAtIHBhZGRpbmdSaWdodDtcclxuICAgICAgICBsZXQgbWluQ2VsbFdpZHRoID0gYXZhaWxhYmxlV2lkdGg7XHJcbiAgICAgICAgbGV0IG1heENlbGxXaWR0aCA9IDE7XHJcbiAgICAgICAgZWFjaENoaWxkcmVuKGNvbnRhaW5lciwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJ2aXNpYmxlXCIpICYmIGNoaWxkLmdldFByaXZhdGUoXCJ2aXNpYmxlXCIpICYmICFjaGlsZC5nZXQoXCJmb3JjZUhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmdldChcInBvc2l0aW9uXCIpICE9IFwiYWJzb2x1dGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZFdpZHRoID0gY2hpbGQud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRXaWR0aCA8IG1pbkNlbGxXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5DZWxsV2lkdGggPSBjaGlsZFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRXaWR0aCA+IG1heENlbGxXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhDZWxsV2lkdGggPSBjaGlsZFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1pbkNlbGxXaWR0aCA9ICRtYXRoLmZpdFRvUmFuZ2UobWluQ2VsbFdpZHRoLCAxLCBhdmFpbGFibGVXaWR0aCk7XHJcbiAgICAgICAgbWF4Q2VsbFdpZHRoID0gJG1hdGguZml0VG9SYW5nZShtYXhDZWxsV2lkdGgsIDEsIGF2YWlsYWJsZVdpZHRoKTtcclxuICAgICAgICBsZXQgY29sdW1uQ291bnQgPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcImZpeGVkV2lkdGhHcmlkXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbHVtbkNvdW50ID0gYXZhaWxhYmxlV2lkdGggLyBtYXhDZWxsV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb2x1bW5Db3VudCA9IGF2YWlsYWJsZVdpZHRoIC8gbWluQ2VsbFdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb2x1bW5Db3VudCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoY29sdW1uQ291bnQpKTtcclxuICAgICAgICBjb2x1bW5Db3VudCA9IE1hdGgubWluKHRoaXMuZ2V0KFwibWF4Q29sdW1uc1wiLCBOdW1iZXIuTUFYX1ZBTFVFKSwgY29sdW1uQ291bnQpO1xyXG4gICAgICAgIGxldCBjb2x1bW5XaWR0aHMgPSB0aGlzLmdldENvbHVtbldpZHRocyhjb250YWluZXIsIGNvbHVtbkNvdW50LCBtYXhDZWxsV2lkdGgsIGF2YWlsYWJsZVdpZHRoKTtcclxuICAgICAgICBsZXQgcHJldlkgPSBwYWRkaW5nVG9wO1xyXG4gICAgICAgIGxldCBjb2x1bW4gPSAwO1xyXG4gICAgICAgIGxldCBtYXhSb3dIZWlnaHQgPSAwO1xyXG4gICAgICAgIGNvbHVtbkNvdW50ID0gY29sdW1uV2lkdGhzLmxlbmd0aDtcclxuICAgICAgICBsZXQgcHJldlggPSBwYWRkaW5nTGVmdDtcclxuICAgICAgICBlYWNoQ2hpbGRyZW4oY29udGFpbmVyLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmdldChcInBvc2l0aW9uXCIpID09IFwicmVsYXRpdmVcIiAmJiBjaGlsZC5pc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luVG9wID0gY2hpbGQuZ2V0KFwibWFyZ2luVG9wXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luQm90dG9tID0gY2hpbGQuZ2V0KFwibWFyZ2luQm90dG9tXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJvdW5kcyA9IGNoaWxkLmFkanVzdGVkTG9jYWxCb3VuZHMoKTtcclxuICAgICAgICAgICAgICAgIGxldCBtYXJnaW5MZWZ0ID0gY2hpbGQuZ2V0KFwibWFyZ2luTGVmdFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGxldCBtYXJnaW5SaWdodCA9IGNoaWxkLmdldChcIm1hcmdpblJpZ2h0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHggPSBwcmV2WCArIG1hcmdpbkxlZnQgLSBib3VuZHMubGVmdDtcclxuICAgICAgICAgICAgICAgIGxldCB5ID0gcHJldlkgKyBtYXJnaW5Ub3AgLSBib3VuZHMudG9wO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuc2V0UHJpdmF0ZShcInhcIiwgeCk7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwieVwiLCB5KTtcclxuICAgICAgICAgICAgICAgIHByZXZYICs9IGNvbHVtbldpZHRoc1tjb2x1bW5dICsgbWFyZ2luUmlnaHQ7XHJcbiAgICAgICAgICAgICAgICBtYXhSb3dIZWlnaHQgPSBNYXRoLm1heChtYXhSb3dIZWlnaHQsIGNoaWxkLmhlaWdodCgpICsgbWFyZ2luVG9wICsgbWFyZ2luQm90dG9tKTtcclxuICAgICAgICAgICAgICAgIGNvbHVtbisrO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbiA+PSBjb2x1bW5Db3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlggPSBwYWRkaW5nTGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2WSArPSBtYXhSb3dIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4Um93SGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldENvbHVtbldpZHRocyhjb250YWluZXIsIGNvbHVtbkNvdW50LCBtYXhDZWxsV2lkdGgsIGF2YWlsYWJsZVdpZHRoKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsV2lkdGggPSAwO1xyXG4gICAgICAgIGxldCBjb2x1bW5XaWR0aHMgPSBbXTtcclxuICAgICAgICBsZXQgY29sdW1uID0gMDtcclxuICAgICAgICBlYWNoQ2hpbGRyZW4oY29udGFpbmVyLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGJvdW5kcyA9IGNoaWxkLmFkanVzdGVkTG9jYWxCb3VuZHMoKTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmdldChcInBvc2l0aW9uXCIpICE9IFwiYWJzb2x1dGVcIiAmJiBjaGlsZC5pc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZml4ZWRXaWR0aEdyaWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aHNbY29sdW1uXSA9IG1heENlbGxXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoc1tjb2x1bW5dID0gTWF0aC5tYXgoY29sdW1uV2lkdGhzW2NvbHVtbl0gfCAwLCBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCArIGNoaWxkLmdldChcIm1hcmdpbkxlZnRcIiwgMCkgKyBjaGlsZC5nZXQoXCJtYXJnaW5SaWdodFwiLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uIDwgY29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4rKztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uID09IGNvbHVtbkNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGFycmF5LmVhY2goY29sdW1uV2lkdGhzLCAodykgPT4ge1xyXG4gICAgICAgICAgICB0b3RhbFdpZHRoICs9IHc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRvdGFsV2lkdGggPiBhdmFpbGFibGVXaWR0aCkge1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uQ291bnQgPiAyKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5Db3VudCAtPSAxO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29sdW1uV2lkdGhzKGNvbnRhaW5lciwgY29sdW1uQ291bnQsIG1heENlbGxXaWR0aCwgYXZhaWxhYmxlV2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFthdmFpbGFibGVXaWR0aF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbHVtbldpZHRocztcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZExheW91dCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiR3JpZExheW91dFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoR3JpZExheW91dCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBMYXlvdXQuY2xhc3NOYW1lcy5jb25jYXQoW0dyaWRMYXlvdXQuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyaWRMYXlvdXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HorizontalLayout: () => (/* binding */ HorizontalLayout)\n/* harmony export */ });\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Layout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n\r\n\r\n\r\n/**\r\n * A horizontal children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nclass HorizontalLayout extends _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout {\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingLeft = container.get(\"paddingLeft\", 0);\r\n        let availableWidth = container.innerWidth();\r\n        let totalPercent = 0;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childWidth = child.get(\"width\");\r\n                    if (childWidth instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                        totalPercent += childWidth.value;\r\n                        let w = availableWidth * childWidth.value;\r\n                        let minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                        if (minWidth > w) {\r\n                            availableWidth -= minWidth;\r\n                            totalPercent -= childWidth.value;\r\n                        }\r\n                        let maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                        if (w > maxWidth) {\r\n                            availableWidth -= maxWidth;\r\n                            totalPercent -= childWidth.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!_util_Type__WEBPACK_IMPORTED_MODULE_2__.isNumber(childWidth)) {\r\n                            childWidth = child.width();\r\n                        }\r\n                        availableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (availableWidth <= 0 || availableWidth == Infinity) {\r\n            availableWidth = .1;\r\n        }\r\n        //if (availableWidth > 0) {\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childWidth = child.get(\"width\");\r\n                    if (childWidth instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                        let privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\r\n                        let minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                        let maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                        privateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\r\n                        child.setPrivate(\"width\", privateWidth);\r\n                    }\r\n                    else {\r\n                        if (child._prevSettings.width instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                            child.setPrivate(\"width\", undefined);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //}\r\n        let prevX = paddingLeft;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\") {\r\n                if (child.isVisible()) {\r\n                    let bounds = child.adjustedLocalBounds();\r\n                    let marginLeft = child.get(\"marginLeft\", 0);\r\n                    let marginRight = child.get(\"marginRight\", 0);\r\n                    let maxWidth = child.get(\"maxWidth\");\r\n                    let left = bounds.left;\r\n                    let right = bounds.right;\r\n                    if (maxWidth) {\r\n                        if (right - left > maxWidth) {\r\n                            right = left + maxWidth;\r\n                        }\r\n                    }\r\n                    let x = prevX + marginLeft - left;\r\n                    child.setPrivate(\"x\", x);\r\n                    prevX = x + right + marginRight;\r\n                }\r\n                else {\r\n                    child.setPrivate(\"x\", undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(HorizontalLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"HorizontalLayout\"\r\n});\r\nObject.defineProperty(HorizontalLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout.classNames.concat([HorizontalLayout.className])\r\n});\r\n//# sourceMappingURL=HorizontalLayout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvSG9yaXpvbnRhbExheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEO0FBQ1Y7QUFDSTtBQUMxQztBQUNBO0FBQ0E7QUFDQSxTQUFTLG9GQUFvRjtBQUM3RjtBQUNPLCtCQUErQiwyQ0FBTTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGtEQUFPO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0RBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsa0RBQU87QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsa0RBQU87QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSxxREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJDQUFNO0FBQ2pCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvSG9yaXpvbnRhbExheW91dC5qcz8wZDBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExheW91dCwgZWFjaENoaWxkcmVuIH0gZnJvbSBcIi4vTGF5b3V0XCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi91dGlsL1R5cGVcIjtcclxuaW1wb3J0IHsgUGVyY2VudCB9IGZyb20gXCIuLi91dGlsL1BlcmNlbnRcIjtcclxuLyoqXHJcbiAqIEEgaG9yaXpvbnRhbCBjaGlsZHJlbiBsYXlvdXQgZm9yIFtbQ29udGFpbmVyXV0uXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9jb250YWluZXJzLyNMYXlvdXR9IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBIb3Jpem9udGFsTGF5b3V0IGV4dGVuZHMgTGF5b3V0IHtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVDb250YWluZXIoY29udGFpbmVyKSB7XHJcbiAgICAgICAgbGV0IHBhZGRpbmdMZWZ0ID0gY29udGFpbmVyLmdldChcInBhZGRpbmdMZWZ0XCIsIDApO1xyXG4gICAgICAgIGxldCBhdmFpbGFibGVXaWR0aCA9IGNvbnRhaW5lci5pbm5lcldpZHRoKCk7XHJcbiAgICAgICAgbGV0IHRvdGFsUGVyY2VudCA9IDA7XHJcbiAgICAgICAgZWFjaENoaWxkcmVuKGNvbnRhaW5lciwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5pc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmdldChcInBvc2l0aW9uXCIpID09IFwicmVsYXRpdmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZFdpZHRoID0gY2hpbGQuZ2V0KFwid2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkV2lkdGggaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGVyY2VudCArPSBjaGlsZFdpZHRoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdyA9IGF2YWlsYWJsZVdpZHRoICogY2hpbGRXaWR0aC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pbldpZHRoID0gY2hpbGQuZ2V0KFwibWluV2lkdGhcIiwgY2hpbGQuZ2V0UHJpdmF0ZShcIm1pbldpZHRoXCIsIC1JbmZpbml0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluV2lkdGggPiB3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVXaWR0aCAtPSBtaW5XaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGVyY2VudCAtPSBjaGlsZFdpZHRoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhXaWR0aCA9IGNoaWxkLmdldChcIm1heFdpZHRoXCIsIGNoaWxkLmdldFByaXZhdGUoXCJtYXhXaWR0aFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA+IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVXaWR0aCAtPSBtYXhXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGVyY2VudCAtPSBjaGlsZFdpZHRoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGNoaWxkV2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFdpZHRoID0gY2hpbGQud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVXaWR0aCAtPSBjaGlsZFdpZHRoICsgY2hpbGQuZ2V0KFwibWFyZ2luTGVmdFwiLCAwKSArIGNoaWxkLmdldChcIm1hcmdpblJpZ2h0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChhdmFpbGFibGVXaWR0aCA8PSAwIHx8IGF2YWlsYWJsZVdpZHRoID09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIGF2YWlsYWJsZVdpZHRoID0gLjE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaWYgKGF2YWlsYWJsZVdpZHRoID4gMCkge1xyXG4gICAgICAgIGVhY2hDaGlsZHJlbihjb250YWluZXIsIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRXaWR0aCA9IGNoaWxkLmdldChcIndpZHRoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZFdpZHRoIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJpdmF0ZVdpZHRoID0gYXZhaWxhYmxlV2lkdGggKiBjaGlsZFdpZHRoLnZhbHVlIC8gdG90YWxQZXJjZW50IC0gY2hpbGQuZ2V0KFwibWFyZ2luTGVmdFwiLCAwKSAtIGNoaWxkLmdldChcIm1hcmdpblJpZ2h0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWluV2lkdGggPSBjaGlsZC5nZXQoXCJtaW5XaWR0aFwiLCBjaGlsZC5nZXRQcml2YXRlKFwibWluV2lkdGhcIiwgLUluZmluaXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhXaWR0aCA9IGNoaWxkLmdldChcIm1heFdpZHRoXCIsIGNoaWxkLmdldFByaXZhdGUoXCJtYXhXaWR0aFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlV2lkdGggPSBNYXRoLm1pbihNYXRoLm1heChtaW5XaWR0aCwgcHJpdmF0ZVdpZHRoKSwgbWF4V2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwid2lkdGhcIiwgcHJpdmF0ZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5fcHJldlNldHRpbmdzLndpZHRoIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0UHJpdmF0ZShcIndpZHRoXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL31cclxuICAgICAgICBsZXQgcHJldlggPSBwYWRkaW5nTGVmdDtcclxuICAgICAgICBlYWNoQ2hpbGRyZW4oY29udGFpbmVyLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmdldChcInBvc2l0aW9uXCIpID09IFwicmVsYXRpdmVcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmlzVmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvdW5kcyA9IGNoaWxkLmFkanVzdGVkTG9jYWxCb3VuZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWFyZ2luTGVmdCA9IGNoaWxkLmdldChcIm1hcmdpbkxlZnRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hcmdpblJpZ2h0ID0gY2hpbGQuZ2V0KFwibWFyZ2luUmlnaHRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1heFdpZHRoID0gY2hpbGQuZ2V0KFwibWF4V2lkdGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnQgPSBib3VuZHMubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmlnaHQgPSBib3VuZHMucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyaWdodCAtIGxlZnQgPiBtYXhXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBsZWZ0ICsgbWF4V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBwcmV2WCArIG1hcmdpbkxlZnQgLSBsZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnNldFByaXZhdGUoXCJ4XCIsIHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZYID0geCArIHJpZ2h0ICsgbWFyZ2luUmlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwieFwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEhvcml6b250YWxMYXlvdXQsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkhvcml6b250YWxMYXlvdXRcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEhvcml6b250YWxMYXlvdXQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogTGF5b3V0LmNsYXNzTmFtZXMuY29uY2F0KFtIb3Jpem9udGFsTGF5b3V0LmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ib3Jpem9udGFsTGF5b3V0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Label: () => (/* binding */ Label)\n/* harmony export */ });\n/* harmony import */ var _render_Text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../render/Text */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates a label with support for in-line styling and data bindings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/} for more info\r\n */\r\nclass Label extends _Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_textKeys\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"text\",\r\n                \"fill\",\r\n                \"fillGradient\",\r\n                \"fillOpacity\",\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\",\r\n                \"populateText\",\r\n                \"role\",\r\n                \"ignoreFormatting\",\r\n                \"maxChars\",\r\n                \"ariaLabel\"\r\n            ]\r\n        });\r\n    }\r\n    /**\r\n     * @ignore Text is not to be used directly\r\n     */\r\n    get text() {\r\n        return this._text;\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._makeText();\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this._textKeys, (property) => {\r\n            const propValue = this.get(property);\r\n            if (propValue != undefined) {\r\n                this._text.set(property, propValue);\r\n            }\r\n        });\r\n        if (this.get(\"html\", \"\") !== \"\") {\r\n            this._text.set(\"text\", \"\");\r\n        }\r\n        this.onPrivate(\"maxWidth\", () => {\r\n            this._setMaxDimentions();\r\n        });\r\n        this.onPrivate(\"maxHeight\", () => {\r\n            this._setMaxDimentions();\r\n        });\r\n    }\r\n    _makeText() {\r\n        this._text = this.children.push(_render_Text__WEBPACK_IMPORTED_MODULE_2__.Text.new(this._root, {}));\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        const text = this._text;\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_1__.each(this._textKeys, (property) => {\r\n            this._text.set(property, this.get(property));\r\n        });\r\n        if (this.isDirty(\"maxWidth\") || this.isDirty(\"maxHeight\") || this.isDirty(\"rotation\")) {\r\n            this._setMaxDimentions();\r\n        }\r\n        // Do not show regular text if HTML is used\r\n        if (this.get(\"html\", \"\") !== \"\") {\r\n            text.set(\"text\", \"\");\r\n        }\r\n        else {\r\n            text.set(\"text\", this.get(\"text\"));\r\n            this._maybeUpdateHTMLColor();\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"fillGradient\")) {\r\n            this._maybeUpdateHTMLColor();\r\n        }\r\n        if (this.isDirty(\"textAlign\") || this.isDirty(\"width\")) {\r\n            const textAlign = this.get(\"textAlign\");\r\n            let x;\r\n            if (this.get(\"width\") != null) {\r\n                if (textAlign == \"right\") {\r\n                    x = _util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100;\r\n                }\r\n                else if (textAlign == \"center\") {\r\n                    x = _util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50;\r\n                }\r\n                else {\r\n                    x = 0;\r\n                }\r\n            }\r\n            else {\r\n                if (textAlign == \"left\" || textAlign == \"start\") {\r\n                    x = this.get(\"paddingLeft\", 0);\r\n                }\r\n                else if (textAlign == \"right\" || textAlign == \"end\") {\r\n                    x = -this.get(\"paddingRight\", 0);\r\n                }\r\n            }\r\n            text.set(\"x\", x);\r\n        }\r\n        const background = this.get(\"background\");\r\n        if (background) {\r\n            background.setPrivate(\"visible\", text._display.textVisible);\r\n        }\r\n    }\r\n    _maybeUpdateHTMLColor() {\r\n        const htmlElement = this.getPrivate(\"htmlElement\");\r\n        if (htmlElement && this.get(\"fill\")) {\r\n            htmlElement.style.color = this.get(\"fill\").toCSSHex();\r\n            //@todo support gradient\r\n        }\r\n    }\r\n    _setMaxDimentions() {\r\n        const rotation = this.get(\"rotation\");\r\n        const vertical = rotation == 90 || rotation == 270 || rotation == -90;\r\n        const text = this._text;\r\n        const maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\", Infinity));\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(maxWidth)) {\r\n            text.set(vertical ? \"maxHeight\" : \"maxWidth\", maxWidth - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0));\r\n        }\r\n        else {\r\n            text.set(vertical ? \"maxHeight\" : \"maxWidth\", undefined);\r\n        }\r\n        const maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\", Infinity));\r\n        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(maxHeight)) {\r\n            text.set(vertical ? \"maxWidth\" : \"maxHeight\", maxHeight - this.get(\"paddingLeft\", 0) - this.get(\"paddingRight\", 0));\r\n        }\r\n        else {\r\n            text.set(vertical ? \"maxWidth\" : \"maxHeight\", undefined);\r\n        }\r\n        this.root.events.once(\"frameended\", () => {\r\n            text.markDirtyBounds();\r\n        });\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        this._markDirtyKey(\"text\");\r\n        this._markDirtyKey(\"html\");\r\n        const text = this._text;\r\n        if (text.get(\"populateText\")) {\r\n            text.markDirtyText();\r\n        }\r\n        const html = this.get(\"html\");\r\n        if (html && html !== \"\") {\r\n            this._updateHTMLContent();\r\n        }\r\n    }\r\n    /**\r\n     * Returns text with populated placeholders and formatting if `populateText` is\r\n     * set to `true`.\r\n     *\r\n     * @return Populated text\r\n     */\r\n    getText() {\r\n        return this._text._getText();\r\n    }\r\n    /**\r\n     * Returns \"aria-label\" text with populated placeholders and formatting\r\n     * if `populateText` is set to `true`.\r\n     *\r\n     * @return Populated text\r\n     */\r\n    getAccessibleText() {\r\n        return this._text._getAccessibleText();\r\n    }\r\n}\r\nObject.defineProperty(Label, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Label\"\r\n});\r\nObject.defineProperty(Label, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([Label.className])\r\n});\r\n//# sourceMappingURL=Label.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTGFiZWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQ007QUFDSjtBQUNRO0FBQ0Y7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5RUFBeUU7QUFDbEY7QUFDTyxvQkFBb0IsaURBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0NBQXdDLDhDQUFJLG1CQUFtQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0NBQUk7QUFDNUI7QUFDQTtBQUNBLHdCQUF3Qiw4Q0FBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTGFiZWwuanM/MmViYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXh0IH0gZnJvbSBcIi4uL3JlbmRlci9UZXh0XCI7XHJcbmltcG9ydCB7IHA1MCwgcDEwMCB9IGZyb20gXCIuLi91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4vQ29udGFpbmVyXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVHlwZVwiO1xyXG4vKipcclxuICogQ3JlYXRlcyBhIGxhYmVsIHdpdGggc3VwcG9ydCBmb3IgaW4tbGluZSBzdHlsaW5nIGFuZCBkYXRhIGJpbmRpbmdzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvbGFiZWxzL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExhYmVsIGV4dGVuZHMgQ29udGFpbmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RleHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RleHRLZXlzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtcclxuICAgICAgICAgICAgICAgIFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgXCJmaWxsXCIsXHJcbiAgICAgICAgICAgICAgICBcImZpbGxHcmFkaWVudFwiLFxyXG4gICAgICAgICAgICAgICAgXCJmaWxsT3BhY2l0eVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0QWxpZ25cIixcclxuICAgICAgICAgICAgICAgIFwiZm9udEZhbWlseVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250U2l6ZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250U3R5bGVcIixcclxuICAgICAgICAgICAgICAgIFwiZm9udFdlaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250U3R5bGVcIixcclxuICAgICAgICAgICAgICAgIFwiZm9udFZhcmlhbnRcIixcclxuICAgICAgICAgICAgICAgIFwidGV4dERlY29yYXRpb25cIixcclxuICAgICAgICAgICAgICAgIFwic2hhZG93Q29sb3JcIixcclxuICAgICAgICAgICAgICAgIFwic2hhZG93Qmx1clwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dPZmZzZXRYXCIsXHJcbiAgICAgICAgICAgICAgICBcInNoYWRvd09mZnNldFlcIixcclxuICAgICAgICAgICAgICAgIFwic2hhZG93T3BhY2l0eVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJsZWFkaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAvLyBcImxldHRlclNwYWNpbmdcIixcclxuICAgICAgICAgICAgICAgIFwibGluZUhlaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgXCJiYXNlbGluZVJhdGlvXCIsXHJcbiAgICAgICAgICAgICAgICAvL1wicGFkZGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJzdHJva2VcIixcclxuICAgICAgICAgICAgICAgIC8vIFwic3Ryb2tlVGhpY2tuZXNzXCIsXHJcbiAgICAgICAgICAgICAgICAvLyBcInRyaW1cIixcclxuICAgICAgICAgICAgICAgIC8vIFwid29yZFdyYXBcIixcclxuICAgICAgICAgICAgICAgIFwiZGlyZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBcInRleHRCYXNlbGluZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJvdmVyc2l6ZWRCZWhhdmlvclwiLFxyXG4gICAgICAgICAgICAgICAgXCJicmVha1dvcmRzXCIsXHJcbiAgICAgICAgICAgICAgICBcImVsbGlwc2lzXCIsXHJcbiAgICAgICAgICAgICAgICBcIm1pblNjYWxlXCIsXHJcbiAgICAgICAgICAgICAgICBcInBvcHVsYXRlVGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgXCJyb2xlXCIsXHJcbiAgICAgICAgICAgICAgICBcImlnbm9yZUZvcm1hdHRpbmdcIixcclxuICAgICAgICAgICAgICAgIFwibWF4Q2hhcnNcIixcclxuICAgICAgICAgICAgICAgIFwiYXJpYUxhYmVsXCJcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlIFRleHQgaXMgbm90IHRvIGJlIHVzZWQgZGlyZWN0bHlcclxuICAgICAqL1xyXG4gICAgZ2V0IHRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgdGhpcy5fbWFrZVRleHQoKTtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90ZXh0S2V5cywgKHByb3BlcnR5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IHRoaXMuZ2V0KHByb3BlcnR5KTtcclxuICAgICAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RleHQuc2V0KHByb3BlcnR5LCBwcm9wVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwiaHRtbFwiLCBcIlwiKSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0LnNldChcInRleHRcIiwgXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25Qcml2YXRlKFwibWF4V2lkdGhcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRNYXhEaW1lbnRpb25zKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vblByaXZhdGUoXCJtYXhIZWlnaHRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRNYXhEaW1lbnRpb25zKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfbWFrZVRleHQoKSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMuY2hpbGRyZW4ucHVzaChUZXh0Lm5ldyh0aGlzLl9yb290LCB7fSkpO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl90ZXh0O1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RleHRLZXlzLCAocHJvcGVydHkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dC5zZXQocHJvcGVydHksIHRoaXMuZ2V0KHByb3BlcnR5KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIm1heFdpZHRoXCIpIHx8IHRoaXMuaXNEaXJ0eShcIm1heEhlaWdodFwiKSB8fCB0aGlzLmlzRGlydHkoXCJyb3RhdGlvblwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRNYXhEaW1lbnRpb25zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERvIG5vdCBzaG93IHJlZ3VsYXIgdGV4dCBpZiBIVE1MIGlzIHVzZWRcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJodG1sXCIsIFwiXCIpICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRleHQuc2V0KFwidGV4dFwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRleHQuc2V0KFwidGV4dFwiLCB0aGlzLmdldChcInRleHRcIikpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXliZVVwZGF0ZUhUTUxDb2xvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZmlsbFwiKSB8fCB0aGlzLmlzRGlydHkoXCJmaWxsR3JhZGllbnRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF5YmVVcGRhdGVIVE1MQ29sb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRleHRBbGlnblwiKSB8fCB0aGlzLmlzRGlydHkoXCJ3aWR0aFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0QWxpZ24gPSB0aGlzLmdldChcInRleHRBbGlnblwiKTtcclxuICAgICAgICAgICAgbGV0IHg7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcIndpZHRoXCIpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0QWxpZ24gPT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IHAxMDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0QWxpZ24gPT0gXCJjZW50ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSBwNTA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0QWxpZ24gPT0gXCJsZWZ0XCIgfHwgdGV4dEFsaWduID09IFwic3RhcnRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSB0aGlzLmdldChcInBhZGRpbmdMZWZ0XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dEFsaWduID09IFwicmlnaHRcIiB8fCB0ZXh0QWxpZ24gPT0gXCJlbmRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSAtdGhpcy5nZXQoXCJwYWRkaW5nUmlnaHRcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGV4dC5zZXQoXCJ4XCIsIHgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5nZXQoXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQuc2V0UHJpdmF0ZShcInZpc2libGVcIiwgdGV4dC5fZGlzcGxheS50ZXh0VmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX21heWJlVXBkYXRlSFRNTENvbG9yKCkge1xyXG4gICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gdGhpcy5nZXRQcml2YXRlKFwiaHRtbEVsZW1lbnRcIik7XHJcbiAgICAgICAgaWYgKGh0bWxFbGVtZW50ICYmIHRoaXMuZ2V0KFwiZmlsbFwiKSkge1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5jb2xvciA9IHRoaXMuZ2V0KFwiZmlsbFwiKS50b0NTU0hleCgpO1xyXG4gICAgICAgICAgICAvL0B0b2RvIHN1cHBvcnQgZ3JhZGllbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0TWF4RGltZW50aW9ucygpIHtcclxuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuZ2V0KFwicm90YXRpb25cIik7XHJcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSByb3RhdGlvbiA9PSA5MCB8fCByb3RhdGlvbiA9PSAyNzAgfHwgcm90YXRpb24gPT0gLTkwO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLl90ZXh0O1xyXG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5nZXQoXCJtYXhXaWR0aFwiLCB0aGlzLmdldFByaXZhdGUoXCJtYXhXaWR0aFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhXaWR0aCkpIHtcclxuICAgICAgICAgICAgdGV4dC5zZXQodmVydGljYWwgPyBcIm1heEhlaWdodFwiIDogXCJtYXhXaWR0aFwiLCBtYXhXaWR0aCAtIHRoaXMuZ2V0KFwicGFkZGluZ1RvcFwiLCAwKSAtIHRoaXMuZ2V0KFwicGFkZGluZ0JvdHRvbVwiLCAwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0ZXh0LnNldCh2ZXJ0aWNhbCA/IFwibWF4SGVpZ2h0XCIgOiBcIm1heFdpZHRoXCIsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1heEhlaWdodCA9IHRoaXMuZ2V0KFwibWF4SGVpZ2h0XCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1heEhlaWdodFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIHRleHQuc2V0KHZlcnRpY2FsID8gXCJtYXhXaWR0aFwiIDogXCJtYXhIZWlnaHRcIiwgbWF4SGVpZ2h0IC0gdGhpcy5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKSAtIHRoaXMuZ2V0KFwicGFkZGluZ1JpZ2h0XCIsIDApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRleHQuc2V0KHZlcnRpY2FsID8gXCJtYXhXaWR0aFwiIDogXCJtYXhIZWlnaHRcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yb290LmV2ZW50cy5vbmNlKFwiZnJhbWVlbmRlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRleHQubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pIHtcclxuICAgICAgICBzdXBlci5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShcInRleHRcIik7XHJcbiAgICAgICAgdGhpcy5fbWFya0RpcnR5S2V5KFwiaHRtbFwiKTtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5fdGV4dDtcclxuICAgICAgICBpZiAodGV4dC5nZXQoXCJwb3B1bGF0ZVRleHRcIikpIHtcclxuICAgICAgICAgICAgdGV4dC5tYXJrRGlydHlUZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGh0bWwgPSB0aGlzLmdldChcImh0bWxcIik7XHJcbiAgICAgICAgaWYgKGh0bWwgJiYgaHRtbCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVIVE1MQ29udGVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0ZXh0IHdpdGggcG9wdWxhdGVkIHBsYWNlaG9sZGVycyBhbmQgZm9ybWF0dGluZyBpZiBgcG9wdWxhdGVUZXh0YCBpc1xyXG4gICAgICogc2V0IHRvIGB0cnVlYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFBvcHVsYXRlZCB0ZXh0XHJcbiAgICAgKi9cclxuICAgIGdldFRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQuX2dldFRleHQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBcImFyaWEtbGFiZWxcIiB0ZXh0IHdpdGggcG9wdWxhdGVkIHBsYWNlaG9sZGVycyBhbmQgZm9ybWF0dGluZ1xyXG4gICAgICogaWYgYHBvcHVsYXRlVGV4dGAgaXMgc2V0IHRvIGB0cnVlYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFBvcHVsYXRlZCB0ZXh0XHJcbiAgICAgKi9cclxuICAgIGdldEFjY2Vzc2libGVUZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0Ll9nZXRBY2Nlc3NpYmxlVGV4dCgpO1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMYWJlbCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiTGFiZWxcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExhYmVsLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IENvbnRhaW5lci5jbGFzc05hbWVzLmNvbmNhdChbTGFiZWwuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxhYmVsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Layout: () => (/* binding */ Layout),\n/* harmony export */   eachChildren: () => (/* binding */ eachChildren)\n/* harmony export */ });\n/* harmony import */ var _util_Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n\r\nfunction eachChildren(container, f) {\r\n    if (container.get(\"reverseChildren\", false)) {\r\n        container.children.eachReverse(f);\r\n    }\r\n    else {\r\n        container.children.each(f);\r\n    }\r\n}\r\n/**\r\n * Base class for [[Container]] layouts.\r\n */\r\nclass Layout extends _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n}\r\nObject.defineProperty(Layout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Layout\"\r\n});\r\nObject.defineProperty(Layout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([Layout.className])\r\n});\r\n//# sourceMappingURL=Layout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvTGF5b3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3QztBQUNqQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUJBQXFCLGdEQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9MYXlvdXQuanM/YzA4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vdXRpbC9FbnRpdHlcIjtcclxuZXhwb3J0IGZ1bmN0aW9uIGVhY2hDaGlsZHJlbihjb250YWluZXIsIGYpIHtcclxuICAgIGlmIChjb250YWluZXIuZ2V0KFwicmV2ZXJzZUNoaWxkcmVuXCIsIGZhbHNlKSkge1xyXG4gICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5lYWNoUmV2ZXJzZShmKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5lYWNoKGYpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBbW0NvbnRhaW5lcl1dIGxheW91dHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgRW50aXR5IHtcclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTGF5b3V0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJMYXlvdXRcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExheW91dCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBFbnRpdHkuY2xhc3NOYW1lcy5jb25jYXQoW0xheW91dC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGF5b3V0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PointedRectangle: () => (/* binding */ PointedRectangle)\n/* harmony export */ });\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n\r\n\r\n/**\r\n * Draws a rectangle with a pointer.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass PointedRectangle extends _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"pointerBaseWidth\") || this.isDirty(\"cornerRadius\") || this.isDirty(\"pointerLength\") || this.isDirty(\"pointerX\") || this.isDirty(\"pointerY\") || this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this.markDirtyBounds();\r\n            let w = this.width();\r\n            let h = this.height();\r\n            if (w > 0 && h > 0) {\r\n                let cr = this.get(\"cornerRadius\", 8);\r\n                cr = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(cr, 0, Math.min(w / 2, h / 2));\r\n                let x = this.get(\"pointerX\", 0);\r\n                let y = this.get(\"pointerY\", 0);\r\n                let bwh = this.get(\"pointerBaseWidth\", 15) / 2;\r\n                // corner coordinates\r\n                // top left\r\n                let xtl = 0;\r\n                let ytl = 0;\r\n                // top right\r\n                let xtr = w;\r\n                let ytr = 0;\r\n                // bottom right\r\n                let xbr = w;\r\n                let ybr = h;\r\n                // bottom left\r\n                let xbl = 0;\r\n                let ybl = h;\r\n                // find stem base side: http://$math.stackexchange.com/questions/274712/calculate-on-which-side-of-straign-line-is-dot-located\r\n                // d=(x−x1)(y2−y1)−(y−y1)(x2−x1)\r\n                let d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);\r\n                let d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);\r\n                const display = this._display;\r\n                // top\r\n                display.moveTo(cr, 0);\r\n                if (d1 > 0 && d2 > 0) {\r\n                    let stemX = Math.round(_util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                    y = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(y, -Infinity, 0);\r\n                    display.lineTo(stemX - bwh, 0);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(stemX + bwh, 0);\r\n                }\r\n                display.lineTo(w - cr, 0);\r\n                display.arcTo(w, 0, w, cr, cr);\r\n                // right\r\n                if (d1 > 0 && d2 < 0) {\r\n                    let stemY = Math.round(_util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(y, cr + bwh, h - bwh - cr));\r\n                    x = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(x, w, Infinity);\r\n                    display.lineTo(w, cr);\r\n                    display.lineTo(w, Math.max(stemY - bwh, cr));\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(w, stemY + bwh);\r\n                }\r\n                display.lineTo(w, h - cr);\r\n                display.arcTo(w, h, w - cr, h, cr);\r\n                // bottom\r\n                if (d1 < 0 && d2 < 0) {\r\n                    let stemX = Math.round(_util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                    y = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(y, h, Infinity);\r\n                    display.lineTo(w - cr, h);\r\n                    display.lineTo(stemX + bwh, h);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(stemX - bwh, h);\r\n                }\r\n                display.lineTo(cr, h);\r\n                display.arcTo(0, h, 0, h - cr, cr);\r\n                // left\r\n                if (d1 < 0 && d2 > 0) {\r\n                    let stemY = Math.round(_util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(y, cr + bwh, h - cr - bwh));\r\n                    x = _util_Math__WEBPACK_IMPORTED_MODULE_1__.fitToRange(x, -Infinity, 0);\r\n                    display.lineTo(0, h - cr);\r\n                    display.lineTo(0, stemY + bwh);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(0, Math.max(stemY - bwh, cr));\r\n                }\r\n                display.lineTo(0, cr);\r\n                display.arcTo(0, 0, cr, 0, cr);\r\n                display.closePath();\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PointedRectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PointedRectangle\"\r\n});\r\nObject.defineProperty(PointedRectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([PointedRectangle.className])\r\n});\r\n//# sourceMappingURL=PointedRectangle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvUG9pbnRlZFJlY3RhbmdsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFDQTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUEyRTtBQUNwRjtBQUNBO0FBQ08sK0JBQStCLCtDQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0RBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxrREFBZ0I7QUFDM0Qsd0JBQXdCLGtEQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGtEQUFnQjtBQUMzRCx3QkFBd0Isa0RBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxrREFBZ0I7QUFDM0Qsd0JBQXdCLGtEQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsa0RBQWdCO0FBQzNELHdCQUF3QixrREFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVE7QUFDbkIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9Qb2ludGVkUmVjdGFuZ2xlLmpzP2YwZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi9HcmFwaGljc1wiO1xyXG5pbXBvcnQgKiBhcyAkbWF0aCBmcm9tIFwiLi4vdXRpbC9NYXRoXCI7XHJcbi8qKlxyXG4gKiBEcmF3cyBhIHJlY3RhbmdsZSB3aXRoIGEgcG9pbnRlci5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29tbW9uLWVsZW1lbnRzL2dyYXBoaWNzL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUG9pbnRlZFJlY3RhbmdsZSBleHRlbmRzIEdyYXBoaWNzIHtcclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInBvaW50ZXJCYXNlV2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzXCIpIHx8IHRoaXMuaXNEaXJ0eShcInBvaW50ZXJMZW5ndGhcIikgfHwgdGhpcy5pc0RpcnR5KFwicG9pbnRlclhcIikgfHwgdGhpcy5pc0RpcnR5KFwicG9pbnRlcllcIikgfHwgdGhpcy5pc0RpcnR5KFwid2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwiaGVpZ2h0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICBsZXQgdyA9IHRoaXMud2lkdGgoKTtcclxuICAgICAgICAgICAgbGV0IGggPSB0aGlzLmhlaWdodCgpO1xyXG4gICAgICAgICAgICBpZiAodyA+IDAgJiYgaCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBjciA9IHRoaXMuZ2V0KFwiY29ybmVyUmFkaXVzXCIsIDgpO1xyXG4gICAgICAgICAgICAgICAgY3IgPSAkbWF0aC5maXRUb1JhbmdlKGNyLCAwLCBNYXRoLm1pbih3IC8gMiwgaCAvIDIpKTtcclxuICAgICAgICAgICAgICAgIGxldCB4ID0gdGhpcy5nZXQoXCJwb2ludGVyWFwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGxldCB5ID0gdGhpcy5nZXQoXCJwb2ludGVyWVwiLCAwKTtcclxuICAgICAgICAgICAgICAgIGxldCBid2ggPSB0aGlzLmdldChcInBvaW50ZXJCYXNlV2lkdGhcIiwgMTUpIC8gMjtcclxuICAgICAgICAgICAgICAgIC8vIGNvcm5lciBjb29yZGluYXRlc1xyXG4gICAgICAgICAgICAgICAgLy8gdG9wIGxlZnRcclxuICAgICAgICAgICAgICAgIGxldCB4dGwgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHl0bCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyB0b3AgcmlnaHRcclxuICAgICAgICAgICAgICAgIGxldCB4dHIgPSB3O1xyXG4gICAgICAgICAgICAgICAgbGV0IHl0ciA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyBib3R0b20gcmlnaHRcclxuICAgICAgICAgICAgICAgIGxldCB4YnIgPSB3O1xyXG4gICAgICAgICAgICAgICAgbGV0IHliciA9IGg7XHJcbiAgICAgICAgICAgICAgICAvLyBib3R0b20gbGVmdFxyXG4gICAgICAgICAgICAgICAgbGV0IHhibCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgeWJsID0gaDtcclxuICAgICAgICAgICAgICAgIC8vIGZpbmQgc3RlbSBiYXNlIHNpZGU6IGh0dHA6Ly8kbWF0aC5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMjc0NzEyL2NhbGN1bGF0ZS1vbi13aGljaC1zaWRlLW9mLXN0cmFpZ24tbGluZS1pcy1kb3QtbG9jYXRlZFxyXG4gICAgICAgICAgICAgICAgLy8gZD0oeOKIkngxKSh5MuKIknkxKeKIkih54oiSeTEpKHgy4oiSeDEpXHJcbiAgICAgICAgICAgICAgICBsZXQgZDEgPSAoeCAtIHh0bCkgKiAoeWJyIC0geXRsKSAtICh5IC0geXRsKSAqICh4YnIgLSB4dGwpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGQyID0gKHggLSB4YmwpICogKHl0ciAtIHlibCkgLSAoeSAtIHlibCkgKiAoeHRyIC0geGJsKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXkgPSB0aGlzLl9kaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgLy8gdG9wXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbyhjciwgMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZDEgPiAwICYmIGQyID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVtWCA9IE1hdGgucm91bmQoJG1hdGguZml0VG9SYW5nZSh4LCBjciArIGJ3aCwgdyAtIGJ3aCAtIGNyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeSA9ICRtYXRoLmZpdFRvUmFuZ2UoeSwgLUluZmluaXR5LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhzdGVtWCAtIGJ3aCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oc3RlbVggKyBid2gsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8odyAtIGNyLCAwKTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkuYXJjVG8odywgMCwgdywgY3IsIGNyKTtcclxuICAgICAgICAgICAgICAgIC8vIHJpZ2h0XHJcbiAgICAgICAgICAgICAgICBpZiAoZDEgPiAwICYmIGQyIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVtWSA9IE1hdGgucm91bmQoJG1hdGguZml0VG9SYW5nZSh5LCBjciArIGJ3aCwgaCAtIGJ3aCAtIGNyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9ICRtYXRoLmZpdFRvUmFuZ2UoeCwgdywgSW5maW5pdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHcsIGNyKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCBNYXRoLm1heChzdGVtWSAtIGJ3aCwgY3IpKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCBzdGVtWSArIGJ3aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3LCBoIC0gY3IpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5hcmNUbyh3LCBoLCB3IC0gY3IsIGgsIGNyKTtcclxuICAgICAgICAgICAgICAgIC8vIGJvdHRvbVxyXG4gICAgICAgICAgICAgICAgaWYgKGQxIDwgMCAmJiBkMiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlbVggPSBNYXRoLnJvdW5kKCRtYXRoLmZpdFRvUmFuZ2UoeCwgY3IgKyBid2gsIHcgLSBid2ggLSBjcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSAkbWF0aC5maXRUb1JhbmdlKHksIGgsIEluZmluaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh3IC0gY3IsIGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHN0ZW1YICsgYndoLCBoKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhzdGVtWCAtIGJ3aCwgaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyhjciwgaCk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmFyY1RvKDAsIGgsIDAsIGggLSBjciwgY3IpO1xyXG4gICAgICAgICAgICAgICAgLy8gbGVmdFxyXG4gICAgICAgICAgICAgICAgaWYgKGQxIDwgMCAmJiBkMiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RlbVkgPSBNYXRoLnJvdW5kKCRtYXRoLmZpdFRvUmFuZ2UoeSwgY3IgKyBid2gsIGggLSBjciAtIGJ3aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSAkbWF0aC5maXRUb1JhbmdlKHgsIC1JbmZpbml0eSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgaCAtIGNyKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCBzdGVtWSArIGJ3aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgTWF0aC5tYXgoc3RlbVkgLSBid2gsIGNyKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCBjcik7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmFyY1RvKDAsIDAsIGNyLCAwLCBjcik7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb2ludGVkUmVjdGFuZ2xlLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJQb2ludGVkUmVjdGFuZ2xlXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb2ludGVkUmVjdGFuZ2xlLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IEdyYXBoaWNzLmNsYXNzTmFtZXMuY29uY2F0KFtQb2ludGVkUmVjdGFuZ2xlLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludGVkUmVjdGFuZ2xlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Rectangle: () => (/* binding */ Rectangle)\n/* harmony export */ });\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n\r\n/**\r\n * Draws a rectangle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass Rectangle extends _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.isMeasured = true;\r\n        this.setPrivateRaw(\"trustBounds\", true);\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"width\") || this.isDirty(\"height\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear && !this.get(\"draw\")) {\r\n            this._draw();\r\n        }\r\n    }\r\n    _draw() {\r\n        let w = this.width();\r\n        let h = this.height();\r\n        let x = 0;\r\n        let y = 0;\r\n        let wSign = w / Math.abs(w);\r\n        let hSign = h / Math.abs(h);\r\n        if (this.get(\"containStroke\", false)) {\r\n            const strokeWidth = this.get(\"strokeWidth\", 0);\r\n            w -= strokeWidth * wSign;\r\n            h -= strokeWidth * hSign;\r\n            x += strokeWidth / 2 * wSign;\r\n            y += strokeWidth / 2 * hSign;\r\n        }\r\n        this._display.drawRect(x, y, w, h);\r\n    }\r\n    _updateSize() {\r\n        this.markDirty();\r\n        this._clear = true;\r\n    }\r\n}\r\nObject.defineProperty(Rectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Rectangle\"\r\n});\r\nObject.defineProperty(Rectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics.classNames.concat([Rectangle.className])\r\n});\r\n//# sourceMappingURL=Rectangle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvUmVjdGFuZ2xlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQTJFO0FBQ3BGO0FBQ0E7QUFDTyx3QkFBd0IsK0NBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLCtDQUFRO0FBQ25CLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvUmVjdGFuZ2xlLmpzPzk5NGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi9HcmFwaGljc1wiO1xyXG4vKipcclxuICogRHJhd3MgYSByZWN0YW5nbGUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9ncmFwaGljcy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSBleHRlbmRzIEdyYXBoaWNzIHtcclxuICAgIF9hZnRlck5ldygpIHtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LmlzTWVhc3VyZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInRydXN0Qm91bmRzXCIsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwid2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwiaGVpZ2h0XCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJ3aWR0aFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwiaGVpZ2h0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhciAmJiAhdGhpcy5nZXQoXCJkcmF3XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZHJhdygpIHtcclxuICAgICAgICBsZXQgdyA9IHRoaXMud2lkdGgoKTtcclxuICAgICAgICBsZXQgaCA9IHRoaXMuaGVpZ2h0KCk7XHJcbiAgICAgICAgbGV0IHggPSAwO1xyXG4gICAgICAgIGxldCB5ID0gMDtcclxuICAgICAgICBsZXQgd1NpZ24gPSB3IC8gTWF0aC5hYnModyk7XHJcbiAgICAgICAgbGV0IGhTaWduID0gaCAvIE1hdGguYWJzKGgpO1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcImNvbnRhaW5TdHJva2VcIiwgZmFsc2UpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gdGhpcy5nZXQoXCJzdHJva2VXaWR0aFwiLCAwKTtcclxuICAgICAgICAgICAgdyAtPSBzdHJva2VXaWR0aCAqIHdTaWduO1xyXG4gICAgICAgICAgICBoIC09IHN0cm9rZVdpZHRoICogaFNpZ247XHJcbiAgICAgICAgICAgIHggKz0gc3Ryb2tlV2lkdGggLyAyICogd1NpZ247XHJcbiAgICAgICAgICAgIHkgKz0gc3Ryb2tlV2lkdGggLyAyICogaFNpZ247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuZHJhd1JlY3QoeCwgeSwgdywgaCk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlU2l6ZSgpIHtcclxuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJSZWN0YW5nbGVcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZSwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBHcmFwaGljcy5jbGFzc05hbWVzLmNvbmNhdChbUmVjdGFuZ2xlLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWN0YW5nbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoundedRectangle: () => (/* binding */ RoundedRectangle)\n/* harmony export */ });\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _Rectangle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n\r\n\r\n\r\n\r\n/**\r\n * Draws a rectangle with rounded corners.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nclass RoundedRectangle extends _Rectangle__WEBPACK_IMPORTED_MODULE_0__.Rectangle {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"cornerRadiusTL\") || this.isDirty(\"cornerRadiusTR\") || this.isDirty(\"cornerRadiusBR\") || this.isDirty(\"cornerRadiusBL\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _draw() {\r\n        let width = this.width();\r\n        let height = this.height();\r\n        let wSign = width / Math.abs(width);\r\n        let hSign = height / Math.abs(height);\r\n        let x = 0;\r\n        let y = 0;\r\n        const strokeWidth = this.get(\"strokeWidth\", 0);\r\n        if (this.get(\"containStroke\", false)) {\r\n            width -= wSign * strokeWidth;\r\n            height -= hSign * strokeWidth;\r\n            x += wSign * strokeWidth / 2;\r\n            y += hSign * strokeWidth / 2;\r\n        }\r\n        let w = width;\r\n        let h = height;\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(w) && _util_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(h)) {\r\n            let minSide = Math.min(w, h) / 2;\r\n            let crtl = _util_Utils__WEBPACK_IMPORTED_MODULE_2__.relativeToValue(this.get(\"cornerRadiusTL\", 8), minSide);\r\n            let crtr = _util_Utils__WEBPACK_IMPORTED_MODULE_2__.relativeToValue(this.get(\"cornerRadiusTR\", 8), minSide);\r\n            let crbr = _util_Utils__WEBPACK_IMPORTED_MODULE_2__.relativeToValue(this.get(\"cornerRadiusBR\", 8), minSide);\r\n            let crbl = _util_Utils__WEBPACK_IMPORTED_MODULE_2__.relativeToValue(this.get(\"cornerRadiusBL\", 8), minSide);\r\n            let maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));\r\n            crtl = _util_Math__WEBPACK_IMPORTED_MODULE_3__.fitToRange(crtl, 0, maxcr);\r\n            crtr = _util_Math__WEBPACK_IMPORTED_MODULE_3__.fitToRange(crtr, 0, maxcr);\r\n            crbr = _util_Math__WEBPACK_IMPORTED_MODULE_3__.fitToRange(crbr, 0, maxcr);\r\n            crbl = _util_Math__WEBPACK_IMPORTED_MODULE_3__.fitToRange(crbl, 0, maxcr);\r\n            const display = this._display;\r\n            display.moveTo(x + crtl * wSign, y);\r\n            display.lineTo(x + w - crtr * wSign, y);\r\n            if (crtr > 0) {\r\n                display.arcTo(x + w, y, x + w, y + crtr * hSign, crtr);\r\n            }\r\n            display.lineTo(x + w, y + h - crbr * hSign);\r\n            if (crbr > 0) {\r\n                display.arcTo(x + w, y + h, x + w - crbr * wSign, y + h, crbr);\r\n            }\r\n            display.lineTo(x + crbl * wSign, y + h);\r\n            if (crbl > 0) {\r\n                display.arcTo(x, y + h, x, y + h - crbl * hSign, crbl);\r\n            }\r\n            display.lineTo(x, y + crtl * hSign);\r\n            if (crtl > 0) {\r\n                display.arcTo(x, y, x + crtl * wSign, y, crtl);\r\n            }\r\n            display.closePath();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(RoundedRectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"RoundedRectangle\"\r\n});\r\nObject.defineProperty(RoundedRectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Rectangle__WEBPACK_IMPORTED_MODULE_0__.Rectangle.classNames.concat([RoundedRectangle.className])\r\n});\r\n//# sourceMappingURL=RoundedRectangle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvUm91bmRlZFJlY3RhbmdsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzQztBQUNBO0FBQ0U7QUFDQTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUEyRTtBQUNwRjtBQUNBO0FBQ08sK0JBQStCLGlEQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYyxPQUFPLGdEQUFjO0FBQy9DO0FBQ0EsdUJBQXVCLHdEQUFzQjtBQUM3Qyx1QkFBdUIsd0RBQXNCO0FBQzdDLHVCQUF1Qix3REFBc0I7QUFDN0MsdUJBQXVCLHdEQUFzQjtBQUM3QztBQUNBLG1CQUFtQixrREFBZ0I7QUFDbkMsbUJBQW1CLGtEQUFnQjtBQUNuQyxtQkFBbUIsa0RBQWdCO0FBQ25DLG1CQUFtQixrREFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBUztBQUNwQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL1JvdW5kZWRSZWN0YW5nbGUuanM/ZjlkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICRtYXRoIGZyb20gXCIuLi91dGlsL01hdGhcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuL1JlY3RhbmdsZVwiO1xyXG4vKipcclxuICogRHJhd3MgYSByZWN0YW5nbGUgd2l0aCByb3VuZGVkIGNvcm5lcnMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9ncmFwaGljcy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJvdW5kZWRSZWN0YW5nbGUgZXh0ZW5kcyBSZWN0YW5nbGUge1xyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzVExcIikgfHwgdGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzVFJcIikgfHwgdGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzQlJcIikgfHwgdGhpcy5pc0RpcnR5KFwiY29ybmVyUmFkaXVzQkxcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kcmF3KCkge1xyXG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMud2lkdGgoKTtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcclxuICAgICAgICBsZXQgd1NpZ24gPSB3aWR0aCAvIE1hdGguYWJzKHdpZHRoKTtcclxuICAgICAgICBsZXQgaFNpZ24gPSBoZWlnaHQgLyBNYXRoLmFicyhoZWlnaHQpO1xyXG4gICAgICAgIGxldCB4ID0gMDtcclxuICAgICAgICBsZXQgeSA9IDA7XHJcbiAgICAgICAgY29uc3Qgc3Ryb2tlV2lkdGggPSB0aGlzLmdldChcInN0cm9rZVdpZHRoXCIsIDApO1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcImNvbnRhaW5TdHJva2VcIiwgZmFsc2UpKSB7XHJcbiAgICAgICAgICAgIHdpZHRoIC09IHdTaWduICogc3Ryb2tlV2lkdGg7XHJcbiAgICAgICAgICAgIGhlaWdodCAtPSBoU2lnbiAqIHN0cm9rZVdpZHRoO1xyXG4gICAgICAgICAgICB4ICs9IHdTaWduICogc3Ryb2tlV2lkdGggLyAyO1xyXG4gICAgICAgICAgICB5ICs9IGhTaWduICogc3Ryb2tlV2lkdGggLyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdyA9IHdpZHRoO1xyXG4gICAgICAgIGxldCBoID0gaGVpZ2h0O1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcih3KSAmJiAkdHlwZS5pc051bWJlcihoKSkge1xyXG4gICAgICAgICAgICBsZXQgbWluU2lkZSA9IE1hdGgubWluKHcsIGgpIC8gMjtcclxuICAgICAgICAgICAgbGV0IGNydGwgPSAkdXRpbHMucmVsYXRpdmVUb1ZhbHVlKHRoaXMuZ2V0KFwiY29ybmVyUmFkaXVzVExcIiwgOCksIG1pblNpZGUpO1xyXG4gICAgICAgICAgICBsZXQgY3J0ciA9ICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUodGhpcy5nZXQoXCJjb3JuZXJSYWRpdXNUUlwiLCA4KSwgbWluU2lkZSk7XHJcbiAgICAgICAgICAgIGxldCBjcmJyID0gJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZSh0aGlzLmdldChcImNvcm5lclJhZGl1c0JSXCIsIDgpLCBtaW5TaWRlKTtcclxuICAgICAgICAgICAgbGV0IGNyYmwgPSAkdXRpbHMucmVsYXRpdmVUb1ZhbHVlKHRoaXMuZ2V0KFwiY29ybmVyUmFkaXVzQkxcIiwgOCksIG1pblNpZGUpO1xyXG4gICAgICAgICAgICBsZXQgbWF4Y3IgPSBNYXRoLm1pbihNYXRoLmFicyh3IC8gMiksIE1hdGguYWJzKGggLyAyKSk7XHJcbiAgICAgICAgICAgIGNydGwgPSAkbWF0aC5maXRUb1JhbmdlKGNydGwsIDAsIG1heGNyKTtcclxuICAgICAgICAgICAgY3J0ciA9ICRtYXRoLmZpdFRvUmFuZ2UoY3J0ciwgMCwgbWF4Y3IpO1xyXG4gICAgICAgICAgICBjcmJyID0gJG1hdGguZml0VG9SYW5nZShjcmJyLCAwLCBtYXhjcik7XHJcbiAgICAgICAgICAgIGNyYmwgPSAkbWF0aC5maXRUb1JhbmdlKGNyYmwsIDAsIG1heGNyKTtcclxuICAgICAgICAgICAgY29uc3QgZGlzcGxheSA9IHRoaXMuX2Rpc3BsYXk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKHggKyBjcnRsICogd1NpZ24sIHkpO1xyXG4gICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh4ICsgdyAtIGNydHIgKiB3U2lnbiwgeSk7XHJcbiAgICAgICAgICAgIGlmIChjcnRyID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5hcmNUbyh4ICsgdywgeSwgeCArIHcsIHkgKyBjcnRyICogaFNpZ24sIGNydHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKHggKyB3LCB5ICsgaCAtIGNyYnIgKiBoU2lnbik7XHJcbiAgICAgICAgICAgIGlmIChjcmJyID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5hcmNUbyh4ICsgdywgeSArIGgsIHggKyB3IC0gY3JiciAqIHdTaWduLCB5ICsgaCwgY3Jicik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oeCArIGNyYmwgKiB3U2lnbiwgeSArIGgpO1xyXG4gICAgICAgICAgICBpZiAoY3JibCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkuYXJjVG8oeCwgeSArIGgsIHgsIHkgKyBoIC0gY3JibCAqIGhTaWduLCBjcmJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyh4LCB5ICsgY3J0bCAqIGhTaWduKTtcclxuICAgICAgICAgICAgaWYgKGNydGwgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmFyY1RvKHgsIHksIHggKyBjcnRsICogd1NpZ24sIHksIGNydGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpc3BsYXkuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb3VuZGVkUmVjdGFuZ2xlLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJSb3VuZGVkUmVjdGFuZ2xlXCJcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb3VuZGVkUmVjdGFuZ2xlLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFJlY3RhbmdsZS5jbGFzc05hbWVzLmNvbmNhdChbUm91bmRlZFJlY3RhbmdsZS5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um91bmRlZFJlY3RhbmdsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Series: () => (/* binding */ Series)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _core_render_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Component */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js\");\n/* harmony import */ var _core_util_List__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _core_util_Color__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _core_util_Animation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/util/Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_render_Label__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/render/Label */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\");\n/* harmony import */ var _core_util_Array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _core_util_Time__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/util/Time */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//import { Animations } from \"../../core/util/Animation\";\r\n\r\n\r\n\r\n/**\r\n * A base class for all series.\r\n */\r\nclass Series extends _core_render_Component__WEBPACK_IMPORTED_MODULE_0__.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_aggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_selectionAggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_psi\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_pei\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_baseSeriesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A chart series belongs to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * List of bullets to use for the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n         */\r\n        Object.defineProperty(this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _core_util_List__WEBPACK_IMPORTED_MODULE_1__.List()\r\n        });\r\n        /**\r\n         * A [[Container]] series' bullets are stored in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container.new(this._root, { width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100, position: \"absolute\" })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.valueFields.push(\"value\", \"customValue\");\r\n        super._afterNew();\r\n        this.setPrivate(\"customData\", {});\r\n        this._disposers.push(this.bullets.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._handleBullets(this.dataItems);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        }));\r\n    }\r\n    _dispose() {\r\n        this.bulletsContainer.dispose(); // can be in a different parent\r\n        super._dispose();\r\n    }\r\n    startIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(this.getPrivate(\"startIndex\", 0), len);\r\n    }\r\n    endIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(this.getPrivate(\"endIndex\", len), len);\r\n    }\r\n    _handleBullets(dataItems) {\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(dataItems, (dataItem) => {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                    bullet.dispose();\r\n                });\r\n                dataItem.bullets = undefined;\r\n            }\r\n        });\r\n        this.markDirtyValues();\r\n    }\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    getDataItemById(id) {\r\n        return _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.find(this.dataItems, (dataItem) => {\r\n            return dataItem.get(\"id\") == id;\r\n        });\r\n    }\r\n    _makeBullets(dataItem) {\r\n        if (this._shouldMakeBullet(dataItem)) {\r\n            dataItem.bullets = [];\r\n            this.bullets.each((bulletFunction) => {\r\n                this._makeBullet(dataItem, bulletFunction);\r\n            });\r\n        }\r\n    }\r\n    _shouldMakeBullet(_dataItem) {\r\n        return true;\r\n    }\r\n    _makeBullet(dataItem, bulletFunction, index) {\r\n        const bullet = bulletFunction(this._root, this, dataItem);\r\n        if (bullet) {\r\n            bullet._index = index;\r\n            this._makeBulletReal(dataItem, bullet);\r\n        }\r\n        return bullet;\r\n    }\r\n    _makeBulletReal(dataItem, bullet) {\r\n        let sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            sprite._setDataItem(dataItem);\r\n            sprite.setRaw(\"position\", \"absolute\");\r\n            this.bulletsContainer.children.push(sprite);\r\n        }\r\n        bullet.series = this;\r\n        dataItem.bullets.push(bullet);\r\n    }\r\n    /**\r\n     * Adds bullet directly to a data item.\r\n     *\r\n     * Please note: method accepts [[Bullet]] instance as a paramter, not a\r\n     * reference to a function.\r\n     *\r\n     * You should add Bullet instance, not a method like you do it on series.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/#Adding_directly_to_data_item} for more info\r\n     * @since 5.6.0\r\n     *\r\n     * @param  dataItem  Target data item\r\n     * @param  bullet    Bullet instance\r\n     */\r\n    addBullet(dataItem, bullet) {\r\n        if (!dataItem.bullets) {\r\n            dataItem.bullets = [];\r\n        }\r\n        if (bullet) {\r\n            this._makeBulletReal(dataItem, bullet);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._aggregatesCalculated = false;\r\n        this._baseSeriesDirty = false;\r\n        this._selectionAggregatesCalculated = false;\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        let startIndex = this.startIndex();\r\n        let endIndex = this.endIndex();\r\n        if (this.isDirty(\"name\")) {\r\n            this.updateLegendValue();\r\n        }\r\n        if (this.isDirty(\"heatRules\")) {\r\n            this._valuesDirty = true;\r\n        }\r\n        if (this.isPrivateDirty(\"baseValueSeries\")) {\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            if (baseValueSeries) {\r\n                this._disposers.push(baseValueSeries.onPrivate(\"startIndex\", () => {\r\n                    this._baseSeriesDirty = true;\r\n                    this.markDirtyValues();\r\n                }));\r\n            }\r\n        }\r\n        const calculateAggregates = this.get(\"calculateAggregates\");\r\n        if (calculateAggregates) {\r\n            if (this._valuesDirty && !this._dataProcessed) {\r\n                if (!this._aggregatesCalculated) {\r\n                    this._calculateAggregates(0, this.dataItems.length);\r\n                    this._aggregatesCalculated = true;\r\n                    if (startIndex != 0) {\r\n                        this._psi = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if ((this._psi != startIndex || this._pei != endIndex || this.isPrivateDirty(\"adjustedStartIndex\")) && !this._selectionAggregatesCalculated) {\r\n                if (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\r\n                    // void\r\n                }\r\n                else {\r\n                    this._calculateAggregates(startIndex, endIndex);\r\n                }\r\n                this._selectionAggregatesCalculated = true;\r\n            }\r\n        }\r\n        if (this.isDirty(\"tooltip\")) {\r\n            let tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.hide(0);\r\n                tooltip.set(\"tooltipTarget\", this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\r\n            let markerRectangle;\r\n            const legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    if (this.isVisible()) {\r\n                        if (this.isDirty(\"stroke\")) {\r\n                            let stroke = this.get(\"stroke\");\r\n                            markerRectangle.set(\"stroke\", stroke);\r\n                        }\r\n                        if (this.isDirty(\"fill\")) {\r\n                            let fill = this.get(\"fill\");\r\n                            markerRectangle.set(\"fill\", fill);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.updateLegendMarker(undefined);\r\n        }\r\n        if (this.bullets.length > 0) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < this.dataItems.length) {\r\n                endIndex++;\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                if (!dataItem.bullets) {\r\n                    this._makeBullets(dataItem);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleRemoved() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _adjustStartIndex(index) {\r\n        return index;\r\n    }\r\n    _calculateAggregates(startIndex, endIndex) {\r\n        let fields = this._valueFields;\r\n        if (!fields) {\r\n            throw new Error(\"No value fields are set for the series.\");\r\n        }\r\n        const sum = {};\r\n        const absSum = {};\r\n        const count = {};\r\n        const low = {};\r\n        const high = {};\r\n        const open = {};\r\n        const close = {};\r\n        const average = {};\r\n        const previous = {};\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(fields, (key) => {\r\n            sum[key] = 0;\r\n            absSum[key] = 0;\r\n            count[key] = 0;\r\n        });\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(fields, (key) => {\r\n            let change = key + \"Change\";\r\n            let changePercent = key + \"ChangePercent\";\r\n            let changePrevious = key + \"ChangePrevious\";\r\n            let changePreviousPercent = key + \"ChangePreviousPercent\";\r\n            let changeSelection = key + \"ChangeSelection\";\r\n            let changeSelectionPercent = key + \"ChangeSelectionPercent\";\r\n            let openKey = \"valueY\";\r\n            if (key == \"valueX\" || key == \"openValueX\" || key == \"lowValueX\" || key == \"highValueX\") {\r\n                openKey = \"valueX\";\r\n            }\r\n            const baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n            const adjustedStartIndex = this.getPrivate(\"adjustedStartIndex\", startIndex);\r\n            for (let i = adjustedStartIndex; i < endIndex; i++) {\r\n                const dataItem = this.dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        count[key]++;\r\n                        sum[key] += value;\r\n                        absSum[key] += Math.abs(value);\r\n                        average[key] = sum[key] / count[key];\r\n                        if (low[key] > value || low[key] == null) {\r\n                            low[key] = value;\r\n                        }\r\n                        if (high[key] < value || high[key] == null) {\r\n                            high[key] = value;\r\n                        }\r\n                        close[key] = value;\r\n                        if (open[key] == null) {\r\n                            open[key] = value;\r\n                            previous[key] = value;\r\n                            if (baseValueSeries) {\r\n                                open[openKey] = baseValueSeries._getBase(openKey);\r\n                            }\r\n                        }\r\n                        if (startIndex === 0) {\r\n                            dataItem.setRaw((change), value - open[openKey]);\r\n                            dataItem.setRaw((changePercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        }\r\n                        dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                        dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                        dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                        dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        previous[key] = value;\r\n                    }\r\n                }\r\n            }\r\n            if (endIndex < this.dataItems.length - 1) {\r\n                const dataItem = this.dataItems[endIndex];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                    dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                    dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                    dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                }\r\n            }\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            delete previous[key];\r\n            for (let i = startIndex; i < adjustedStartIndex; i++) {\r\n                const dataItem = this.dataItems[i];\r\n                if (dataItem) {\r\n                    let value = dataItem.get(key);\r\n                    if (previous[key] == null) {\r\n                        previous[key] = value;\r\n                    }\r\n                    if (value != null) {\r\n                        dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                        dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                        dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                        dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        previous[key] = value;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(fields, (key) => {\r\n            this.setPrivate((key + \"AverageSelection\"), average[key]);\r\n            this.setPrivate((key + \"CountSelection\"), count[key]);\r\n            this.setPrivate((key + \"SumSelection\"), sum[key]);\r\n            this.setPrivate((key + \"AbsoluteSumSelection\"), absSum[key]);\r\n            this.setPrivate((key + \"LowSelection\"), low[key]);\r\n            this.setPrivate((key + \"HighSelection\"), high[key]);\r\n            this.setPrivate((key + \"OpenSelection\"), open[key]);\r\n            this.setPrivate((key + \"CloseSelection\"), close[key]);\r\n        });\r\n        if (startIndex === 0 && endIndex === this.dataItems.length) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(fields, (key) => {\r\n                this.setPrivate((key + \"Average\"), average[key]);\r\n                this.setPrivate((key + \"Count\"), count[key]);\r\n                this.setPrivate((key + \"Sum\"), sum[key]);\r\n                this.setPrivate((key + \"AbsoluteSum\"), absSum[key]);\r\n                this.setPrivate((key + \"Low\"), low[key]);\r\n                this.setPrivate((key + \"High\"), high[key]);\r\n                this.setPrivate((key + \"Open\"), open[key]);\r\n                this.setPrivate((key + \"Close\"), close[key]);\r\n            });\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        this._psi = this.startIndex();\r\n        this._pei = this.endIndex();\r\n        if (this.isDirty(\"visible\")) {\r\n            this.bulletsContainer.set(\"visible\", this.get(\"visible\"));\r\n        }\r\n        // Apply heat rules\r\n        const rules = this.get(\"heatRules\");\r\n        if (this._valuesDirty && rules && rules.length > 0) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(rules, (rule) => {\r\n                const minValue = rule.minValue || this.getPrivate((rule.dataField + \"Low\")) || 0;\r\n                const maxValue = rule.maxValue || this.getPrivate((rule.dataField + \"High\")) || 0;\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(rule.target._entities, (target) => {\r\n                    const value = target.dataItem.get(rule.dataField);\r\n                    if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(value)) {\r\n                        if (rule.neutral) {\r\n                            target.set(rule.key, rule.neutral);\r\n                        }\r\n                        const states = target.states;\r\n                        if (states) {\r\n                            const defaultState = states.lookup(\"default\");\r\n                            if (defaultState && rule.neutral) {\r\n                                defaultState.set(rule.key, rule.neutral);\r\n                            }\r\n                        }\r\n                        if (!rule.customFunction) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (rule.customFunction) {\r\n                        rule.customFunction.call(this, target, minValue, maxValue, value);\r\n                    }\r\n                    else {\r\n                        let percent;\r\n                        if (rule.logarithmic) {\r\n                            percent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\r\n                        }\r\n                        else {\r\n                            percent = (value - minValue) / (maxValue - minValue);\r\n                        }\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(value) && (!_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(percent) || Math.abs(percent) == Infinity)) {\r\n                            percent = 0.5;\r\n                        }\r\n                        // fixes problems if all values are the same\r\n                        let propertyValue;\r\n                        if (_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(rule.min)) {\r\n                            propertyValue = rule.min + (rule.max - rule.min) * percent;\r\n                        }\r\n                        else if (rule.min instanceof _core_util_Color__WEBPACK_IMPORTED_MODULE_6__.Color) {\r\n                            propertyValue = _core_util_Color__WEBPACK_IMPORTED_MODULE_6__.Color.interpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        else if (rule.min instanceof _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.Percent) {\r\n                            propertyValue = (0,_core_util_Animation__WEBPACK_IMPORTED_MODULE_7__.percentInterpolate)(percent, rule.min, rule.max);\r\n                        }\r\n                        target.set(rule.key, propertyValue);\r\n                        const states = target.states;\r\n                        if (states) {\r\n                            const defaultState = states.lookup(\"default\");\r\n                            if (defaultState) {\r\n                                defaultState.set(rule.key, propertyValue);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        if (this.get(\"visible\")) {\r\n            let count = this.dataItems.length;\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            if (endIndex < count) {\r\n                endIndex++;\r\n            }\r\n            if (startIndex > 0) {\r\n                startIndex--;\r\n            }\r\n            for (let i = 0; i < startIndex; i++) {\r\n                this._hideBullets(this.dataItems[i]);\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                this._positionBullets(this.dataItems[i]);\r\n            }\r\n            for (let i = endIndex; i < count; i++) {\r\n                this._hideBullets(this.dataItems[i]);\r\n            }\r\n        }\r\n    }\r\n    _positionBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(dataItem.bullets, (bullet) => {\r\n                this._positionBullet(bullet);\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (bullet.get(\"dynamic\")) {\r\n                    if (sprite) {\r\n                        sprite._markDirtyKey(\"fill\");\r\n                        sprite.markDirtySize();\r\n                    }\r\n                    if (sprite instanceof _core_render_Container__WEBPACK_IMPORTED_MODULE_2__.Container) {\r\n                        sprite.walkChildren((child) => {\r\n                            child._markDirtyKey(\"fill\");\r\n                            child.markDirtySize();\r\n                            if (child instanceof _core_render_Label__WEBPACK_IMPORTED_MODULE_8__.Label) {\r\n                                child.text.markDirtyText();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                if (sprite instanceof _core_render_Label__WEBPACK_IMPORTED_MODULE_8__.Label && sprite.get(\"populateText\")) {\r\n                    sprite.text.markDirtyText();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _hideBullets(dataItem) {\r\n        if (dataItem.bullets) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(dataItem.bullets, (bullet) => {\r\n                let sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _positionBullet(_bullet) {\r\n    }\r\n    _placeBulletsContainer(chart) {\r\n        chart.bulletsContainer.children.moveValue(this.bulletsContainer);\r\n    }\r\n    _removeBulletsContainer() {\r\n        const bulletsContainer = this.bulletsContainer;\r\n        if (bulletsContainer.parent) {\r\n            bulletsContainer.parent.children.removeValue(bulletsContainer);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        //super.disposeDataItem(dataItem); // does nothing\r\n        const bullets = dataItem.bullets;\r\n        if (bullets) {\r\n            _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                bullet.dispose();\r\n            });\r\n            dataItem.bullets = undefined;\r\n        }\r\n    }\r\n    _getItemReaderLabel() {\r\n        return \"\";\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.show(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                _core_util_Array__WEBPACK_IMPORTED_MODULE_4__.each(bullets, (bullet) => {\r\n                    const sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        promises.push(sprite.hide(duration));\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _sequencedShowHide(show, duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (this.get(\"sequencedInterpolation\")) {\r\n                if (!_core_util_Type__WEBPACK_IMPORTED_MODULE_5__.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (duration > 0) {\r\n                    const startIndex = this.startIndex();\r\n                    const endIndex = this.endIndex();\r\n                    yield Promise.all(_core_util_Array__WEBPACK_IMPORTED_MODULE_4__.map(this.dataItems, (dataItem, i) => (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(this, void 0, void 0, function* () {\r\n                        let realDuration = duration || 0;\r\n                        if (i < startIndex - 10 || i > endIndex + 10) {\r\n                            realDuration = 0;\r\n                        }\r\n                        //let delay = this.get(\"sequencedDelay\", 0) * i + realDuration * (i - startIndex) / (endIndex - startIndex);\r\n                        let delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex - startIndex);\r\n                        yield _core_util_Time__WEBPACK_IMPORTED_MODULE_10__.sleep(delay * (i - startIndex));\r\n                        if (show) {\r\n                            yield this.showDataItem(dataItem, realDuration);\r\n                        }\r\n                        else {\r\n                            yield this.hideDataItem(dataItem, realDuration);\r\n                        }\r\n                    })));\r\n                }\r\n                else {\r\n                    yield Promise.all(_core_util_Array__WEBPACK_IMPORTED_MODULE_4__.map(this.dataItems, (dataItem) => {\r\n                        if (show) {\r\n                            return this.showDataItem(dataItem, 0);\r\n                        }\r\n                        else {\r\n                            return this.hideDataItem(dataItem, 0);\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendValue(dataItem) {\r\n        if (dataItem) {\r\n            const legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                const valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    const text = valueLabel.text;\r\n                    let txt = \"\";\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\r\n                    valueLabel.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n                const label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    const text = label.text;\r\n                    let txt = \"\";\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\r\n                    label.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(_dataItem) {\r\n    }\r\n    _onHide() {\r\n        super._onHide();\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            tooltip.hide();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    unhoverDataItem(_dataItem) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _getBase(key) {\r\n        const dataItem = this.dataItems[this.startIndex()];\r\n        if (dataItem) {\r\n            return dataItem.get(key);\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nObject.defineProperty(Series, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Series\"\r\n});\r\nObject.defineProperty(Series, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Component__WEBPACK_IMPORTED_MODULE_0__.Component.classNames.concat([Series.className])\r\n});\r\n//# sourceMappingURL=Series.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvU2VyaWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFrQztBQUNzQjtBQUNaO0FBQ0U7QUFDaUI7QUFDYjtBQUNIO0FBQ1M7QUFDUjtBQUNoRCxXQUFXLGFBQWE7QUFDd0I7QUFDRjtBQUNBO0FBQzlDO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQiw2REFBUztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMEVBQTBFO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaURBQUk7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBUyxtQkFBbUIsT0FBTyxvREFBSSxVQUFVLG9EQUFJLHdCQUF3QjtBQUNoRyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBVztBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVHQUF1RztBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsY0FBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSxrREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsY0FBYztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsd0JBQXdCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLGtEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrREFBVztBQUN2QjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0EseUJBQXlCLHFEQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFjLGFBQWEscURBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscURBQWM7QUFDMUM7QUFDQTtBQUNBLHFEQUFxRCxtREFBSztBQUMxRCw0Q0FBNEMsbURBQUs7QUFDakQ7QUFDQSxxREFBcUQsdURBQU87QUFDNUQsNENBQTRDLHdFQUFrQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQkFBZ0I7QUFDNUM7QUFDQTtBQUNBLHFDQUFxQyxjQUFjO0FBQ25EO0FBQ0E7QUFDQSxtQ0FBbUMsV0FBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDZEQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxxREFBSztBQUN0RDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxzQ0FBc0MscURBQUs7QUFDM0M7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0EsWUFBWSxrREFBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsU0FBUztBQUNULGVBQWUsZ0RBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsU0FBUztBQUNULGVBQWUsZ0RBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSxxQkFBcUIscURBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxpREFBVSxrQ0FBa0MsZ0RBQVM7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG1EQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0Esc0NBQXNDLGlEQUFVO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvU2VyaWVzLmpzPzQxZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9jb3JlL3JlbmRlci9Db21wb25lbnRcIjtcclxuaW1wb3J0IHsgTGlzdCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvTGlzdFwiO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQ29sb3JcIjtcclxuaW1wb3J0IHsgcGVyY2VudEludGVycG9sYXRlIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9BbmltYXRpb25cIjtcclxuaW1wb3J0IHsgUGVyY2VudCB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvUGVyY2VudFwiO1xyXG5pbXBvcnQgeyBwMTAwIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9QZXJjZW50XCI7XHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuLi8uLi9jb3JlL3JlbmRlci9Db250YWluZXJcIjtcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvTGFiZWxcIjtcclxuLy9pbXBvcnQgeyBBbmltYXRpb25zIH0gZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9BbmltYXRpb25cIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICR0aW1lIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVGltZVwiO1xyXG4vKipcclxuICogQSBiYXNlIGNsYXNzIGZvciBhbGwgc2VyaWVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNlcmllcyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hZ2dyZWdhdGVzQ2FsY3VsYXRlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZWxlY3Rpb25BZ2dyZWdhdGVzQ2FsY3VsYXRlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kYXRhUHJvY2Vzc2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BzaVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGVpXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9iYXNlU2VyaWVzRGlydHlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGNoYXJ0IHNlcmllcyBiZWxvbmdzIHRvLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYXJ0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIExpc3Qgb2YgYnVsbGV0cyB0byB1c2UgZm9yIHRoZSBzZXJpZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvYnVsbGV0cy99IGZvciBtb3JlIGluZm9cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJidWxsZXRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBMaXN0KClcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQ29udGFpbmVyXV0gc2VyaWVzJyBidWxsZXRzIGFyZSBzdG9yZWQgaW4uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCBDb250YWluZXIubmV3KClcclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJidWxsZXRzQ29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IENvbnRhaW5lci5uZXcodGhpcy5fcm9vdCwgeyB3aWR0aDogcDEwMCwgaGVpZ2h0OiBwMTAwLCBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZUZpZWxkcy5wdXNoKFwidmFsdWVcIiwgXCJjdXN0b21WYWx1ZVwiKTtcclxuICAgICAgICBzdXBlci5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJjdXN0b21EYXRhXCIsIHt9KTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLmJ1bGxldHMuZXZlbnRzLm9uQWxsKChjaGFuZ2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSBcImNsZWFyXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUJ1bGxldHModGhpcy5kYXRhSXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcInB1c2hcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQnVsbGV0cyh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwic2V0SW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQnVsbGV0cyh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwiaW5zZXJ0SW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQnVsbGV0cyh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicmVtb3ZlSW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQnVsbGV0cyh0aGlzLmRhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwibW92ZUluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUJ1bGxldHModGhpcy5kYXRhSXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBJTGlzdEV2ZW50IHR5cGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldHNDb250YWluZXIuZGlzcG9zZSgpOyAvLyBjYW4gYmUgaW4gYSBkaWZmZXJlbnQgcGFyZW50XHJcbiAgICAgICAgc3VwZXIuX2Rpc3Bvc2UoKTtcclxuICAgIH1cclxuICAgIHN0YXJ0SW5kZXgoKSB7XHJcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMuZGF0YUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5nZXRQcml2YXRlKFwic3RhcnRJbmRleFwiLCAwKSwgbGVuKTtcclxuICAgIH1cclxuICAgIGVuZEluZGV4KCkge1xyXG4gICAgICAgIGxldCBsZW4gPSB0aGlzLmRhdGFJdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZ2V0UHJpdmF0ZShcImVuZEluZGV4XCIsIGxlbiksIGxlbik7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlQnVsbGV0cyhkYXRhSXRlbXMpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaChkYXRhSXRlbXMsIChkYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBidWxsZXRzID0gZGF0YUl0ZW0uYnVsbGV0cztcclxuICAgICAgICAgICAgaWYgKGJ1bGxldHMpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidWxsZXQuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkYXRhSXRlbS5idWxsZXRzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHlWYWx1ZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9va3MgdXAgYW5kIHJldHVybnMgYSBkYXRhIGl0ZW0gYnkgaXRzIElELlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGlkICBJRFxyXG4gICAgICogQHJldHVybiAgICAgIERhdGEgaXRlbVxyXG4gICAgICovXHJcbiAgICBnZXREYXRhSXRlbUJ5SWQoaWQpIHtcclxuICAgICAgICByZXR1cm4gJGFycmF5LmZpbmQodGhpcy5kYXRhSXRlbXMsIChkYXRhSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0uZ2V0KFwiaWRcIikgPT0gaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfbWFrZUJ1bGxldHMoZGF0YUl0ZW0pIHtcclxuICAgICAgICBpZiAodGhpcy5fc2hvdWxkTWFrZUJ1bGxldChkYXRhSXRlbSkpIHtcclxuICAgICAgICAgICAgZGF0YUl0ZW0uYnVsbGV0cyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmJ1bGxldHMuZWFjaCgoYnVsbGV0RnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21ha2VCdWxsZXQoZGF0YUl0ZW0sIGJ1bGxldEZ1bmN0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Nob3VsZE1ha2VCdWxsZXQoX2RhdGFJdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBfbWFrZUJ1bGxldChkYXRhSXRlbSwgYnVsbGV0RnVuY3Rpb24sIGluZGV4KSB7XHJcbiAgICAgICAgY29uc3QgYnVsbGV0ID0gYnVsbGV0RnVuY3Rpb24odGhpcy5fcm9vdCwgdGhpcywgZGF0YUl0ZW0pO1xyXG4gICAgICAgIGlmIChidWxsZXQpIHtcclxuICAgICAgICAgICAgYnVsbGV0Ll9pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLl9tYWtlQnVsbGV0UmVhbChkYXRhSXRlbSwgYnVsbGV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcclxuICAgIH1cclxuICAgIF9tYWtlQnVsbGV0UmVhbChkYXRhSXRlbSwgYnVsbGV0KSB7XHJcbiAgICAgICAgbGV0IHNwcml0ZSA9IGJ1bGxldC5nZXQoXCJzcHJpdGVcIik7XHJcbiAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICBzcHJpdGUuX3NldERhdGFJdGVtKGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgc3ByaXRlLnNldFJhdyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0c0NvbnRhaW5lci5jaGlsZHJlbi5wdXNoKHNwcml0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ1bGxldC5zZXJpZXMgPSB0aGlzO1xyXG4gICAgICAgIGRhdGFJdGVtLmJ1bGxldHMucHVzaChidWxsZXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGJ1bGxldCBkaXJlY3RseSB0byBhIGRhdGEgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBQbGVhc2Ugbm90ZTogbWV0aG9kIGFjY2VwdHMgW1tCdWxsZXRdXSBpbnN0YW5jZSBhcyBhIHBhcmFtdGVyLCBub3QgYVxyXG4gICAgICogcmVmZXJlbmNlIHRvIGEgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogWW91IHNob3VsZCBhZGQgQnVsbGV0IGluc3RhbmNlLCBub3QgYSBtZXRob2QgbGlrZSB5b3UgZG8gaXQgb24gc2VyaWVzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9idWxsZXRzLyNBZGRpbmdfZGlyZWN0bHlfdG9fZGF0YV9pdGVtfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAc2luY2UgNS42LjBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIGRhdGFJdGVtICBUYXJnZXQgZGF0YSBpdGVtXHJcbiAgICAgKiBAcGFyYW0gIGJ1bGxldCAgICBCdWxsZXQgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgYWRkQnVsbGV0KGRhdGFJdGVtLCBidWxsZXQpIHtcclxuICAgICAgICBpZiAoIWRhdGFJdGVtLmJ1bGxldHMpIHtcclxuICAgICAgICAgICAgZGF0YUl0ZW0uYnVsbGV0cyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYnVsbGV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21ha2VCdWxsZXRSZWFsKGRhdGFJdGVtLCBidWxsZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9jbGVhckRpcnR5KCkge1xyXG4gICAgICAgIHN1cGVyLl9jbGVhckRpcnR5KCk7XHJcbiAgICAgICAgdGhpcy5fYWdncmVnYXRlc0NhbGN1bGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9iYXNlU2VyaWVzRGlydHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9zZWxlY3Rpb25BZ2dyZWdhdGVzQ2FsY3VsYXRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgX3ByZXBhcmVDaGlsZHJlbigpIHtcclxuICAgICAgICBzdXBlci5fcHJlcGFyZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLnN0YXJ0SW5kZXgoKTtcclxuICAgICAgICBsZXQgZW5kSW5kZXggPSB0aGlzLmVuZEluZGV4KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIm5hbWVcIikpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMZWdlbmRWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaGVhdFJ1bGVzXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQcml2YXRlRGlydHkoXCJiYXNlVmFsdWVTZXJpZXNcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgYmFzZVZhbHVlU2VyaWVzID0gdGhpcy5nZXRQcml2YXRlKFwiYmFzZVZhbHVlU2VyaWVzXCIpO1xyXG4gICAgICAgICAgICBpZiAoYmFzZVZhbHVlU2VyaWVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChiYXNlVmFsdWVTZXJpZXMub25Qcml2YXRlKFwic3RhcnRJbmRleFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFzZVNlcmllc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eVZhbHVlcygpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNhbGN1bGF0ZUFnZ3JlZ2F0ZXMgPSB0aGlzLmdldChcImNhbGN1bGF0ZUFnZ3JlZ2F0ZXNcIik7XHJcbiAgICAgICAgaWYgKGNhbGN1bGF0ZUFnZ3JlZ2F0ZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3ZhbHVlc0RpcnR5ICYmICF0aGlzLl9kYXRhUHJvY2Vzc2VkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2FnZ3JlZ2F0ZXNDYWxjdWxhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlQWdncmVnYXRlcygwLCB0aGlzLmRhdGFJdGVtcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FnZ3JlZ2F0ZXNDYWxjdWxhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BzaSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCh0aGlzLl9wc2kgIT0gc3RhcnRJbmRleCB8fCB0aGlzLl9wZWkgIT0gZW5kSW5kZXggfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcImFkanVzdGVkU3RhcnRJbmRleFwiKSkgJiYgIXRoaXMuX3NlbGVjdGlvbkFnZ3JlZ2F0ZXNDYWxjdWxhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA9PT0gMCAmJiBlbmRJbmRleCA9PT0gdGhpcy5kYXRhSXRlbXMubGVuZ3RoICYmIHRoaXMuX2FnZ3JlZ2F0ZXNDYWxjdWxhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm9pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlQWdncmVnYXRlcyhzdGFydEluZGV4LCBlbmRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25BZ2dyZWdhdGVzQ2FsY3VsYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRvb2x0aXBcIikpIHtcclxuICAgICAgICAgICAgbGV0IHRvb2x0aXAgPSB0aGlzLmdldChcInRvb2x0aXBcIik7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwLmhpZGUoMCk7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwLnNldChcInRvb2x0aXBUYXJnZXRcIiwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImZpbGxcIikgfHwgdGhpcy5pc0RpcnR5KFwic3Ryb2tlXCIpKSB7XHJcbiAgICAgICAgICAgIGxldCBtYXJrZXJSZWN0YW5nbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZ2VuZERhdGFJdGVtID0gdGhpcy5nZXQoXCJsZWdlbmREYXRhSXRlbVwiKTtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZERhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJSZWN0YW5nbGUgPSBsZWdlbmREYXRhSXRlbS5nZXQoXCJtYXJrZXJSZWN0YW5nbGVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFya2VyUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInN0cm9rZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0cm9rZSA9IHRoaXMuZ2V0KFwic3Ryb2tlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyUmVjdGFuZ2xlLnNldChcInN0cm9rZVwiLCBzdHJva2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJmaWxsXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsbCA9IHRoaXMuZ2V0KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlclJlY3RhbmdsZS5zZXQoXCJmaWxsXCIsIGZpbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGVnZW5kTWFya2VyKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJ1bGxldHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IHRoaXMuc3RhcnRJbmRleCgpO1xyXG4gICAgICAgICAgICBsZXQgZW5kSW5kZXggPSB0aGlzLmVuZEluZGV4KCk7XHJcbiAgICAgICAgICAgIGlmIChlbmRJbmRleCA8IHRoaXMuZGF0YUl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZW5kSW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhSXRlbS5idWxsZXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFrZUJ1bGxldHMoZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZVJlbW92ZWQoKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgX2FkanVzdFN0YXJ0SW5kZXgoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcbiAgICBfY2FsY3VsYXRlQWdncmVnYXRlcyhzdGFydEluZGV4LCBlbmRJbmRleCkge1xyXG4gICAgICAgIGxldCBmaWVsZHMgPSB0aGlzLl92YWx1ZUZpZWxkcztcclxuICAgICAgICBpZiAoIWZpZWxkcykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB2YWx1ZSBmaWVsZHMgYXJlIHNldCBmb3IgdGhlIHNlcmllcy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN1bSA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGFic1N1bSA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0ge307XHJcbiAgICAgICAgY29uc3QgbG93ID0ge307XHJcbiAgICAgICAgY29uc3QgaGlnaCA9IHt9O1xyXG4gICAgICAgIGNvbnN0IG9wZW4gPSB7fTtcclxuICAgICAgICBjb25zdCBjbG9zZSA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2UgPSB7fTtcclxuICAgICAgICBjb25zdCBwcmV2aW91cyA9IHt9O1xyXG4gICAgICAgICRhcnJheS5lYWNoKGZpZWxkcywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBzdW1ba2V5XSA9IDA7XHJcbiAgICAgICAgICAgIGFic1N1bVtrZXldID0gMDtcclxuICAgICAgICAgICAgY291bnRba2V5XSA9IDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGFycmF5LmVhY2goZmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjaGFuZ2UgPSBrZXkgKyBcIkNoYW5nZVwiO1xyXG4gICAgICAgICAgICBsZXQgY2hhbmdlUGVyY2VudCA9IGtleSArIFwiQ2hhbmdlUGVyY2VudFwiO1xyXG4gICAgICAgICAgICBsZXQgY2hhbmdlUHJldmlvdXMgPSBrZXkgKyBcIkNoYW5nZVByZXZpb3VzXCI7XHJcbiAgICAgICAgICAgIGxldCBjaGFuZ2VQcmV2aW91c1BlcmNlbnQgPSBrZXkgKyBcIkNoYW5nZVByZXZpb3VzUGVyY2VudFwiO1xyXG4gICAgICAgICAgICBsZXQgY2hhbmdlU2VsZWN0aW9uID0ga2V5ICsgXCJDaGFuZ2VTZWxlY3Rpb25cIjtcclxuICAgICAgICAgICAgbGV0IGNoYW5nZVNlbGVjdGlvblBlcmNlbnQgPSBrZXkgKyBcIkNoYW5nZVNlbGVjdGlvblBlcmNlbnRcIjtcclxuICAgICAgICAgICAgbGV0IG9wZW5LZXkgPSBcInZhbHVlWVwiO1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09IFwidmFsdWVYXCIgfHwga2V5ID09IFwib3BlblZhbHVlWFwiIHx8IGtleSA9PSBcImxvd1ZhbHVlWFwiIHx8IGtleSA9PSBcImhpZ2hWYWx1ZVhcIikge1xyXG4gICAgICAgICAgICAgICAgb3BlbktleSA9IFwidmFsdWVYXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYmFzZVZhbHVlU2VyaWVzID0gdGhpcy5nZXRQcml2YXRlKFwiYmFzZVZhbHVlU2VyaWVzXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZFN0YXJ0SW5kZXggPSB0aGlzLmdldFByaXZhdGUoXCJhZGp1c3RlZFN0YXJ0SW5kZXhcIiwgc3RhcnRJbmRleCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBhZGp1c3RlZFN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YUl0ZW0uZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRba2V5XSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW1ba2V5XSArPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWJzU3VtW2tleV0gKz0gTWF0aC5hYnModmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmVyYWdlW2tleV0gPSBzdW1ba2V5XSAvIGNvdW50W2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb3dba2V5XSA+IHZhbHVlIHx8IGxvd1trZXldID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhpZ2hba2V5XSA8IHZhbHVlIHx8IGhpZ2hba2V5XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdoW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuW2tleV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbltrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZVZhbHVlU2VyaWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbltvcGVuS2V5XSA9IGJhc2VWYWx1ZVNlcmllcy5fZ2V0QmFzZShvcGVuS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2UpLCB2YWx1ZSAtIG9wZW5bb3BlbktleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2VQZXJjZW50KSwgKHZhbHVlIC0gb3BlbltvcGVuS2V5XSkgLyBvcGVuW29wZW5LZXldICogMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVByZXZpb3VzKSwgdmFsdWUgLSBwcmV2aW91c1tvcGVuS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdygoY2hhbmdlUHJldmlvdXNQZXJjZW50KSwgKHZhbHVlIC0gcHJldmlvdXNbb3BlbktleV0pIC8gcHJldmlvdXNbb3BlbktleV0gKiAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVNlbGVjdGlvbiksIHZhbHVlIC0gb3BlbltvcGVuS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdygoY2hhbmdlU2VsZWN0aW9uUGVyY2VudCksICh2YWx1ZSAtIG9wZW5bb3BlbktleV0pIC8gb3BlbltvcGVuS2V5XSAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVuZEluZGV4IDwgdGhpcy5kYXRhSXRlbXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtc1tlbmRJbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBkYXRhSXRlbS5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVByZXZpb3VzKSwgdmFsdWUgLSBwcmV2aW91c1tvcGVuS2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2VQcmV2aW91c1BlcmNlbnQpLCAodmFsdWUgLSBwcmV2aW91c1tvcGVuS2V5XSkgLyBwcmV2aW91c1tvcGVuS2V5XSAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2VTZWxlY3Rpb24pLCB2YWx1ZSAtIG9wZW5bb3BlbktleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtLnNldFJhdygoY2hhbmdlU2VsZWN0aW9uUGVyY2VudCksICh2YWx1ZSAtIG9wZW5bb3BlbktleV0pIC8gb3BlbltvcGVuS2V5XSAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydEluZGV4LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIHByZXZpb3VzW2tleV07XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgYWRqdXN0ZWRTdGFydEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBkYXRhSXRlbS5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNba2V5XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2VQcmV2aW91cyksIHZhbHVlIC0gcHJldmlvdXNbb3BlbktleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVByZXZpb3VzUGVyY2VudCksICh2YWx1ZSAtIHByZXZpb3VzW29wZW5LZXldKSAvIHByZXZpb3VzW29wZW5LZXldICogMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uc2V0UmF3KChjaGFuZ2VTZWxlY3Rpb24pLCB2YWx1ZSAtIG9wZW5bb3BlbktleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5zZXRSYXcoKGNoYW5nZVNlbGVjdGlvblBlcmNlbnQpLCAodmFsdWUgLSBvcGVuW29wZW5LZXldKSAvIG9wZW5bb3BlbktleV0gKiAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGFycmF5LmVhY2goZmllbGRzLCAoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJBdmVyYWdlU2VsZWN0aW9uXCIpLCBhdmVyYWdlW2tleV0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiQ291bnRTZWxlY3Rpb25cIiksIGNvdW50W2tleV0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiU3VtU2VsZWN0aW9uXCIpLCBzdW1ba2V5XSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJBYnNvbHV0ZVN1bVNlbGVjdGlvblwiKSwgYWJzU3VtW2tleV0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiTG93U2VsZWN0aW9uXCIpLCBsb3dba2V5XSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJIaWdoU2VsZWN0aW9uXCIpLCBoaWdoW2tleV0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiT3BlblNlbGVjdGlvblwiKSwgb3BlbltrZXldKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIkNsb3NlU2VsZWN0aW9uXCIpLCBjbG9zZVtrZXldKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoc3RhcnRJbmRleCA9PT0gMCAmJiBlbmRJbmRleCA9PT0gdGhpcy5kYXRhSXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGZpZWxkcywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIkF2ZXJhZ2VcIiksIGF2ZXJhZ2Vba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiQ291bnRcIiksIGNvdW50W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIlN1bVwiKSwgc3VtW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIkFic29sdXRlU3VtXCIpLCBhYnNTdW1ba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiTG93XCIpLCBsb3dba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGUoKGtleSArIFwiSGlnaFwiKSwgaGlnaFtrZXldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZSgoa2V5ICsgXCJPcGVuXCIpLCBvcGVuW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKChrZXkgKyBcIkNsb3NlXCIpLCBjbG9zZVtrZXldKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3VwZGF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgIHRoaXMuX3BzaSA9IHRoaXMuc3RhcnRJbmRleCgpO1xyXG4gICAgICAgIHRoaXMuX3BlaSA9IHRoaXMuZW5kSW5kZXgoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwidmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1bGxldHNDb250YWluZXIuc2V0KFwidmlzaWJsZVwiLCB0aGlzLmdldChcInZpc2libGVcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBcHBseSBoZWF0IHJ1bGVzXHJcbiAgICAgICAgY29uc3QgcnVsZXMgPSB0aGlzLmdldChcImhlYXRSdWxlc1wiKTtcclxuICAgICAgICBpZiAodGhpcy5fdmFsdWVzRGlydHkgJiYgcnVsZXMgJiYgcnVsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChydWxlcywgKHJ1bGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1pblZhbHVlID0gcnVsZS5taW5WYWx1ZSB8fCB0aGlzLmdldFByaXZhdGUoKHJ1bGUuZGF0YUZpZWxkICsgXCJMb3dcIikpIHx8IDA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhWYWx1ZSA9IHJ1bGUubWF4VmFsdWUgfHwgdGhpcy5nZXRQcml2YXRlKChydWxlLmRhdGFGaWVsZCArIFwiSGlnaFwiKSkgfHwgMDtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHJ1bGUudGFyZ2V0Ll9lbnRpdGllcywgKHRhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0LmRhdGFJdGVtLmdldChydWxlLmRhdGFGaWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUubmV1dHJhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldChydWxlLmtleSwgcnVsZS5uZXV0cmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZXMgPSB0YXJnZXQuc3RhdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0U3RhdGUgPSBzdGF0ZXMubG9va3VwKFwiZGVmYXVsdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0U3RhdGUgJiYgcnVsZS5uZXV0cmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFN0YXRlLnNldChydWxlLmtleSwgcnVsZS5uZXV0cmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGUuY3VzdG9tRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZS5jdXN0b21GdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLmN1c3RvbUZ1bmN0aW9uLmNhbGwodGhpcywgdGFyZ2V0LCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZS5sb2dhcml0aG1pYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IChNYXRoLmxvZyh2YWx1ZSkgKiBNYXRoLkxPRzEwRSAtIE1hdGgubG9nKG1pblZhbHVlKSAqIE1hdGguTE9HMTBFKSAvICgoTWF0aC5sb2cobWF4VmFsdWUpICogTWF0aC5MT0cxMEUgLSBNYXRoLmxvZyhtaW5WYWx1ZSkgKiBNYXRoLkxPRzEwRSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9ICh2YWx1ZSAtIG1pblZhbHVlKSAvIChtYXhWYWx1ZSAtIG1pblZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIodmFsdWUpICYmICghJHR5cGUuaXNOdW1iZXIocGVyY2VudCkgfHwgTWF0aC5hYnMocGVyY2VudCkgPT0gSW5maW5pdHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gMC41O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpeGVzIHByb2JsZW1zIGlmIGFsbCB2YWx1ZXMgYXJlIHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIocnVsZS5taW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gcnVsZS5taW4gKyAocnVsZS5tYXggLSBydWxlLm1pbikgKiBwZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJ1bGUubWluIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBDb2xvci5pbnRlcnBvbGF0ZShwZXJjZW50LCBydWxlLm1pbiwgcnVsZS5tYXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJ1bGUubWluIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IHBlcmNlbnRJbnRlcnBvbGF0ZShwZXJjZW50LCBydWxlLm1pbiwgcnVsZS5tYXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5zZXQocnVsZS5rZXksIHByb3BlcnR5VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZXMgPSB0YXJnZXQuc3RhdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0U3RhdGUgPSBzdGF0ZXMubG9va3VwKFwiZGVmYXVsdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U3RhdGUuc2V0KHJ1bGUua2V5LCBwcm9wZXJ0eVZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwidmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICBsZXQgY291bnQgPSB0aGlzLmRhdGFJdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5zdGFydEluZGV4KCk7XHJcbiAgICAgICAgICAgIGxldCBlbmRJbmRleCA9IHRoaXMuZW5kSW5kZXgoKTtcclxuICAgICAgICAgICAgaWYgKGVuZEluZGV4IDwgY291bnQpIHtcclxuICAgICAgICAgICAgICAgIGVuZEluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydEluZGV4LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFydEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hpZGVCdWxsZXRzKHRoaXMuZGF0YUl0ZW1zW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQnVsbGV0cyh0aGlzLmRhdGFJdGVtc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGVuZEluZGV4OyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGlkZUJ1bGxldHModGhpcy5kYXRhSXRlbXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3Bvc2l0aW9uQnVsbGV0cyhkYXRhSXRlbSkge1xyXG4gICAgICAgIGlmIChkYXRhSXRlbS5idWxsZXRzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGRhdGFJdGVtLmJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQnVsbGV0KGJ1bGxldCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBidWxsZXQuZ2V0KFwic3ByaXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1bGxldC5nZXQoXCJkeW5hbWljXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUuX21hcmtEaXJ0eUtleShcImZpbGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5tYXJrRGlydHlTaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcHJpdGUgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLndhbGtDaGlsZHJlbigoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLl9tYXJrRGlydHlLZXkoXCJmaWxsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQubWFya0RpcnR5U2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC50ZXh0Lm1hcmtEaXJ0eVRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZSBpbnN0YW5jZW9mIExhYmVsICYmIHNwcml0ZS5nZXQoXCJwb3B1bGF0ZVRleHRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUudGV4dC5tYXJrRGlydHlUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oaWRlQnVsbGV0cyhkYXRhSXRlbSkge1xyXG4gICAgICAgIGlmIChkYXRhSXRlbS5idWxsZXRzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGRhdGFJdGVtLmJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzcHJpdGUgPSBidWxsZXQuZ2V0KFwic3ByaXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZS5zZXRQcml2YXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wb3NpdGlvbkJ1bGxldChfYnVsbGV0KSB7XHJcbiAgICB9XHJcbiAgICBfcGxhY2VCdWxsZXRzQ29udGFpbmVyKGNoYXJ0KSB7XHJcbiAgICAgICAgY2hhcnQuYnVsbGV0c0NvbnRhaW5lci5jaGlsZHJlbi5tb3ZlVmFsdWUodGhpcy5idWxsZXRzQ29udGFpbmVyKTtcclxuICAgIH1cclxuICAgIF9yZW1vdmVCdWxsZXRzQ29udGFpbmVyKCkge1xyXG4gICAgICAgIGNvbnN0IGJ1bGxldHNDb250YWluZXIgPSB0aGlzLmJ1bGxldHNDb250YWluZXI7XHJcbiAgICAgICAgaWYgKGJ1bGxldHNDb250YWluZXIucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGJ1bGxldHNDb250YWluZXIucGFyZW50LmNoaWxkcmVuLnJlbW92ZVZhbHVlKGJ1bGxldHNDb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlRGF0YUl0ZW0oZGF0YUl0ZW0pIHtcclxuICAgICAgICAvL3N1cGVyLmRpc3Bvc2VEYXRhSXRlbShkYXRhSXRlbSk7IC8vIGRvZXMgbm90aGluZ1xyXG4gICAgICAgIGNvbnN0IGJ1bGxldHMgPSBkYXRhSXRlbS5idWxsZXRzO1xyXG4gICAgICAgIGlmIChidWxsZXRzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGJ1bGxldHMsIChidWxsZXQpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ1bGxldC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkYXRhSXRlbS5idWxsZXRzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9nZXRJdGVtUmVhZGVyTGFiZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIHNlcmllcydzIGRhdGEgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkYXRhSXRlbSAgRGF0YSBpdGVtXHJcbiAgICAgKiBAcGFyYW0gICBkdXJhdGlvbiAgQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgc2hvd0RhdGFJdGVtKGRhdGFJdGVtLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IF9zdXBlciA9IE9iamVjdC5jcmVhdGUobnVsbCwge1xyXG4gICAgICAgICAgICBzaG93RGF0YUl0ZW06IHsgZ2V0OiAoKSA9PiBzdXBlci5zaG93RGF0YUl0ZW0gfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW19zdXBlci5zaG93RGF0YUl0ZW0uY2FsbCh0aGlzLCBkYXRhSXRlbSwgZHVyYXRpb24pXTtcclxuICAgICAgICAgICAgY29uc3QgYnVsbGV0cyA9IGRhdGFJdGVtLmJ1bGxldHM7XHJcbiAgICAgICAgICAgIGlmIChidWxsZXRzKSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChidWxsZXRzLCAoYnVsbGV0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goc3ByaXRlLnNob3coZHVyYXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhpZGVzIHNlcmllcydzIGRhdGEgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkYXRhSXRlbSAgRGF0YSBpdGVtXHJcbiAgICAgKiBAcGFyYW0gICBkdXJhdGlvbiAgQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgaGlkZURhdGFJdGVtKGRhdGFJdGVtLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IF9zdXBlciA9IE9iamVjdC5jcmVhdGUobnVsbCwge1xyXG4gICAgICAgICAgICBoaWRlRGF0YUl0ZW06IHsgZ2V0OiAoKSA9PiBzdXBlci5oaWRlRGF0YUl0ZW0gfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW19zdXBlci5oaWRlRGF0YUl0ZW0uY2FsbCh0aGlzLCBkYXRhSXRlbSwgZHVyYXRpb24pXTtcclxuICAgICAgICAgICAgY29uc3QgYnVsbGV0cyA9IGRhdGFJdGVtLmJ1bGxldHM7XHJcbiAgICAgICAgICAgIGlmIChidWxsZXRzKSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChidWxsZXRzLCAoYnVsbGV0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gYnVsbGV0LmdldChcInNwcml0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goc3ByaXRlLmhpZGUoZHVyYXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfc2VxdWVuY2VkU2hvd0hpZGUoc2hvdywgZHVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJzZXF1ZW5jZWRJbnRlcnBvbGF0aW9uXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGR1cmF0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdGhpcy5nZXQoXCJpbnRlcnBvbGF0aW9uRHVyYXRpb25cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IHRoaXMuc3RhcnRJbmRleCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gdGhpcy5lbmRJbmRleCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKCRhcnJheS5tYXAodGhpcy5kYXRhSXRlbXMsIChkYXRhSXRlbSwgaSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVhbER1cmF0aW9uID0gZHVyYXRpb24gfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBzdGFydEluZGV4IC0gMTAgfHwgaSA+IGVuZEluZGV4ICsgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxEdXJhdGlvbiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9sZXQgZGVsYXkgPSB0aGlzLmdldChcInNlcXVlbmNlZERlbGF5XCIsIDApICogaSArIHJlYWxEdXJhdGlvbiAqIChpIC0gc3RhcnRJbmRleCkgLyAoZW5kSW5kZXggLSBzdGFydEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGF5ID0gdGhpcy5nZXQoXCJzZXF1ZW5jZWREZWxheVwiLCAwKSArIHJlYWxEdXJhdGlvbiAvIChlbmRJbmRleCAtIHN0YXJ0SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCAkdGltZS5zbGVlcChkZWxheSAqIChpIC0gc3RhcnRJbmRleCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgdGhpcy5zaG93RGF0YUl0ZW0oZGF0YUl0ZW0sIHJlYWxEdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLmhpZGVEYXRhSXRlbShkYXRhSXRlbSwgcmVhbER1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbCgkYXJyYXkubWFwKHRoaXMuZGF0YUl0ZW1zLCAoZGF0YUl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3dEYXRhSXRlbShkYXRhSXRlbSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oaWRlRGF0YUl0ZW0oZGF0YUl0ZW0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlTGVnZW5kVmFsdWUoZGF0YUl0ZW0pIHtcclxuICAgICAgICBpZiAoZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgY29uc3QgbGVnZW5kRGF0YUl0ZW0gPSBkYXRhSXRlbS5nZXQoXCJsZWdlbmREYXRhSXRlbVwiKTtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZERhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUxhYmVsID0gbGVnZW5kRGF0YUl0ZW0uZ2V0KFwidmFsdWVMYWJlbFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZUxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHZhbHVlTGFiZWwudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHh0ID0gdGhpcy5nZXQoXCJsZWdlbmRWYWx1ZVRleHRcIiwgdGV4dC5nZXQoXCJ0ZXh0XCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsLnNldChcInRleHRcIiwgdHh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Lm1hcmtEaXJ0eVRleHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGVnZW5kRGF0YUl0ZW0uZ2V0KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gbGFiZWwudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHR4dCA9IHRoaXMuZ2V0KFwibGVnZW5kTGFiZWxUZXh0XCIsIHRleHQuZ2V0KFwidGV4dFwiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc2V0KFwidGV4dFwiLCB0eHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQubWFya0RpcnR5VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUxlZ2VuZE1hcmtlcihfZGF0YUl0ZW0pIHtcclxuICAgIH1cclxuICAgIF9vbkhpZGUoKSB7XHJcbiAgICAgICAgc3VwZXIuX29uSGlkZSgpO1xyXG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXAoKTtcclxuICAgICAgICBpZiAodG9vbHRpcCkge1xyXG4gICAgICAgICAgICB0b29sdGlwLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgaG92ZXJEYXRhSXRlbShfZGF0YUl0ZW0pIHsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHVuaG92ZXJEYXRhSXRlbShfZGF0YUl0ZW0pIHsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIF9nZXRCYXNlKGtleSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbXNbdGhpcy5zdGFydEluZGV4KCldO1xyXG4gICAgICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YUl0ZW0uZ2V0KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJpZXMsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIlNlcmllc1wiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU2VyaWVzLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IENvbXBvbmVudC5jbGFzc05hbWVzLmNvbmNhdChbU2VyaWVzLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXJpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sprite: () => (/* binding */ Sprite)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _util_Entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _util_Template__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Template */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _util_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _util_Animation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../util/Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Object__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//import { populateString } from \"../util/PopulateString\";\r\n/**\r\n * An [[EventDispatcher]] for [[Sprite]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nclass SpriteEventDispatcher extends _util_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {\r\n    constructor(sprite) {\r\n        super();\r\n        Object.defineProperty(this, \"_sprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rendererDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dispatchParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        this._sprite = sprite;\r\n    }\r\n    _makePointerEvent(key, event) {\r\n        return {\r\n            type: key,\r\n            originalEvent: event.event,\r\n            point: event.point,\r\n            simulated: event.simulated,\r\n            native: event.native,\r\n            target: this._sprite\r\n        };\r\n    }\r\n    _onRenderer(key, dispatch) {\r\n        // TODO: is this OK? it'd be good not to require to set this on each individual element\r\n        this._sprite.set(\"interactive\", true);\r\n        this._sprite._display.interactive = true;\r\n        let events = this._rendererDisposers[key];\r\n        if (events === undefined) {\r\n            const disposer = this._sprite._display.on(key, (e) => {\r\n                dispatch.call(this, e);\r\n            });\r\n            events = this._rendererDisposers[key] = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.CounterDisposer(() => {\r\n                delete this._rendererDisposers[key];\r\n                disposer.dispose();\r\n            });\r\n        }\r\n        return events.increment();\r\n    }\r\n    _on(once, type, callback, context, shouldClone, dispatch) {\r\n        const info = super._on(once, type, callback, context, shouldClone, dispatch);\r\n        const rendererEvent = SpriteEventDispatcher.RENDERER_EVENTS[type];\r\n        if (rendererEvent !== undefined) {\r\n            info.disposer = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                info.disposer,\r\n                this._onRenderer(type, rendererEvent),\r\n            ]);\r\n        }\r\n        return info;\r\n    }\r\n    /**\r\n     * Will stop any bubbling up of the event to element's parents.\r\n     *\r\n     * Should be called in an event handler, e.g.:\r\n     *\r\n     * ```TypeScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     * ```JavaScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     */\r\n    stopParentDispatch() {\r\n        this._dispatchParents = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    dispatchParents(type, event) {\r\n        const old = this._dispatchParents;\r\n        this._dispatchParents = true;\r\n        try {\r\n            this.dispatch(type, event);\r\n            if (this._dispatchParents && this._sprite.parent) {\r\n                this._sprite.parent.events.dispatchParents(type, event);\r\n            }\r\n        }\r\n        finally {\r\n            this._dispatchParents = old;\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(SpriteEventDispatcher, \"RENDERER_EVENTS\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: {\r\n        \"click\": function (event) {\r\n            if (this.isEnabled(\"click\") && !this._sprite.isDragging() && this._sprite._hasDown() && !this._sprite._hasMoved(this._makePointerEvent(\"click\", event))) {\r\n                this.dispatch(\"click\", this._makePointerEvent(\"click\", event));\r\n            }\r\n        },\r\n        \"rightclick\": function (event) {\r\n            if (this.isEnabled(\"rightclick\")) {\r\n                this.dispatch(\"rightclick\", this._makePointerEvent(\"rightclick\", event));\r\n            }\r\n        },\r\n        \"middleclick\": function (event) {\r\n            if (this.isEnabled(\"middleclick\")) {\r\n                this.dispatch(\"middleclick\", this._makePointerEvent(\"middleclick\", event));\r\n            }\r\n        },\r\n        \"dblclick\": function (event) {\r\n            this.dispatchParents(\"dblclick\", this._makePointerEvent(\"dblclick\", event));\r\n        },\r\n        \"pointerover\": function (event) {\r\n            const sprite = this._sprite;\r\n            let dispatch = true;\r\n            if (sprite.getPrivate(\"trustBounds\")) {\r\n                sprite._getBounds();\r\n                const bounds = sprite.globalBounds();\r\n                if (sprite.isType(\"Graphics\")) {\r\n                    const strokeWidth = sprite.get(\"strokeWidth\", 1) / 2;\r\n                    if (strokeWidth >= 1) {\r\n                        bounds.left -= strokeWidth;\r\n                        bounds.right += strokeWidth;\r\n                        bounds.top -= strokeWidth;\r\n                        bounds.bottom += strokeWidth;\r\n                    }\r\n                }\r\n                if (!_util_Math__WEBPACK_IMPORTED_MODULE_2__.inBounds(event.point, bounds)) {\r\n                    dispatch = false;\r\n                    sprite._root._renderer.removeHovering(sprite._display);\r\n                }\r\n            }\r\n            if (dispatch && this.isEnabled(\"pointerover\")) {\r\n                this.dispatch(\"pointerover\", this._makePointerEvent(\"pointerover\", event));\r\n            }\r\n        },\r\n        \"pointerout\": function (event) {\r\n            if (this.isEnabled(\"pointerout\")) {\r\n                this.dispatch(\"pointerout\", this._makePointerEvent(\"pointerout\", event));\r\n            }\r\n        },\r\n        \"pointerdown\": function (event) {\r\n            this.dispatchParents(\"pointerdown\", this._makePointerEvent(\"pointerdown\", event));\r\n        },\r\n        \"pointerup\": function (event) {\r\n            if (this.isEnabled(\"pointerup\")) {\r\n                this.dispatch(\"pointerup\", this._makePointerEvent(\"pointerup\", event));\r\n            }\r\n        },\r\n        \"globalpointerup\": function (event) {\r\n            if (this.isEnabled(\"globalpointerup\")) {\r\n                this.dispatch(\"globalpointerup\", this._makePointerEvent(\"globalpointerup\", event));\r\n            }\r\n        },\r\n        \"globalpointermove\": function (event) {\r\n            if (this.isEnabled(\"globalpointermove\")) {\r\n                this.dispatch(\"globalpointermove\", this._makePointerEvent(\"globalpointermove\", event));\r\n            }\r\n        },\r\n        \"wheel\": function (event) {\r\n            this.dispatchParents(\"wheel\", {\r\n                type: \"wheel\",\r\n                target: this._sprite,\r\n                originalEvent: event.event,\r\n                point: event.point,\r\n            });\r\n        },\r\n    }\r\n});\r\n/**\r\n * A base class for all visual elements.\r\n *\r\n * @important\r\n */\r\nclass Sprite extends _util_Entity__WEBPACK_IMPORTED_MODULE_3__.Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_adjustedLocalBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_templateField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_sizeDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // Will be true only when dragging\r\n        Object.defineProperty(this, \"_isDragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // The event when the dragging starts\r\n        Object.defineProperty(this, \"_dragEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // The position when dragging starts\r\n        Object.defineProperty(this, \"_dragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isHidden\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isShowing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isHiding\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_downPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_toggleDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dragDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_hoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipMoveDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipPointerDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_statesHandled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.setPrivateRaw(\"visible\", true);\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * Marks some setting as dirty. Could be used to trigger adapter.\r\n     * @param key\r\n     */\r\n    markDirtyKey(key) {\r\n        this._markDirtyKey(key);\r\n    }\r\n    _markDirtyKey(key) {\r\n        super._markDirtyKey(key);\r\n        if (key == \"x\" || key == \"y\" || key == \"dx\" || key == \"dy\") {\r\n            this.markDirtyBounds();\r\n            this._addPercentagePositionChildren();\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n    _markDirtyPrivateKey(key) {\r\n        super._markDirtyPrivateKey(key);\r\n        if (key == \"x\" || key == \"y\") {\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n    _removeTemplateField() {\r\n        if (this._templateField) {\r\n            this._templateField._removeObjectTemplate(this);\r\n        }\r\n    }\r\n    _createEvents() {\r\n        return new SpriteEventDispatcher(this);\r\n    }\r\n    _processTemplateField() {\r\n        let template;\r\n        const field = this.get(\"templateField\");\r\n        if (field) {\r\n            const dataItem = this.dataItem;\r\n            if (dataItem) {\r\n                const context = dataItem.dataContext;\r\n                if (context) {\r\n                    template = context[field];\r\n                    if (!(template instanceof _util_Template__WEBPACK_IMPORTED_MODULE_4__.Template) && template) {\r\n                        template = _util_Template__WEBPACK_IMPORTED_MODULE_4__.Template.new(template);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this._templateField !== template) {\r\n            this._removeTemplateField();\r\n            this._templateField = template;\r\n            if (template) {\r\n                template._setObjectTemplate(this);\r\n            }\r\n            this._applyTemplates();\r\n        }\r\n    }\r\n    // TODO change this to run before the element is added to the parent, so that way\r\n    //      it doesn't need to apply the themes twice\r\n    _setDataItem(dataItem) {\r\n        const oldDataItem = this._dataItem;\r\n        this._dataItem = dataItem;\r\n        this._processTemplateField();\r\n        const eventType = \"dataitemchanged\";\r\n        if (dataItem != oldDataItem) {\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this,\r\n                    oldDataItem: oldDataItem,\r\n                    newDataItem: dataItem\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * A [[DataItem]] used for this element.\r\n     *\r\n     * NOTE: data item is being assigned automatically in most cases where it\r\n     * matters. Use this accessor to set data item only if you know what you're\r\n     * doing.\r\n     *\r\n     * @param  value  Data item\r\n     */\r\n    set dataItem(value) {\r\n        this._setDataItem(value);\r\n    }\r\n    /**\r\n     * @return DataItem\r\n     */\r\n    get dataItem() {\r\n        if (this._dataItem) {\r\n            return this._dataItem;\r\n        }\r\n        else {\r\n            let parent = this._parent;\r\n            while (parent) {\r\n                if (parent._dataItem) {\r\n                    return parent._dataItem;\r\n                }\r\n                else {\r\n                    parent = parent._parent;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _addPercentageSizeChildren() {\r\n        let parent = this.parent;\r\n        if (parent) {\r\n            if (this.get(\"width\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent || this.get(\"height\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_6__.pushOne(parent._percentageSizeChildren, this);\r\n            }\r\n            else {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_6__.removeFirst(parent._percentageSizeChildren, this);\r\n            }\r\n        }\r\n    }\r\n    _addPercentagePositionChildren() {\r\n        let parent = this.parent;\r\n        if (parent) {\r\n            if (this.get(\"x\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent || this.get(\"y\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_6__.pushOne(parent._percentagePositionChildren, this);\r\n            }\r\n            else {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_6__.removeFirst(parent._percentagePositionChildren, this);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyPosition() {\r\n        this._root._addDirtyPosition(this);\r\n    }\r\n    updatePivotPoint() {\r\n        const bounds = this._localBounds;\r\n        if (bounds) {\r\n            const centerX = this.get(\"centerX\");\r\n            if (centerX != null) {\r\n                this._display.pivot.x = bounds.left + _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(centerX, bounds.right - bounds.left);\r\n            }\r\n            const centerY = this.get(\"centerY\");\r\n            if (centerY != null) {\r\n                this._display.pivot.y = bounds.top + _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(centerY, bounds.bottom - bounds.top);\r\n            }\r\n        }\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        // handling states in beforeChanged, otherwise states is not applied without animated theme\r\n        this._handleStates();\r\n        if (this.isDirty(\"tooltip\")) {\r\n            const previous = this._prevSettings.tooltip;\r\n            if (previous) {\r\n                previous.dispose();\r\n            }\r\n        }\r\n        if (this.isDirty(\"layer\") || this.isDirty(\"layerMargin\")) {\r\n            this._display.setLayer(this.get(\"layer\"), this.get(\"layerMargin\"));\r\n            this.markDirtyLayer();\r\n        }\r\n        if (this.isDirty(\"tooltipPosition\")) {\r\n            const tooltipMoveDp = this._tooltipMoveDp;\r\n            if (tooltipMoveDp) {\r\n                tooltipMoveDp.dispose();\r\n                this._tooltipMoveDp = undefined;\r\n            }\r\n            const tooltipPointerDp = this._tooltipPointerDp;\r\n            if (tooltipPointerDp) {\r\n                tooltipPointerDp.dispose();\r\n                this._tooltipPointerDp = undefined;\r\n            }\r\n            if (this.get(\"tooltipPosition\") == \"pointer\") {\r\n                if (this.isHover()) {\r\n                    this._tooltipMoveDp = this.events.on(\"globalpointermove\", (e) => {\r\n                        this.showTooltip(e.point);\r\n                    });\r\n                }\r\n                this._tooltipPointerDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                    this.events.on(\"pointerover\", () => {\r\n                        this._tooltipMoveDp = this.events.on(\"globalpointermove\", (e) => {\r\n                            this.showTooltip(e.point);\r\n                        });\r\n                    }),\r\n                    this.events.on(\"pointerout\", () => {\r\n                        const tooltipMoveDp = this._tooltipMoveDp;\r\n                        if (tooltipMoveDp) {\r\n                            tooltipMoveDp.dispose();\r\n                            this._tooltipMoveDp = undefined;\r\n                        }\r\n                    })\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n    _handleStates() {\r\n        if (!this._statesHandled) {\r\n            if (this.isDirty(\"active\")) {\r\n                if (this.get(\"active\")) {\r\n                    this.states.applyAnimate(\"active\");\r\n                    this.set(\"ariaChecked\", true);\r\n                }\r\n                else {\r\n                    if (!this.isHidden()) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                    this.set(\"ariaChecked\", false);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            if (this.isDirty(\"disabled\")) {\r\n                if (this.get(\"disabled\")) {\r\n                    this.states.applyAnimate(\"disabled\");\r\n                    this.set(\"ariaChecked\", false);\r\n                }\r\n                else {\r\n                    if (!this.isHidden()) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                    this.set(\"ariaChecked\", true);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            this._statesHandled = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        const display = this._display;\r\n        const events = this.events;\r\n        if (this.isDirty(\"draggable\")) {\r\n            const draggable = this.get(\"draggable\");\r\n            if (draggable) {\r\n                this.set(\"interactive\", true);\r\n                this._dragDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                    events.on(\"pointerdown\", (ev) => {\r\n                        this.dragStart(ev);\r\n                    }),\r\n                    events.on(\"globalpointermove\", (ev) => {\r\n                        this.dragMove(ev);\r\n                    }),\r\n                    events.on(\"globalpointerup\", (ev) => {\r\n                        this.dragStop(ev);\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                if (this._dragDp) {\r\n                    this._dragDp.dispose();\r\n                    this._dragDp = undefined;\r\n                }\r\n            }\r\n            display.cancelTouch = draggable ? true : false;\r\n        }\r\n        if (this.isDirty(\"tooltipText\") || this.isDirty(\"tooltipHTML\") || this.isDirty(\"showTooltipOn\")) {\r\n            const tooltipText = this.get(\"tooltipText\");\r\n            const tooltipHTML = this.get(\"tooltipHTML\");\r\n            const showTooltipOn = this.get(\"showTooltipOn\", \"hover\");\r\n            if (this._tooltipDp) {\r\n                this._tooltipDp.dispose();\r\n                this._tooltipDp = undefined;\r\n            }\r\n            if (tooltipText || tooltipHTML) {\r\n                if (showTooltipOn == \"click\") {\r\n                    this._tooltipDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                        events.on(\"click\", () => {\r\n                            this.setTimeout(() => {\r\n                                const tooltip = this.getTooltip();\r\n                                if (tooltip && !tooltip.isHidden() && tooltip.get(\"tooltipTarget\") === this) {\r\n                                    this.hideTooltip();\r\n                                }\r\n                                else {\r\n                                    this.showTooltip();\r\n                                }\r\n                            }, 10);\r\n                        }),\r\n                        _util_Utils__WEBPACK_IMPORTED_MODULE_7__.addEventListener(document, \"click\", (_ev) => {\r\n                            this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                    this._disposers.push(this._tooltipDp);\r\n                }\r\n                else if (showTooltipOn == \"always\") {\r\n                    // nothing\r\n                }\r\n                else {\r\n                    this._tooltipDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                        events.on(\"pointerover\", () => {\r\n                            this.showTooltip();\r\n                        }),\r\n                        events.on(\"pointerout\", () => {\r\n                            this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                    this._disposers.push(this._tooltipDp);\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"toggleKey\")) {\r\n            let toggleKey = this.get(\"toggleKey\");\r\n            if (toggleKey && toggleKey != \"none\") {\r\n                this._toggleDp = events.on(\"click\", () => {\r\n                    if (!this._isDragging) {\r\n                        this.set(toggleKey, !this.get(toggleKey));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._toggleDp) {\r\n                    this._toggleDp.dispose();\r\n                    this._toggleDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"opacity\")) {\r\n            display.alpha = Math.max(0, this.get(\"opacity\", 1));\r\n            if (this.get(\"focusable\")) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n        if (this.isDirty(\"rotation\")) {\r\n            this.markDirtyBounds();\r\n            display.angle = this.get(\"rotation\", 0);\r\n        }\r\n        if (this.isDirty(\"scale\")) {\r\n            this.markDirtyBounds();\r\n            display.scale = this.get(\"scale\", 0);\r\n        }\r\n        if (this.isDirty(\"centerX\") || this.isDirty(\"centerY\")) {\r\n            this.markDirtyBounds();\r\n            this.updatePivotPoint();\r\n        }\r\n        if (this.isDirty(\"visible\") || this.isPrivateDirty(\"visible\") || this.isDirty(\"forceHidden\")) {\r\n            if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n                display.visible = false;\r\n                this.hideTooltip();\r\n            }\r\n            else {\r\n                display.visible = true;\r\n            }\r\n            this.markDirtyBounds();\r\n            if (this.get(\"focusable\")) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n        if (this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            this.markDirtyBounds();\r\n            this._addPercentageSizeChildren();\r\n            const parent = this.parent;\r\n            if (parent) {\r\n                if ((this.isDirty(\"width\") && this.get(\"width\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) || (this.isDirty(\"height\") && this.get(\"height\") instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent)) {\r\n                    parent.markDirty();\r\n                    parent._prevWidth = 0;\r\n                }\r\n            }\r\n            this._sizeDirty = true;\r\n        }\r\n        if (this.isDirty(\"maxWidth\") || this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"minWidth\") || this.isDirty(\"minHeight\") || this.isPrivateDirty(\"maxWidth\") || this.isPrivateDirty(\"maxHeight\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\") || this.isDirty(\"marginLeft\") || this.isDirty(\"marginTop\") || this.isDirty(\"marginRight\") || this.isDirty(\"marginBottom\")) {\r\n            this.markDirtyBounds();\r\n            this._sizeDirty = true;\r\n        }\r\n        if (this._sizeDirty) {\r\n            this._updateSize();\r\n        }\r\n        if (this.isDirty(\"wheelable\")) {\r\n            const wheelable = this.get(\"wheelable\");\r\n            if (wheelable) {\r\n                this.set(\"interactive\", true);\r\n            }\r\n            display.wheelable = wheelable ? true : false;\r\n        }\r\n        // Accessibility\r\n        if (this.isDirty(\"tabindexOrder\") || this.isDirty(\"focusableGroup\")) {\r\n            if (this.get(\"focusable\")) {\r\n                this._root._registerTabindexOrder(this);\r\n            }\r\n            else {\r\n                this._root._unregisterTabindexOrder(this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"filter\")) {\r\n            //this.markDirtyBounds();\r\n            display.filter = this.get(\"filter\");\r\n        }\r\n        let filter = this.get(\"filter\", \"\");\r\n        if (this.isDirty(\"blur\")) {\r\n            const blur = this.get(\"blur\", 0);\r\n            if (blur != 0) {\r\n                filter += \" blur(\" + blur + \"px)\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"saturate\")) {\r\n            const saturate = this.get(\"saturate\", 1);\r\n            if (saturate != 1) {\r\n                filter += \" saturate(\" + saturate + \")\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"brightness\")) {\r\n            const brightness = this.get(\"brightness\", 1);\r\n            if (brightness != 1) {\r\n                filter += \" brightness(\" + brightness + \")\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"contrast\")) {\r\n            const contrast = this.get(\"contrast\", 1);\r\n            if (contrast != 1) {\r\n                filter += \" contrast(\" + contrast + \")\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"sepia\")) {\r\n            const sepia = this.get(\"sepia\", 0);\r\n            if (sepia != 0) {\r\n                filter += \" sepia(\" + sepia + \")\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"hue\")) {\r\n            const hue = this.get(\"hue\", 0);\r\n            if (hue != 0) {\r\n                filter += \" hue-rotate(\" + hue + \"deg)\";\r\n            }\r\n        }\r\n        if (this.isDirty(\"invert\")) {\r\n            const invert = this.get(\"invert\", 0);\r\n            if (invert != 0) {\r\n                filter += \" invert(\" + invert + \")\";\r\n            }\r\n        }\r\n        if (filter) {\r\n            display.filter = filter;\r\n        }\r\n        if (this.isDirty(\"cursorOverStyle\")) {\r\n            display.cursorOverStyle = this.get(\"cursorOverStyle\");\r\n        }\r\n        if (this.isDirty(\"hoverOnFocus\")) {\r\n            if (this.get(\"hoverOnFocus\")) {\r\n                this._focusDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                    events.on(\"focus\", () => {\r\n                        // TODO: proper hover, not just tooltip\r\n                        this.showTooltip();\r\n                    }),\r\n                    events.on(\"blur\", () => {\r\n                        // TODO: proper hover, not just tooltip\r\n                        this.hideTooltip();\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                if (this._focusDp) {\r\n                    this._focusDp.dispose();\r\n                    this._focusDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"focusable\")) {\r\n            if (this.get(\"focusable\")) {\r\n                this._root._registerTabindexOrder(this);\r\n            }\r\n            else {\r\n                this._root._unregisterTabindexOrder(this);\r\n            }\r\n            this.markDirtyAccessibility();\r\n            this._disposers.push(events.on(\"blur\", () => {\r\n                this.setPrivateRaw(\"touchHovering\", false);\r\n            }));\r\n            this._disposers.push(events.once(\"boundschanged\", () => {\r\n                // We might need to do this to re-evaluate accessibility attributes\r\n                // once the element gains size (bounds)\r\n                this.markDirtyAccessibility();\r\n            }));\r\n        }\r\n        if (this.isPrivateDirty(\"focusable\")) {\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isDirty(\"role\") || this.isDirty(\"ariaLive\") || this.isDirty(\"ariaChecked\") || this.isDirty(\"ariaHidden\") || this.isDirty(\"ariaOrientation\") || this.isDirty(\"ariaValueNow\") || this.isDirty(\"ariaValueMin\") || this.isDirty(\"ariaValueMax\") || this.isDirty(\"ariaValueText\") || this.isDirty(\"ariaLabel\") || this.isDirty(\"ariaControls\")) {\r\n            // display.accessibility.ariaLabel = populateString(this, this.get(\"ariaLabel\", \"\"));\r\n            // @todo make sure ariaLabel gets populated in Root\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isDirty(\"exportable\")) {\r\n            display.exportable = this.get(\"exportable\");\r\n        }\r\n        if (this.isDirty(\"interactive\")) {\r\n            const events = this.events;\r\n            if (this.get(\"interactive\") && !events.isDisposed()) {\r\n                this._hoverDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.MultiDisposer([\r\n                    events.on(\"click\", (ev) => {\r\n                        if (_util_Utils__WEBPACK_IMPORTED_MODULE_7__.isTouchEvent(ev.originalEvent)) {\r\n                            if (!this.getPrivate(\"touchHovering\")) {\r\n                                this.setTimeout(() => {\r\n                                    this._handleOver();\r\n                                    if (this.get(\"tooltipText\") || this.get(\"tooltipHTML\")) {\r\n                                        this.showTooltip();\r\n                                    }\r\n                                    this.setPrivateRaw(\"touchHovering\", true);\r\n                                    this.events.dispatch(\"pointerover\", {\r\n                                        type: \"pointerover\",\r\n                                        target: ev.target,\r\n                                        originalEvent: ev.originalEvent,\r\n                                        point: ev.point,\r\n                                        simulated: ev.simulated\r\n                                    });\r\n                                }, 10);\r\n                            }\r\n                        }\r\n                    }),\r\n                    events.on(\"globalpointerup\", (ev) => {\r\n                        if (_util_Utils__WEBPACK_IMPORTED_MODULE_7__.isTouchEvent(ev.originalEvent)) {\r\n                            if (this.getPrivate(\"touchHovering\")) {\r\n                                this._handleOut();\r\n                                if (this.get(\"tooltipText\") || this.get(\"tooltipHTML\")) {\r\n                                    this.hideTooltip();\r\n                                }\r\n                                this.setPrivateRaw(\"touchHovering\", false);\r\n                                this.events.dispatch(\"pointerout\", {\r\n                                    type: \"pointerout\",\r\n                                    target: ev.target,\r\n                                    originalEvent: ev.originalEvent,\r\n                                    point: ev.point,\r\n                                    simulated: ev.simulated\r\n                                });\r\n                            }\r\n                        }\r\n                        if (this._isDown) {\r\n                            this._handleUp(ev);\r\n                        }\r\n                        //this._isDown = false;\r\n                    }),\r\n                    events.on(\"pointerover\", () => {\r\n                        this._handleOver();\r\n                    }),\r\n                    events.on(\"pointerout\", () => {\r\n                        this._handleOut();\r\n                    }),\r\n                    events.on(\"pointerdown\", (e) => {\r\n                        this._handleDown(e);\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                this._display.interactive = false;\r\n                if (this._hoverDp) {\r\n                    this._hoverDp.dispose();\r\n                    this._hoverDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"forceInactive\")) {\r\n            this._display.inactive = this.get(\"forceInactive\", null);\r\n        }\r\n        if (this.get(\"showTooltipOn\") == \"always\" && this._display.visible) {\r\n            this.showTooltip();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragStart(e) {\r\n        this._dragEvent = e;\r\n        this.events.stopParentDispatch();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragStop(e) {\r\n        this._dragEvent = undefined;\r\n        this._dragPoint = undefined;\r\n        this.events.stopParentDispatch();\r\n        if (this._isDragging) {\r\n            this._isDragging = false;\r\n            const type = \"dragstop\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, {\r\n                    type: type,\r\n                    target: this,\r\n                    originalEvent: e.originalEvent,\r\n                    point: e.point,\r\n                    simulated: e.simulated,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    _handleOver() {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"hoverActive\")) {\r\n                this.states.applyAnimate(\"hoverActive\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"hoverDisabled\")) {\r\n                this.states.applyAnimate(\"hoverDisabled\");\r\n            }\r\n            else {\r\n                this.states.applyAnimate(\"hover\");\r\n            }\r\n            if (this.get(\"draggable\") && this._isDown && this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n        }\r\n    }\r\n    _handleOut() {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                this.states.applyAnimate(\"active\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                this.states.applyAnimate(\"disabled\");\r\n            }\r\n            else {\r\n                if (this.states.lookup(\"hover\") || this.states.lookup(\"hoverActive\")) {\r\n                    this.states.applyAnimate(\"default\");\r\n                }\r\n            }\r\n            if (this.get(\"draggable\") && this._isDown && this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n        }\r\n    }\r\n    _handleUp(e) {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                this.states.applyAnimate(\"active\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                this.states.applyAnimate(\"disabled\");\r\n            }\r\n            else if (this.states.lookup(\"down\")) {\r\n                if (this.isHover()) {\r\n                    this.states.applyAnimate(\"hover\");\r\n                }\r\n                else {\r\n                    this.states.applyAnimate(\"default\");\r\n                }\r\n            }\r\n            // @todo remove this once migrated to _downPoints\r\n            this._downPoint = undefined;\r\n            const pointerId = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.getPointerId(e.originalEvent);\r\n            delete this._downPoints[pointerId];\r\n            if (_util_Object__WEBPACK_IMPORTED_MODULE_8__.keys(this._downPoints).length == 0) {\r\n                this._isDown = false;\r\n            }\r\n        }\r\n    }\r\n    _hasMoved(e) {\r\n        // @todo remove this once migrated to _downPoints\r\n        // if (this._downPoint) {\r\n        // \tconst x = Math.abs(this._downPoint.x - e.point.x);\r\n        // \tconst y = Math.abs(this._downPoint.y - e.point.y);\r\n        // \treturn (x > 5) || (y > 5);\r\n        // }\r\n        const pointerId = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.getPointerId(e.originalEvent);\r\n        const downPoint = this._downPoints[pointerId];\r\n        if (downPoint) {\r\n            const x = Math.abs(downPoint.x - e.point.x);\r\n            const y = Math.abs(downPoint.y - e.point.y);\r\n            return (x > 5) || (y > 5);\r\n        }\r\n        return false;\r\n    }\r\n    _hasDown() {\r\n        return _util_Object__WEBPACK_IMPORTED_MODULE_8__.keys(this._downPoints).length > 0;\r\n    }\r\n    _handleDown(e) {\r\n        const parent = this.parent;\r\n        if (parent && !this.get(\"draggable\")) {\r\n            parent._handleDown(e);\r\n        }\r\n        if (this.get(\"interactive\") && !this.isHidden()) {\r\n            if (this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n            this._downPoint = {\r\n                x: e.point.x,\r\n                y: e.point.y\r\n            };\r\n            // @todo remove this once migrated to _downPoints\r\n            this._isDown = true;\r\n            const pointerId = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.getPointerId(e.originalEvent);\r\n            this._downPoints[pointerId] = {\r\n                x: e.point.x,\r\n                y: e.point.y\r\n            };\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragMove(e) {\r\n        let dragEvent = this._dragEvent;\r\n        if (dragEvent) {\r\n            if (dragEvent.simulated && !e.simulated) {\r\n                return true;\r\n            }\r\n            let angle = 0;\r\n            let parent = this.parent;\r\n            let scale = 1;\r\n            while (parent != null) {\r\n                angle += parent.get(\"rotation\", 0);\r\n                parent = parent.parent;\r\n                if (parent) {\r\n                    scale *= parent.get(\"scale\", 1);\r\n                }\r\n            }\r\n            let x = (e.point.x - dragEvent.point.x) / scale;\r\n            let y = (e.point.y - dragEvent.point.y) / scale;\r\n            const events = this.events;\r\n            if (dragEvent.simulated && !this._isDragging) {\r\n                this._isDragging = true;\r\n                this._dragEvent = e;\r\n                this._dragPoint = {\r\n                    x: this.x(),\r\n                    y: this.y()\r\n                };\r\n                const type = \"dragstart\";\r\n                if (events.isEnabled(type)) {\r\n                    events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n            if (this._isDragging) {\r\n                let dragPoint = this._dragPoint;\r\n                this.set(\"x\", dragPoint.x + x * _util_Math__WEBPACK_IMPORTED_MODULE_2__.cos(angle) + y * _util_Math__WEBPACK_IMPORTED_MODULE_2__.sin(angle));\r\n                this.set(\"y\", dragPoint.y + y * _util_Math__WEBPACK_IMPORTED_MODULE_2__.cos(angle) - x * _util_Math__WEBPACK_IMPORTED_MODULE_2__.sin(angle));\r\n                const type = \"dragged\";\r\n                if (events.isEnabled(type)) {\r\n                    events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (Math.hypot(x, y) > 5) {\r\n                    this._isDragging = true;\r\n                    this._dragEvent = e;\r\n                    this._dragPoint = {\r\n                        x: this.x(),\r\n                        y: this.y()\r\n                    };\r\n                    const type = \"dragstart\";\r\n                    if (events.isEnabled(type)) {\r\n                        events.dispatch(type, {\r\n                            type: type,\r\n                            target: this,\r\n                            originalEvent: e.originalEvent,\r\n                            point: e.point,\r\n                            simulated: e.simulated\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateSize() {\r\n    }\r\n    _getBounds() {\r\n        this._localBounds = this._display.getLocalBounds();\r\n    }\r\n    /**\r\n     * Returns depth (how deep in the hierachy of the content tree) of this\r\n     * element.\r\n     *\r\n     * @return Depth\r\n     */\r\n    depth() {\r\n        let self = this.parent;\r\n        let depth = 0;\r\n        while (true) {\r\n            if (self) {\r\n                ++depth;\r\n                self = self.parent;\r\n            }\r\n            else {\r\n                return depth;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyBounds() {\r\n        const display = this._display;\r\n        if (this.get(\"isMeasured\")) {\r\n            this._root._addDirtyBounds(this);\r\n            display.isMeasured = true;\r\n            display.invalidateBounds();\r\n            const parent = this.parent;\r\n            if (parent && this.get(\"position\") != \"absolute\") {\r\n                if (parent.get(\"width\") == null || parent.get(\"height\") == null || parent.get(\"layout\")) {\r\n                    parent.markDirtyBounds();\r\n                }\r\n            }\r\n            if (this.get(\"focusable\")) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyAccessibility() {\r\n        //if (this._root.focused(this)) {\r\n        this._root._invalidateAccessibility(this);\r\n        //}\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyLayer() {\r\n        //this._display.markDirtyLayer(this.isDirty(\"opacity\") || this.isDirty(\"visible\")); https://codepen.io/team/amcharts/pen/gOWZPmP <- problems\r\n        this._display.markDirtyLayer(true);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        super.markDirty();\r\n        this.markDirtyLayer();\r\n    }\r\n    _updateBounds() {\r\n        const oldBounds = this._adjustedLocalBounds;\r\n        let newBounds;\r\n        // if display.visible == false, it still returns bounds\r\n        if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n            newBounds = {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0\r\n            };\r\n            this._localBounds = newBounds;\r\n            this._adjustedLocalBounds = newBounds;\r\n        }\r\n        else {\r\n            this._getBounds();\r\n            this._fixMinBounds(this._localBounds);\r\n            this.updatePivotPoint();\r\n            this._adjustedLocalBounds = this._display.getAdjustedBounds(this._localBounds);\r\n            newBounds = this._adjustedLocalBounds;\r\n        }\r\n        if (!oldBounds || (oldBounds.left !== newBounds.left || oldBounds.top !== newBounds.top || oldBounds.right !== newBounds.right || oldBounds.bottom !== newBounds.bottom)) {\r\n            const eventType = \"boundschanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n            if (this.parent) {\r\n                this.parent.markDirty();\r\n                this.parent.markDirtyBounds();\r\n            }\r\n            // Update tooltip position together with the Sprite\r\n            if (this.getPrivate(\"showingTooltip\")) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n    }\r\n    _fixMinBounds(bounds) {\r\n        let minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n        let minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(minWidth)) {\r\n            if (bounds.right - bounds.left < minWidth) {\r\n                bounds.right = bounds.left + minWidth;\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(minHeight)) {\r\n            if (bounds.bottom - bounds.top < minHeight) {\r\n                bounds.bottom = bounds.top + minHeight;\r\n            }\r\n        }\r\n        let privateWidth = this.getPrivate(\"width\");\r\n        let privateHeight = this.getPrivate(\"height\");\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(privateWidth)) {\r\n            if (privateWidth > 0) {\r\n                bounds.right = bounds.left + privateWidth;\r\n            }\r\n            else {\r\n                bounds.left = bounds.right + privateWidth;\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(privateHeight)) {\r\n            if (privateHeight > 0) {\r\n                bounds.bottom = bounds.top + privateHeight;\r\n            }\r\n            else {\r\n                bounds.top = bounds.bottom + privateHeight;\r\n            }\r\n        }\r\n    }\r\n    _removeParent(parent) {\r\n        if (parent) {\r\n            parent.children.removeValue(this);\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_6__.removeFirst(parent._percentageSizeChildren, this);\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_6__.removeFirst(parent._percentagePositionChildren, this);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._sizeDirty = false;\r\n        this._statesHandled = false;\r\n    }\r\n    /**\r\n     * Simulate hover over element.\r\n     */\r\n    hover() {\r\n        if (!this.isDisposed()) {\r\n            this.showTooltip();\r\n            this._handleOver();\r\n        }\r\n    }\r\n    /**\r\n     * Simulate unhover over element.\r\n     */\r\n    unhover() {\r\n        if (!this.isDisposed()) {\r\n            this.hideTooltip();\r\n            this._handleOut();\r\n        }\r\n    }\r\n    /**\r\n     * Shows element's [[Tooltip]].\r\n     */\r\n    showTooltip(point) {\r\n        if (!this.isDisposed()) {\r\n            const tooltip = this.getTooltip();\r\n            const tooltipText = this.get(\"tooltipText\");\r\n            const tooltipHTML = this.get(\"tooltipHTML\");\r\n            if ((tooltipText || tooltipHTML) && tooltip) {\r\n                const tooltipPosition = this.get(\"tooltipPosition\");\r\n                const tooltipTarget = this.getPrivate(\"tooltipTarget\", this);\r\n                if (tooltipPosition == \"fixed\" || !point) {\r\n                    this._display._setMatrix();\r\n                    point = this.toGlobal(tooltipTarget._getTooltipPoint());\r\n                }\r\n                if (tooltipPosition == \"pointer\") {\r\n                    const lastTooltipCoords = this.getPrivate(\"lastTooltipCoords\");\r\n                    if (lastTooltipCoords && lastTooltipCoords.x == point.x && lastTooltipCoords.y == point.y) {\r\n                        return;\r\n                    }\r\n                    else {\r\n                        this.setPrivate(\"lastTooltipCoords\", point);\r\n                    }\r\n                }\r\n                tooltip.set(\"pointTo\", point);\r\n                tooltip.set(\"tooltipTarget\", tooltipTarget);\r\n                if (!tooltip.get(\"x\")) {\r\n                    tooltip.set(\"x\", point.x);\r\n                }\r\n                if (!tooltip.get(\"y\")) {\r\n                    tooltip.set(\"y\", point.y);\r\n                }\r\n                if (tooltipText) {\r\n                    tooltip.label.set(\"text\", tooltipText);\r\n                }\r\n                if (tooltipHTML) {\r\n                    tooltip.label.set(\"html\", tooltipHTML);\r\n                }\r\n                const dataItem = this.dataItem;\r\n                if (dataItem) {\r\n                    tooltip.label._setDataItem(dataItem);\r\n                }\r\n                if (this.get(\"showTooltipOn\") == \"always\" && (point.x < 0 || point.x > this._root.width() || point.y < 0 || point.y > this._root.height())) {\r\n                    this.hideTooltip();\r\n                    return;\r\n                }\r\n                tooltip.label.text.markDirtyText();\r\n                const promise = tooltip.show();\r\n                this.setPrivateRaw(\"showingTooltip\", true);\r\n                return promise;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Hides element's [[Tooltip]].\r\n     */\r\n    hideTooltip() {\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            this.removePrivate(\"lastTooltipCoords\");\r\n            if (tooltip.get(\"tooltipTarget\") == this.getPrivate(\"tooltipTarget\", this) || this.get(\"tooltip\") == tooltip) {\r\n                let timeout = tooltip.get(\"keepTargetHover\") && tooltip.get(\"stateAnimationDuration\", 0) == 0 ? 400 : undefined;\r\n                const promise = tooltip.hide(timeout);\r\n                this.setPrivateRaw(\"showingTooltip\", false);\r\n                return promise;\r\n            }\r\n        }\r\n    }\r\n    _getTooltipPoint() {\r\n        const bounds = this._localBounds;\r\n        if (bounds) {\r\n            let x = 0;\r\n            let y = 0;\r\n            if (!this.get(\"isMeasured\")) {\r\n                x = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(this.get(\"tooltipX\", 0), this.width());\r\n                y = _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(this.get(\"tooltipY\", 0), this.height());\r\n            }\r\n            else {\r\n                x = bounds.left + _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(this.get(\"tooltipX\", 0), bounds.right - bounds.left);\r\n                y = bounds.top + _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(this.get(\"tooltipY\", 0), bounds.bottom - bounds.top);\r\n            }\r\n            return { x, y };\r\n        }\r\n        return { x: 0, y: 0 };\r\n    }\r\n    /**\r\n     * Returns [[Tooltip]] used for this element.\r\n     *\r\n     * @return Tooltip\r\n     */\r\n    getTooltip() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (!tooltip) {\r\n            let parent = this.parent;\r\n            if (parent) {\r\n                return parent.getTooltip();\r\n            }\r\n        }\r\n        else {\r\n            return tooltip;\r\n        }\r\n    }\r\n    _updatePosition() {\r\n        const parent = this.parent;\r\n        let dx = this.get(\"dx\", 0);\r\n        let dy = this.get(\"dy\", 0);\r\n        let x = this.get(\"x\");\r\n        let _x = this.getPrivate(\"x\");\r\n        let xx = 0;\r\n        let yy = 0;\r\n        const position = this.get(\"position\");\r\n        if (x instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n            if (parent) {\r\n                x = parent.innerWidth() * x.value + parent.get(\"paddingLeft\", 0);\r\n            }\r\n            else {\r\n                x = 0;\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(x)) {\r\n            xx = x + dx;\r\n        }\r\n        else {\r\n            if (_x != null) {\r\n                xx = _x;\r\n            }\r\n            else if (parent) {\r\n                if (position == \"relative\") {\r\n                    xx = parent.get(\"paddingLeft\", 0) + dx;\r\n                }\r\n            }\r\n        }\r\n        let y = this.get(\"y\");\r\n        let _y = this.getPrivate(\"y\");\r\n        if (y instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n            if (parent) {\r\n                y = parent.innerHeight() * y.value + parent.get(\"paddingTop\", 0);\r\n            }\r\n            else {\r\n                y = 0;\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(y)) {\r\n            yy = y + dy;\r\n        }\r\n        else {\r\n            if (_y != null) {\r\n                yy = _y;\r\n            }\r\n            else if (parent) {\r\n                if (position == \"relative\") {\r\n                    yy = parent.get(\"paddingTop\", 0) + dy;\r\n                }\r\n            }\r\n        }\r\n        const display = this._display;\r\n        if (display.x != xx || display.y != yy) {\r\n            display.invalidateBounds();\r\n            display.x = xx;\r\n            display.y = yy;\r\n            const eventType = \"positionchanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n        }\r\n        // Update tooltip position together with the Sprite\r\n        if (this.getPrivate(\"showingTooltip\")) {\r\n            this.showTooltip();\r\n        }\r\n    }\r\n    /**\r\n     * Returns element's actual X position in pixels.\r\n     *\r\n     * @return X (px)\r\n     */\r\n    x() {\r\n        let x = this.get(\"x\");\r\n        let _x = this.getPrivate(\"x\");\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            if (x instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                return _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(x, parent.innerWidth()) + parent.get(\"paddingLeft\", 0);\r\n            }\r\n            else {\r\n                if (!_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(x)) {\r\n                    if (_x != null) {\r\n                        return _x;\r\n                    }\r\n                    else {\r\n                        return parent.get(\"paddingLeft\", this._display.x);\r\n                    }\r\n                }\r\n                else {\r\n                    return x;\r\n                }\r\n            }\r\n        }\r\n        return this._display.x;\r\n    }\r\n    /**\r\n     * Returns element's actual Y position in pixels.\r\n     *\r\n     * @return Y (px)\r\n     */\r\n    y() {\r\n        let _y = this.getPrivate(\"y\");\r\n        if (_y != null) {\r\n            return _y;\r\n        }\r\n        let y = this.get(\"y\");\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            if (y instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                return _util_Utils__WEBPACK_IMPORTED_MODULE_7__.relativeToValue(y, parent.innerHeight()) + parent.get(\"paddingTop\", 0);\r\n            }\r\n            else {\r\n                if (!_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(y)) {\r\n                    if (_y != null) {\r\n                        return _y;\r\n                    }\r\n                    else {\r\n                        return parent.get(\"paddingTop\", this._display.y);\r\n                    }\r\n                }\r\n                else {\r\n                    return y;\r\n                }\r\n            }\r\n        }\r\n        return this._display.y;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._display.dispose();\r\n        this._removeTemplateField();\r\n        this._removeParent(this.parent);\r\n        this._root._removeFocusElement(this);\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.dispose();\r\n        }\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    adjustedLocalBounds() {\r\n        this._fixMinBounds(this._adjustedLocalBounds);\r\n        return this._adjustedLocalBounds;\r\n    }\r\n    /**\r\n     * Returns local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    localBounds() {\r\n        return this._localBounds;\r\n    }\r\n    /**\r\n     * Returns adjusted local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    bounds() {\r\n        const bounds = this._adjustedLocalBounds;\r\n        const x = this.x();\r\n        const y = this.y();\r\n        return { left: bounds.left + x, right: bounds.right + x, top: bounds.top + y, bottom: bounds.bottom + y };\r\n    }\r\n    /**\r\n     * Returns global coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    globalBounds() {\r\n        const bounds = this.localBounds();\r\n        const p0 = this.toGlobal({ x: bounds.left, y: bounds.top });\r\n        const p1 = this.toGlobal({ x: bounds.right, y: bounds.top });\r\n        const p2 = this.toGlobal({ x: bounds.right, y: bounds.bottom });\r\n        const p3 = this.toGlobal({ x: bounds.left, y: bounds.bottom });\r\n        return {\r\n            left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n            top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n            right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n            bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n        };\r\n    }\r\n    _onShow(_duration) {\r\n    }\r\n    _onHide(_duration) {\r\n    }\r\n    /**\r\n     * Plays initial reveal animation regardless if element is currently hidden\r\n     * or visible.\r\n     *\r\n     * @param   duration  Duration of the animation in milliseconds\r\n     * @param   delay     Delay showing of the element by X milliseconds\r\n     * @return            Promise\r\n     */\r\n    appear(duration, delay) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_10__.__awaiter)(this, void 0, void 0, function* () {\r\n            yield this.hide(0);\r\n            if (delay) {\r\n                return new Promise((success, _error) => {\r\n                    this.setTimeout(() => {\r\n                        success(this.show(duration));\r\n                    }, delay);\r\n                });\r\n            }\r\n            else {\r\n                return this.show(duration);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Shows currently hidden element and returns a `Promise` which completes\r\n     * when all showing animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    show(duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_10__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (!this._isShowing) {\r\n                this._isHidden = false;\r\n                this._isShowing = true;\r\n                this._isHiding = false;\r\n                if (this.states.lookup(\"default\").get(\"visible\")) {\r\n                    this.set(\"visible\", true);\r\n                }\r\n                this._onShow(duration);\r\n                const animations = this.states.applyAnimate(\"default\", duration);\r\n                yield (0,_util_Animation__WEBPACK_IMPORTED_MODULE_11__.waitForAnimations)(animations);\r\n                this._isShowing = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Hides the element and returns a `Promise` which completes when all hiding\r\n     * animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    hide(duration) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_10__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (!this._isHiding && !this._isHidden) {\r\n                this._isHiding = true;\r\n                this._isShowing = false;\r\n                let state = this.states.lookup(\"hidden\");\r\n                if (!state) {\r\n                    state = this.states.create(\"hidden\", {\r\n                        \"opacity\": 0,\r\n                        \"visible\": false\r\n                    });\r\n                }\r\n                this._isHidden = true;\r\n                this._onHide(duration);\r\n                const animations = this.states.applyAnimate(\"hidden\", duration);\r\n                yield (0,_util_Animation__WEBPACK_IMPORTED_MODULE_11__.waitForAnimations)(animations);\r\n                this._isHiding = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently hidden.\r\n     *\r\n     * @return Is hidden?\r\n     */\r\n    isHidden() {\r\n        return this._isHidden;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently animating to a default state.\r\n     *\r\n     * @return Is showing?\r\n     */\r\n    isShowing() {\r\n        return this._isShowing;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently animating to a hidden state.\r\n     *\r\n     * @return Is hiding?\r\n     */\r\n    isHiding() {\r\n        return this._isHiding;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently hovered by a pointer.\r\n     *\r\n     * @return Is hovered?\r\n     */\r\n    isHover() {\r\n        return this._display.hovering();\r\n    }\r\n    /**\r\n     * Returns `true` if this element does currently have focus.\r\n     *\r\n     * @return Is focused?\r\n     */\r\n    isFocus() {\r\n        return this._root.focused(this);\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently being dragged.\r\n     *\r\n     * @return Is dragged?\r\n     */\r\n    isDragging() {\r\n        return this._isDragging;\r\n    }\r\n    /**\r\n     * Returns `false` if if either public or private setting `visible` is set\r\n     * to `false`, or `forceHidden` is set to `true`.\r\n     *\r\n     * @return Visible?\r\n     */\r\n    isVisible() {\r\n        if (this.get(\"visible\") && this.getPrivate(\"visible\") && !this.get(\"forceHidden\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Same as `isVisible()`, except it checks all ascendants, too.\r\n     *\r\n     * @since 5.2.7\r\n     * @return Visible?\r\n     */\r\n    isVisibleDeep() {\r\n        return this._parent ? (this._parent.isVisibleDeep() && this.isVisible()) : this.isVisible();\r\n    }\r\n    /**\r\n     * Returns an actual opacity of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.2.11\r\n     */\r\n    compositeOpacity() {\r\n        const opacity = this.get(\"opacity\", 1);\r\n        return this._parent ? (this._parent.compositeOpacity() * opacity) : opacity;\r\n    }\r\n    /**\r\n     * Returns an actual scale of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.9.2\r\n     */\r\n    compositeScale() {\r\n        const scale = this.get(\"scale\", 1);\r\n        return this._parent ? (this._parent.compositeScale() * scale) : scale;\r\n    }\r\n    /**\r\n     * Returns an actual roation of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.9.2\r\n     */\r\n    compositeRotation() {\r\n        const rotation = this.get(\"rotation\", 0);\r\n        return this._parent ? (this._parent.compositeRotation() + rotation) : rotation;\r\n    }\r\n    /**\r\n     * Returns width of this element in pixels.\r\n     *\r\n     * @return Width (px)\r\n     */\r\n    width() {\r\n        let width = this.get(\"width\");\r\n        let maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n        let minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n        let privateWidth = this.getPrivate(\"width\");\r\n        let w = 0;\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(privateWidth)) {\r\n            w = privateWidth;\r\n        }\r\n        else {\r\n            if (width == null) {\r\n                if (this._adjustedLocalBounds) {\r\n                    w = this._adjustedLocalBounds.right - this._adjustedLocalBounds.left;\r\n                }\r\n            }\r\n            else {\r\n                if (width instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        w = parent.innerWidth() * width.value;\r\n                    }\r\n                    else {\r\n                        w = this._root.width() * width.value;\r\n                    }\r\n                }\r\n                else if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(width)) {\r\n                    w = width;\r\n                }\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(minWidth)) {\r\n            w = Math.max(minWidth, w);\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(maxWidth)) {\r\n            w = Math.min(maxWidth, w);\r\n        }\r\n        return w;\r\n    }\r\n    /**\r\n     * Returns maximum allowed width of this element in pixels.\r\n     *\r\n     * @return Maximum width (px)\r\n     */\r\n    maxWidth() {\r\n        let maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(maxWidth)) {\r\n            return maxWidth;\r\n        }\r\n        else {\r\n            let width = this.get(\"width\");\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(width)) {\r\n                return width;\r\n            }\r\n        }\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            return parent.innerWidth();\r\n        }\r\n        return this._root.width();\r\n    }\r\n    /**\r\n     * Returns maximum allowed height of this element in pixels.\r\n     *\r\n     * @return Maximum height (px)\r\n     */\r\n    maxHeight() {\r\n        let maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(maxHeight)) {\r\n            return maxHeight;\r\n        }\r\n        else {\r\n            let height = this.get(\"height\");\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(height)) {\r\n                return height;\r\n            }\r\n        }\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            return parent.innerHeight();\r\n        }\r\n        return this._root.height();\r\n    }\r\n    /**\r\n     * Returns height of this element in pixels.\r\n     *\r\n     * @return Height (px)\r\n     */\r\n    height() {\r\n        let height = this.get(\"height\");\r\n        let maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n        let minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n        let privateHeight = this.getPrivate(\"height\");\r\n        let h = 0;\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(privateHeight)) {\r\n            h = privateHeight;\r\n        }\r\n        else {\r\n            if (height == null) {\r\n                if (this._adjustedLocalBounds) {\r\n                    h = this._adjustedLocalBounds.bottom - this._adjustedLocalBounds.top;\r\n                }\r\n            }\r\n            else {\r\n                if (height instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_5__.Percent) {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        h = parent.innerHeight() * height.value;\r\n                    }\r\n                    else {\r\n                        h = this._root.height() * height.value;\r\n                    }\r\n                }\r\n                else if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(height)) {\r\n                    h = height;\r\n                }\r\n            }\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(minHeight)) {\r\n            h = Math.max(minHeight, h);\r\n        }\r\n        if (_util_Type__WEBPACK_IMPORTED_MODULE_9__.isNumber(maxHeight)) {\r\n            h = Math.min(maxHeight, h);\r\n        }\r\n        return h;\r\n    }\r\n    _findStaticTemplate(f) {\r\n        // templateField overrides template\r\n        if (this._templateField && f(this._templateField)) {\r\n            return this._templateField;\r\n        }\r\n        return super._findStaticTemplate(f);\r\n    }\r\n    _walkParents(f) {\r\n        if (this._parent) {\r\n            this._walkParent(f);\r\n        }\r\n    }\r\n    _walkParent(f) {\r\n        if (this._parent) {\r\n            this._parent._walkParent(f);\r\n        }\r\n        f(this);\r\n    }\r\n    /**\r\n     * Parent [[Container]] of this element.\r\n     *\r\n     * @return Parent container\r\n     */\r\n    get parent() {\r\n        return this._parent;\r\n    }\r\n    _setParent(parent, updateChildren = false) {\r\n        const prevParent = this._parent;\r\n        if (parent !== prevParent) {\r\n            this.markDirtyBounds();\r\n            parent.markDirty();\r\n            this._parent = parent;\r\n            if (updateChildren) {\r\n                this._removeParent(prevParent);\r\n                if (parent) {\r\n                    this._addPercentageSizeChildren();\r\n                    this._addPercentagePositionChildren();\r\n                }\r\n            }\r\n            this.markDirtyPosition();\r\n            this._applyThemes();\r\n        }\r\n    }\r\n    /**\r\n     * Returns an instance of [[NumberFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return NumberFormatter instace\r\n     */\r\n    getNumberFormatter() {\r\n        return this.get(\"numberFormatter\", this._root.numberFormatter);\r\n    }\r\n    /**\r\n     * Returns an instance of [[DateFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DateFormatter instace\r\n     */\r\n    getDateFormatter() {\r\n        return this.get(\"dateFormatter\", this._root.dateFormatter);\r\n    }\r\n    /**\r\n     * Returns an instance of [[DurationFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DurationFormatter instace\r\n     */\r\n    getDurationFormatter() {\r\n        return this.get(\"durationFormatter\", this._root.durationFormatter);\r\n    }\r\n    /**\r\n     * Converts X/Y coordinate within this element to a global coordinate.\r\n     *\r\n     * @param  point  Local coordinate\r\n     * @return        Global coordinate\r\n     */\r\n    toGlobal(point) {\r\n        return this._display.toGlobal(point);\r\n    }\r\n    /**\r\n     * Converts global X/Y coordinate to a coordinate within this element.\r\n     *\r\n     * @param  point  Global coordinate\r\n     * @return        Local coordinate\r\n     */\r\n    toLocal(point) {\r\n        return this._display.toLocal(point);\r\n    }\r\n    _getDownPoint() {\r\n        const id = this._getDownPointId();\r\n        if (id) {\r\n            return this._downPoints[id];\r\n        }\r\n    }\r\n    _getDownPointId() {\r\n        if (this._downPoints) {\r\n            return _util_Object__WEBPACK_IMPORTED_MODULE_8__.keysOrdered(this._downPoints, (a, b) => {\r\n                if (a > b) {\r\n                    return 1;\r\n                }\r\n                if (a < b) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            })[0];\r\n        }\r\n    }\r\n    /**\r\n     * Moves sprite to the end of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    toFront() {\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this, parent.children.length - 1);\r\n        }\r\n    }\r\n    /**\r\n     * Moves sprite to the beginning of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    toBack() {\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this, 0);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Sprite, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Sprite\"\r\n});\r\nObject.defineProperty(Sprite, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _util_Entity__WEBPACK_IMPORTED_MODULE_3__.Entity.classNames.concat([Sprite.className])\r\n});\r\n//# sourceMappingURL=Sprite.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvU3ByaXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0M7QUFDTTtBQUNJO0FBQ0Y7QUFDZ0I7QUFDUTtBQUNaO0FBQ2Q7QUFDQTtBQUNGO0FBQ0k7QUFDSjtBQUN0QyxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUF5RDtBQUNsRTtBQUNBLG9DQUFvQyxrRUFBZTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYix3REFBd0QsMkRBQWU7QUFDdkU7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5REFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0RBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsZ0RBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsb0RBQVE7QUFDdEQsbUNBQW1DLG9EQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrREFBTyxrQ0FBa0Msa0RBQU87QUFDN0YsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxrREFBTyw2QkFBNkIsa0RBQU87QUFDcEYsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsd0RBQXNCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx3REFBc0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLDZDQUE2Qyx5REFBYTtBQUMxRDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx5REFBYTtBQUNoRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHlEQUFhO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekIsd0JBQXdCLHlEQUF1QjtBQUMvQztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx5REFBYTtBQUN2RDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsa0RBQU8sOERBQThELGtEQUFPO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5REFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5REFBYTtBQUNqRDtBQUNBLDRCQUE0QixxREFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckMsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSw0QkFBNEIscURBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscURBQW1CO0FBQ2pEO0FBQ0EsZ0JBQWdCLDhDQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIscURBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsOENBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscURBQW1CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsMkNBQVMsY0FBYywyQ0FBUztBQUNoRixnREFBZ0QsMkNBQVMsY0FBYywyQ0FBUztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCwrQkFBK0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9EQUFrQjtBQUM5QixZQUFZLG9EQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0RBQXNCO0FBQzFDLG9CQUFvQix3REFBc0I7QUFDMUM7QUFDQTtBQUNBLGtDQUFrQyx3REFBc0I7QUFDeEQsaUNBQWlDLHdEQUFzQjtBQUN2RDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0RBQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0RBQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELCtCQUErQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGtEQUFPO0FBQ3BDLHVCQUF1Qix3REFBc0I7QUFDN0M7QUFDQTtBQUNBLHFCQUFxQixnREFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsa0RBQU87QUFDcEMsdUJBQXVCLHdEQUFzQjtBQUM3QztBQUNBO0FBQ0EscUJBQXFCLGdEQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrQkFBK0I7QUFDbEUsbUNBQW1DLGdDQUFnQztBQUNuRSxtQ0FBbUMsbUNBQW1DO0FBQ3RFLG1DQUFtQyxrQ0FBa0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaURBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpREFBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUVBQWlCO0FBQ3ZDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpREFBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1FQUFpQjtBQUN2QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtEQUFPO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0RBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msa0RBQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnREFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBLFlBQVksZ0RBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1FQUFtRTtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUVBQW1FO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtRUFBbUU7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscURBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdEQUFNO0FBQ2pCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvU3ByaXRlLmpzP2U3MDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi91dGlsL0VudGl0eVwiO1xyXG5pbXBvcnQgeyBUZW1wbGF0ZSB9IGZyb20gXCIuLi91dGlsL1RlbXBsYXRlXCI7XHJcbmltcG9ydCB7IFBlcmNlbnQgfSBmcm9tIFwiLi4vdXRpbC9QZXJjZW50XCI7XHJcbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCIuLi91dGlsL0V2ZW50RGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgeyBNdWx0aURpc3Bvc2VyLCBDb3VudGVyRGlzcG9zZXIgfSBmcm9tIFwiLi4vdXRpbC9EaXNwb3NlclwiO1xyXG5pbXBvcnQgeyB3YWl0Rm9yQW5pbWF0aW9ucyB9IGZyb20gXCIuLi91dGlsL0FuaW1hdGlvblwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4uL3V0aWwvVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuLi91dGlsL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuLi91dGlsL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJG9iamVjdCBmcm9tIFwiLi4vdXRpbC9PYmplY3RcIjtcclxuaW1wb3J0ICogYXMgJG1hdGggZnJvbSBcIi4uL3V0aWwvTWF0aFwiO1xyXG4vL2ltcG9ydCB7IHBvcHVsYXRlU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWwvUG9wdWxhdGVTdHJpbmdcIjtcclxuLyoqXHJcbiAqIEFuIFtbRXZlbnREaXNwYXRjaGVyXV0gZm9yIFtbU3ByaXRlXV0uXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2V2ZW50cy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmNsYXNzIFNwcml0ZUV2ZW50RGlzcGF0Y2hlciBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzcHJpdGUpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zcHJpdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlbmRlcmVyRGlzcG9zZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3BhdGNoUGFyZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlID0gc3ByaXRlO1xyXG4gICAgfVxyXG4gICAgX21ha2VQb2ludGVyRXZlbnQoa2V5LCBldmVudCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IGtleSxcclxuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgIHBvaW50OiBldmVudC5wb2ludCxcclxuICAgICAgICAgICAgc2ltdWxhdGVkOiBldmVudC5zaW11bGF0ZWQsXHJcbiAgICAgICAgICAgIG5hdGl2ZTogZXZlbnQubmF0aXZlLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuX3Nwcml0ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBfb25SZW5kZXJlcihrZXksIGRpc3BhdGNoKSB7XHJcbiAgICAgICAgLy8gVE9ETzogaXMgdGhpcyBPSz8gaXQnZCBiZSBnb29kIG5vdCB0byByZXF1aXJlIHRvIHNldCB0aGlzIG9uIGVhY2ggaW5kaXZpZHVhbCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5fc3ByaXRlLnNldChcImludGVyYWN0aXZlXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuX3Nwcml0ZS5fZGlzcGxheS5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMuX3JlbmRlcmVyRGlzcG9zZXJzW2tleV07XHJcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2VyID0gdGhpcy5fc3ByaXRlLl9kaXNwbGF5Lm9uKGtleSwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoLmNhbGwodGhpcywgZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBldmVudHMgPSB0aGlzLl9yZW5kZXJlckRpc3Bvc2Vyc1trZXldID0gbmV3IENvdW50ZXJEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcmVuZGVyZXJEaXNwb3NlcnNba2V5XTtcclxuICAgICAgICAgICAgICAgIGRpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBldmVudHMuaW5jcmVtZW50KCk7XHJcbiAgICB9XHJcbiAgICBfb24ob25jZSwgdHlwZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lLCBkaXNwYXRjaCkge1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSBzdXBlci5fb24ob25jZSwgdHlwZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lLCBkaXNwYXRjaCk7XHJcbiAgICAgICAgY29uc3QgcmVuZGVyZXJFdmVudCA9IFNwcml0ZUV2ZW50RGlzcGF0Y2hlci5SRU5ERVJFUl9FVkVOVFNbdHlwZV07XHJcbiAgICAgICAgaWYgKHJlbmRlcmVyRXZlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpbmZvLmRpc3Bvc2VyID0gbmV3IE11bHRpRGlzcG9zZXIoW1xyXG4gICAgICAgICAgICAgICAgaW5mby5kaXNwb3NlcixcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uUmVuZGVyZXIodHlwZSwgcmVuZGVyZXJFdmVudCksXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5mbztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2lsbCBzdG9wIGFueSBidWJibGluZyB1cCBvZiB0aGUgZXZlbnQgdG8gZWxlbWVudCdzIHBhcmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogU2hvdWxkIGJlIGNhbGxlZCBpbiBhbiBldmVudCBoYW5kbGVyLCBlLmcuOlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIGVsZW1lbnQuZXZlbnRzLm9uKFwicG9pbnRlcmRvd25cIiwgZnVuY3Rpb24oZXYpIHtcclxuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIGhlcmUgYW5kIHByZXZlbnQgZnJvbSBcInBvaW50ZXJkb3duXCIgYnViYmxpbmcgdXBcclxuICAgICAqICAgLy8gLi4uXHJcbiAgICAgKiAgIGV2LnRhcmdldC5ldmVudHMuc3RvcFBhcmVudERpc3BhdGNoKCk7XHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICogYGBgSmF2YVNjcmlwdFxyXG4gICAgICogZWxlbWVudC5ldmVudHMub24oXCJwb2ludGVyZG93blwiLCBmdW5jdGlvbihldikge1xyXG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgaGVyZSBhbmQgcHJldmVudCBmcm9tIFwicG9pbnRlcmRvd25cIiBidWJibGluZyB1cFxyXG4gICAgICogICAvLyAuLi5cclxuICAgICAqICAgZXYudGFyZ2V0LmV2ZW50cy5zdG9wUGFyZW50RGlzcGF0Y2goKTtcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHN0b3BQYXJlbnREaXNwYXRjaCgpIHtcclxuICAgICAgICB0aGlzLl9kaXNwYXRjaFBhcmVudHMgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBkaXNwYXRjaFBhcmVudHModHlwZSwgZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBvbGQgPSB0aGlzLl9kaXNwYXRjaFBhcmVudHM7XHJcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hQYXJlbnRzID0gdHJ1ZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKHR5cGUsIGV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc3BhdGNoUGFyZW50cyAmJiB0aGlzLl9zcHJpdGUucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcHJpdGUucGFyZW50LmV2ZW50cy5kaXNwYXRjaFBhcmVudHModHlwZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaFBhcmVudHMgPSBvbGQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGVFdmVudERpc3BhdGNoZXIsIFwiUkVOREVSRVJfRVZFTlRTXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiB7XHJcbiAgICAgICAgXCJjbGlja1wiOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKFwiY2xpY2tcIikgJiYgIXRoaXMuX3Nwcml0ZS5pc0RyYWdnaW5nKCkgJiYgdGhpcy5fc3ByaXRlLl9oYXNEb3duKCkgJiYgIXRoaXMuX3Nwcml0ZS5faGFzTW92ZWQodGhpcy5fbWFrZVBvaW50ZXJFdmVudChcImNsaWNrXCIsIGV2ZW50KSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goXCJjbGlja1wiLCB0aGlzLl9tYWtlUG9pbnRlckV2ZW50KFwiY2xpY2tcIiwgZXZlbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJyaWdodGNsaWNrXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoXCJyaWdodGNsaWNrXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKFwicmlnaHRjbGlja1wiLCB0aGlzLl9tYWtlUG9pbnRlckV2ZW50KFwicmlnaHRjbGlja1wiLCBldmVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIm1pZGRsZWNsaWNrXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoXCJtaWRkbGVjbGlja1wiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChcIm1pZGRsZWNsaWNrXCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJtaWRkbGVjbGlja1wiLCBldmVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImRibGNsaWNrXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoUGFyZW50cyhcImRibGNsaWNrXCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJkYmxjbGlja1wiLCBldmVudCkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJwb2ludGVyb3ZlclwiOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5fc3ByaXRlO1xyXG4gICAgICAgICAgICBsZXQgZGlzcGF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoc3ByaXRlLmdldFByaXZhdGUoXCJ0cnVzdEJvdW5kc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLl9nZXRCb3VuZHMoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IHNwcml0ZS5nbG9iYWxCb3VuZHMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUuaXNUeXBlKFwiR3JhcGhpY3NcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHNwcml0ZS5nZXQoXCJzdHJva2VXaWR0aFwiLCAxKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm9rZVdpZHRoID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLmxlZnQgLT0gc3Ryb2tlV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5yaWdodCArPSBzdHJva2VXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCAtPSBzdHJva2VXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLmJvdHRvbSArPSBzdHJva2VXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoISRtYXRoLmluQm91bmRzKGV2ZW50LnBvaW50LCBib3VuZHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuX3Jvb3QuX3JlbmRlcmVyLnJlbW92ZUhvdmVyaW5nKHNwcml0ZS5fZGlzcGxheSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpc3BhdGNoICYmIHRoaXMuaXNFbmFibGVkKFwicG9pbnRlcm92ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goXCJwb2ludGVyb3ZlclwiLCB0aGlzLl9tYWtlUG9pbnRlckV2ZW50KFwicG9pbnRlcm92ZXJcIiwgZXZlbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJwb2ludGVyb3V0XCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoXCJwb2ludGVyb3V0XCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKFwicG9pbnRlcm91dFwiLCB0aGlzLl9tYWtlUG9pbnRlckV2ZW50KFwicG9pbnRlcm91dFwiLCBldmVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInBvaW50ZXJkb3duXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoUGFyZW50cyhcInBvaW50ZXJkb3duXCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJwb2ludGVyZG93blwiLCBldmVudCkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJwb2ludGVydXBcIjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChcInBvaW50ZXJ1cFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChcInBvaW50ZXJ1cFwiLCB0aGlzLl9tYWtlUG9pbnRlckV2ZW50KFwicG9pbnRlcnVwXCIsIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZ2xvYmFscG9pbnRlcnVwXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoXCJnbG9iYWxwb2ludGVydXBcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goXCJnbG9iYWxwb2ludGVydXBcIiwgdGhpcy5fbWFrZVBvaW50ZXJFdmVudChcImdsb2JhbHBvaW50ZXJ1cFwiLCBldmVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImdsb2JhbHBvaW50ZXJtb3ZlXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoXCJnbG9iYWxwb2ludGVybW92ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChcImdsb2JhbHBvaW50ZXJtb3ZlXCIsIHRoaXMuX21ha2VQb2ludGVyRXZlbnQoXCJnbG9iYWxwb2ludGVybW92ZVwiLCBldmVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIndoZWVsXCI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoUGFyZW50cyhcIndoZWVsXCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwid2hlZWxcIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5fc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICBwb2ludDogZXZlbnQucG9pbnQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICB9XHJcbn0pO1xyXG4vKipcclxuICogQSBiYXNlIGNsYXNzIGZvciBhbGwgdmlzdWFsIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3ByaXRlIGV4dGVuZHMgRW50aXR5IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2FkanVzdGVkTG9jYWxCb3VuZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeyBsZWZ0OiAwLCByaWdodDogMCwgdG9wOiAwLCBib3R0b206IDAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sb2NhbEJvdW5kc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7IGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhcmVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGF0YUl0ZW1cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RlbXBsYXRlRmllbGRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NpemVEaXJ0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFdpbGwgYmUgdHJ1ZSBvbmx5IHdoZW4gZHJhZ2dpbmdcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNEcmFnZ2luZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRoZSBldmVudCB3aGVuIHRoZSBkcmFnZ2luZyBzdGFydHNcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZHJhZ0V2ZW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRoZSBwb3NpdGlvbiB3aGVuIGRyYWdnaW5nIHN0YXJ0c1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kcmFnUG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzSGlkZGVuXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzU2hvd2luZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0hpZGluZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0Rvd25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZG93blBvaW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kb3duUG9pbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RvZ2dsZURwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kcmFnRHBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Rvb2x0aXBEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaG92ZXJEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZm9jdXNEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG9vbHRpcE1vdmVEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG9vbHRpcFBvaW50ZXJEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RhdGVzSGFuZGxlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgc3VwZXIuX2FmdGVyTmV3KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE1hcmtzIHNvbWUgc2V0dGluZyBhcyBkaXJ0eS4gQ291bGQgYmUgdXNlZCB0byB0cmlnZ2VyIGFkYXB0ZXIuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIG1hcmtEaXJ0eUtleShrZXkpIHtcclxuICAgICAgICB0aGlzLl9tYXJrRGlydHlLZXkoa2V5KTtcclxuICAgIH1cclxuICAgIF9tYXJrRGlydHlLZXkoa2V5KSB7XHJcbiAgICAgICAgc3VwZXIuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgICAgIGlmIChrZXkgPT0gXCJ4XCIgfHwga2V5ID09IFwieVwiIHx8IGtleSA9PSBcImR4XCIgfHwga2V5ID09IFwiZHlcIikge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRQZXJjZW50YWdlUG9zaXRpb25DaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eVBvc2l0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX21hcmtEaXJ0eVByaXZhdGVLZXkoa2V5KSB7XHJcbiAgICAgICAgc3VwZXIuX21hcmtEaXJ0eVByaXZhdGVLZXkoa2V5KTtcclxuICAgICAgICBpZiAoa2V5ID09IFwieFwiIHx8IGtleSA9PSBcInlcIikge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eVBvc2l0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3JlbW92ZVRlbXBsYXRlRmllbGQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlRmllbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVGaWVsZC5fcmVtb3ZlT2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NyZWF0ZUV2ZW50cygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZUV2ZW50RGlzcGF0Y2hlcih0aGlzKTtcclxuICAgIH1cclxuICAgIF9wcm9jZXNzVGVtcGxhdGVGaWVsZCgpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGU7XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmdldChcInRlbXBsYXRlRmllbGRcIik7XHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbTtcclxuICAgICAgICAgICAgaWYgKGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gZGF0YUl0ZW0uZGF0YUNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gY29udGV4dFtmaWVsZF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZSkgJiYgdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBUZW1wbGF0ZS5uZXcodGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGVGaWVsZCAhPT0gdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlVGVtcGxhdGVGaWVsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZUZpZWxkID0gdGVtcGxhdGU7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUuX3NldE9iamVjdFRlbXBsYXRlKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FwcGx5VGVtcGxhdGVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gVE9ETyBjaGFuZ2UgdGhpcyB0byBydW4gYmVmb3JlIHRoZSBlbGVtZW50IGlzIGFkZGVkIHRvIHRoZSBwYXJlbnQsIHNvIHRoYXQgd2F5XHJcbiAgICAvLyAgICAgIGl0IGRvZXNuJ3QgbmVlZCB0byBhcHBseSB0aGUgdGhlbWVzIHR3aWNlXHJcbiAgICBfc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pIHtcclxuICAgICAgICBjb25zdCBvbGREYXRhSXRlbSA9IHRoaXMuX2RhdGFJdGVtO1xyXG4gICAgICAgIHRoaXMuX2RhdGFJdGVtID0gZGF0YUl0ZW07XHJcbiAgICAgICAgdGhpcy5fcHJvY2Vzc1RlbXBsYXRlRmllbGQoKTtcclxuICAgICAgICBjb25zdCBldmVudFR5cGUgPSBcImRhdGFpdGVtY2hhbmdlZFwiO1xyXG4gICAgICAgIGlmIChkYXRhSXRlbSAhPSBvbGREYXRhSXRlbSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKGV2ZW50VHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKGV2ZW50VHlwZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkRGF0YUl0ZW06IG9sZERhdGFJdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGFJdGVtOiBkYXRhSXRlbVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgW1tEYXRhSXRlbV1dIHVzZWQgZm9yIHRoaXMgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBOT1RFOiBkYXRhIGl0ZW0gaXMgYmVpbmcgYXNzaWduZWQgYXV0b21hdGljYWxseSBpbiBtb3N0IGNhc2VzIHdoZXJlIGl0XHJcbiAgICAgKiBtYXR0ZXJzLiBVc2UgdGhpcyBhY2Nlc3NvciB0byBzZXQgZGF0YSBpdGVtIG9ubHkgaWYgeW91IGtub3cgd2hhdCB5b3UncmVcclxuICAgICAqIGRvaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgdmFsdWUgIERhdGEgaXRlbVxyXG4gICAgICovXHJcbiAgICBzZXQgZGF0YUl0ZW0odmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9zZXREYXRhSXRlbSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4gRGF0YUl0ZW1cclxuICAgICAqL1xyXG4gICAgZ2V0IGRhdGFJdGVtKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9kYXRhSXRlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YUl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5fcGFyZW50O1xyXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Ll9kYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQuX2RhdGFJdGVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWRkUGVyY2VudGFnZVNpemVDaGlsZHJlbigpIHtcclxuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJ3aWR0aFwiKSBpbnN0YW5jZW9mIFBlcmNlbnQgfHwgdGhpcy5nZXQoXCJoZWlnaHRcIikgaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkucHVzaE9uZShwYXJlbnQuX3BlcmNlbnRhZ2VTaXplQ2hpbGRyZW4sIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KHBhcmVudC5fcGVyY2VudGFnZVNpemVDaGlsZHJlbiwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWRkUGVyY2VudGFnZVBvc2l0aW9uQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwieFwiKSBpbnN0YW5jZW9mIFBlcmNlbnQgfHwgdGhpcy5nZXQoXCJ5XCIpIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LnB1c2hPbmUocGFyZW50Ll9wZXJjZW50YWdlUG9zaXRpb25DaGlsZHJlbiwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkucmVtb3ZlRmlyc3QocGFyZW50Ll9wZXJjZW50YWdlUG9zaXRpb25DaGlsZHJlbiwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5UG9zaXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fcm9vdC5fYWRkRGlydHlQb3NpdGlvbih0aGlzKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZVBpdm90UG9pbnQoKSB7XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fbG9jYWxCb3VuZHM7XHJcbiAgICAgICAgaWYgKGJvdW5kcykge1xyXG4gICAgICAgICAgICBjb25zdCBjZW50ZXJYID0gdGhpcy5nZXQoXCJjZW50ZXJYXCIpO1xyXG4gICAgICAgICAgICBpZiAoY2VudGVyWCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnBpdm90LnggPSBib3VuZHMubGVmdCArICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUoY2VudGVyWCwgYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlclkgPSB0aGlzLmdldChcImNlbnRlcllcIik7XHJcbiAgICAgICAgICAgIGlmIChjZW50ZXJZICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkucGl2b3QueSA9IGJvdW5kcy50b3AgKyAkdXRpbHMucmVsYXRpdmVUb1ZhbHVlKGNlbnRlclksIGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgLy8gaGFuZGxpbmcgc3RhdGVzIGluIGJlZm9yZUNoYW5nZWQsIG90aGVyd2lzZSBzdGF0ZXMgaXMgbm90IGFwcGxpZWQgd2l0aG91dCBhbmltYXRlZCB0aGVtZVxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YXRlcygpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ0b29sdGlwXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5fcHJldlNldHRpbmdzLnRvb2x0aXA7XHJcbiAgICAgICAgICAgIGlmIChwcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJsYXllclwiKSB8fCB0aGlzLmlzRGlydHkoXCJsYXllck1hcmdpblwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnNldExheWVyKHRoaXMuZ2V0KFwibGF5ZXJcIiksIHRoaXMuZ2V0KFwibGF5ZXJNYXJnaW5cIikpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUxheWVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ0b29sdGlwUG9zaXRpb25cIikpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcE1vdmVEcCA9IHRoaXMuX3Rvb2x0aXBNb3ZlRHA7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwTW92ZURwKSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwTW92ZURwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBNb3ZlRHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcFBvaW50ZXJEcCA9IHRoaXMuX3Rvb2x0aXBQb2ludGVyRHA7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwUG9pbnRlckRwKSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwUG9pbnRlckRwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBQb2ludGVyRHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwidG9vbHRpcFBvc2l0aW9uXCIpID09IFwicG9pbnRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0hvdmVyKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwTW92ZURwID0gdGhpcy5ldmVudHMub24oXCJnbG9iYWxwb2ludGVybW92ZVwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKGUucG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcFBvaW50ZXJEcCA9IG5ldyBNdWx0aURpc3Bvc2VyKFtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcE1vdmVEcCA9IHRoaXMuZXZlbnRzLm9uKFwiZ2xvYmFscG9pbnRlcm1vdmVcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAoZS5wb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKFwicG9pbnRlcm91dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBNb3ZlRHAgPSB0aGlzLl90b29sdGlwTW92ZURwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9vbHRpcE1vdmVEcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcE1vdmVEcC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwTW92ZURwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZVN0YXRlcygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N0YXRlc0hhbmRsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiYXJpYUNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJkZWZhdWx0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChcImFyaWFDaGVja2VkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5QWNjZXNzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJkaXNhYmxlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZGlzYWJsZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChcImFyaWFDaGVja2VkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImRlZmF1bHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiYXJpYUNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUFjY2Vzc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXNIYW5kbGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXkgPSB0aGlzLl9kaXNwbGF5O1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJkcmFnZ2FibGVcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgZHJhZ2dhYmxlID0gdGhpcy5nZXQoXCJkcmFnZ2FibGVcIik7XHJcbiAgICAgICAgICAgIGlmIChkcmFnZ2FibGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiaW50ZXJhY3RpdmVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnRHAgPSBuZXcgTXVsdGlEaXNwb3NlcihbXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwicG9pbnRlcmRvd25cIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0KGV2KTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJnbG9iYWxwb2ludGVybW92ZVwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnTW92ZShldik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwiZ2xvYmFscG9pbnRlcnVwXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdTdG9wKGV2KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZHJhZ0RwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ0RwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnRHAgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGlzcGxheS5jYW5jZWxUb3VjaCA9IGRyYWdnYWJsZSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRvb2x0aXBUZXh0XCIpIHx8IHRoaXMuaXNEaXJ0eShcInRvb2x0aXBIVE1MXCIpIHx8IHRoaXMuaXNEaXJ0eShcInNob3dUb29sdGlwT25cIikpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcFRleHQgPSB0aGlzLmdldChcInRvb2x0aXBUZXh0XCIpO1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwSFRNTCA9IHRoaXMuZ2V0KFwidG9vbHRpcEhUTUxcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3dUb29sdGlwT24gPSB0aGlzLmdldChcInNob3dUb29sdGlwT25cIiwgXCJob3ZlclwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Rvb2x0aXBEcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcERwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBEcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9vbHRpcFRleHQgfHwgdG9vbHRpcEhUTUwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaG93VG9vbHRpcE9uID09IFwiY2xpY2tcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBEcCA9IG5ldyBNdWx0aURpc3Bvc2VyKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy5nZXRUb29sdGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2x0aXAgJiYgIXRvb2x0aXAuaXNIaWRkZW4oKSAmJiB0b29sdGlwLmdldChcInRvb2x0aXBUYXJnZXRcIikgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1dGlscy5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcImNsaWNrXCIsIChfZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLl90b29sdGlwRHApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hvd1Rvb2x0aXBPbiA9PSBcImFsd2F5c1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcERwID0gbmV3IE11bHRpRGlzcG9zZXIoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJwb2ludGVyb3ZlclwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLl90b29sdGlwRHApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ0b2dnbGVLZXlcIikpIHtcclxuICAgICAgICAgICAgbGV0IHRvZ2dsZUtleSA9IHRoaXMuZ2V0KFwidG9nZ2xlS2V5XCIpO1xyXG4gICAgICAgICAgICBpZiAodG9nZ2xlS2V5ICYmIHRvZ2dsZUtleSAhPSBcIm5vbmVcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRHAgPSBldmVudHMub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KHRvZ2dsZUtleSwgIXRoaXMuZ2V0KHRvZ2dsZUtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RvZ2dsZURwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZURwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJvcGFjaXR5XCIpKSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuYWxwaGEgPSBNYXRoLm1heCgwLCB0aGlzLmdldChcIm9wYWNpdHlcIiwgMSkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJmb2N1c2FibGVcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5QWNjZXNzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJyb3RhdGlvblwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICBkaXNwbGF5LmFuZ2xlID0gdGhpcy5nZXQoXCJyb3RhdGlvblwiLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInNjYWxlXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuc2NhbGUgPSB0aGlzLmdldChcInNjYWxlXCIsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiY2VudGVyWFwiKSB8fCB0aGlzLmlzRGlydHkoXCJjZW50ZXJZXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGl2b3RQb2ludCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwidmlzaWJsZVwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwidmlzaWJsZVwiKSB8fCB0aGlzLmlzRGlydHkoXCJmb3JjZUhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0KFwidmlzaWJsZVwiKSB8fCAhdGhpcy5nZXRQcml2YXRlKFwidmlzaWJsZVwiKSB8fCB0aGlzLmdldChcImZvcmNlSGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZm9jdXNhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUFjY2Vzc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwid2lkdGhcIikgfHwgdGhpcy5pc0RpcnR5KFwiaGVpZ2h0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZFBlcmNlbnRhZ2VTaXplQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5pc0RpcnR5KFwid2lkdGhcIikgJiYgdGhpcy5nZXQoXCJ3aWR0aFwiKSBpbnN0YW5jZW9mIFBlcmNlbnQpIHx8ICh0aGlzLmlzRGlydHkoXCJoZWlnaHRcIikgJiYgdGhpcy5nZXQoXCJoZWlnaHRcIikgaW5zdGFuY2VvZiBQZXJjZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5tYXJrRGlydHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuX3ByZXZXaWR0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fc2l6ZURpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIm1heFdpZHRoXCIpIHx8IHRoaXMuaXNEaXJ0eShcIm1heEhlaWdodFwiKSB8fCB0aGlzLmlzUHJpdmF0ZURpcnR5KFwid2lkdGhcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcImhlaWdodFwiKSB8fCB0aGlzLmlzRGlydHkoXCJtaW5XaWR0aFwiKSB8fCB0aGlzLmlzRGlydHkoXCJtaW5IZWlnaHRcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIm1heFdpZHRoXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtYXhIZWlnaHRcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIm1pbldpZHRoXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtaW5IZWlnaHRcIikgfHwgdGhpcy5pc0RpcnR5KFwibWFyZ2luTGVmdFwiKSB8fCB0aGlzLmlzRGlydHkoXCJtYXJnaW5Ub3BcIikgfHwgdGhpcy5pc0RpcnR5KFwibWFyZ2luUmlnaHRcIikgfHwgdGhpcy5pc0RpcnR5KFwibWFyZ2luQm90dG9tXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemVEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9zaXplRGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU2l6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwid2hlZWxhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdoZWVsYWJsZSA9IHRoaXMuZ2V0KFwid2hlZWxhYmxlXCIpO1xyXG4gICAgICAgICAgICBpZiAod2hlZWxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcImludGVyYWN0aXZlXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpc3BsYXkud2hlZWxhYmxlID0gd2hlZWxhYmxlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBY2Nlc3NpYmlsaXR5XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInRhYmluZGV4T3JkZXJcIikgfHwgdGhpcy5pc0RpcnR5KFwiZm9jdXNhYmxlR3JvdXBcIikpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZm9jdXNhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290Ll9yZWdpc3RlclRhYmluZGV4T3JkZXIodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290Ll91bnJlZ2lzdGVyVGFiaW5kZXhPcmRlcih0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZmlsdGVyXCIpKSB7XHJcbiAgICAgICAgICAgIC8vdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICAgICAgZGlzcGxheS5maWx0ZXIgPSB0aGlzLmdldChcImZpbHRlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGZpbHRlciA9IHRoaXMuZ2V0KFwiZmlsdGVyXCIsIFwiXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJibHVyXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsdXIgPSB0aGlzLmdldChcImJsdXJcIiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChibHVyICE9IDApIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlciArPSBcIiBibHVyKFwiICsgYmx1ciArIFwicHgpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInNhdHVyYXRlXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdHVyYXRlID0gdGhpcy5nZXQoXCJzYXR1cmF0ZVwiLCAxKTtcclxuICAgICAgICAgICAgaWYgKHNhdHVyYXRlICE9IDEpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlciArPSBcIiBzYXR1cmF0ZShcIiArIHNhdHVyYXRlICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImJyaWdodG5lc3NcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgYnJpZ2h0bmVzcyA9IHRoaXMuZ2V0KFwiYnJpZ2h0bmVzc1wiLCAxKTtcclxuICAgICAgICAgICAgaWYgKGJyaWdodG5lc3MgIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyICs9IFwiIGJyaWdodG5lc3MoXCIgKyBicmlnaHRuZXNzICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImNvbnRyYXN0XCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyYXN0ID0gdGhpcy5nZXQoXCJjb250cmFzdFwiLCAxKTtcclxuICAgICAgICAgICAgaWYgKGNvbnRyYXN0ICE9IDEpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlciArPSBcIiBjb250cmFzdChcIiArIGNvbnRyYXN0ICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcInNlcGlhXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlcGlhID0gdGhpcy5nZXQoXCJzZXBpYVwiLCAwKTtcclxuICAgICAgICAgICAgaWYgKHNlcGlhICE9IDApIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlciArPSBcIiBzZXBpYShcIiArIHNlcGlhICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImh1ZVwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCBodWUgPSB0aGlzLmdldChcImh1ZVwiLCAwKTtcclxuICAgICAgICAgICAgaWYgKGh1ZSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIgKz0gXCIgaHVlLXJvdGF0ZShcIiArIGh1ZSArIFwiZGVnKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJpbnZlcnRcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgaW52ZXJ0ID0gdGhpcy5nZXQoXCJpbnZlcnRcIiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChpbnZlcnQgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyICs9IFwiIGludmVydChcIiArIGludmVydCArIFwiKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmaWx0ZXIpIHtcclxuICAgICAgICAgICAgZGlzcGxheS5maWx0ZXIgPSBmaWx0ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJjdXJzb3JPdmVyU3R5bGVcIikpIHtcclxuICAgICAgICAgICAgZGlzcGxheS5jdXJzb3JPdmVyU3R5bGUgPSB0aGlzLmdldChcImN1cnNvck92ZXJTdHlsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImhvdmVyT25Gb2N1c1wiKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJob3Zlck9uRm9jdXNcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzRHAgPSBuZXcgTXVsdGlEaXNwb3NlcihbXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwiZm9jdXNcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBwcm9wZXIgaG92ZXIsIG5vdCBqdXN0IHRvb2x0aXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5vbihcImJsdXJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBwcm9wZXIgaG92ZXIsIG5vdCBqdXN0IHRvb2x0aXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9mb2N1c0RwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9jdXNEcC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9jdXNEcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZm9jdXNhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImZvY3VzYWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5fcmVnaXN0ZXJUYWJpbmRleE9yZGVyKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5fdW5yZWdpc3RlclRhYmluZGV4T3JkZXIodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGV2ZW50cy5vbihcImJsdXJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwidG91Y2hIb3ZlcmluZ1wiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goZXZlbnRzLm9uY2UoXCJib3VuZHNjaGFuZ2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIG1pZ2h0IG5lZWQgdG8gZG8gdGhpcyB0byByZS1ldmFsdWF0ZSBhY2Nlc3NpYmlsaXR5IGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgICAgIC8vIG9uY2UgdGhlIGVsZW1lbnQgZ2FpbnMgc2l6ZSAoYm91bmRzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQcml2YXRlRGlydHkoXCJmb2N1c2FibGVcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJyb2xlXCIpIHx8IHRoaXMuaXNEaXJ0eShcImFyaWFMaXZlXCIpIHx8IHRoaXMuaXNEaXJ0eShcImFyaWFDaGVja2VkXCIpIHx8IHRoaXMuaXNEaXJ0eShcImFyaWFIaWRkZW5cIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYU9yaWVudGF0aW9uXCIpIHx8IHRoaXMuaXNEaXJ0eShcImFyaWFWYWx1ZU5vd1wiKSB8fCB0aGlzLmlzRGlydHkoXCJhcmlhVmFsdWVNaW5cIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYVZhbHVlTWF4XCIpIHx8IHRoaXMuaXNEaXJ0eShcImFyaWFWYWx1ZVRleHRcIikgfHwgdGhpcy5pc0RpcnR5KFwiYXJpYUxhYmVsXCIpIHx8IHRoaXMuaXNEaXJ0eShcImFyaWFDb250cm9sc1wiKSkge1xyXG4gICAgICAgICAgICAvLyBkaXNwbGF5LmFjY2Vzc2liaWxpdHkuYXJpYUxhYmVsID0gcG9wdWxhdGVTdHJpbmcodGhpcywgdGhpcy5nZXQoXCJhcmlhTGFiZWxcIiwgXCJcIikpO1xyXG4gICAgICAgICAgICAvLyBAdG9kbyBtYWtlIHN1cmUgYXJpYUxhYmVsIGdldHMgcG9wdWxhdGVkIGluIFJvb3RcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJleHBvcnRhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuZXhwb3J0YWJsZSA9IHRoaXMuZ2V0KFwiZXhwb3J0YWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImludGVyYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJpbnRlcmFjdGl2ZVwiKSAmJiAhZXZlbnRzLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faG92ZXJEcCA9IG5ldyBNdWx0aURpc3Bvc2VyKFtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMub24oXCJjbGlja1wiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR1dGlscy5pc1RvdWNoRXZlbnQoZXYub3JpZ2luYWxFdmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5nZXRQcml2YXRlKFwidG91Y2hIb3ZlcmluZ1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZU92ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwidG9vbHRpcFRleHRcIikgfHwgdGhpcy5nZXQoXCJ0b29sdGlwSFRNTFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInRvdWNoSG92ZXJpbmdcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKFwicG9pbnRlcm92ZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwb2ludGVyb3ZlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBldi50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldi5vcmlnaW5hbEV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IGV2LnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiBldi5zaW11bGF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwiZ2xvYmFscG9pbnRlcnVwXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHV0aWxzLmlzVG91Y2hFdmVudChldi5vcmlnaW5hbEV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UHJpdmF0ZShcInRvdWNoSG92ZXJpbmdcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVPdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJ0b29sdGlwVGV4dFwiKSB8fCB0aGlzLmdldChcInRvb2x0aXBIVE1MXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlUmF3KFwidG91Y2hIb3ZlcmluZ1wiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goXCJwb2ludGVyb3V0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwb2ludGVyb3V0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZXYudGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldi5vcmlnaW5hbEV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogZXYucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlZDogZXYuc2ltdWxhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzRG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlVXAoZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5faXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVPdmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uKFwicG9pbnRlcm91dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZU91dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5vbihcInBvaW50ZXJkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZURvd24oZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hvdmVyRHApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ob3ZlckRwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ob3ZlckRwID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJmb3JjZUluYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuaW5hY3RpdmUgPSB0aGlzLmdldChcImZvcmNlSW5hY3RpdmVcIiwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdldChcInNob3dUb29sdGlwT25cIikgPT0gXCJhbHdheXNcIiAmJiB0aGlzLl9kaXNwbGF5LnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHRvZG8gc2hvdWxkIHRoaXMgYmUgdXNlci1hY2Nlc3NpYmxlP1xyXG4gICAgICovXHJcbiAgICBkcmFnU3RhcnQoZSkge1xyXG4gICAgICAgIHRoaXMuX2RyYWdFdmVudCA9IGU7XHJcbiAgICAgICAgdGhpcy5ldmVudHMuc3RvcFBhcmVudERpc3BhdGNoKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIEB0b2RvIHNob3VsZCB0aGlzIGJlIHVzZXItYWNjZXNzaWJsZT9cclxuICAgICAqL1xyXG4gICAgZHJhZ1N0b3AoZSkge1xyXG4gICAgICAgIHRoaXMuX2RyYWdFdmVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLl9kcmFnUG9pbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5ldmVudHMuc3RvcFBhcmVudERpc3BhdGNoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzRHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gXCJkcmFnc3RvcFwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaCh0eXBlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZS5vcmlnaW5hbEV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50OiBlLnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlZDogZS5zaW11bGF0ZWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVPdmVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImFjdGl2ZVwiKSAmJiB0aGlzLnN0YXRlcy5sb29rdXAoXCJob3ZlckFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiaG92ZXJBY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nZXQoXCJkaXNhYmxlZFwiKSAmJiB0aGlzLnN0YXRlcy5sb29rdXAoXCJob3ZlckRpc2FibGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJob3ZlckRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiaG92ZXJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZHJhZ2dhYmxlXCIpICYmIHRoaXMuX2lzRG93biAmJiB0aGlzLnN0YXRlcy5sb29rdXAoXCJkb3duXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJkb3duXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZU91dCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJhY3RpdmVcIikgJiYgdGhpcy5zdGF0ZXMubG9va3VwKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nZXQoXCJkaXNhYmxlZFwiKSAmJiB0aGlzLnN0YXRlcy5sb29rdXAoXCJkaXNhYmxlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZXMubG9va3VwKFwiaG92ZXJcIikgfHwgdGhpcy5zdGF0ZXMubG9va3VwKFwiaG92ZXJBY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJkZWZhdWx0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImRyYWdnYWJsZVwiKSAmJiB0aGlzLl9pc0Rvd24gJiYgdGhpcy5zdGF0ZXMubG9va3VwKFwiZG93blwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiZG93blwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVVcChlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiYWN0aXZlXCIpICYmIHRoaXMuc3RhdGVzLmxvb2t1cChcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZ2V0KFwiZGlzYWJsZWRcIikgJiYgdGhpcy5zdGF0ZXMubG9va3VwKFwiZGlzYWJsZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGVzLmxvb2t1cChcImRvd25cIikpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzSG92ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImhvdmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZXMuYXBwbHlBbmltYXRlKFwiZGVmYXVsdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdG9kbyByZW1vdmUgdGhpcyBvbmNlIG1pZ3JhdGVkIHRvIF9kb3duUG9pbnRzXHJcbiAgICAgICAgICAgIHRoaXMuX2Rvd25Qb2ludCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRlcklkID0gJHV0aWxzLmdldFBvaW50ZXJJZChlLm9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZG93blBvaW50c1twb2ludGVySWRdO1xyXG4gICAgICAgICAgICBpZiAoJG9iamVjdC5rZXlzKHRoaXMuX2Rvd25Qb2ludHMpLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYXNNb3ZlZChlKSB7XHJcbiAgICAgICAgLy8gQHRvZG8gcmVtb3ZlIHRoaXMgb25jZSBtaWdyYXRlZCB0byBfZG93blBvaW50c1xyXG4gICAgICAgIC8vIGlmICh0aGlzLl9kb3duUG9pbnQpIHtcclxuICAgICAgICAvLyBcdGNvbnN0IHggPSBNYXRoLmFicyh0aGlzLl9kb3duUG9pbnQueCAtIGUucG9pbnQueCk7XHJcbiAgICAgICAgLy8gXHRjb25zdCB5ID0gTWF0aC5hYnModGhpcy5fZG93blBvaW50LnkgLSBlLnBvaW50LnkpO1xyXG4gICAgICAgIC8vIFx0cmV0dXJuICh4ID4gNSkgfHwgKHkgPiA1KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgY29uc3QgcG9pbnRlcklkID0gJHV0aWxzLmdldFBvaW50ZXJJZChlLm9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgIGNvbnN0IGRvd25Qb2ludCA9IHRoaXMuX2Rvd25Qb2ludHNbcG9pbnRlcklkXTtcclxuICAgICAgICBpZiAoZG93blBvaW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLmFicyhkb3duUG9pbnQueCAtIGUucG9pbnQueCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLmFicyhkb3duUG9pbnQueSAtIGUucG9pbnQueSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoeCA+IDUpIHx8ICh5ID4gNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIF9oYXNEb3duKCkge1xyXG4gICAgICAgIHJldHVybiAkb2JqZWN0LmtleXModGhpcy5fZG93blBvaW50cykubGVuZ3RoID4gMDtcclxuICAgIH1cclxuICAgIF9oYW5kbGVEb3duKGUpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50ICYmICF0aGlzLmdldChcImRyYWdnYWJsZVwiKSkge1xyXG4gICAgICAgICAgICBwYXJlbnQuX2hhbmRsZURvd24oZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdldChcImludGVyYWN0aXZlXCIpICYmICF0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGVzLmxvb2t1cChcImRvd25cIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImRvd25cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZG93blBvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgeDogZS5wb2ludC54LFxyXG4gICAgICAgICAgICAgICAgeTogZS5wb2ludC55XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIEB0b2RvIHJlbW92ZSB0aGlzIG9uY2UgbWlncmF0ZWQgdG8gX2Rvd25Qb2ludHNcclxuICAgICAgICAgICAgdGhpcy5faXNEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRlcklkID0gJHV0aWxzLmdldFBvaW50ZXJJZChlLm9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kb3duUG9pbnRzW3BvaW50ZXJJZF0gPSB7XHJcbiAgICAgICAgICAgICAgICB4OiBlLnBvaW50LngsXHJcbiAgICAgICAgICAgICAgICB5OiBlLnBvaW50LnlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIEB0b2RvIHNob3VsZCB0aGlzIGJlIHVzZXItYWNjZXNzaWJsZT9cclxuICAgICAqL1xyXG4gICAgZHJhZ01vdmUoZSkge1xyXG4gICAgICAgIGxldCBkcmFnRXZlbnQgPSB0aGlzLl9kcmFnRXZlbnQ7XHJcbiAgICAgICAgaWYgKGRyYWdFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZHJhZ0V2ZW50LnNpbXVsYXRlZCAmJiAhZS5zaW11bGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBhbmdsZSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICAgICAgbGV0IHNjYWxlID0gMTtcclxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbmdsZSArPSBwYXJlbnQuZ2V0KFwicm90YXRpb25cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlICo9IHBhcmVudC5nZXQoXCJzY2FsZVwiLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgeCA9IChlLnBvaW50LnggLSBkcmFnRXZlbnQucG9pbnQueCkgLyBzY2FsZTtcclxuICAgICAgICAgICAgbGV0IHkgPSAoZS5wb2ludC55IC0gZHJhZ0V2ZW50LnBvaW50LnkpIC8gc2NhbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xyXG4gICAgICAgICAgICBpZiAoZHJhZ0V2ZW50LnNpbXVsYXRlZCAmJiAhdGhpcy5faXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnRXZlbnQgPSBlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1BvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IHRoaXMueCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IHRoaXMueSgpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IFwiZHJhZ3N0YXJ0XCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5kaXNwYXRjaCh0eXBlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZS5vcmlnaW5hbEV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogZS5wb2ludCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiBlLnNpbXVsYXRlZCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRyYWdQb2ludCA9IHRoaXMuX2RyYWdQb2ludDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwieFwiLCBkcmFnUG9pbnQueCArIHggKiAkbWF0aC5jb3MoYW5nbGUpICsgeSAqICRtYXRoLnNpbihhbmdsZSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJ5XCIsIGRyYWdQb2ludC55ICsgeSAqICRtYXRoLmNvcyhhbmdsZSkgLSB4ICogJG1hdGguc2luKGFuZ2xlKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gXCJkcmFnZ2VkXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5kaXNwYXRjaCh0eXBlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZS5vcmlnaW5hbEV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludDogZS5wb2ludCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVkOiBlLnNpbXVsYXRlZCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmh5cG90KHgsIHkpID4gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdFdmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1BvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLngoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy55KClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcImRyYWdzdGFydFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudHMuaXNFbmFibGVkKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5kaXNwYXRjaCh0eXBlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZS5vcmlnaW5hbEV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IGUucG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZWQ6IGUuc2ltdWxhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF91cGRhdGVTaXplKCkge1xyXG4gICAgfVxyXG4gICAgX2dldEJvdW5kcygpIHtcclxuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IHRoaXMuX2Rpc3BsYXkuZ2V0TG9jYWxCb3VuZHMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBkZXB0aCAoaG93IGRlZXAgaW4gdGhlIGhpZXJhY2h5IG9mIHRoZSBjb250ZW50IHRyZWUpIG9mIHRoaXNcclxuICAgICAqIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBEZXB0aFxyXG4gICAgICovXHJcbiAgICBkZXB0aCgpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGxldCBkZXB0aCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYpIHtcclxuICAgICAgICAgICAgICAgICsrZGVwdGg7XHJcbiAgICAgICAgICAgICAgICBzZWxmID0gc2VsZi5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVwdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5U2l6ZSgpIHtcclxuICAgICAgICB0aGlzLl9zaXplRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5Qm91bmRzKCkge1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXkgPSB0aGlzLl9kaXNwbGF5O1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcImlzTWVhc3VyZWRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm9vdC5fYWRkRGlydHlCb3VuZHModGhpcyk7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuaXNNZWFzdXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuaW52YWxpZGF0ZUJvdW5kcygpO1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCAmJiB0aGlzLmdldChcInBvc2l0aW9uXCIpICE9IFwiYWJzb2x1dGVcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5nZXQoXCJ3aWR0aFwiKSA9PSBudWxsIHx8IHBhcmVudC5nZXQoXCJoZWlnaHRcIikgPT0gbnVsbCB8fCBwYXJlbnQuZ2V0KFwibGF5b3V0XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Lm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImZvY3VzYWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlBY2Nlc3NpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5QWNjZXNzaWJpbGl0eSgpIHtcclxuICAgICAgICAvL2lmICh0aGlzLl9yb290LmZvY3VzZWQodGhpcykpIHtcclxuICAgICAgICB0aGlzLl9yb290Ll9pbnZhbGlkYXRlQWNjZXNzaWJpbGl0eSh0aGlzKTtcclxuICAgICAgICAvL31cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBtYXJrRGlydHlMYXllcigpIHtcclxuICAgICAgICAvL3RoaXMuX2Rpc3BsYXkubWFya0RpcnR5TGF5ZXIodGhpcy5pc0RpcnR5KFwib3BhY2l0eVwiKSB8fCB0aGlzLmlzRGlydHkoXCJ2aXNpYmxlXCIpKTsgaHR0cHM6Ly9jb2RlcGVuLmlvL3RlYW0vYW1jaGFydHMvcGVuL2dPV1pQbVAgPC0gcHJvYmxlbXNcclxuICAgICAgICB0aGlzLl9kaXNwbGF5Lm1hcmtEaXJ0eUxheWVyKHRydWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIG1hcmtEaXJ0eSgpIHtcclxuICAgICAgICBzdXBlci5tYXJrRGlydHkoKTtcclxuICAgICAgICB0aGlzLm1hcmtEaXJ0eUxheWVyKCk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQm91bmRzKCkge1xyXG4gICAgICAgIGNvbnN0IG9sZEJvdW5kcyA9IHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHM7XHJcbiAgICAgICAgbGV0IG5ld0JvdW5kcztcclxuICAgICAgICAvLyBpZiBkaXNwbGF5LnZpc2libGUgPT0gZmFsc2UsIGl0IHN0aWxsIHJldHVybnMgYm91bmRzXHJcbiAgICAgICAgaWYgKCF0aGlzLmdldChcInZpc2libGVcIikgfHwgIXRoaXMuZ2V0UHJpdmF0ZShcInZpc2libGVcIikgfHwgdGhpcy5nZXQoXCJmb3JjZUhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICBuZXdCb3VuZHMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IDBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBuZXdCb3VuZHM7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMgPSBuZXdCb3VuZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9nZXRCb3VuZHMoKTtcclxuICAgICAgICAgICAgdGhpcy5fZml4TWluQm91bmRzKHRoaXMuX2xvY2FsQm91bmRzKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQaXZvdFBvaW50KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMgPSB0aGlzLl9kaXNwbGF5LmdldEFkanVzdGVkQm91bmRzKHRoaXMuX2xvY2FsQm91bmRzKTtcclxuICAgICAgICAgICAgbmV3Qm91bmRzID0gdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFvbGRCb3VuZHMgfHwgKG9sZEJvdW5kcy5sZWZ0ICE9PSBuZXdCb3VuZHMubGVmdCB8fCBvbGRCb3VuZHMudG9wICE9PSBuZXdCb3VuZHMudG9wIHx8IG9sZEJvdW5kcy5yaWdodCAhPT0gbmV3Qm91bmRzLnJpZ2h0IHx8IG9sZEJvdW5kcy5ib3R0b20gIT09IG5ld0JvdW5kcy5ib3R0b20pKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IFwiYm91bmRzY2hhbmdlZFwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKGV2ZW50VHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKGV2ZW50VHlwZSwgeyB0eXBlOiBldmVudFR5cGUsIHRhcmdldDogdGhpcyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXAgcG9zaXRpb24gdG9nZXRoZXIgd2l0aCB0aGUgU3ByaXRlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFByaXZhdGUoXCJzaG93aW5nVG9vbHRpcFwiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2ZpeE1pbkJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICBsZXQgbWluV2lkdGggPSB0aGlzLmdldChcIm1pbldpZHRoXCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1pbldpZHRoXCIpKTtcclxuICAgICAgICBsZXQgbWluSGVpZ2h0ID0gdGhpcy5nZXQoXCJtaW5IZWlnaHRcIiwgdGhpcy5nZXRQcml2YXRlKFwibWluSGVpZ2h0XCIpKTtcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluV2lkdGgpKSB7XHJcbiAgICAgICAgICAgIGlmIChib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCA8IG1pbldpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMucmlnaHQgPSBib3VuZHMubGVmdCArIG1pbldpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtaW5IZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIGlmIChib3VuZHMuYm90dG9tIC0gYm91bmRzLnRvcCA8IG1pbkhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgYm91bmRzLmJvdHRvbSA9IGJvdW5kcy50b3AgKyBtaW5IZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHByaXZhdGVXaWR0aCA9IHRoaXMuZ2V0UHJpdmF0ZShcIndpZHRoXCIpO1xyXG4gICAgICAgIGxldCBwcml2YXRlSGVpZ2h0ID0gdGhpcy5nZXRQcml2YXRlKFwiaGVpZ2h0XCIpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihwcml2YXRlV2lkdGgpKSB7XHJcbiAgICAgICAgICAgIGlmIChwcml2YXRlV2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMucmlnaHQgPSBib3VuZHMubGVmdCArIHByaXZhdGVXaWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gYm91bmRzLnJpZ2h0ICsgcHJpdmF0ZVdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihwcml2YXRlSGVpZ2h0KSkge1xyXG4gICAgICAgICAgICBpZiAocHJpdmF0ZUhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy5ib3R0b20gPSBib3VuZHMudG9wICsgcHJpdmF0ZUhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgPSBib3VuZHMuYm90dG9tICsgcHJpdmF0ZUhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9yZW1vdmVQYXJlbnQocGFyZW50KSB7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucmVtb3ZlVmFsdWUodGhpcyk7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChwYXJlbnQuX3BlcmNlbnRhZ2VTaXplQ2hpbGRyZW4sIHRoaXMpO1xyXG4gICAgICAgICAgICAkYXJyYXkucmVtb3ZlRmlyc3QocGFyZW50Ll9wZXJjZW50YWdlUG9zaXRpb25DaGlsZHJlbiwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NsZWFyRGlydHkoKSB7XHJcbiAgICAgICAgc3VwZXIuX2NsZWFyRGlydHkoKTtcclxuICAgICAgICB0aGlzLl9zaXplRGlydHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9zdGF0ZXNIYW5kbGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNpbXVsYXRlIGhvdmVyIG92ZXIgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgaG92ZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZU92ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNpbXVsYXRlIHVuaG92ZXIgb3ZlciBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICB1bmhvdmVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0Rpc3Bvc2VkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVPdXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIGVsZW1lbnQncyBbW1Rvb2x0aXBdXS5cclxuICAgICAqL1xyXG4gICAgc2hvd1Rvb2x0aXAocG9pbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXAoKTtcclxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcFRleHQgPSB0aGlzLmdldChcInRvb2x0aXBUZXh0XCIpO1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwSFRNTCA9IHRoaXMuZ2V0KFwidG9vbHRpcEhUTUxcIik7XHJcbiAgICAgICAgICAgIGlmICgodG9vbHRpcFRleHQgfHwgdG9vbHRpcEhUTUwpICYmIHRvb2x0aXApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2x0aXBQb3NpdGlvbiA9IHRoaXMuZ2V0KFwidG9vbHRpcFBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcFRhcmdldCA9IHRoaXMuZ2V0UHJpdmF0ZShcInRvb2x0aXBUYXJnZXRcIiwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9vbHRpcFBvc2l0aW9uID09IFwiZml4ZWRcIiB8fCAhcG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5Ll9zZXRNYXRyaXgoKTtcclxuICAgICAgICAgICAgICAgICAgICBwb2ludCA9IHRoaXMudG9HbG9iYWwodG9vbHRpcFRhcmdldC5fZ2V0VG9vbHRpcFBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBQb3NpdGlvbiA9PSBcInBvaW50ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RUb29sdGlwQ29vcmRzID0gdGhpcy5nZXRQcml2YXRlKFwibGFzdFRvb2x0aXBDb29yZHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RUb29sdGlwQ29vcmRzICYmIGxhc3RUb29sdGlwQ29vcmRzLnggPT0gcG9pbnQueCAmJiBsYXN0VG9vbHRpcENvb3Jkcy55ID09IHBvaW50LnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwibGFzdFRvb2x0aXBDb29yZHNcIiwgcG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRvb2x0aXAuc2V0KFwicG9pbnRUb1wiLCBwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwLnNldChcInRvb2x0aXBUYXJnZXRcIiwgdG9vbHRpcFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRvb2x0aXAuZ2V0KFwieFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc2V0KFwieFwiLCBwb2ludC54KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdG9vbHRpcC5nZXQoXCJ5XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zZXQoXCJ5XCIsIHBvaW50LnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5sYWJlbC5zZXQoXCJ0ZXh0XCIsIHRvb2x0aXBUZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0b29sdGlwSFRNTCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAubGFiZWwuc2V0KFwiaHRtbFwiLCB0b29sdGlwSFRNTCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLmxhYmVsLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJzaG93VG9vbHRpcE9uXCIpID09IFwiYWx3YXlzXCIgJiYgKHBvaW50LnggPCAwIHx8IHBvaW50LnggPiB0aGlzLl9yb290LndpZHRoKCkgfHwgcG9pbnQueSA8IDAgfHwgcG9pbnQueSA+IHRoaXMuX3Jvb3QuaGVpZ2h0KCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRvb2x0aXAubGFiZWwudGV4dC5tYXJrRGlydHlUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdG9vbHRpcC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoXCJzaG93aW5nVG9vbHRpcFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyBlbGVtZW50J3MgW1tUb29sdGlwXV0uXHJcbiAgICAgKi9cclxuICAgIGhpZGVUb29sdGlwKCkge1xyXG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXAoKTtcclxuICAgICAgICBpZiAodG9vbHRpcCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVByaXZhdGUoXCJsYXN0VG9vbHRpcENvb3Jkc1wiKTtcclxuICAgICAgICAgICAgaWYgKHRvb2x0aXAuZ2V0KFwidG9vbHRpcFRhcmdldFwiKSA9PSB0aGlzLmdldFByaXZhdGUoXCJ0b29sdGlwVGFyZ2V0XCIsIHRoaXMpIHx8IHRoaXMuZ2V0KFwidG9vbHRpcFwiKSA9PSB0b29sdGlwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGltZW91dCA9IHRvb2x0aXAuZ2V0KFwia2VlcFRhcmdldEhvdmVyXCIpICYmIHRvb2x0aXAuZ2V0KFwic3RhdGVBbmltYXRpb25EdXJhdGlvblwiLCAwKSA9PSAwID8gNDAwIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRvb2x0aXAuaGlkZSh0aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZVJhdyhcInNob3dpbmdUb29sdGlwXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dldFRvb2x0aXBQb2ludCgpIHtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcclxuICAgICAgICBpZiAoYm91bmRzKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gMDtcclxuICAgICAgICAgICAgbGV0IHkgPSAwO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0KFwiaXNNZWFzdXJlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgeCA9ICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUodGhpcy5nZXQoXCJ0b29sdGlwWFwiLCAwKSwgdGhpcy53aWR0aCgpKTtcclxuICAgICAgICAgICAgICAgIHkgPSAkdXRpbHMucmVsYXRpdmVUb1ZhbHVlKHRoaXMuZ2V0KFwidG9vbHRpcFlcIiwgMCksIHRoaXMuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeCA9IGJvdW5kcy5sZWZ0ICsgJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZSh0aGlzLmdldChcInRvb2x0aXBYXCIsIDApLCBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCk7XHJcbiAgICAgICAgICAgICAgICB5ID0gYm91bmRzLnRvcCArICR1dGlscy5yZWxhdGl2ZVRvVmFsdWUodGhpcy5nZXQoXCJ0b29sdGlwWVwiLCAwKSwgYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIFtbVG9vbHRpcF1dIHVzZWQgZm9yIHRoaXMgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFRvb2x0aXBcclxuICAgICAqL1xyXG4gICAgZ2V0VG9vbHRpcCgpIHtcclxuICAgICAgICBsZXQgdG9vbHRpcCA9IHRoaXMuZ2V0KFwidG9vbHRpcFwiKTtcclxuICAgICAgICBpZiAoIXRvb2x0aXApIHtcclxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50LmdldFRvb2x0aXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3VwZGF0ZVBvc2l0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGxldCBkeCA9IHRoaXMuZ2V0KFwiZHhcIiwgMCk7XHJcbiAgICAgICAgbGV0IGR5ID0gdGhpcy5nZXQoXCJkeVwiLCAwKTtcclxuICAgICAgICBsZXQgeCA9IHRoaXMuZ2V0KFwieFwiKTtcclxuICAgICAgICBsZXQgX3ggPSB0aGlzLmdldFByaXZhdGUoXCJ4XCIpO1xyXG4gICAgICAgIGxldCB4eCA9IDA7XHJcbiAgICAgICAgbGV0IHl5ID0gMDtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2V0KFwicG9zaXRpb25cIik7XHJcbiAgICAgICAgaWYgKHggaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHggPSBwYXJlbnQuaW5uZXJXaWR0aCgpICogeC52YWx1ZSArIHBhcmVudC5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcih4KSkge1xyXG4gICAgICAgICAgICB4eCA9IHggKyBkeDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChfeCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB4eCA9IF94O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09IFwicmVsYXRpdmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHh4ID0gcGFyZW50LmdldChcInBhZGRpbmdMZWZ0XCIsIDApICsgZHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHkgPSB0aGlzLmdldChcInlcIik7XHJcbiAgICAgICAgbGV0IF95ID0gdGhpcy5nZXRQcml2YXRlKFwieVwiKTtcclxuICAgICAgICBpZiAoeSBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgeSA9IHBhcmVudC5pbm5lckhlaWdodCgpICogeS52YWx1ZSArIHBhcmVudC5nZXQoXCJwYWRkaW5nVG9wXCIsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHkpKSB7XHJcbiAgICAgICAgICAgIHl5ID0geSArIGR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKF95ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHl5ID0gX3k7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT0gXCJyZWxhdGl2ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeXkgPSBwYXJlbnQuZ2V0KFwicGFkZGluZ1RvcFwiLCAwKSArIGR5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpc3BsYXkgPSB0aGlzLl9kaXNwbGF5O1xyXG4gICAgICAgIGlmIChkaXNwbGF5LnggIT0geHggfHwgZGlzcGxheS55ICE9IHl5KSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXkuaW52YWxpZGF0ZUJvdW5kcygpO1xyXG4gICAgICAgICAgICBkaXNwbGF5LnggPSB4eDtcclxuICAgICAgICAgICAgZGlzcGxheS55ID0geXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IFwicG9zaXRpb25jaGFuZ2VkXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoZXZlbnRUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnRUeXBlLCB7IHR5cGU6IGV2ZW50VHlwZSwgdGFyZ2V0OiB0aGlzIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwIHBvc2l0aW9uIHRvZ2V0aGVyIHdpdGggdGhlIFNwcml0ZVxyXG4gICAgICAgIGlmICh0aGlzLmdldFByaXZhdGUoXCJzaG93aW5nVG9vbHRpcFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGVsZW1lbnQncyBhY3R1YWwgWCBwb3NpdGlvbiBpbiBwaXhlbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBYIChweClcclxuICAgICAqL1xyXG4gICAgeCgpIHtcclxuICAgICAgICBsZXQgeCA9IHRoaXMuZ2V0KFwieFwiKTtcclxuICAgICAgICBsZXQgX3ggPSB0aGlzLmdldFByaXZhdGUoXCJ4XCIpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHggaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZSh4LCBwYXJlbnQuaW5uZXJXaWR0aCgpKSArIHBhcmVudC5nZXQoXCJwYWRkaW5nTGVmdFwiLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIoeCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3ggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3g7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50LmdldChcInBhZGRpbmdMZWZ0XCIsIHRoaXMuX2Rpc3BsYXkueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BsYXkueDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBlbGVtZW50J3MgYWN0dWFsIFkgcG9zaXRpb24gaW4gcGl4ZWxzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gWSAocHgpXHJcbiAgICAgKi9cclxuICAgIHkoKSB7XHJcbiAgICAgICAgbGV0IF95ID0gdGhpcy5nZXRQcml2YXRlKFwieVwiKTtcclxuICAgICAgICBpZiAoX3kgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3k7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB5ID0gdGhpcy5nZXQoXCJ5XCIpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHkgaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHV0aWxzLnJlbGF0aXZlVG9WYWx1ZSh5LCBwYXJlbnQuaW5uZXJIZWlnaHQoKSkgKyBwYXJlbnQuZ2V0KFwicGFkZGluZ1RvcFwiLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghJHR5cGUuaXNOdW1iZXIoeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3kgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3k7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50LmdldChcInBhZGRpbmdUb3BcIiwgdGhpcy5fZGlzcGxheS55KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGxheS55O1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuX2Rpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLl9yZW1vdmVUZW1wbGF0ZUZpZWxkKCk7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlUGFyZW50KHRoaXMucGFyZW50KTtcclxuICAgICAgICB0aGlzLl9yb290Ll9yZW1vdmVGb2N1c0VsZW1lbnQodGhpcyk7XHJcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuZ2V0KFwidG9vbHRpcFwiKTtcclxuICAgICAgICBpZiAodG9vbHRpcCkge1xyXG4gICAgICAgICAgICB0b29sdGlwLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBhZGp1c3RlZExvY2FsQm91bmRzKCkge1xyXG4gICAgICAgIHRoaXMuX2ZpeE1pbkJvdW5kcyh0aGlzLl9hZGp1c3RlZExvY2FsQm91bmRzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgZWxlbWVudCdzIGJvdW5kcy5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAcmV0dXJuIEdsb2JhbCBib3VuZHNcclxuICAgICAqL1xyXG4gICAgbG9jYWxCb3VuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsQm91bmRzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFkanVzdGVkIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBlbGVtZW50J3MgYm91bmRzLlxyXG4gICAgICpcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIEByZXR1cm4gR2xvYmFsIGJvdW5kc1xyXG4gICAgICovXHJcbiAgICBib3VuZHMoKSB7XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcztcclxuICAgICAgICBjb25zdCB4ID0gdGhpcy54KCk7XHJcbiAgICAgICAgY29uc3QgeSA9IHRoaXMueSgpO1xyXG4gICAgICAgIHJldHVybiB7IGxlZnQ6IGJvdW5kcy5sZWZ0ICsgeCwgcmlnaHQ6IGJvdW5kcy5yaWdodCArIHgsIHRvcDogYm91bmRzLnRvcCArIHksIGJvdHRvbTogYm91bmRzLmJvdHRvbSArIHkgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBnbG9iYWwgY29vcmRpbmF0ZXMgb2YgdGhlIGVsZW1lbnQncyBib3VuZHMuXHJcbiAgICAgKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHJldHVybiBHbG9iYWwgYm91bmRzXHJcbiAgICAgKi9cclxuICAgIGdsb2JhbEJvdW5kcygpIHtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmxvY2FsQm91bmRzKCk7XHJcbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLnRvR2xvYmFsKHsgeDogYm91bmRzLmxlZnQsIHk6IGJvdW5kcy50b3AgfSk7XHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnRvR2xvYmFsKHsgeDogYm91bmRzLnJpZ2h0LCB5OiBib3VuZHMudG9wIH0pO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy50b0dsb2JhbCh7IHg6IGJvdW5kcy5yaWdodCwgeTogYm91bmRzLmJvdHRvbSB9KTtcclxuICAgICAgICBjb25zdCBwMyA9IHRoaXMudG9HbG9iYWwoeyB4OiBib3VuZHMubGVmdCwgeTogYm91bmRzLmJvdHRvbSB9KTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsZWZ0OiBNYXRoLm1pbihwMC54LCBwMS54LCBwMi54LCBwMy54KSxcclxuICAgICAgICAgICAgdG9wOiBNYXRoLm1pbihwMC55LCBwMS55LCBwMi55LCBwMy55KSxcclxuICAgICAgICAgICAgcmlnaHQ6IE1hdGgubWF4KHAwLngsIHAxLngsIHAyLngsIHAzLngpLFxyXG4gICAgICAgICAgICBib3R0b206IE1hdGgubWF4KHAwLnksIHAxLnksIHAyLnksIHAzLnkpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9vblNob3coX2R1cmF0aW9uKSB7XHJcbiAgICB9XHJcbiAgICBfb25IaWRlKF9kdXJhdGlvbikge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQbGF5cyBpbml0aWFsIHJldmVhbCBhbmltYXRpb24gcmVnYXJkbGVzcyBpZiBlbGVtZW50IGlzIGN1cnJlbnRseSBoaWRkZW5cclxuICAgICAqIG9yIHZpc2libGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgZHVyYXRpb24gIER1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKiBAcGFyYW0gICBkZWxheSAgICAgRGVsYXkgc2hvd2luZyBvZiB0aGUgZWxlbWVudCBieSBYIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgYXBwZWFyKGR1cmF0aW9uLCBkZWxheSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuaGlkZSgwKTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHN1Y2Nlc3MsIF9lcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3ModGhpcy5zaG93KGR1cmF0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93KGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93cyBjdXJyZW50bHkgaGlkZGVuIGVsZW1lbnQgYW5kIHJldHVybnMgYSBgUHJvbWlzZWAgd2hpY2ggY29tcGxldGVzXHJcbiAgICAgKiB3aGVuIGFsbCBzaG93aW5nIGFuaW1hdGlvbnMgYXJlIGZpbmlzaGVkLlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIHNlcmllcy5zaG93KCkudGhlbihmdW5jdGlvbihldikge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhcIlNlcmllcyBpcyBub3cgZnVsbHkgdmlzaWJsZVwiKTtcclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIHNlcmllcy5zaG93KCkudGhlbihmdW5jdGlvbihldikge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhcIlNlcmllcyBpcyBub3cgZnVsbHkgdmlzaWJsZVwiKTtcclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgc2hvdyhkdXJhdGlvbikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNTaG93aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNTaG93aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzSGlkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZXMubG9va3VwKFwiZGVmYXVsdFwiKS5nZXQoXCJ2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJ2aXNpYmxlXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25TaG93KGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSB0aGlzLnN0YXRlcy5hcHBseUFuaW1hdGUoXCJkZWZhdWx0XCIsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHlpZWxkIHdhaXRGb3JBbmltYXRpb25zKGFuaW1hdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNTaG93aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGlkZXMgdGhlIGVsZW1lbnQgYW5kIHJldHVybnMgYSBgUHJvbWlzZWAgd2hpY2ggY29tcGxldGVzIHdoZW4gYWxsIGhpZGluZ1xyXG4gICAgICogYW5pbWF0aW9ucyBhcmUgZmluaXNoZWQuXHJcbiAgICAgKlxyXG4gICAgICogYGBgVHlwZVNjcmlwdFxyXG4gICAgICogc2VyaWVzLmhpZGUoKS50aGVuKGZ1bmN0aW9uKGV2KSB7XHJcbiAgICAgKiAgIGNvbnNvbGUubG9nKFwiU2VyaWVzIGZpbmlzaGVkIGhpZGluZ1wiKTtcclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIHNlcmllcy5oaWRlKCkudGhlbihmdW5jdGlvbihldikge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhcIlNlcmllcyBmaW5pc2hlZCBoaWRpbmdcIik7XHJcbiAgICAgKiB9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBQcm9taXNlXHJcbiAgICAgKi9cclxuICAgIGhpZGUoZHVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzSGlkaW5nICYmICF0aGlzLl9pc0hpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNIaWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNTaG93aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlcy5sb29rdXAoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlcy5jcmVhdGUoXCJoaWRkZW5cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm9wYWNpdHlcIjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmxlXCI6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkhpZGUoZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IHRoaXMuc3RhdGVzLmFwcGx5QW5pbWF0ZShcImhpZGRlblwiLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCB3YWl0Rm9yQW5pbWF0aW9ucyhhbmltYXRpb25zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzSGlkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhpcyBlbGVtZW50IGlzIGN1cnJlbnRseSBoaWRkZW4uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBJcyBoaWRkZW4/XHJcbiAgICAgKi9cclxuICAgIGlzSGlkZGVuKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0hpZGRlbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhpcyBlbGVtZW50IGlzIGN1cnJlbnRseSBhbmltYXRpbmcgdG8gYSBkZWZhdWx0IHN0YXRlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSXMgc2hvd2luZz9cclxuICAgICAqL1xyXG4gICAgaXNTaG93aW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc1Nob3dpbmc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgZWxlbWVudCBpcyBjdXJyZW50bHkgYW5pbWF0aW5nIHRvIGEgaGlkZGVuIHN0YXRlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSXMgaGlkaW5nP1xyXG4gICAgICovXHJcbiAgICBpc0hpZGluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNIaWRpbmc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgZWxlbWVudCBpcyBjdXJyZW50bHkgaG92ZXJlZCBieSBhIHBvaW50ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBJcyBob3ZlcmVkP1xyXG4gICAgICovXHJcbiAgICBpc0hvdmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwbGF5LmhvdmVyaW5nKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgZWxlbWVudCBkb2VzIGN1cnJlbnRseSBoYXZlIGZvY3VzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSXMgZm9jdXNlZD9cclxuICAgICAqL1xyXG4gICAgaXNGb2N1cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdC5mb2N1c2VkKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGlzIGVsZW1lbnQgaXMgY3VycmVudGx5IGJlaW5nIGRyYWdnZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBJcyBkcmFnZ2VkP1xyXG4gICAgICovXHJcbiAgICBpc0RyYWdnaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RyYWdnaW5nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGBmYWxzZWAgaWYgaWYgZWl0aGVyIHB1YmxpYyBvciBwcml2YXRlIHNldHRpbmcgYHZpc2libGVgIGlzIHNldFxyXG4gICAgICogdG8gYGZhbHNlYCwgb3IgYGZvcmNlSGlkZGVuYCBpcyBzZXQgdG8gYHRydWVgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gVmlzaWJsZT9cclxuICAgICAqL1xyXG4gICAgaXNWaXNpYmxlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcInZpc2libGVcIikgJiYgdGhpcy5nZXRQcml2YXRlKFwidmlzaWJsZVwiKSAmJiAhdGhpcy5nZXQoXCJmb3JjZUhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTYW1lIGFzIGBpc1Zpc2libGUoKWAsIGV4Y2VwdCBpdCBjaGVja3MgYWxsIGFzY2VuZGFudHMsIHRvby5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgNS4yLjdcclxuICAgICAqIEByZXR1cm4gVmlzaWJsZT9cclxuICAgICAqL1xyXG4gICAgaXNWaXNpYmxlRGVlcCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ID8gKHRoaXMuX3BhcmVudC5pc1Zpc2libGVEZWVwKCkgJiYgdGhpcy5pc1Zpc2libGUoKSkgOiB0aGlzLmlzVmlzaWJsZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGFjdHVhbCBvcGFjaXR5IG9mIHRoZSBlbGVtZW50LCB0YWtpbmcgaW50byBhY2NvdW50IGFsbCBwYXJlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gT3BhY2l0eVxyXG4gICAgICogQHNpbmNlIDUuMi4xMVxyXG4gICAgICovXHJcbiAgICBjb21wb3NpdGVPcGFjaXR5KCkge1xyXG4gICAgICAgIGNvbnN0IG9wYWNpdHkgPSB0aGlzLmdldChcIm9wYWNpdHlcIiwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCA/ICh0aGlzLl9wYXJlbnQuY29tcG9zaXRlT3BhY2l0eSgpICogb3BhY2l0eSkgOiBvcGFjaXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGFjdHVhbCBzY2FsZSBvZiB0aGUgZWxlbWVudCwgdGFraW5nIGludG8gYWNjb3VudCBhbGwgcGFyZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIE9wYWNpdHlcclxuICAgICAqIEBzaW5jZSA1LjkuMlxyXG4gICAgICovXHJcbiAgICBjb21wb3NpdGVTY2FsZSgpIHtcclxuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0KFwic2NhbGVcIiwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCA/ICh0aGlzLl9wYXJlbnQuY29tcG9zaXRlU2NhbGUoKSAqIHNjYWxlKSA6IHNjYWxlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGFjdHVhbCByb2F0aW9uIG9mIHRoZSBlbGVtZW50LCB0YWtpbmcgaW50byBhY2NvdW50IGFsbCBwYXJlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gT3BhY2l0eVxyXG4gICAgICogQHNpbmNlIDUuOS4yXHJcbiAgICAgKi9cclxuICAgIGNvbXBvc2l0ZVJvdGF0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gdGhpcy5nZXQoXCJyb3RhdGlvblwiLCAwKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ID8gKHRoaXMuX3BhcmVudC5jb21wb3NpdGVSb3RhdGlvbigpICsgcm90YXRpb24pIDogcm90YXRpb247XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2lkdGggb2YgdGhpcyBlbGVtZW50IGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFdpZHRoIChweClcclxuICAgICAqL1xyXG4gICAgd2lkdGgoKSB7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5nZXQoXCJ3aWR0aFwiKTtcclxuICAgICAgICBsZXQgbWF4V2lkdGggPSB0aGlzLmdldChcIm1heFdpZHRoXCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1heFdpZHRoXCIpKTtcclxuICAgICAgICBsZXQgbWluV2lkdGggPSB0aGlzLmdldChcIm1pbldpZHRoXCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1pbldpZHRoXCIpKTtcclxuICAgICAgICBsZXQgcHJpdmF0ZVdpZHRoID0gdGhpcy5nZXRQcml2YXRlKFwid2lkdGhcIik7XHJcbiAgICAgICAgbGV0IHcgPSAwO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihwcml2YXRlV2lkdGgpKSB7XHJcbiAgICAgICAgICAgIHcgPSBwcml2YXRlV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAod2lkdGggPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB3ID0gdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcy5yaWdodCAtIHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMubGVmdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBwYXJlbnQuaW5uZXJXaWR0aCgpICogd2lkdGgudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gdGhpcy5fcm9vdC53aWR0aCgpICogd2lkdGgudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJHR5cGUuaXNOdW1iZXIod2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdyA9IHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtaW5XaWR0aCkpIHtcclxuICAgICAgICAgICAgdyA9IE1hdGgubWF4KG1pbldpZHRoLCB3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1heFdpZHRoKSkge1xyXG4gICAgICAgICAgICB3ID0gTWF0aC5taW4obWF4V2lkdGgsIHcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBtYXhpbXVtIGFsbG93ZWQgd2lkdGggb2YgdGhpcyBlbGVtZW50IGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIE1heGltdW0gd2lkdGggKHB4KVxyXG4gICAgICovXHJcbiAgICBtYXhXaWR0aCgpIHtcclxuICAgICAgICBsZXQgbWF4V2lkdGggPSB0aGlzLmdldChcIm1heFdpZHRoXCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1heFdpZHRoXCIpKTtcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWF4V2lkdGgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXhXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IHRoaXMuZ2V0KFwid2lkdGhcIik7XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcih3aWR0aCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQuaW5uZXJXaWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdC53aWR0aCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIG1heGltdW0gYWxsb3dlZCBoZWlnaHQgb2YgdGhpcyBlbGVtZW50IGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIE1heGltdW0gaGVpZ2h0IChweClcclxuICAgICAqL1xyXG4gICAgbWF4SGVpZ2h0KCkge1xyXG4gICAgICAgIGxldCBtYXhIZWlnaHQgPSB0aGlzLmdldChcIm1heEhlaWdodFwiLCB0aGlzLmdldFByaXZhdGUoXCJtYXhIZWlnaHRcIikpO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihtYXhIZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXhIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5nZXQoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihoZWlnaHQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdC5oZWlnaHQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBoZWlnaHQgb2YgdGhpcyBlbGVtZW50IGluIHBpeGVscy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIEhlaWdodCAocHgpXHJcbiAgICAgKi9cclxuICAgIGhlaWdodCgpIHtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5nZXQoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgbGV0IG1heEhlaWdodCA9IHRoaXMuZ2V0KFwibWF4SGVpZ2h0XCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1heEhlaWdodFwiKSk7XHJcbiAgICAgICAgbGV0IG1pbkhlaWdodCA9IHRoaXMuZ2V0KFwibWluSGVpZ2h0XCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1pbkhlaWdodFwiKSk7XHJcbiAgICAgICAgbGV0IHByaXZhdGVIZWlnaHQgPSB0aGlzLmdldFByaXZhdGUoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgbGV0IGggPSAwO1xyXG4gICAgICAgIGlmICgkdHlwZS5pc051bWJlcihwcml2YXRlSGVpZ2h0KSkge1xyXG4gICAgICAgICAgICBoID0gcHJpdmF0ZUhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChoZWlnaHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBoID0gdGhpcy5fYWRqdXN0ZWRMb2NhbEJvdW5kcy5ib3R0b20gLSB0aGlzLl9hZGp1c3RlZExvY2FsQm91bmRzLnRvcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChoZWlnaHQgaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcGFyZW50LmlubmVySGVpZ2h0KCkgKiBoZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gdGhpcy5fcm9vdC5oZWlnaHQoKSAqIGhlaWdodC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgkdHlwZS5pc051bWJlcihoZWlnaHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaCA9IGhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIobWluSGVpZ2h0KSkge1xyXG4gICAgICAgICAgICBoID0gTWF0aC5tYXgobWluSGVpZ2h0LCBoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKG1heEhlaWdodCkpIHtcclxuICAgICAgICAgICAgaCA9IE1hdGgubWluKG1heEhlaWdodCwgaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoO1xyXG4gICAgfVxyXG4gICAgX2ZpbmRTdGF0aWNUZW1wbGF0ZShmKSB7XHJcbiAgICAgICAgLy8gdGVtcGxhdGVGaWVsZCBvdmVycmlkZXMgdGVtcGxhdGVcclxuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGVGaWVsZCAmJiBmKHRoaXMuX3RlbXBsYXRlRmllbGQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZUZpZWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VwZXIuX2ZpbmRTdGF0aWNUZW1wbGF0ZShmKTtcclxuICAgIH1cclxuICAgIF93YWxrUGFyZW50cyhmKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl93YWxrUGFyZW50KGYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF93YWxrUGFyZW50KGYpIHtcclxuICAgICAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5fd2Fsa1BhcmVudChmKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZih0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGFyZW50IFtbQ29udGFpbmVyXV0gb2YgdGhpcyBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gUGFyZW50IGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICBnZXQgcGFyZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICBfc2V0UGFyZW50KHBhcmVudCwgdXBkYXRlQ2hpbGRyZW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IHByZXZQYXJlbnQgPSB0aGlzLl9wYXJlbnQ7XHJcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gcHJldlBhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICBwYXJlbnQubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHVwZGF0ZUNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVQYXJlbnQocHJldlBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkUGVyY2VudGFnZVNpemVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFBlcmNlbnRhZ2VQb3NpdGlvbkNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLl9hcHBseVRoZW1lcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBbW051bWJlckZvcm1hdHRlcl1dIHVzZWQgaW4gdGhpcyBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIElmIHRoaXMgZWxlbWVudCBkb2VzIG5vdCBoYXZlIGl0IHNldCwgZ2xvYmFsIG9uZSBmb3JtIFtbUm9vdF1dIGlzIHVzZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvdXNpbmctZm9ybWF0dGVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEByZXR1cm4gTnVtYmVyRm9ybWF0dGVyIGluc3RhY2VcclxuICAgICAqL1xyXG4gICAgZ2V0TnVtYmVyRm9ybWF0dGVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldChcIm51bWJlckZvcm1hdHRlclwiLCB0aGlzLl9yb290Lm51bWJlckZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgW1tEYXRlRm9ybWF0dGVyXV0gdXNlZCBpbiB0aGlzIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogSWYgdGhpcyBlbGVtZW50IGRvZXMgbm90IGhhdmUgaXQgc2V0LCBnbG9iYWwgb25lIGZvcm0gW1tSb290XV0gaXMgdXNlZC5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy91c2luZy1mb3JtYXR0ZXJzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHJldHVybiBEYXRlRm9ybWF0dGVyIGluc3RhY2VcclxuICAgICAqL1xyXG4gICAgZ2V0RGF0ZUZvcm1hdHRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJkYXRlRm9ybWF0dGVyXCIsIHRoaXMuX3Jvb3QuZGF0ZUZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgW1tEdXJhdGlvbkZvcm1hdHRlcl1dIHVzZWQgaW4gdGhpcyBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIElmIHRoaXMgZWxlbWVudCBkb2VzIG5vdCBoYXZlIGl0IHNldCwgZ2xvYmFsIG9uZSBmb3JtIFtbUm9vdF1dIGlzIHVzZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvdXNpbmctZm9ybWF0dGVycy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEByZXR1cm4gRHVyYXRpb25Gb3JtYXR0ZXIgaW5zdGFjZVxyXG4gICAgICovXHJcbiAgICBnZXREdXJhdGlvbkZvcm1hdHRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJkdXJhdGlvbkZvcm1hdHRlclwiLCB0aGlzLl9yb290LmR1cmF0aW9uRm9ybWF0dGVyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgWC9ZIGNvb3JkaW5hdGUgd2l0aGluIHRoaXMgZWxlbWVudCB0byBhIGdsb2JhbCBjb29yZGluYXRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgcG9pbnQgIExvY2FsIGNvb3JkaW5hdGVcclxuICAgICAqIEByZXR1cm4gICAgICAgIEdsb2JhbCBjb29yZGluYXRlXHJcbiAgICAgKi9cclxuICAgIHRvR2xvYmFsKHBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BsYXkudG9HbG9iYWwocG9pbnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBnbG9iYWwgWC9ZIGNvb3JkaW5hdGUgdG8gYSBjb29yZGluYXRlIHdpdGhpbiB0aGlzIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICBwb2ludCAgR2xvYmFsIGNvb3JkaW5hdGVcclxuICAgICAqIEByZXR1cm4gICAgICAgIExvY2FsIGNvb3JkaW5hdGVcclxuICAgICAqL1xyXG4gICAgdG9Mb2NhbChwb2ludCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwbGF5LnRvTG9jYWwocG9pbnQpO1xyXG4gICAgfVxyXG4gICAgX2dldERvd25Qb2ludCgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2dldERvd25Qb2ludElkKCk7XHJcbiAgICAgICAgaWYgKGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kb3duUG9pbnRzW2lkXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZ2V0RG93blBvaW50SWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rvd25Qb2ludHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRvYmplY3Qua2V5c09yZGVyZWQodGhpcy5fZG93blBvaW50cywgKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhID4gYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH0pWzBdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTW92ZXMgc3ByaXRlIHRvIHRoZSBlbmQgb2YgdGhlIHBhcmVudCdzIGNoaWxkcmVuIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIERlcGVuZGluZyBvbiBgbGF5b3V0YCBzZXR0aW5nIG9mIHRoZSBwYXJ0ZW4gY29udGFpbmVyLCBpdCBtYXkgZWZmZWN0IHRoZVxyXG4gICAgICogcG9zaXRpb25pbmcgb3Igb3ZlcmxhcHBpbmcgb3JkZXIgb2YgdGhlIGVsZW1lbnRzLlxyXG4gICAgICovXHJcbiAgICB0b0Zyb250KCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLm1vdmVWYWx1ZSh0aGlzLCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNb3ZlcyBzcHJpdGUgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgcGFyZW50J3MgY2hpbGRyZW4gYXJyYXkuXHJcbiAgICAgKlxyXG4gICAgICogRGVwZW5kaW5nIG9uIGBsYXlvdXRgIHNldHRpbmcgb2YgdGhlIHBhcnRlbiBjb250YWluZXIsIGl0IG1heSBlZmZlY3QgdGhlXHJcbiAgICAgKiBwb3NpdGlvbmluZyBvciBvdmVybGFwcGluZyBvcmRlciBvZiB0aGUgZWxlbWVudHMuXHJcbiAgICAgKi9cclxuICAgIHRvQmFjaygpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5tb3ZlVmFsdWUodGhpcywgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIlNwcml0ZVwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IEVudGl0eS5jbGFzc05hbWVzLmNvbmNhdChbU3ByaXRlLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Text: () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var _Sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sprite */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\");\n/* harmony import */ var _util_PopulateString__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/PopulateString */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore Text is an internal class. Use Label instead.\r\n */\r\nclass Text extends _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"textStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeTextStyle()\r\n        });\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeText(\"\", this.textStyle)\r\n        });\r\n        Object.defineProperty(this, \"_textStyles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\",\r\n                \"maxChars\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _updateBounds() {\r\n        if (!this.get(\"text\")) {\r\n            let newBounds = {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n            this._adjustedLocalBounds = newBounds;\r\n        }\r\n        else {\r\n            super._updateBounds();\r\n            let fillGradient = this.get(\"fillGradient\");\r\n            if (fillGradient) {\r\n                this._display.style.fill = fillGradient.getFill(this);\r\n            }\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        this._display.clear();\r\n        let textStyle = this.textStyle;\r\n        if (this.isDirty(\"opacity\")) {\r\n            let opacity = this.get(\"opacity\", 1);\r\n            this._display.alpha = opacity;\r\n        }\r\n        if (this.isDirty(\"text\") || this.isDirty(\"populateText\")) {\r\n            this._display.text = this._getText();\r\n            this.markDirtyBounds();\r\n            if (this.get(\"role\") == \"tooltip\") {\r\n                this._root.updateTooltip(this);\r\n            }\r\n        }\r\n        if (this.isPrivateDirty(\"tooltipElement\")) {\r\n            const tooltipElement = this.getPrivate(\"tooltipElement\");\r\n            if (tooltipElement) {\r\n                this._disposers.push(new _util_Disposer__WEBPACK_IMPORTED_MODULE_1__.Disposer(() => {\r\n                    this._root._removeTooltipElement(this);\r\n                }));\r\n            }\r\n        }\r\n        if (this.isDirty(\"width\")) {\r\n            textStyle.wordWrapWidth = this.width();\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"oversizedBehavior\")) {\r\n            textStyle.oversizedBehavior = this.get(\"oversizedBehavior\", \"none\");\r\n            this._display.invalidateVisibility();\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"breakWords\")) {\r\n            textStyle.breakWords = this.get(\"breakWords\", false);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"ellipsis\")) {\r\n            textStyle.ellipsis = this.get(\"ellipsis\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"ignoreFormatting\")) {\r\n            textStyle.ignoreFormatting = this.get(\"ignoreFormatting\", false);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"minScale\")) {\r\n            textStyle.minScale = this.get(\"minScale\", 0);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"fillGradient\")) {\r\n            const fill = this.get(\"fill\");\r\n            const fillGradient = this.get(\"fillGradient\");\r\n            const fillOpacity = this.get(\"fillOpacity\");\r\n            if (fillGradient) {\r\n                if (fill) {\r\n                    const stops = fillGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && fill) {\r\n                                stop.color = fill;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = fillOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                textStyle.fill = fillGradient.getFill(this);\r\n            }\r\n            else if (fill) {\r\n                textStyle.fill = fill;\r\n            }\r\n        }\r\n        if (this.isDirty(\"fillOpacity\")) {\r\n            let fillOpacity = this.get(\"fillOpacity\", 1);\r\n            if (fillOpacity) {\r\n                textStyle.fillOpacity = fillOpacity;\r\n            }\r\n        }\r\n        if (this.isDirty(\"maxWidth\") || this.isPrivateDirty(\"maxWidth\")) {\r\n            textStyle.maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"maxHeight\")) {\r\n            textStyle.maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n            this.markDirtyBounds();\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textStyles, (styleName) => {\r\n            if (this._dirty[styleName]) {\r\n                textStyle[styleName] = this.get(styleName);\r\n                this.markDirtyBounds();\r\n            }\r\n        });\r\n        textStyle[\"fontSize\"] = this.get(\"fontSize\");\r\n        textStyle[\"fontFamily\"] = this.get(\"fontFamily\");\r\n        this._display.style = textStyle;\r\n        if (this.isDirty(\"role\") && this.get(\"role\") == \"tooltip\") {\r\n            this._root.updateTooltip(this);\r\n        }\r\n    }\r\n    _getText() {\r\n        let text = this.get(\"text\", \"\");\r\n        if (this.get(\"maxChars\")) {\r\n            text = _util_Utils__WEBPACK_IMPORTED_MODULE_3__.truncateTextWithEllipsis(text, this.get(\"maxChars\", 100000000), this.get(\"breakWords\"), this.get(\"ellipsis\"));\r\n        }\r\n        return this.get(\"populateText\") ? (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_4__.populateString)(this, text) : text;\r\n    }\r\n    _getAccessibleText() {\r\n        const ariaLabel = this.get(\"ariaLabel\");\r\n        if (ariaLabel !== undefined) {\r\n            return this.get(\"populateText\") ? (0,_util_PopulateString__WEBPACK_IMPORTED_MODULE_4__.populateString)(this, ariaLabel) : ariaLabel;\r\n        }\r\n        return this._getText();\r\n    }\r\n    /**\r\n     * Forces the text to be re-evaluated and re-populated.\r\n     */\r\n    markDirtyText() {\r\n        this._display.text = this._getText();\r\n        if (this.get(\"role\") == \"tooltip\") {\r\n            this._root.updateTooltip(this);\r\n        }\r\n        this.markDirtyBounds();\r\n        this.markDirty();\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        if (this.get(\"populateText\")) {\r\n            this.markDirtyText();\r\n        }\r\n    }\r\n    getNumberFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getNumberFormatter();\r\n        }\r\n        else {\r\n            return super.getNumberFormatter();\r\n        }\r\n    }\r\n    getDateFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getDateFormatter();\r\n        }\r\n        else {\r\n            return super.getDateFormatter();\r\n        }\r\n    }\r\n    getDurationFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getDurationFormatter();\r\n        }\r\n        else {\r\n            return super.getDurationFormatter();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Text, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Text\"\r\n});\r\nObject.defineProperty(Text, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite.classNames.concat([Text.className])\r\n});\r\n//# sourceMappingURL=Text.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvVGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0M7QUFDc0I7QUFDaEI7QUFDQTtBQUNJO0FBQzVDO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQiwyQ0FBTTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxvREFBUTtBQUNqRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlFQUErQjtBQUNsRDtBQUNBLDBDQUEwQyxvRUFBYztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxvRUFBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL1RleHQuanM/NDE5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTcHJpdGUgfSBmcm9tIFwiLi9TcHJpdGVcIjtcclxuaW1wb3J0IHsgcG9wdWxhdGVTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC9Qb3B1bGF0ZVN0cmluZ1wiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4uL3V0aWwvQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCB7IERpc3Bvc2VyIH0gZnJvbSBcIi4uL3V0aWwvRGlzcG9zZXJcIjtcclxuLyoqXHJcbiAqIEBpZ25vcmUgVGV4dCBpcyBhbiBpbnRlcm5hbCBjbGFzcy4gVXNlIExhYmVsIGluc3RlYWQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGV4dCBleHRlbmRzIFNwcml0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRTdHlsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9yb290Ll9yZW5kZXJlci5tYWtlVGV4dFN0eWxlKClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcGxheVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9yb290Ll9yZW5kZXJlci5tYWtlVGV4dChcIlwiLCB0aGlzLnRleHRTdHlsZSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGV4dFN0eWxlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXHJcbiAgICAgICAgICAgICAgICBcInRleHRBbGlnblwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250RmFtaWx5XCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTaXplXCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250V2VpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICBcImZvbnRTdHlsZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb250VmFyaWFudFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dDb2xvclwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dCbHVyXCIsXHJcbiAgICAgICAgICAgICAgICBcInNoYWRvd09mZnNldFhcIixcclxuICAgICAgICAgICAgICAgIFwic2hhZG93T2Zmc2V0WVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzaGFkb3dPcGFjaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAvLyBcImxlYWRpbmdcIixcclxuICAgICAgICAgICAgICAgIC8vIFwibGV0dGVyU3BhY2luZ1wiLFxyXG4gICAgICAgICAgICAgICAgXCJsaW5lSGVpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICBcImJhc2VsaW5lUmF0aW9cIixcclxuICAgICAgICAgICAgICAgIC8vXCJwYWRkaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAvLyBcInN0cm9rZVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJzdHJva2VUaGlja25lc3NcIixcclxuICAgICAgICAgICAgICAgIC8vIFwidHJpbVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJ3b3JkV3JhcFwiLFxyXG4gICAgICAgICAgICAgICAgXCJkaXJlY3Rpb25cIixcclxuICAgICAgICAgICAgICAgIFwidGV4dEJhc2VsaW5lXCIsXHJcbiAgICAgICAgICAgICAgICBcIm92ZXJzaXplZEJlaGF2aW9yXCIsXHJcbiAgICAgICAgICAgICAgICBcImJyZWFrV29yZHNcIixcclxuICAgICAgICAgICAgICAgIFwiZWxsaXBzaXNcIixcclxuICAgICAgICAgICAgICAgIFwibWluU2NhbGVcIixcclxuICAgICAgICAgICAgICAgIFwibWF4Q2hhcnNcIlxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX29yaWdpbmFsU2NhbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfdXBkYXRlQm91bmRzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nZXQoXCJ0ZXh0XCIpKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdCb3VuZHMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuX2FkanVzdGVkTG9jYWxCb3VuZHMgPSBuZXdCb3VuZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzdXBlci5fdXBkYXRlQm91bmRzKCk7XHJcbiAgICAgICAgICAgIGxldCBmaWxsR3JhZGllbnQgPSB0aGlzLmdldChcImZpbGxHcmFkaWVudFwiKTtcclxuICAgICAgICAgICAgaWYgKGZpbGxHcmFkaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5zdHlsZS5maWxsID0gZmlsbEdyYWRpZW50LmdldEZpbGwodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuY2xlYXIoKTtcclxuICAgICAgICBsZXQgdGV4dFN0eWxlID0gdGhpcy50ZXh0U3R5bGU7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIm9wYWNpdHlcIikpIHtcclxuICAgICAgICAgICAgbGV0IG9wYWNpdHkgPSB0aGlzLmdldChcIm9wYWNpdHlcIiwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYWxwaGEgPSBvcGFjaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwidGV4dFwiKSB8fCB0aGlzLmlzRGlydHkoXCJwb3B1bGF0ZVRleHRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS50ZXh0ID0gdGhpcy5fZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJyb2xlXCIpID09IFwidG9vbHRpcFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290LnVwZGF0ZVRvb2x0aXAodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQcml2YXRlRGlydHkoXCJ0b29sdGlwRWxlbWVudFwiKSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwRWxlbWVudCA9IHRoaXMuZ2V0UHJpdmF0ZShcInRvb2x0aXBFbGVtZW50XCIpO1xyXG4gICAgICAgICAgICBpZiAodG9vbHRpcEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5fcmVtb3ZlVG9vbHRpcEVsZW1lbnQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcIndpZHRoXCIpKSB7XHJcbiAgICAgICAgICAgIHRleHRTdHlsZS53b3JkV3JhcFdpZHRoID0gdGhpcy53aWR0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwib3ZlcnNpemVkQmVoYXZpb3JcIikpIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLm92ZXJzaXplZEJlaGF2aW9yID0gdGhpcy5nZXQoXCJvdmVyc2l6ZWRCZWhhdmlvclwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuaW52YWxpZGF0ZVZpc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImJyZWFrV29yZHNcIikpIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLmJyZWFrV29yZHMgPSB0aGlzLmdldChcImJyZWFrV29yZHNcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZWxsaXBzaXNcIikpIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLmVsbGlwc2lzID0gdGhpcy5nZXQoXCJlbGxpcHNpc1wiKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImlnbm9yZUZvcm1hdHRpbmdcIikpIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLmlnbm9yZUZvcm1hdHRpbmcgPSB0aGlzLmdldChcImlnbm9yZUZvcm1hdHRpbmdcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwibWluU2NhbGVcIikpIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLm1pblNjYWxlID0gdGhpcy5nZXQoXCJtaW5TY2FsZVwiLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJrRGlydHlCb3VuZHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eShcImZpbGxcIikgfHwgdGhpcy5pc0RpcnR5KFwiZmlsbEdyYWRpZW50XCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGwgPSB0aGlzLmdldChcImZpbGxcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGxHcmFkaWVudCA9IHRoaXMuZ2V0KFwiZmlsbEdyYWRpZW50XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBmaWxsT3BhY2l0eSA9IHRoaXMuZ2V0KFwiZmlsbE9wYWNpdHlcIik7XHJcbiAgICAgICAgICAgIGlmIChmaWxsR3JhZGllbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcHMgPSBmaWxsR3JhZGllbnQuZ2V0KFwic3RvcHNcIiwgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9wcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goc3RvcHMsIChzdG9wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCFzdG9wLmNvbG9yIHx8IHN0b3AuY29sb3JJbmhlcml0ZWQpICYmIGZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wLmNvbG9yID0gZmlsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wLmNvbG9ySW5oZXJpdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9wLm9wYWNpdHkgPT0gbnVsbCB8fCBzdG9wLm9wYWNpdHlJbmhlcml0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wLm9wYWNpdHkgPSBmaWxsT3BhY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wLm9wYWNpdHlJbmhlcml0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0ZXh0U3R5bGUuZmlsbCA9IGZpbGxHcmFkaWVudC5nZXRGaWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGZpbGwpIHtcclxuICAgICAgICAgICAgICAgIHRleHRTdHlsZS5maWxsID0gZmlsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiZmlsbE9wYWNpdHlcIikpIHtcclxuICAgICAgICAgICAgbGV0IGZpbGxPcGFjaXR5ID0gdGhpcy5nZXQoXCJmaWxsT3BhY2l0eVwiLCAxKTtcclxuICAgICAgICAgICAgaWYgKGZpbGxPcGFjaXR5KSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0U3R5bGUuZmlsbE9wYWNpdHkgPSBmaWxsT3BhY2l0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwibWF4V2lkdGhcIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIm1heFdpZHRoXCIpKSB7XHJcbiAgICAgICAgICAgIHRleHRTdHlsZS5tYXhXaWR0aCA9IHRoaXMuZ2V0KFwibWF4V2lkdGhcIiwgdGhpcy5nZXRQcml2YXRlKFwibWF4V2lkdGhcIikpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eUJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwibWF4SGVpZ2h0XCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtYXhIZWlnaHRcIikpIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLm1heEhlaWdodCA9IHRoaXMuZ2V0KFwibWF4SGVpZ2h0XCIsIHRoaXMuZ2V0UHJpdmF0ZShcIm1heEhlaWdodFwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RleHRTdHlsZXMsIChzdHlsZU5hbWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcnR5W3N0eWxlTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRleHRTdHlsZVtzdHlsZU5hbWVdID0gdGhpcy5nZXQoc3R5bGVOYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0ZXh0U3R5bGVbXCJmb250U2l6ZVwiXSA9IHRoaXMuZ2V0KFwiZm9udFNpemVcIik7XHJcbiAgICAgICAgdGV4dFN0eWxlW1wiZm9udEZhbWlseVwiXSA9IHRoaXMuZ2V0KFwiZm9udEZhbWlseVwiKTtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LnN0eWxlID0gdGV4dFN0eWxlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJyb2xlXCIpICYmIHRoaXMuZ2V0KFwicm9sZVwiKSA9PSBcInRvb2x0aXBcIikge1xyXG4gICAgICAgICAgICB0aGlzLl9yb290LnVwZGF0ZVRvb2x0aXAodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2dldFRleHQoKSB7XHJcbiAgICAgICAgbGV0IHRleHQgPSB0aGlzLmdldChcInRleHRcIiwgXCJcIik7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwibWF4Q2hhcnNcIikpIHtcclxuICAgICAgICAgICAgdGV4dCA9ICR1dGlscy50cnVuY2F0ZVRleHRXaXRoRWxsaXBzaXModGV4dCwgdGhpcy5nZXQoXCJtYXhDaGFyc1wiLCAxMDAwMDAwMDApLCB0aGlzLmdldChcImJyZWFrV29yZHNcIiksIHRoaXMuZ2V0KFwiZWxsaXBzaXNcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJwb3B1bGF0ZVRleHRcIikgPyBwb3B1bGF0ZVN0cmluZyh0aGlzLCB0ZXh0KSA6IHRleHQ7XHJcbiAgICB9XHJcbiAgICBfZ2V0QWNjZXNzaWJsZVRleHQoKSB7XHJcbiAgICAgICAgY29uc3QgYXJpYUxhYmVsID0gdGhpcy5nZXQoXCJhcmlhTGFiZWxcIik7XHJcbiAgICAgICAgaWYgKGFyaWFMYWJlbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChcInBvcHVsYXRlVGV4dFwiKSA/IHBvcHVsYXRlU3RyaW5nKHRoaXMsIGFyaWFMYWJlbCkgOiBhcmlhTGFiZWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRUZXh0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZvcmNlcyB0aGUgdGV4dCB0byBiZSByZS1ldmFsdWF0ZWQgYW5kIHJlLXBvcHVsYXRlZC5cclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5VGV4dCgpIHtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5LnRleHQgPSB0aGlzLl9nZXRUZXh0KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwicm9sZVwiKSA9PSBcInRvb2x0aXBcIikge1xyXG4gICAgICAgICAgICB0aGlzLl9yb290LnVwZGF0ZVRvb2x0aXAodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgIH1cclxuICAgIF9zZXREYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIHN1cGVyLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwicG9wdWxhdGVUZXh0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5VGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldE51bWJlckZvcm1hdHRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldE51bWJlckZvcm1hdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldE51bWJlckZvcm1hdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldERhdGVGb3JtYXR0ZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXREYXRlRm9ybWF0dGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0RGF0ZUZvcm1hdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldER1cmF0aW9uRm9ybWF0dGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0RHVyYXRpb25Gb3JtYXR0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXREdXJhdGlvbkZvcm1hdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dCwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiVGV4dFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dCwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBTcHJpdGUuY2xhc3NOYW1lcy5jb25jYXQoW1RleHQuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip)\n/* harmony export */ });\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _render_Label__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../render/Label */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js\");\n/* harmony import */ var _render_PointedRectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../render/PointedRectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js\");\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _util_Color__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Creates a tooltip.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/tooltips/} for more info\r\n * @important\r\n */\r\nclass Tooltip extends _Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor(root, settings, isReal, templates = []) {\r\n        super(root, settings, isReal, templates);\r\n        Object.defineProperty(this, \"_fx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_fy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_label\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fillDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fillGrDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_labelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_w\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_h\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_keepHoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlContentHovered\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.mergeTags(this._settings.themeTags, [\"tooltip\"]);\r\n        super._afterNew();\r\n        const background = this._setDefaultFn(\"background\", () => {\r\n            return _render_PointedRectangle__WEBPACK_IMPORTED_MODULE_2__.PointedRectangle.new(this._root, {});\r\n        });\r\n        background.set(\"themeTags\", [\"tooltip\", \"background\"]);\r\n        this._label = this.children.push(_render_Label__WEBPACK_IMPORTED_MODULE_3__.Label.new(this._root, {}));\r\n        this._disposers.push(this._label.events.on(\"boundschanged\", () => {\r\n            this._updateBackground();\r\n        }));\r\n        this._disposers.push(this.on(\"bounds\", () => {\r\n            this._updateBackground();\r\n        }));\r\n        this._updateTextColor();\r\n        this._root.tooltipContainer.children.push(this);\r\n        this.hide(0);\r\n        this._disposers.push(this.label.onPrivate(\"htmlElement\", (htmlElement) => {\r\n            if (htmlElement) {\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(htmlElement, \"pointerover\", (_ev) => {\r\n                    this._htmlContentHovered = true;\r\n                }));\r\n                this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(htmlElement, \"pointerout\", (_ev) => {\r\n                    this._htmlContentHovered = false;\r\n                }));\r\n            }\r\n        }));\r\n        this.on(\"visible\", (_ev) => {\r\n            this._handleReaderAnnouncement();\r\n        });\r\n        this.label.events.on(\"dataitemchanged\", (_ev) => {\r\n            this._handleReaderAnnouncement();\r\n        });\r\n        this._root._tooltips.push(this);\r\n    }\r\n    _handleReaderAnnouncement() {\r\n        if (this.get(\"readerAnnounce\") && this.isVisibleDeep()) {\r\n            this._root.readerAlert(this.label.getAccessibleText());\r\n        }\r\n    }\r\n    /**\r\n     * A [[Label]] element for the tooltip.\r\n     *\r\n     * @readonly\r\n     * @return Label\r\n     */\r\n    get label() {\r\n        return this._label;\r\n    }\r\n    /**\r\n     * Permanently disposes the tooltip.\r\n     */\r\n    _dispose() {\r\n        super._dispose();\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_4__.remove(this._root._tooltips, this);\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this.isDirty(\"pointerOrientation\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\")) {\r\n            this.get(\"background\")._markDirtyKey(\"width\");\r\n        }\r\n        const labelText = this.get(\"labelText\");\r\n        if (labelText != null) {\r\n            this.label.set(\"text\", this.get(\"labelText\"));\r\n        }\r\n        const labelHTML = this.get(\"labelHTML\");\r\n        if (labelHTML != null) {\r\n            this.label.set(\"html\", this.get(\"labelHTML\"));\r\n        }\r\n        const labelAriaLabel = this.get(\"labelAriaLabel\");\r\n        if (labelAriaLabel != null) {\r\n            this.label.set(\"ariaLabel\", this.get(\"labelAriaLabel\"));\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"pointTo\") || this.isDirty(\"pointerOrientation\")) {\r\n            // can't compare to previous, as sometimes pointTo is set twice (when pointer moves, so the position won't be udpated)\r\n            this._updateBackground();\r\n        }\r\n        if (this.isDirty(\"tooltipTarget\")) {\r\n            this.updateBackgroundColor();\r\n        }\r\n        if (this.isDirty(\"keepTargetHover\")) {\r\n            const keephover = this.get(\"keepTargetHover\");\r\n            if (keephover) {\r\n                const bg = this.get(\"background\");\r\n                this._keepHoverDp = new _util_Disposer__WEBPACK_IMPORTED_MODULE_5__.MultiDisposer([\r\n                    bg.events.on(\"pointerover\", (_ev) => {\r\n                        let target = this.get(\"tooltipTarget\");\r\n                        if (target) {\r\n                            if (target.parent && target.parent.getPrivate(\"tooltipTarget\") == target) {\r\n                                target = target.parent;\r\n                            }\r\n                            target.hover();\r\n                        }\r\n                    }),\r\n                    bg.events.on(\"pointerout\", (_ev) => {\r\n                        let target = this.get(\"tooltipTarget\");\r\n                        if (target) {\r\n                            if (target.parent && target.parent.getPrivate(\"tooltipTarget\") == target) {\r\n                                target = target.parent;\r\n                            }\r\n                            if (!this._htmlContentHovered) {\r\n                                target.unhover();\r\n                            }\r\n                        }\r\n                    })\r\n                ]);\r\n                this.label.onPrivate(\"htmlElement\", (htmlElement) => {\r\n                    if (this._keepHoverDp && htmlElement) {\r\n                        this._keepHoverDp.disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(htmlElement, \"pointerleave\", (ev) => {\r\n                            const outEvent = this.root._renderer.getEvent(ev);\r\n                            bg.events.dispatch(\"pointerout\", {\r\n                                type: \"pointerout\",\r\n                                originalEvent: outEvent.event,\r\n                                point: outEvent.point,\r\n                                simulated: false,\r\n                                target: bg\r\n                            });\r\n                        }));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._keepHoverDp) {\r\n                    this._keepHoverDp.dispose();\r\n                    this._keepHoverDp = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _onShow() {\r\n        super._onShow();\r\n        this.updateBackgroundColor();\r\n    }\r\n    updateBackgroundColor() {\r\n        let tooltipTarget = this.get(\"tooltipTarget\");\r\n        const background = this.get(\"background\");\r\n        let fill;\r\n        let stroke;\r\n        if (tooltipTarget && background) {\r\n            fill = tooltipTarget.get(\"fill\");\r\n            stroke = tooltipTarget.get(\"stroke\");\r\n            if (fill == null) {\r\n                fill = stroke;\r\n            }\r\n            if (this.get(\"getFillFromSprite\")) {\r\n                if (this._fillDp) {\r\n                    this._fillDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    background.set(\"fill\", fill);\r\n                }\r\n                this._fillDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        background.set(\"fill\", fill);\r\n                        this._updateTextColor(fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._fillDp);\r\n            }\r\n            if (this.get(\"getFillGradientFromSprite\")) {\r\n                if (this._fillGrDp) {\r\n                    this._fillGrDp.dispose();\r\n                }\r\n                let fillGradient = tooltipTarget.get(\"fillGradient\");\r\n                if (fillGradient != null) {\r\n                    background.set(\"fillGradient\", fillGradient);\r\n                }\r\n                this._fillGrDp = tooltipTarget.on(\"fillGradient\", (fillGradient) => {\r\n                    if (fillGradient != null) {\r\n                        background.set(\"fillGradient\", fillGradient);\r\n                    }\r\n                });\r\n                this._disposers.push(this._fillGrDp);\r\n            }\r\n            if (this.get(\"getStrokeFromSprite\")) {\r\n                if (this._strokeDp) {\r\n                    this._strokeDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    background.set(\"stroke\", fill);\r\n                }\r\n                this._strokeDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        background.set(\"stroke\", fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._strokeDp);\r\n            }\r\n            if (this.get(\"getLabelFillFromSprite\")) {\r\n                if (this._labelDp) {\r\n                    this._labelDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    this.label.set(\"fill\", fill);\r\n                }\r\n                this._labelDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        this.label.set(\"fill\", fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._labelDp);\r\n            }\r\n        }\r\n        this._updateTextColor(fill);\r\n    }\r\n    _updateTextColor(fill) {\r\n        if (this.get(\"autoTextColor\")) {\r\n            if (fill == null) {\r\n                fill = this.get(\"background\").get(\"fill\");\r\n            }\r\n            if (fill == null) {\r\n                fill = this._root.interfaceColors.get(\"background\");\r\n            }\r\n            if (fill instanceof _util_Color__WEBPACK_IMPORTED_MODULE_6__.Color) {\r\n                this.label.set(\"fill\", _util_Color__WEBPACK_IMPORTED_MODULE_6__.Color.alternative(fill, this._root.interfaceColors.get(\"alternativeText\"), this._root.interfaceColors.get(\"text\")));\r\n            }\r\n        }\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        this.label._setDataItem(dataItem);\r\n    }\r\n    _updateBackground() {\r\n        super.updateBackground();\r\n        const parent = this._root.container;\r\n        if (parent) {\r\n            let cw = 0.5;\r\n            let ch = 0.5;\r\n            let centerX = this.get(\"centerX\");\r\n            if (centerX instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_7__.Percent) {\r\n                cw = centerX.value;\r\n            }\r\n            let centerY = this.get(\"centerY\");\r\n            if (centerY instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_7__.Percent) {\r\n                ch = centerY.value;\r\n            }\r\n            let parentW = parent.width();\r\n            let parentH = parent.height();\r\n            let tooltipContainer = this.parent;\r\n            let xx = 0;\r\n            let yy = 0;\r\n            if (tooltipContainer) {\r\n                xx = tooltipContainer.x();\r\n                yy = tooltipContainer.y();\r\n                const layerMargin = tooltipContainer.get(\"layerMargin\");\r\n                if (layerMargin) {\r\n                    xx += layerMargin.left || 0;\r\n                    yy += layerMargin.top || 0;\r\n                    parentW += (layerMargin.left || 0) + (layerMargin.right || 0);\r\n                    parentH += (layerMargin.top || 0) + (layerMargin.bottom || 0);\r\n                }\r\n            }\r\n            const bounds = this.get(\"bounds\", { left: -xx, top: -yy, right: parentW - xx, bottom: parentH - yy });\r\n            this._updateBounds();\r\n            let w = this.width();\r\n            let h = this.height();\r\n            // use old w and h,as when tooltip is hidden, these are 0 and unneeded animation happens\r\n            if (w === 0) {\r\n                w = this._w;\r\n            }\r\n            if (h === 0) {\r\n                h = this._h;\r\n            }\r\n            let pointTo = this.get(\"pointTo\", { x: parentW / 2, y: parentH / 2 });\r\n            let x = pointTo.x;\r\n            let y = pointTo.y;\r\n            let pointerOrientation = this.get(\"pointerOrientation\");\r\n            let background = this.get(\"background\");\r\n            let pointerLength = 0;\r\n            let bgStrokeSizeY = 0;\r\n            let bgStrokeSizeX = 0;\r\n            if (background instanceof _render_PointedRectangle__WEBPACK_IMPORTED_MODULE_2__.PointedRectangle) {\r\n                pointerLength = background.get(\"pointerLength\", 0);\r\n                bgStrokeSizeY = background.get(\"strokeWidth\", 0) / 2;\r\n                bgStrokeSizeX = bgStrokeSizeY;\r\n                background.set(\"width\", w);\r\n                background.set(\"height\", h);\r\n            }\r\n            let pointerX = 0;\r\n            let pointerY = 0;\r\n            let boundsW = bounds.right - bounds.left;\r\n            let boundsH = bounds.bottom - bounds.top;\r\n            // horizontal\r\n            if (pointerOrientation == \"horizontal\" || pointerOrientation == \"left\" || pointerOrientation == \"right\") {\r\n                bgStrokeSizeY = 0;\r\n                if (pointerOrientation == \"horizontal\") {\r\n                    if (x > bounds.left + boundsW / 2) {\r\n                        x -= (w * (1 - cw) + pointerLength);\r\n                        bgStrokeSizeX *= -1;\r\n                    }\r\n                    else {\r\n                        x += (w * cw + pointerLength);\r\n                    }\r\n                }\r\n                else if (pointerOrientation == \"left\") {\r\n                    x += (w * (1 - cw) + pointerLength);\r\n                }\r\n                else {\r\n                    x -= (w * cw + pointerLength);\r\n                    bgStrokeSizeX *= -1;\r\n                }\r\n            }\r\n            // vertical pointer\r\n            else {\r\n                bgStrokeSizeX = 0;\r\n                if (pointerOrientation == \"vertical\") {\r\n                    if (y > bounds.top + h / 2 + pointerLength) {\r\n                        y -= (h * (1 - ch) + pointerLength);\r\n                    }\r\n                    else {\r\n                        y += (h * ch + pointerLength);\r\n                        bgStrokeSizeY *= -1;\r\n                    }\r\n                }\r\n                else if (pointerOrientation == \"down\") {\r\n                    y -= (h * (1 - ch) + pointerLength);\r\n                }\r\n                else {\r\n                    y += (h * ch + pointerLength);\r\n                    bgStrokeSizeY *= -1;\r\n                }\r\n            }\r\n            x = _util_Math__WEBPACK_IMPORTED_MODULE_8__.fitToRange(x, bounds.left + w * cw, bounds.left + boundsW - w * (1 - cw)) + bgStrokeSizeX;\r\n            y = _util_Math__WEBPACK_IMPORTED_MODULE_8__.fitToRange(y, bounds.top + h * ch, bounds.top + boundsH - h * (1 - ch)) - bgStrokeSizeY;\r\n            pointerX = pointTo.x - x + w * cw + bgStrokeSizeX;\r\n            pointerY = pointTo.y - y + h * ch - bgStrokeSizeY;\r\n            this._fx = x;\r\n            this._fy = y;\r\n            const animationDuration = this.get(\"animationDuration\", 0);\r\n            if (animationDuration > 0 && this.get(\"visible\") && this.get(\"opacity\") > 0.1) {\r\n                const animationEasing = this.get(\"animationEasing\");\r\n                this.animate({ key: \"x\", to: x, duration: animationDuration, easing: animationEasing });\r\n                this.animate({ key: \"y\", to: y, duration: animationDuration, easing: animationEasing });\r\n            }\r\n            else {\r\n                this.set(\"x\", x);\r\n                this.set(\"y\", y);\r\n            }\r\n            if (background instanceof _render_PointedRectangle__WEBPACK_IMPORTED_MODULE_2__.PointedRectangle) {\r\n                background.set(\"pointerX\", pointerX);\r\n                background.set(\"pointerY\", pointerY);\r\n            }\r\n            if (w > 0) {\r\n                this._w = w;\r\n            }\r\n            if (h > 0) {\r\n                this._h = h;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Tooltip, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Tooltip\"\r\n});\r\nObject.defineProperty(Tooltip, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([Tooltip.className])\r\n});\r\n//# sourceMappingURL=Tooltip.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvVG9vbHRpcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ1Q7QUFDc0I7QUFDdEI7QUFDRTtBQUNKO0FBQ0E7QUFDRTtBQUNBO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQTJFO0FBQ3BGO0FBQ0E7QUFDTyxzQkFBc0IsaURBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsbUNBQW1DLGtEQUFnQjtBQUNuRDtBQUNBO0FBQ0EsbUJBQW1CLHNFQUFnQixtQkFBbUI7QUFDdEQsU0FBUztBQUNUO0FBQ0EseUNBQXlDLGdEQUFLLG1CQUFtQjtBQUNqRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx5REFBdUI7QUFDNUQ7QUFDQSxpQkFBaUI7QUFDakIscUNBQXFDLHlEQUF1QjtBQUM1RDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQ0FBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHlEQUFhO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EseURBQXlELHlEQUF1QjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsOENBQUs7QUFDckMsdUNBQXVDLDhDQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0RBQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGtEQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnRUFBZ0U7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZ0NBQWdDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNFQUFnQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFnQjtBQUNoQyxnQkFBZ0Isa0RBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHVFQUF1RTtBQUN0RywrQkFBK0IsdUVBQXVFO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msc0VBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvVG9vbHRpcC5qcz9iNTE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE11bHRpRGlzcG9zZXIgfSBmcm9tIFwiLi4vdXRpbC9EaXNwb3NlclwiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuLi9yZW5kZXIvTGFiZWxcIjtcclxuaW1wb3J0IHsgUG9pbnRlZFJlY3RhbmdsZSB9IGZyb20gXCIuLi9yZW5kZXIvUG9pbnRlZFJlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiLi9Db250YWluZXJcIjtcclxuaW1wb3J0IHsgUGVyY2VudCB9IGZyb20gXCIuLi91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tIFwiLi4vdXRpbC9Db2xvclwiO1xyXG5pbXBvcnQgKiBhcyAkbWF0aCBmcm9tIFwiLi4vdXRpbC9NYXRoXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4uL3V0aWwvVXRpbHNcIjtcclxuLyoqXHJcbiAqIENyZWF0ZXMgYSB0b29sdGlwLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvdG9vbHRpcHMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgQ29udGFpbmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHJvb3QsIHNldHRpbmdzLCBpc1JlYWwsIHRlbXBsYXRlcyA9IFtdKSB7XHJcbiAgICAgICAgc3VwZXIocm9vdCwgc2V0dGluZ3MsIGlzUmVhbCwgdGVtcGxhdGVzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZnhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9meVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xhYmVsXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9maWxsRHBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZpbGxHckRwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdHJva2VEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFiZWxEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfd1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9rZWVwSG92ZXJEcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaHRtbENvbnRlbnRIb3ZlcmVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MudGhlbWVUYWdzID0gJHV0aWxzLm1lcmdlVGFncyh0aGlzLl9zZXR0aW5ncy50aGVtZVRhZ3MsIFtcInRvb2x0aXBcIl0pO1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLl9zZXREZWZhdWx0Rm4oXCJiYWNrZ3JvdW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFBvaW50ZWRSZWN0YW5nbGUubmV3KHRoaXMuX3Jvb3QsIHt9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBiYWNrZ3JvdW5kLnNldChcInRoZW1lVGFnc1wiLCBbXCJ0b29sdGlwXCIsIFwiYmFja2dyb3VuZFwiXSk7XHJcbiAgICAgICAgdGhpcy5fbGFiZWwgPSB0aGlzLmNoaWxkcmVuLnB1c2goTGFiZWwubmV3KHRoaXMuX3Jvb3QsIHt9KSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5fbGFiZWwuZXZlbnRzLm9uKFwiYm91bmRzY2hhbmdlZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUJhY2tncm91bmQoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2godGhpcy5vbihcImJvdW5kc1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUJhY2tncm91bmQoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlVGV4dENvbG9yKCk7XHJcbiAgICAgICAgdGhpcy5fcm9vdC50b29sdGlwQ29udGFpbmVyLmNoaWxkcmVuLnB1c2godGhpcyk7XHJcbiAgICAgICAgdGhpcy5oaWRlKDApO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMubGFiZWwub25Qcml2YXRlKFwiaHRtbEVsZW1lbnRcIiwgKGh0bWxFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChodG1sRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoaHRtbEVsZW1lbnQsIFwicG9pbnRlcm92ZXJcIiwgKF9ldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2h0bWxDb250ZW50SG92ZXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihodG1sRWxlbWVudCwgXCJwb2ludGVyb3V0XCIsIChfZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9odG1sQ29udGVudEhvdmVyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0aGlzLm9uKFwidmlzaWJsZVwiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVJlYWRlckFubm91bmNlbWVudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubGFiZWwuZXZlbnRzLm9uKFwiZGF0YWl0ZW1jaGFuZ2VkXCIsIChfZXYpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlUmVhZGVyQW5ub3VuY2VtZW50KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcm9vdC5fdG9vbHRpcHMucHVzaCh0aGlzKTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVSZWFkZXJBbm5vdW5jZW1lbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwicmVhZGVyQW5ub3VuY2VcIikgJiYgdGhpcy5pc1Zpc2libGVEZWVwKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm9vdC5yZWFkZXJBbGVydCh0aGlzLmxhYmVsLmdldEFjY2Vzc2libGVUZXh0KCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQSBbW0xhYmVsXV0gZWxlbWVudCBmb3IgdGhlIHRvb2x0aXAuXHJcbiAgICAgKlxyXG4gICAgICogQHJlYWRvbmx5XHJcbiAgICAgKiBAcmV0dXJuIExhYmVsXHJcbiAgICAgKi9cclxuICAgIGdldCBsYWJlbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGFiZWw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBlcm1hbmVudGx5IGRpc3Bvc2VzIHRoZSB0b29sdGlwLlxyXG4gICAgICovXHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgICAgICRhcnJheS5yZW1vdmUodGhpcy5fcm9vdC5fdG9vbHRpcHMsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJwb2ludGVyT3JpZW50YXRpb25cIikgfHwgdGhpcy5pc1ByaXZhdGVEaXJ0eShcIm1pbldpZHRoXCIpIHx8IHRoaXMuaXNQcml2YXRlRGlydHkoXCJtaW5IZWlnaHRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXQoXCJiYWNrZ3JvdW5kXCIpLl9tYXJrRGlydHlLZXkoXCJ3aWR0aFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gdGhpcy5nZXQoXCJsYWJlbFRleHRcIik7XHJcbiAgICAgICAgaWYgKGxhYmVsVGV4dCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuc2V0KFwidGV4dFwiLCB0aGlzLmdldChcImxhYmVsVGV4dFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxhYmVsSFRNTCA9IHRoaXMuZ2V0KFwibGFiZWxIVE1MXCIpO1xyXG4gICAgICAgIGlmIChsYWJlbEhUTUwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLnNldChcImh0bWxcIiwgdGhpcy5nZXQoXCJsYWJlbEhUTUxcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsYWJlbEFyaWFMYWJlbCA9IHRoaXMuZ2V0KFwibGFiZWxBcmlhTGFiZWxcIik7XHJcbiAgICAgICAgaWYgKGxhYmVsQXJpYUxhYmVsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJlbC5zZXQoXCJhcmlhTGFiZWxcIiwgdGhpcy5nZXQoXCJsYWJlbEFyaWFMYWJlbFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2NoYW5nZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwicG9pbnRUb1wiKSB8fCB0aGlzLmlzRGlydHkoXCJwb2ludGVyT3JpZW50YXRpb25cIikpIHtcclxuICAgICAgICAgICAgLy8gY2FuJ3QgY29tcGFyZSB0byBwcmV2aW91cywgYXMgc29tZXRpbWVzIHBvaW50VG8gaXMgc2V0IHR3aWNlICh3aGVuIHBvaW50ZXIgbW92ZXMsIHNvIHRoZSBwb3NpdGlvbiB3b24ndCBiZSB1ZHBhdGVkKVxyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVCYWNrZ3JvdW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJ0b29sdGlwVGFyZ2V0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQmFja2dyb3VuZENvbG9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJrZWVwVGFyZ2V0SG92ZXJcIikpIHtcclxuICAgICAgICAgICAgY29uc3Qga2VlcGhvdmVyID0gdGhpcy5nZXQoXCJrZWVwVGFyZ2V0SG92ZXJcIik7XHJcbiAgICAgICAgICAgIGlmIChrZWVwaG92ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJnID0gdGhpcy5nZXQoXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fa2VlcEhvdmVyRHAgPSBuZXcgTXVsdGlEaXNwb3NlcihbXHJcbiAgICAgICAgICAgICAgICAgICAgYmcuZXZlbnRzLm9uKFwicG9pbnRlcm92ZXJcIiwgKF9ldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5nZXQoXCJ0b29sdGlwVGFyZ2V0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnBhcmVudCAmJiB0YXJnZXQucGFyZW50LmdldFByaXZhdGUoXCJ0b29sdGlwVGFyZ2V0XCIpID09IHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuaG92ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGJnLmV2ZW50cy5vbihcInBvaW50ZXJvdXRcIiwgKF9ldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5nZXQoXCJ0b29sdGlwVGFyZ2V0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnBhcmVudCAmJiB0YXJnZXQucGFyZW50LmdldFByaXZhdGUoXCJ0b29sdGlwVGFyZ2V0XCIpID09IHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2h0bWxDb250ZW50SG92ZXJlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC51bmhvdmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsLm9uUHJpdmF0ZShcImh0bWxFbGVtZW50XCIsIChodG1sRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9rZWVwSG92ZXJEcCAmJiBodG1sRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZWVwSG92ZXJEcC5kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihodG1sRWxlbWVudCwgXCJwb2ludGVybGVhdmVcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRFdmVudCA9IHRoaXMucm9vdC5fcmVuZGVyZXIuZ2V0RXZlbnQoZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcuZXZlbnRzLmRpc3BhdGNoKFwicG9pbnRlcm91dFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJwb2ludGVyb3V0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogb3V0RXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IG91dEV2ZW50LnBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbXVsYXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBiZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9rZWVwSG92ZXJEcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tlZXBIb3ZlckRwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZWVwSG92ZXJEcCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9vblNob3coKSB7XHJcbiAgICAgICAgc3VwZXIuX29uU2hvdygpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQmFja2dyb3VuZENvbG9yKCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVCYWNrZ3JvdW5kQ29sb3IoKSB7XHJcbiAgICAgICAgbGV0IHRvb2x0aXBUYXJnZXQgPSB0aGlzLmdldChcInRvb2x0aXBUYXJnZXRcIik7XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuZ2V0KFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICBsZXQgZmlsbDtcclxuICAgICAgICBsZXQgc3Ryb2tlO1xyXG4gICAgICAgIGlmICh0b29sdGlwVGFyZ2V0ICYmIGJhY2tncm91bmQpIHtcclxuICAgICAgICAgICAgZmlsbCA9IHRvb2x0aXBUYXJnZXQuZ2V0KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgc3Ryb2tlID0gdG9vbHRpcFRhcmdldC5nZXQoXCJzdHJva2VcIik7XHJcbiAgICAgICAgICAgIGlmIChmaWxsID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZpbGwgPSBzdHJva2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZ2V0RmlsbEZyb21TcHJpdGVcIikpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maWxsRHApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWxsRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0KFwiZmlsbFwiLCBmaWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxEcCA9IHRvb2x0aXBUYXJnZXQub24oXCJmaWxsXCIsIChmaWxsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnNldChcImZpbGxcIiwgZmlsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRleHRDb2xvcihmaWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMuX2ZpbGxEcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZ2V0RmlsbEdyYWRpZW50RnJvbVNwcml0ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGxHckRwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGZpbGxHcmFkaWVudCA9IHRvb2x0aXBUYXJnZXQuZ2V0KFwiZmlsbEdyYWRpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGxHcmFkaWVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zZXQoXCJmaWxsR3JhZGllbnRcIiwgZmlsbEdyYWRpZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHckRwID0gdG9vbHRpcFRhcmdldC5vbihcImZpbGxHcmFkaWVudFwiLCAoZmlsbEdyYWRpZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGxHcmFkaWVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0KFwiZmlsbEdyYWRpZW50XCIsIGZpbGxHcmFkaWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLl9maWxsR3JEcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZ2V0U3Ryb2tlRnJvbVNwcml0ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZURwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlRHAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0KFwic3Ryb2tlXCIsIGZpbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlRHAgPSB0b29sdGlwVGFyZ2V0Lm9uKFwiZmlsbFwiLCAoZmlsbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zZXQoXCJzdHJva2VcIiwgZmlsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLl9zdHJva2VEcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZ2V0TGFiZWxGaWxsRnJvbVNwcml0ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xhYmVsRHApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYWJlbERwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmaWxsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhYmVsLnNldChcImZpbGxcIiwgZmlsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYWJlbERwID0gdG9vbHRpcFRhcmdldC5vbihcImZpbGxcIiwgKGZpbGwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFiZWwuc2V0KFwiZmlsbFwiLCBmaWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKHRoaXMuX2xhYmVsRHApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVRleHRDb2xvcihmaWxsKTtcclxuICAgIH1cclxuICAgIF91cGRhdGVUZXh0Q29sb3IoZmlsbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldChcImF1dG9UZXh0Q29sb3JcIikpIHtcclxuICAgICAgICAgICAgaWYgKGZpbGwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZmlsbCA9IHRoaXMuZ2V0KFwiYmFja2dyb3VuZFwiKS5nZXQoXCJmaWxsXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmaWxsID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZpbGwgPSB0aGlzLl9yb290LmludGVyZmFjZUNvbG9ycy5nZXQoXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmaWxsIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWwuc2V0KFwiZmlsbFwiLCBDb2xvci5hbHRlcm5hdGl2ZShmaWxsLCB0aGlzLl9yb290LmludGVyZmFjZUNvbG9ycy5nZXQoXCJhbHRlcm5hdGl2ZVRleHRcIiksIHRoaXMuX3Jvb3QuaW50ZXJmYWNlQ29sb3JzLmdldChcInRleHRcIikpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zZXREYXRhSXRlbShkYXRhSXRlbSkge1xyXG4gICAgICAgIHN1cGVyLl9zZXREYXRhSXRlbShkYXRhSXRlbSk7XHJcbiAgICAgICAgdGhpcy5sYWJlbC5fc2V0RGF0YUl0ZW0oZGF0YUl0ZW0pO1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZUJhY2tncm91bmQoKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlQmFja2dyb3VuZCgpO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX3Jvb3QuY29udGFpbmVyO1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgbGV0IGN3ID0gMC41O1xyXG4gICAgICAgICAgICBsZXQgY2ggPSAwLjU7XHJcbiAgICAgICAgICAgIGxldCBjZW50ZXJYID0gdGhpcy5nZXQoXCJjZW50ZXJYXCIpO1xyXG4gICAgICAgICAgICBpZiAoY2VudGVyWCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgIGN3ID0gY2VudGVyWC52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY2VudGVyWSA9IHRoaXMuZ2V0KFwiY2VudGVyWVwiKTtcclxuICAgICAgICAgICAgaWYgKGNlbnRlclkgaW5zdGFuY2VvZiBQZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjaCA9IGNlbnRlclkudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHBhcmVudFcgPSBwYXJlbnQud2lkdGgoKTtcclxuICAgICAgICAgICAgbGV0IHBhcmVudEggPSBwYXJlbnQuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIGxldCB0b29sdGlwQ29udGFpbmVyID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGxldCB4eCA9IDA7XHJcbiAgICAgICAgICAgIGxldCB5eSA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICB4eCA9IHRvb2x0aXBDb250YWluZXIueCgpO1xyXG4gICAgICAgICAgICAgICAgeXkgPSB0b29sdGlwQ29udGFpbmVyLnkoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyTWFyZ2luID0gdG9vbHRpcENvbnRhaW5lci5nZXQoXCJsYXllck1hcmdpblwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChsYXllck1hcmdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHh4ICs9IGxheWVyTWFyZ2luLmxlZnQgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICB5eSArPSBsYXllck1hcmdpbi50b3AgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRXICs9IChsYXllck1hcmdpbi5sZWZ0IHx8IDApICsgKGxheWVyTWFyZ2luLnJpZ2h0IHx8IDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEggKz0gKGxheWVyTWFyZ2luLnRvcCB8fCAwKSArIChsYXllck1hcmdpbi5ib3R0b20gfHwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5nZXQoXCJib3VuZHNcIiwgeyBsZWZ0OiAteHgsIHRvcDogLXl5LCByaWdodDogcGFyZW50VyAtIHh4LCBib3R0b206IHBhcmVudEggLSB5eSB9KTtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQm91bmRzKCk7XHJcbiAgICAgICAgICAgIGxldCB3ID0gdGhpcy53aWR0aCgpO1xyXG4gICAgICAgICAgICBsZXQgaCA9IHRoaXMuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIC8vIHVzZSBvbGQgdyBhbmQgaCxhcyB3aGVuIHRvb2x0aXAgaXMgaGlkZGVuLCB0aGVzZSBhcmUgMCBhbmQgdW5uZWVkZWQgYW5pbWF0aW9uIGhhcHBlbnNcclxuICAgICAgICAgICAgaWYgKHcgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHcgPSB0aGlzLl93O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBoID0gdGhpcy5faDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcG9pbnRUbyA9IHRoaXMuZ2V0KFwicG9pbnRUb1wiLCB7IHg6IHBhcmVudFcgLyAyLCB5OiBwYXJlbnRIIC8gMiB9KTtcclxuICAgICAgICAgICAgbGV0IHggPSBwb2ludFRvLng7XHJcbiAgICAgICAgICAgIGxldCB5ID0gcG9pbnRUby55O1xyXG4gICAgICAgICAgICBsZXQgcG9pbnRlck9yaWVudGF0aW9uID0gdGhpcy5nZXQoXCJwb2ludGVyT3JpZW50YXRpb25cIik7XHJcbiAgICAgICAgICAgIGxldCBiYWNrZ3JvdW5kID0gdGhpcy5nZXQoXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgICAgICBsZXQgcG9pbnRlckxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBiZ1N0cm9rZVNpemVZID0gMDtcclxuICAgICAgICAgICAgbGV0IGJnU3Ryb2tlU2l6ZVggPSAwO1xyXG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZCBpbnN0YW5jZW9mIFBvaW50ZWRSZWN0YW5nbGUpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50ZXJMZW5ndGggPSBiYWNrZ3JvdW5kLmdldChcInBvaW50ZXJMZW5ndGhcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICBiZ1N0cm9rZVNpemVZID0gYmFja2dyb3VuZC5nZXQoXCJzdHJva2VXaWR0aFwiLCAwKSAvIDI7XHJcbiAgICAgICAgICAgICAgICBiZ1N0cm9rZVNpemVYID0gYmdTdHJva2VTaXplWTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0KFwid2lkdGhcIiwgdyk7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnNldChcImhlaWdodFwiLCBoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcG9pbnRlclggPSAwO1xyXG4gICAgICAgICAgICBsZXQgcG9pbnRlclkgPSAwO1xyXG4gICAgICAgICAgICBsZXQgYm91bmRzVyA9IGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0O1xyXG4gICAgICAgICAgICBsZXQgYm91bmRzSCA9IGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wO1xyXG4gICAgICAgICAgICAvLyBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGlmIChwb2ludGVyT3JpZW50YXRpb24gPT0gXCJob3Jpem9udGFsXCIgfHwgcG9pbnRlck9yaWVudGF0aW9uID09IFwibGVmdFwiIHx8IHBvaW50ZXJPcmllbnRhdGlvbiA9PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAgICAgICAgIGJnU3Ryb2tlU2l6ZVkgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ZXJPcmllbnRhdGlvbiA9PSBcImhvcml6b250YWxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4ID4gYm91bmRzLmxlZnQgKyBib3VuZHNXIC8gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4IC09ICh3ICogKDEgLSBjdykgKyBwb2ludGVyTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmdTdHJva2VTaXplWCAqPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gKHcgKiBjdyArIHBvaW50ZXJMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBvaW50ZXJPcmllbnRhdGlvbiA9PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHggKz0gKHcgKiAoMSAtIGN3KSArIHBvaW50ZXJMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCAtPSAodyAqIGN3ICsgcG9pbnRlckxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmdTdHJva2VTaXplWCAqPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB2ZXJ0aWNhbCBwb2ludGVyXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmdTdHJva2VTaXplWCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRlck9yaWVudGF0aW9uID09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh5ID4gYm91bmRzLnRvcCArIGggLyAyICsgcG9pbnRlckxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5IC09IChoICogKDEgLSBjaCkgKyBwb2ludGVyTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gKGggKiBjaCArIHBvaW50ZXJMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ1N0cm9rZVNpemVZICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBvaW50ZXJPcmllbnRhdGlvbiA9PSBcImRvd25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgLT0gKGggKiAoMSAtIGNoKSArIHBvaW50ZXJMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSArPSAoaCAqIGNoICsgcG9pbnRlckxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmdTdHJva2VTaXplWSAqPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB4ID0gJG1hdGguZml0VG9SYW5nZSh4LCBib3VuZHMubGVmdCArIHcgKiBjdywgYm91bmRzLmxlZnQgKyBib3VuZHNXIC0gdyAqICgxIC0gY3cpKSArIGJnU3Ryb2tlU2l6ZVg7XHJcbiAgICAgICAgICAgIHkgPSAkbWF0aC5maXRUb1JhbmdlKHksIGJvdW5kcy50b3AgKyBoICogY2gsIGJvdW5kcy50b3AgKyBib3VuZHNIIC0gaCAqICgxIC0gY2gpKSAtIGJnU3Ryb2tlU2l6ZVk7XHJcbiAgICAgICAgICAgIHBvaW50ZXJYID0gcG9pbnRUby54IC0geCArIHcgKiBjdyArIGJnU3Ryb2tlU2l6ZVg7XHJcbiAgICAgICAgICAgIHBvaW50ZXJZID0gcG9pbnRUby55IC0geSArIGggKiBjaCAtIGJnU3Ryb2tlU2l6ZVk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Z4ID0geDtcclxuICAgICAgICAgICAgdGhpcy5fZnkgPSB5O1xyXG4gICAgICAgICAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbiA9IHRoaXMuZ2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25EdXJhdGlvbiA+IDAgJiYgdGhpcy5nZXQoXCJ2aXNpYmxlXCIpICYmIHRoaXMuZ2V0KFwib3BhY2l0eVwiKSA+IDAuMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uRWFzaW5nID0gdGhpcy5nZXQoXCJhbmltYXRpb25FYXNpbmdcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGUoeyBrZXk6IFwieFwiLCB0bzogeCwgZHVyYXRpb246IGFuaW1hdGlvbkR1cmF0aW9uLCBlYXNpbmc6IGFuaW1hdGlvbkVhc2luZyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSh7IGtleTogXCJ5XCIsIHRvOiB5LCBkdXJhdGlvbjogYW5pbWF0aW9uRHVyYXRpb24sIGVhc2luZzogYW5pbWF0aW9uRWFzaW5nIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJ4XCIsIHgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJ5XCIsIHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kIGluc3RhbmNlb2YgUG9pbnRlZFJlY3RhbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zZXQoXCJwb2ludGVyWFwiLCBwb2ludGVyWCk7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnNldChcInBvaW50ZXJZXCIsIHBvaW50ZXJZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodyA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3cgPSB3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faCA9IGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFRvb2x0aXAsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIlRvb2x0aXBcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFRvb2x0aXAsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogQ29udGFpbmVyLmNsYXNzTmFtZXMuY29uY2F0KFtUb29sdGlwLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub29sdGlwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VerticalLayout: () => (/* binding */ VerticalLayout)\n/* harmony export */ });\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Layout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n\r\n\r\n\r\n/**\r\n * A vertical children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nclass VerticalLayout extends _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout {\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingTop = container.get(\"paddingTop\", 0);\r\n        let availableHeight = container.innerHeight();\r\n        let totalPercent = 0;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childHeight = child.get(\"height\");\r\n                    if (childHeight instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                        totalPercent += childHeight.value;\r\n                        let h = availableHeight * childHeight.value;\r\n                        let minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                        if (minHeight > h) {\r\n                            availableHeight -= minHeight;\r\n                            totalPercent -= childHeight.value;\r\n                        }\r\n                        let maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                        if (h > maxHeight) {\r\n                            availableHeight -= maxHeight;\r\n                            totalPercent -= childHeight.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!_util_Type__WEBPACK_IMPORTED_MODULE_2__.isNumber(childHeight)) {\r\n                            childHeight = child.height();\r\n                        }\r\n                        availableHeight -= childHeight + child.get(\"marginTop\", 0) + child.get(\"marginBottom\", 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (availableHeight <= 0 || availableHeight == Infinity) {\r\n            availableHeight = .1;\r\n        }\r\n        //if (availableHeight > 0) {\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childHeight = child.get(\"height\");\r\n                    if (childHeight instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                        let privateHeight = availableHeight * childHeight.value / totalPercent - child.get(\"marginTop\", 0) - child.get(\"marginBottom\", 0);\r\n                        let minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                        let maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                        privateHeight = Math.min(Math.max(minHeight, privateHeight), maxHeight);\r\n                        child.setPrivate(\"height\", privateHeight);\r\n                    }\r\n                    else {\r\n                        if (child._prevSettings.height instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_1__.Percent) {\r\n                            child.setPrivate(\"height\", undefined);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //}\r\n        let prevY = paddingTop;\r\n        (0,_Layout__WEBPACK_IMPORTED_MODULE_0__.eachChildren)(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\") {\r\n                if (child.isVisible()) {\r\n                    let bounds = child.adjustedLocalBounds();\r\n                    let marginTop = child.get(\"marginTop\", 0);\r\n                    let top = bounds.top;\r\n                    let bottom = bounds.bottom;\r\n                    let maxHeight = child.get(\"maxHeight\");\r\n                    if (maxHeight) {\r\n                        if (bottom - top > maxHeight) {\r\n                            bottom = top + maxHeight;\r\n                        }\r\n                    }\r\n                    let marginBottom = child.get(\"marginBottom\", 0);\r\n                    let y = prevY + marginTop - top;\r\n                    child.setPrivate(\"y\", y);\r\n                    prevY = y + bottom + marginBottom;\r\n                }\r\n                else {\r\n                    child.setPrivate(\"y\", undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(VerticalLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"VerticalLayout\"\r\n});\r\nObject.defineProperty(VerticalLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Layout__WEBPACK_IMPORTED_MODULE_0__.Layout.classNames.concat([VerticalLayout.className])\r\n});\r\n//# sourceMappingURL=VerticalLayout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvVmVydGljYWxMYXlvdXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnRDtBQUNWO0FBQ0k7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvRkFBb0Y7QUFDN0Y7QUFDTyw2QkFBNkIsMkNBQU07QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxrREFBTztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdEQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGtEQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGtEQUFPO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEscURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvcmVuZGVyL1ZlcnRpY2FsTGF5b3V0LmpzP2M1YzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGF5b3V0LCBlYWNoQ2hpbGRyZW4gfSBmcm9tIFwiLi9MYXlvdXRcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uL3V0aWwvVHlwZVwiO1xyXG5pbXBvcnQgeyBQZXJjZW50IH0gZnJvbSBcIi4uL3V0aWwvUGVyY2VudFwiO1xyXG4vKipcclxuICogQSB2ZXJ0aWNhbCBjaGlsZHJlbiBsYXlvdXQgZm9yIFtbQ29udGFpbmVyXV0uXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbW1vbi1lbGVtZW50cy9jb250YWluZXJzLyNMYXlvdXR9IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZXJ0aWNhbExheW91dCBleHRlbmRzIExheW91dCB7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlQ29udGFpbmVyKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGxldCBwYWRkaW5nVG9wID0gY29udGFpbmVyLmdldChcInBhZGRpbmdUb3BcIiwgMCk7XHJcbiAgICAgICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9IGNvbnRhaW5lci5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgIGxldCB0b3RhbFBlcmNlbnQgPSAwO1xyXG4gICAgICAgIGVhY2hDaGlsZHJlbihjb250YWluZXIsIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRIZWlnaHQgPSBjaGlsZC5nZXQoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGVpZ2h0IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBlcmNlbnQgKz0gY2hpbGRIZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoID0gYXZhaWxhYmxlSGVpZ2h0ICogY2hpbGRIZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaW5IZWlnaHQgPSBjaGlsZC5nZXQoXCJtaW5IZWlnaHRcIiwgY2hpbGQuZ2V0UHJpdmF0ZShcIm1pbkhlaWdodFwiLCAtSW5maW5pdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbkhlaWdodCA+IGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZUhlaWdodCAtPSBtaW5IZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBlcmNlbnQgLT0gY2hpbGRIZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heEhlaWdodCA9IGNoaWxkLmdldChcIm1heEhlaWdodFwiLCBjaGlsZC5nZXRQcml2YXRlKFwibWF4SGVpZ2h0XCIsIEluZmluaXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoID4gbWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgLT0gbWF4SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQZXJjZW50IC09IGNoaWxkSGVpZ2h0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGNoaWxkSGVpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRIZWlnaHQgPSBjaGlsZC5oZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgLT0gY2hpbGRIZWlnaHQgKyBjaGlsZC5nZXQoXCJtYXJnaW5Ub3BcIiwgMCkgKyBjaGlsZC5nZXQoXCJtYXJnaW5Cb3R0b21cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGF2YWlsYWJsZUhlaWdodCA8PSAwIHx8IGF2YWlsYWJsZUhlaWdodCA9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSAuMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9pZiAoYXZhaWxhYmxlSGVpZ2h0ID4gMCkge1xyXG4gICAgICAgIGVhY2hDaGlsZHJlbihjb250YWluZXIsIChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRIZWlnaHQgPSBjaGlsZC5nZXQoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGVpZ2h0IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJpdmF0ZUhlaWdodCA9IGF2YWlsYWJsZUhlaWdodCAqIGNoaWxkSGVpZ2h0LnZhbHVlIC8gdG90YWxQZXJjZW50IC0gY2hpbGQuZ2V0KFwibWFyZ2luVG9wXCIsIDApIC0gY2hpbGQuZ2V0KFwibWFyZ2luQm90dG9tXCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWluSGVpZ2h0ID0gY2hpbGQuZ2V0KFwibWluSGVpZ2h0XCIsIGNoaWxkLmdldFByaXZhdGUoXCJtaW5IZWlnaHRcIiwgLUluZmluaXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXhIZWlnaHQgPSBjaGlsZC5nZXQoXCJtYXhIZWlnaHRcIiwgY2hpbGQuZ2V0UHJpdmF0ZShcIm1heEhlaWdodFwiLCBJbmZpbml0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlSGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5tYXgobWluSGVpZ2h0LCBwcml2YXRlSGVpZ2h0KSwgbWF4SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0UHJpdmF0ZShcImhlaWdodFwiLCBwcml2YXRlSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5fcHJldlNldHRpbmdzLmhlaWdodCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnNldFByaXZhdGUoXCJoZWlnaHRcIiwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIGxldCBwcmV2WSA9IHBhZGRpbmdUb3A7XHJcbiAgICAgICAgZWFjaENoaWxkcmVuKGNvbnRhaW5lciwgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5nZXQoXCJwb3NpdGlvblwiKSA9PSBcInJlbGF0aXZlXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5pc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBib3VuZHMgPSBjaGlsZC5hZGp1c3RlZExvY2FsQm91bmRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hcmdpblRvcCA9IGNoaWxkLmdldChcIm1hcmdpblRvcFwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9wID0gYm91bmRzLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYm90dG9tID0gYm91bmRzLmJvdHRvbTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF4SGVpZ2h0ID0gY2hpbGQuZ2V0KFwibWF4SGVpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCA+IG1heEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0gdG9wICsgbWF4SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXJnaW5Cb3R0b20gPSBjaGlsZC5nZXQoXCJtYXJnaW5Cb3R0b21cIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBwcmV2WSArIG1hcmdpblRvcCAtIHRvcDtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwieVwiLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2WSA9IHkgKyBib3R0b20gKyBtYXJnaW5Cb3R0b207XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRQcml2YXRlKFwieVwiLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnRpY2FsTGF5b3V0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJWZXJ0aWNhbExheW91dFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVmVydGljYWxMYXlvdXQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogTGF5b3V0LmNsYXNzTmFtZXMuY29uY2F0KFtWZXJ0aWNhbExheW91dC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVydGljYWxMYXlvdXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/ZoomTools.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/ZoomTools.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ZoomTools: () => (/* binding */ ZoomTools)\n/* harmony export */ });\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_render_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/render/Button */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js\");\n/* harmony import */ var _core_render_Graphics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/render/Graphics */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js\");\n/* harmony import */ var _core_util_Disposer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _ZoomableContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ZoomableContainer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/ZoomableContainer.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A tool that displays button for zoomable targets.\r\n *\r\n * @since 5.8.0\r\n * @important\r\n */\r\nclass ZoomTools extends _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A [[Button]] for home.\r\n         */\r\n        Object.defineProperty(this, \"homeButton\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Button__WEBPACK_IMPORTED_MODULE_1__.Button.new(this._root, { width: 35, height: 35, themeTags: [\"home\"] }))\r\n        });\r\n        /**\r\n         * A [[Button]] for zoom in.\r\n         */\r\n        Object.defineProperty(this, \"plusButton\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Button__WEBPACK_IMPORTED_MODULE_1__.Button.new(this._root, { width: 35, height: 35, themeTags: [\"plus\"] }))\r\n        });\r\n        /**\r\n         * A [[Button]] for zoom out.\r\n         */\r\n        Object.defineProperty(this, \"minusButton\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Button__WEBPACK_IMPORTED_MODULE_1__.Button.new(this._root, { width: 35, height: 35, themeTags: [\"minus\"] }))\r\n        });\r\n        Object.defineProperty(this, \"_disposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_targetDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.set(\"position\", \"absolute\");\r\n        this.set(\"layout\", this._root.verticalLayout);\r\n        this.addTag(\"zoomtools\");\r\n        this.plusButton.setAll({\r\n            icon: _core_render_Graphics__WEBPACK_IMPORTED_MODULE_2__.Graphics.new(this._root, { themeTags: [\"icon\"] }),\r\n            layout: undefined\r\n        });\r\n        this.minusButton.setAll({\r\n            icon: _core_render_Graphics__WEBPACK_IMPORTED_MODULE_2__.Graphics.new(this._root, { themeTags: [\"icon\"] }),\r\n            layout: undefined\r\n        });\r\n        this.homeButton.setAll({\r\n            icon: _core_render_Graphics__WEBPACK_IMPORTED_MODULE_2__.Graphics.new(this._root, { themeTags: [\"icon\"] }),\r\n            layout: undefined\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"target\")) {\r\n            const target = this.get(\"target\");\r\n            const previous = this._prevSettings.target;\r\n            if (target) {\r\n                if (target instanceof _ZoomableContainer__WEBPACK_IMPORTED_MODULE_3__.ZoomableContainer) {\r\n                    this._targetDisposer = this.addDisposer(target.contents.on(\"scale\", (scale) => {\r\n                        if (scale == target.get(\"minZoomLevel\")) {\r\n                            this.minusButton.set(\"disabled\", true);\r\n                        }\r\n                        else {\r\n                            this.minusButton.set(\"disabled\", false);\r\n                        }\r\n                        if (scale == target.get(\"maxZoomLevel\")) {\r\n                            this.plusButton.set(\"disabled\", true);\r\n                        }\r\n                        else {\r\n                            this.plusButton.set(\"disabled\", false);\r\n                        }\r\n                    }));\r\n                    this.root.events.once(\"frameended\", () => {\r\n                        if (target.get(\"scale\") == target.get(\"minZoomLevel\")) {\r\n                            this.minusButton.set(\"disabled\", true);\r\n                        }\r\n                    });\r\n                }\r\n                this._disposer = new _core_util_Disposer__WEBPACK_IMPORTED_MODULE_4__.MultiDisposer([\r\n                    this.plusButton.events.on(\"click\", () => {\r\n                        target.zoomIn();\r\n                    }),\r\n                    this.minusButton.events.on(\"click\", () => {\r\n                        target.zoomOut();\r\n                    }),\r\n                    this.homeButton.events.on(\"click\", () => {\r\n                        target.goHome();\r\n                    })\r\n                ]);\r\n            }\r\n            if (previous) {\r\n                if (this._disposer) {\r\n                    this._disposer.dispose();\r\n                }\r\n                if (this._targetDisposer) {\r\n                    this._targetDisposer.dispose();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(ZoomTools, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ZoomTools\"\r\n});\r\nObject.defineProperty(ZoomTools, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([ZoomTools.className])\r\n});\r\n//# sourceMappingURL=ZoomTools.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvWm9vbVRvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3RDtBQUNOO0FBQ0k7QUFDRztBQUNEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw2REFBUztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdURBQU0sbUJBQW1CLDRDQUE0QztBQUMzRyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdURBQU0sbUJBQW1CLDRDQUE0QztBQUMzRyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdURBQU0sbUJBQW1CLDZDQUE2QztBQUM1RyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDJEQUFRLG1CQUFtQixxQkFBcUI7QUFDbEU7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrQkFBa0IsMkRBQVEsbUJBQW1CLHFCQUFxQjtBQUNsRTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtCQUFrQiwyREFBUSxtQkFBbUIscUJBQXFCO0FBQ2xFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGlFQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFDQUFxQyw4REFBYTtBQUNsRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvWm9vbVRvb2xzLmpzP2Q0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvQnV0dG9uXCI7XHJcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL0dyYXBoaWNzXCI7XHJcbmltcG9ydCB7IE11bHRpRGlzcG9zZXIgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL0Rpc3Bvc2VyXCI7XHJcbmltcG9ydCB7IFpvb21hYmxlQ29udGFpbmVyIH0gZnJvbSBcIi4vWm9vbWFibGVDb250YWluZXJcIjtcclxuLyoqXHJcbiAqIEEgdG9vbCB0aGF0IGRpc3BsYXlzIGJ1dHRvbiBmb3Igem9vbWFibGUgdGFyZ2V0cy5cclxuICpcclxuICogQHNpbmNlIDUuOC4wXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBab29tVG9vbHMgZXh0ZW5kcyBDb250YWluZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIFtbQnV0dG9uXV0gZm9yIGhvbWUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaG9tZUJ1dHRvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNoaWxkcmVuLnB1c2goQnV0dG9uLm5ldyh0aGlzLl9yb290LCB7IHdpZHRoOiAzNSwgaGVpZ2h0OiAzNSwgdGhlbWVUYWdzOiBbXCJob21lXCJdIH0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgW1tCdXR0b25dXSBmb3Igem9vbSBpbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwbHVzQnV0dG9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2hpbGRyZW4ucHVzaChCdXR0b24ubmV3KHRoaXMuX3Jvb3QsIHsgd2lkdGg6IDM1LCBoZWlnaHQ6IDM1LCB0aGVtZVRhZ3M6IFtcInBsdXNcIl0gfSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBbW0J1dHRvbl1dIGZvciB6b29tIG91dC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtaW51c0J1dHRvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNoaWxkcmVuLnB1c2goQnV0dG9uLm5ldyh0aGlzLl9yb290LCB7IHdpZHRoOiAzNSwgaGVpZ2h0OiAzNSwgdGhlbWVUYWdzOiBbXCJtaW51c1wiXSB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RhcmdldERpc3Bvc2VyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgICAgIHRoaXMuc2V0KFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcclxuICAgICAgICB0aGlzLnNldChcImxheW91dFwiLCB0aGlzLl9yb290LnZlcnRpY2FsTGF5b3V0KTtcclxuICAgICAgICB0aGlzLmFkZFRhZyhcInpvb210b29sc1wiKTtcclxuICAgICAgICB0aGlzLnBsdXNCdXR0b24uc2V0QWxsKHtcclxuICAgICAgICAgICAgaWNvbjogR3JhcGhpY3MubmV3KHRoaXMuX3Jvb3QsIHsgdGhlbWVUYWdzOiBbXCJpY29uXCJdIH0pLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWludXNCdXR0b24uc2V0QWxsKHtcclxuICAgICAgICAgICAgaWNvbjogR3JhcGhpY3MubmV3KHRoaXMuX3Jvb3QsIHsgdGhlbWVUYWdzOiBbXCJpY29uXCJdIH0pLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaG9tZUJ1dHRvbi5zZXRBbGwoe1xyXG4gICAgICAgICAgICBpY29uOiBHcmFwaGljcy5uZXcodGhpcy5fcm9vdCwgeyB0aGVtZVRhZ3M6IFtcImljb25cIl0gfSksXHJcbiAgICAgICAgICAgIGxheW91dDogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfcHJlcGFyZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl9wcmVwYXJlQ2hpbGRyZW4oKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwidGFyZ2V0XCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuZ2V0KFwidGFyZ2V0XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuX3ByZXZTZXR0aW5ncy50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBab29tYWJsZUNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldERpc3Bvc2VyID0gdGhpcy5hZGREaXNwb3Nlcih0YXJnZXQuY29udGVudHMub24oXCJzY2FsZVwiLCAoc2NhbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjYWxlID09IHRhcmdldC5nZXQoXCJtaW5ab29tTGV2ZWxcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWludXNCdXR0b24uc2V0KFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbnVzQnV0dG9uLnNldChcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NhbGUgPT0gdGFyZ2V0LmdldChcIm1heFpvb21MZXZlbFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVzQnV0dG9uLnNldChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVzQnV0dG9uLnNldChcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3QuZXZlbnRzLm9uY2UoXCJmcmFtZWVuZGVkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5nZXQoXCJzY2FsZVwiKSA9PSB0YXJnZXQuZ2V0KFwibWluWm9vbUxldmVsXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbnVzQnV0dG9uLnNldChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwb3NlciA9IG5ldyBNdWx0aURpc3Bvc2VyKFtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdXNCdXR0b24uZXZlbnRzLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuem9vbUluKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taW51c0J1dHRvbi5ldmVudHMub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC56b29tT3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob21lQnV0dG9uLmV2ZW50cy5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmdvSG9tZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwb3Nlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90YXJnZXREaXNwb3Nlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldERpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoWm9vbVRvb2xzLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJab29tVG9vbHNcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFpvb21Ub29scywgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBDb250YWluZXIuY2xhc3NOYW1lcy5jb25jYXQoW1pvb21Ub29scy5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Wm9vbVRvb2xzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/ZoomTools.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/ZoomableContainer.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/ZoomableContainer.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ZoomableContainer: () => (/* binding */ ZoomableContainer)\n/* harmony export */ });\n/* harmony import */ var _core_render_Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/render/Container */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/render/Rectangle */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js\");\n/* harmony import */ var _core_util_Color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _core_util_Utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _core_util_Math__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var _core_util_Object__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _core_util_Type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A version of [[Container]] which adds zooming capabilities.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Zoomable_container} for more info\r\n * @since 5.8.0\r\n * @important\r\n */\r\nclass ZoomableContainer extends _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_za\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_txa\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tya\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_movePoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_downScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_downX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_downY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_pinchDP\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * All elements must be added to `contents.children` instead of `children` of\r\n         * [[ZoomableContainer]].\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Zoomable_container} for more info\r\n         */\r\n        Object.defineProperty(this, \"contents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(_core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container.new(this._root, {\r\n                width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p100,\r\n                height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_1__.p100,\r\n                x: 0,\r\n                y: 0,\r\n                draggable: true,\r\n                background: _core_render_Rectangle__WEBPACK_IMPORTED_MODULE_2__.Rectangle.new(this._root, {\r\n                    fill: (0,_core_util_Color__WEBPACK_IMPORTED_MODULE_3__.color)(0xffffff),\r\n                    fillOpacity: 0\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_wheelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        const events = this.contents.events;\r\n        this._disposers.push(events.on(\"pointerdown\", (event) => {\r\n            this._handleThisDown(event);\r\n        }));\r\n        this._disposers.push(events.on(\"globalpointerup\", (event) => {\r\n            this._handleThisUp(event);\r\n        }));\r\n        this._disposers.push(events.on(\"globalpointermove\", (event) => {\r\n            this._handleThisMove(event);\r\n        }));\r\n        const bg = this.contents.get(\"background\");\r\n        if (bg) {\r\n            bg.adapters.add(\"width\", (width) => {\r\n                return Number(width) * 20;\r\n            });\r\n            bg.adapters.add(\"height\", (height) => {\r\n                return Number(height) * 20;\r\n            });\r\n            bg.adapters.add(\"x\", (x) => {\r\n                return Number(x) - bg.width() / 2;\r\n            });\r\n            bg.adapters.add(\"y\", (y) => {\r\n                return Number(y) - bg.height() / 2;\r\n            });\r\n        }\r\n        const contents = this.contents;\r\n        contents.adapters.add(\"x\", (x) => {\r\n            const scale = contents.get(\"scale\", 1);\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(x) && scale >= 1) {\r\n                let maxPanOut = this.get(\"maxPanOut\", 0.4);\r\n                let w = contents.width();\r\n                x = Math.min(w * maxPanOut, x);\r\n                x = Math.max(this.width() - w * scale * (1 + maxPanOut), x);\r\n            }\r\n            return x;\r\n        });\r\n        contents.adapters.add(\"y\", (y) => {\r\n            const scale = contents.get(\"scale\", 1);\r\n            if (_core_util_Type__WEBPACK_IMPORTED_MODULE_4__.isNumber(y) && scale >= 1) {\r\n                let maxPanOut = this.get(\"maxPanOut\", 0.4);\r\n                let h = contents.height();\r\n                y = Math.min(h * maxPanOut, y);\r\n                y = Math.max(this.height() - h * scale * (1 + maxPanOut), y);\r\n            }\r\n            return y;\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"wheelable\")) {\r\n            this._handleSetWheel();\r\n        }\r\n        this.contents._display.cancelTouch = this.get(\"pinchZoom\", false);\r\n    }\r\n    _handleSetWheel() {\r\n        if (this.get(\"wheelable\")) {\r\n            if (this._wheelDp) {\r\n                this._wheelDp.dispose();\r\n            }\r\n            this._wheelDp = this.events.on(\"wheel\", (event) => {\r\n                const wheelEvent = event.originalEvent;\r\n                // Ignore wheel event if it is happening on a non-ZoomableContainer element, e.g. if\r\n                // some page element is over the ZoomableContainer.\r\n                if (_core_util_Utils__WEBPACK_IMPORTED_MODULE_5__.isLocalEvent(wheelEvent, this)) {\r\n                    wheelEvent.preventDefault();\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n                const point = this.toLocal(event.point);\r\n                this._handleWheelZoom(wheelEvent.deltaY, point);\r\n            });\r\n            this._disposers.push(this._wheelDp);\r\n        }\r\n        else {\r\n            if (this._wheelDp) {\r\n                this._wheelDp.dispose();\r\n            }\r\n        }\r\n    }\r\n    _handleWheelZoom(delta, point) {\r\n        let step = this.get(\"zoomStep\", 2);\r\n        let zoomLevel = this.contents.get(\"scale\", 1);\r\n        let newZoomLevel = zoomLevel;\r\n        if (delta > 0) {\r\n            newZoomLevel = zoomLevel / step;\r\n        }\r\n        else if (delta < 0) {\r\n            newZoomLevel = zoomLevel * step;\r\n        }\r\n        if (newZoomLevel != zoomLevel) {\r\n            this.zoomToPoint(point, newZoomLevel);\r\n        }\r\n    }\r\n    /**\r\n     * Zooms to specific X/Y point.\r\n     *\r\n     * @param   point  Center point\r\n     * @param   level  Zoom level\r\n     * @return         Zoom Animation object\r\n     */\r\n    zoomToPoint(point, level) {\r\n        if (level) {\r\n            level = _core_util_Math__WEBPACK_IMPORTED_MODULE_6__.fitToRange(level, this.get(\"minZoomLevel\", 1), this.get(\"maxZoomLevel\", 32));\r\n        }\r\n        const zoomLevel = this.contents.get(\"scale\", 1);\r\n        let x = point.x;\r\n        let y = point.y;\r\n        let cx = x;\r\n        let cy = y;\r\n        const contents = this.contents;\r\n        let tx = contents.x();\r\n        let ty = contents.y();\r\n        let xx = cx - ((x - tx) / zoomLevel * level);\r\n        let yy = cy - ((y - ty) / zoomLevel * level);\r\n        this._animateTo(xx, yy, level);\r\n        return this._za;\r\n    }\r\n    /**\r\n     * Zooms the container contents in by `zoomStep`.\r\n     *\r\n     * @return Zoom Animation object\r\n     */\r\n    zoomIn() {\r\n        return this.zoomToPoint({ x: this.width() / 2, y: this.height() / 2 }, this.contents.get(\"scale\", 1) * this.get(\"zoomStep\", 2));\r\n    }\r\n    /**\r\n     * Zooms the container contents out by `zoomStep`.\r\n     *\r\n     * @return Zoom Animation object\r\n     */\r\n    zoomOut() {\r\n        return this.zoomToPoint({ x: this.width() / 2, y: this.height() / 2 }, this.contents.get(\"scale\", 1) / this.get(\"zoomStep\", 2));\r\n    }\r\n    /**\r\n     * Fully zooms out the container contents.\r\n     *\r\n     * @return Zoom Animation object\r\n     */\r\n    goHome() {\r\n        return this._animateTo(0, 0, 1);\r\n    }\r\n    _animateTo(x, y, scale) {\r\n        const duration = this.get(\"animationDuration\", 0);\r\n        const easing = this.get(\"animationEasing\");\r\n        const contents = this.contents;\r\n        this._txa = contents.animate({ key: \"x\", to: x, duration: duration, easing: easing });\r\n        this._tya = contents.animate({ key: \"y\", to: y, duration: duration, easing: easing });\r\n        this._za = contents.animate({ key: \"scale\", to: scale, duration: duration, easing: easing });\r\n    }\r\n    _handleThisUp(_event) {\r\n        this._downPoints = {};\r\n    }\r\n    _handleThisDown(event) {\r\n        const contents = this.contents;\r\n        this._downScale = contents.get(\"scale\", 1);\r\n        const downPoints = contents._downPoints;\r\n        let count = _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.keys(downPoints).length;\r\n        if (count == 1) {\r\n            // workaround to solve a problem when events are added to some children of chart container (rotation stops working)\r\n            let downPoint = downPoints[1];\r\n            if (!downPoint) {\r\n                downPoint = downPoints[0];\r\n            }\r\n            if (downPoint && (downPoint.x == event.point.x && downPoint.y == event.point.y)) {\r\n                count = 0;\r\n            }\r\n        }\r\n        if (count > 0) {\r\n            this._downX = contents.x();\r\n            this._downY = contents.y();\r\n            const downId = contents._getDownPointId();\r\n            if (downId) {\r\n                let movePoint = this._movePoints[downId];\r\n                if (movePoint) {\r\n                    contents._downPoints[downId] = movePoint;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleThisMove(event) {\r\n        const originalEvent = event.originalEvent;\r\n        const pointerId = originalEvent.pointerId;\r\n        if (this.get(\"pinchZoom\")) {\r\n            if (pointerId) {\r\n                this._movePoints[pointerId] = event.point;\r\n                if (_core_util_Object__WEBPACK_IMPORTED_MODULE_7__.keys(this.contents._downPoints).length > 1) {\r\n                    this._handlePinch();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handlePinch() {\r\n        let i = 0;\r\n        let downPoints = [];\r\n        let movePoints = [];\r\n        _core_util_Object__WEBPACK_IMPORTED_MODULE_7__.each(this.contents._downPoints, (k, point) => {\r\n            downPoints[i] = point;\r\n            let movePoint = this._movePoints[k];\r\n            if (movePoint) {\r\n                movePoints[i] = movePoint;\r\n            }\r\n            i++;\r\n        });\r\n        if (downPoints.length > 1 && movePoints.length > 1) {\r\n            this.contents._isDragging = false;\r\n            let downPoint0 = downPoints[0];\r\n            let downPoint1 = downPoints[1];\r\n            let movePoint0 = movePoints[0];\r\n            let movePoint1 = movePoints[1];\r\n            if (downPoint0 && downPoint1 && movePoint0 && movePoint1) {\r\n                downPoint0 = this.toLocal(downPoint0);\r\n                downPoint1 = this.toLocal(downPoint1);\r\n                movePoint0 = this.toLocal(movePoint0);\r\n                movePoint1 = this.toLocal(movePoint1);\r\n                let initialDistance = Math.hypot(downPoint1.x - downPoint0.x, downPoint1.y - downPoint0.y);\r\n                let currentDistance = Math.hypot(movePoint1.x - movePoint0.x, movePoint1.y - movePoint0.y);\r\n                let level = currentDistance / initialDistance * this._downScale;\r\n                let moveCenter = { x: movePoint0.x + (movePoint1.x - movePoint0.x) / 2, y: movePoint0.y + (movePoint1.y - movePoint0.y) / 2 };\r\n                let downCenter = { x: downPoint0.x + (downPoint1.x - downPoint0.x) / 2, y: downPoint0.y + (downPoint1.y - downPoint0.y) / 2 };\r\n                let tx = this._downX || 0;\r\n                let ty = this._downY || 0;\r\n                let zoomLevel = this._downScale;\r\n                let xx = moveCenter.x - (-tx + downCenter.x) / zoomLevel * level;\r\n                let yy = moveCenter.y - (-ty + downCenter.y) / zoomLevel * level;\r\n                this.contents.setAll({\r\n                    x: xx,\r\n                    y: yy,\r\n                    scale: level\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(ZoomableContainer, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ZoomableContainer\"\r\n});\r\nObject.defineProperty(ZoomableContainer, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _core_render_Container__WEBPACK_IMPORTED_MODULE_0__.Container.classNames.concat([ZoomableContainer.className])\r\n});\r\n//# sourceMappingURL=ZoomableContainer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvWm9vbWFibGVDb250YWluZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdEO0FBQ1Q7QUFDUztBQUNWO0FBQ0U7QUFDRjtBQUNJO0FBQ0o7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnR0FBZ0c7QUFDekc7QUFDQTtBQUNBO0FBQ08sZ0NBQWdDLDZEQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0dBQWdHO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQVM7QUFDL0MsdUJBQXVCLG9EQUFJO0FBQzNCLHdCQUF3QixvREFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkRBQVM7QUFDckMsMEJBQTBCLHVEQUFLO0FBQy9CO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBEQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1REFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyQ0FBMkM7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkNBQTJDO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHFEQUFxRDtBQUM1Rix1Q0FBdUMscURBQXFEO0FBQzVGLHNDQUFzQyw2REFBNkQ7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtREFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtREFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsbURBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFTO0FBQ3BCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvWm9vbWFibGVDb250YWluZXIuanM/NjI2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9yZW5kZXIvQ29udGFpbmVyXCI7XHJcbmltcG9ydCB7IHAxMDAgfSBmcm9tIFwiLi4vLi4vY29yZS91dGlsL1BlcmNlbnRcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVuZGVyL1JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBjb2xvciB9IGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvQ29sb3JcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi9jb3JlL3V0aWwvVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJG1hdGggZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9NYXRoXCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9PYmplY3RcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4uLy4uL2NvcmUvdXRpbC9UeXBlXCI7XHJcbi8qKlxyXG4gKiBBIHZlcnNpb24gb2YgW1tDb250YWluZXJdXSB3aGljaCBhZGRzIHpvb21pbmcgY2FwYWJpbGl0aWVzLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvY29udGFpbmVycy8jWm9vbWFibGVfY29udGFpbmVyfSBmb3IgbW9yZSBpbmZvXHJcbiAqIEBzaW5jZSA1LjguMFxyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgWm9vbWFibGVDb250YWluZXIgZXh0ZW5kcyBDb250YWluZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfemFcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3R4YVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdHlhXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tb3ZlUG9pbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rvd25TY2FsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rvd25YXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZG93bllcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9waW5jaERQXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBlbGVtZW50cyBtdXN0IGJlIGFkZGVkIHRvIGBjb250ZW50cy5jaGlsZHJlbmAgaW5zdGVhZCBvZiBgY2hpbGRyZW5gIG9mXHJcbiAgICAgICAgICogW1tab29tYWJsZUNvbnRhaW5lcl1dLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29tbW9uLWVsZW1lbnRzL2NvbnRhaW5lcnMvI1pvb21hYmxlX2NvbnRhaW5lcn0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuY2hpbGRyZW4ucHVzaChDb250YWluZXIubmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBwMTAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBwMTAwLFxyXG4gICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBSZWN0YW5nbGUubmV3KHRoaXMuX3Jvb3QsIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBjb2xvcigweGZmZmZmZiksXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl93aGVlbERwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ldygpO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuY29udGVudHMuZXZlbnRzO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGV2ZW50cy5vbihcInBvaW50ZXJkb3duXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVUaGlzRG93bihldmVudCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGV2ZW50cy5vbihcImdsb2JhbHBvaW50ZXJ1cFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlVGhpc1VwKGV2ZW50KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goZXZlbnRzLm9uKFwiZ2xvYmFscG9pbnRlcm1vdmVcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVRoaXNNb3ZlKGV2ZW50KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmNvbnRlbnRzLmdldChcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgaWYgKGJnKSB7XHJcbiAgICAgICAgICAgIGJnLmFkYXB0ZXJzLmFkZChcIndpZHRoXCIsICh3aWR0aCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcih3aWR0aCkgKiAyMDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJnLmFkYXB0ZXJzLmFkZChcImhlaWdodFwiLCAoaGVpZ2h0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKGhlaWdodCkgKiAyMDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJnLmFkYXB0ZXJzLmFkZChcInhcIiwgKHgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIoeCkgLSBiZy53aWR0aCgpIC8gMjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJnLmFkYXB0ZXJzLmFkZChcInlcIiwgKHkpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIoeSkgLSBiZy5oZWlnaHQoKSAvIDI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250ZW50cyA9IHRoaXMuY29udGVudHM7XHJcbiAgICAgICAgY29udGVudHMuYWRhcHRlcnMuYWRkKFwieFwiLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IGNvbnRlbnRzLmdldChcInNjYWxlXCIsIDEpO1xyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoeCkgJiYgc2NhbGUgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1heFBhbk91dCA9IHRoaXMuZ2V0KFwibWF4UGFuT3V0XCIsIDAuNCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdyA9IGNvbnRlbnRzLndpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5taW4odyAqIG1heFBhbk91dCwgeCk7XHJcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5tYXgodGhpcy53aWR0aCgpIC0gdyAqIHNjYWxlICogKDEgKyBtYXhQYW5PdXQpLCB4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb250ZW50cy5hZGFwdGVycy5hZGQoXCJ5XCIsICh5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gY29udGVudHMuZ2V0KFwic2NhbGVcIiwgMSk7XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcih5KSAmJiBzY2FsZSA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4UGFuT3V0ID0gdGhpcy5nZXQoXCJtYXhQYW5PdXRcIiwgMC40KTtcclxuICAgICAgICAgICAgICAgIGxldCBoID0gY29udGVudHMuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5taW4oaCAqIG1heFBhbk91dCwgeSk7XHJcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5tYXgodGhpcy5oZWlnaHQoKSAtIGggKiBzY2FsZSAqICgxICsgbWF4UGFuT3V0KSwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfcHJlcGFyZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHN1cGVyLl9wcmVwYXJlQ2hpbGRyZW4oKTtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwid2hlZWxhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNldFdoZWVsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29udGVudHMuX2Rpc3BsYXkuY2FuY2VsVG91Y2ggPSB0aGlzLmdldChcInBpbmNoWm9vbVwiLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlU2V0V2hlZWwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwid2hlZWxhYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl93aGVlbERwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93aGVlbERwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl93aGVlbERwID0gdGhpcy5ldmVudHMub24oXCJ3aGVlbFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xyXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHdoZWVsIGV2ZW50IGlmIGl0IGlzIGhhcHBlbmluZyBvbiBhIG5vbi1ab29tYWJsZUNvbnRhaW5lciBlbGVtZW50LCBlLmcuIGlmXHJcbiAgICAgICAgICAgICAgICAvLyBzb21lIHBhZ2UgZWxlbWVudCBpcyBvdmVyIHRoZSBab29tYWJsZUNvbnRhaW5lci5cclxuICAgICAgICAgICAgICAgIGlmICgkdXRpbHMuaXNMb2NhbEV2ZW50KHdoZWVsRXZlbnQsIHRoaXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hlZWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLnRvTG9jYWwoZXZlbnQucG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlV2hlZWxab29tKHdoZWVsRXZlbnQuZGVsdGFZLCBwb2ludCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCh0aGlzLl93aGVlbERwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl93aGVlbERwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93aGVlbERwLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVXaGVlbFpvb20oZGVsdGEsIHBvaW50KSB7XHJcbiAgICAgICAgbGV0IHN0ZXAgPSB0aGlzLmdldChcInpvb21TdGVwXCIsIDIpO1xyXG4gICAgICAgIGxldCB6b29tTGV2ZWwgPSB0aGlzLmNvbnRlbnRzLmdldChcInNjYWxlXCIsIDEpO1xyXG4gICAgICAgIGxldCBuZXdab29tTGV2ZWwgPSB6b29tTGV2ZWw7XHJcbiAgICAgICAgaWYgKGRlbHRhID4gMCkge1xyXG4gICAgICAgICAgICBuZXdab29tTGV2ZWwgPSB6b29tTGV2ZWwgLyBzdGVwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZWx0YSA8IDApIHtcclxuICAgICAgICAgICAgbmV3Wm9vbUxldmVsID0gem9vbUxldmVsICogc3RlcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5ld1pvb21MZXZlbCAhPSB6b29tTGV2ZWwpIHtcclxuICAgICAgICAgICAgdGhpcy56b29tVG9Qb2ludChwb2ludCwgbmV3Wm9vbUxldmVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFpvb21zIHRvIHNwZWNpZmljIFgvWSBwb2ludC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBwb2ludCAgQ2VudGVyIHBvaW50XHJcbiAgICAgKiBAcGFyYW0gICBsZXZlbCAgWm9vbSBsZXZlbFxyXG4gICAgICogQHJldHVybiAgICAgICAgIFpvb20gQW5pbWF0aW9uIG9iamVjdFxyXG4gICAgICovXHJcbiAgICB6b29tVG9Qb2ludChwb2ludCwgbGV2ZWwpIHtcclxuICAgICAgICBpZiAobGV2ZWwpIHtcclxuICAgICAgICAgICAgbGV2ZWwgPSAkbWF0aC5maXRUb1JhbmdlKGxldmVsLCB0aGlzLmdldChcIm1pblpvb21MZXZlbFwiLCAxKSwgdGhpcy5nZXQoXCJtYXhab29tTGV2ZWxcIiwgMzIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgem9vbUxldmVsID0gdGhpcy5jb250ZW50cy5nZXQoXCJzY2FsZVwiLCAxKTtcclxuICAgICAgICBsZXQgeCA9IHBvaW50Lng7XHJcbiAgICAgICAgbGV0IHkgPSBwb2ludC55O1xyXG4gICAgICAgIGxldCBjeCA9IHg7XHJcbiAgICAgICAgbGV0IGN5ID0geTtcclxuICAgICAgICBjb25zdCBjb250ZW50cyA9IHRoaXMuY29udGVudHM7XHJcbiAgICAgICAgbGV0IHR4ID0gY29udGVudHMueCgpO1xyXG4gICAgICAgIGxldCB0eSA9IGNvbnRlbnRzLnkoKTtcclxuICAgICAgICBsZXQgeHggPSBjeCAtICgoeCAtIHR4KSAvIHpvb21MZXZlbCAqIGxldmVsKTtcclxuICAgICAgICBsZXQgeXkgPSBjeSAtICgoeSAtIHR5KSAvIHpvb21MZXZlbCAqIGxldmVsKTtcclxuICAgICAgICB0aGlzLl9hbmltYXRlVG8oeHgsIHl5LCBsZXZlbCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3phO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBab29tcyB0aGUgY29udGFpbmVyIGNvbnRlbnRzIGluIGJ5IGB6b29tU3RlcGAuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBab29tIEFuaW1hdGlvbiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgem9vbUluKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnpvb21Ub1BvaW50KHsgeDogdGhpcy53aWR0aCgpIC8gMiwgeTogdGhpcy5oZWlnaHQoKSAvIDIgfSwgdGhpcy5jb250ZW50cy5nZXQoXCJzY2FsZVwiLCAxKSAqIHRoaXMuZ2V0KFwiem9vbVN0ZXBcIiwgMikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBab29tcyB0aGUgY29udGFpbmVyIGNvbnRlbnRzIG91dCBieSBgem9vbVN0ZXBgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gWm9vbSBBbmltYXRpb24gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIHpvb21PdXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuem9vbVRvUG9pbnQoeyB4OiB0aGlzLndpZHRoKCkgLyAyLCB5OiB0aGlzLmhlaWdodCgpIC8gMiB9LCB0aGlzLmNvbnRlbnRzLmdldChcInNjYWxlXCIsIDEpIC8gdGhpcy5nZXQoXCJ6b29tU3RlcFwiLCAyKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZ1bGx5IHpvb21zIG91dCB0aGUgY29udGFpbmVyIGNvbnRlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gWm9vbSBBbmltYXRpb24gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIGdvSG9tZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5pbWF0ZVRvKDAsIDAsIDEpO1xyXG4gICAgfVxyXG4gICAgX2FuaW1hdGVUbyh4LCB5LCBzY2FsZSkge1xyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5nZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCAwKTtcclxuICAgICAgICBjb25zdCBlYXNpbmcgPSB0aGlzLmdldChcImFuaW1hdGlvbkVhc2luZ1wiKTtcclxuICAgICAgICBjb25zdCBjb250ZW50cyA9IHRoaXMuY29udGVudHM7XHJcbiAgICAgICAgdGhpcy5fdHhhID0gY29udGVudHMuYW5pbWF0ZSh7IGtleTogXCJ4XCIsIHRvOiB4LCBkdXJhdGlvbjogZHVyYXRpb24sIGVhc2luZzogZWFzaW5nIH0pO1xyXG4gICAgICAgIHRoaXMuX3R5YSA9IGNvbnRlbnRzLmFuaW1hdGUoeyBrZXk6IFwieVwiLCB0bzogeSwgZHVyYXRpb246IGR1cmF0aW9uLCBlYXNpbmc6IGVhc2luZyB9KTtcclxuICAgICAgICB0aGlzLl96YSA9IGNvbnRlbnRzLmFuaW1hdGUoeyBrZXk6IFwic2NhbGVcIiwgdG86IHNjYWxlLCBkdXJhdGlvbjogZHVyYXRpb24sIGVhc2luZzogZWFzaW5nIH0pO1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZVRoaXNVcChfZXZlbnQpIHtcclxuICAgICAgICB0aGlzLl9kb3duUG9pbnRzID0ge307XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlVGhpc0Rvd24oZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50cyA9IHRoaXMuY29udGVudHM7XHJcbiAgICAgICAgdGhpcy5fZG93blNjYWxlID0gY29udGVudHMuZ2V0KFwic2NhbGVcIiwgMSk7XHJcbiAgICAgICAgY29uc3QgZG93blBvaW50cyA9IGNvbnRlbnRzLl9kb3duUG9pbnRzO1xyXG4gICAgICAgIGxldCBjb3VudCA9ICRvYmplY3Qua2V5cyhkb3duUG9pbnRzKS5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGNvdW50ID09IDEpIHtcclxuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCB0byBzb2x2ZSBhIHByb2JsZW0gd2hlbiBldmVudHMgYXJlIGFkZGVkIHRvIHNvbWUgY2hpbGRyZW4gb2YgY2hhcnQgY29udGFpbmVyIChyb3RhdGlvbiBzdG9wcyB3b3JraW5nKVxyXG4gICAgICAgICAgICBsZXQgZG93blBvaW50ID0gZG93blBvaW50c1sxXTtcclxuICAgICAgICAgICAgaWYgKCFkb3duUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIGRvd25Qb2ludCA9IGRvd25Qb2ludHNbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRvd25Qb2ludCAmJiAoZG93blBvaW50LnggPT0gZXZlbnQucG9pbnQueCAmJiBkb3duUG9pbnQueSA9PSBldmVudC5wb2ludC55KSkge1xyXG4gICAgICAgICAgICAgICAgY291bnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fZG93blggPSBjb250ZW50cy54KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rvd25ZID0gY29udGVudHMueSgpO1xyXG4gICAgICAgICAgICBjb25zdCBkb3duSWQgPSBjb250ZW50cy5fZ2V0RG93blBvaW50SWQoKTtcclxuICAgICAgICAgICAgaWYgKGRvd25JZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmVQb2ludCA9IHRoaXMuX21vdmVQb2ludHNbZG93bklkXTtcclxuICAgICAgICAgICAgICAgIGlmIChtb3ZlUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50cy5fZG93blBvaW50c1tkb3duSWRdID0gbW92ZVBvaW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2hhbmRsZVRoaXNNb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgY29uc3QgcG9pbnRlcklkID0gb3JpZ2luYWxFdmVudC5wb2ludGVySWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwicGluY2hab29tXCIpKSB7XHJcbiAgICAgICAgICAgIGlmIChwb2ludGVySWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdmVQb2ludHNbcG9pbnRlcklkXSA9IGV2ZW50LnBvaW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKCRvYmplY3Qua2V5cyh0aGlzLmNvbnRlbnRzLl9kb3duUG9pbnRzKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlUGluY2goKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlUGluY2goKSB7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGxldCBkb3duUG9pbnRzID0gW107XHJcbiAgICAgICAgbGV0IG1vdmVQb2ludHMgPSBbXTtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5jb250ZW50cy5fZG93blBvaW50cywgKGssIHBvaW50KSA9PiB7XHJcbiAgICAgICAgICAgIGRvd25Qb2ludHNbaV0gPSBwb2ludDtcclxuICAgICAgICAgICAgbGV0IG1vdmVQb2ludCA9IHRoaXMuX21vdmVQb2ludHNba107XHJcbiAgICAgICAgICAgIGlmIChtb3ZlUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIG1vdmVQb2ludHNbaV0gPSBtb3ZlUG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChkb3duUG9pbnRzLmxlbmd0aCA+IDEgJiYgbW92ZVBvaW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudHMuX2lzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IGRvd25Qb2ludDAgPSBkb3duUG9pbnRzWzBdO1xyXG4gICAgICAgICAgICBsZXQgZG93blBvaW50MSA9IGRvd25Qb2ludHNbMV07XHJcbiAgICAgICAgICAgIGxldCBtb3ZlUG9pbnQwID0gbW92ZVBvaW50c1swXTtcclxuICAgICAgICAgICAgbGV0IG1vdmVQb2ludDEgPSBtb3ZlUG9pbnRzWzFdO1xyXG4gICAgICAgICAgICBpZiAoZG93blBvaW50MCAmJiBkb3duUG9pbnQxICYmIG1vdmVQb2ludDAgJiYgbW92ZVBvaW50MSkge1xyXG4gICAgICAgICAgICAgICAgZG93blBvaW50MCA9IHRoaXMudG9Mb2NhbChkb3duUG9pbnQwKTtcclxuICAgICAgICAgICAgICAgIGRvd25Qb2ludDEgPSB0aGlzLnRvTG9jYWwoZG93blBvaW50MSk7XHJcbiAgICAgICAgICAgICAgICBtb3ZlUG9pbnQwID0gdGhpcy50b0xvY2FsKG1vdmVQb2ludDApO1xyXG4gICAgICAgICAgICAgICAgbW92ZVBvaW50MSA9IHRoaXMudG9Mb2NhbChtb3ZlUG9pbnQxKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbml0aWFsRGlzdGFuY2UgPSBNYXRoLmh5cG90KGRvd25Qb2ludDEueCAtIGRvd25Qb2ludDAueCwgZG93blBvaW50MS55IC0gZG93blBvaW50MC55KTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50RGlzdGFuY2UgPSBNYXRoLmh5cG90KG1vdmVQb2ludDEueCAtIG1vdmVQb2ludDAueCwgbW92ZVBvaW50MS55IC0gbW92ZVBvaW50MC55KTtcclxuICAgICAgICAgICAgICAgIGxldCBsZXZlbCA9IGN1cnJlbnREaXN0YW5jZSAvIGluaXRpYWxEaXN0YW5jZSAqIHRoaXMuX2Rvd25TY2FsZTtcclxuICAgICAgICAgICAgICAgIGxldCBtb3ZlQ2VudGVyID0geyB4OiBtb3ZlUG9pbnQwLnggKyAobW92ZVBvaW50MS54IC0gbW92ZVBvaW50MC54KSAvIDIsIHk6IG1vdmVQb2ludDAueSArIChtb3ZlUG9pbnQxLnkgLSBtb3ZlUG9pbnQwLnkpIC8gMiB9O1xyXG4gICAgICAgICAgICAgICAgbGV0IGRvd25DZW50ZXIgPSB7IHg6IGRvd25Qb2ludDAueCArIChkb3duUG9pbnQxLnggLSBkb3duUG9pbnQwLngpIC8gMiwgeTogZG93blBvaW50MC55ICsgKGRvd25Qb2ludDEueSAtIGRvd25Qb2ludDAueSkgLyAyIH07XHJcbiAgICAgICAgICAgICAgICBsZXQgdHggPSB0aGlzLl9kb3duWCB8fCAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHR5ID0gdGhpcy5fZG93blkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGxldCB6b29tTGV2ZWwgPSB0aGlzLl9kb3duU2NhbGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgeHggPSBtb3ZlQ2VudGVyLnggLSAoLXR4ICsgZG93bkNlbnRlci54KSAvIHpvb21MZXZlbCAqIGxldmVsO1xyXG4gICAgICAgICAgICAgICAgbGV0IHl5ID0gbW92ZUNlbnRlci55IC0gKC10eSArIGRvd25DZW50ZXIueSkgLyB6b29tTGV2ZWwgKiBsZXZlbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudHMuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgICAgICB4OiB4eCxcclxuICAgICAgICAgICAgICAgICAgICB5OiB5eSxcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogbGV2ZWxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShab29tYWJsZUNvbnRhaW5lciwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiWm9vbWFibGVDb250YWluZXJcIlxyXG59KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFpvb21hYmxlQ29udGFpbmVyLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IENvbnRhaW5lci5jbGFzc05hbWVzLmNvbmNhdChbWm9vbWFibGVDb250YWluZXIuY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVpvb21hYmxlQ29udGFpbmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/ZoomableContainer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanvasContainer: () => (/* binding */ CanvasContainer),\n/* harmony export */   CanvasDisplayObject: () => (/* binding */ CanvasDisplayObject),\n/* harmony export */   CanvasGraphics: () => (/* binding */ CanvasGraphics),\n/* harmony export */   CanvasImage: () => (/* binding */ CanvasImage),\n/* harmony export */   CanvasLayer: () => (/* binding */ CanvasLayer),\n/* harmony export */   CanvasPivot: () => (/* binding */ CanvasPivot),\n/* harmony export */   CanvasRadialText: () => (/* binding */ CanvasRadialText),\n/* harmony export */   CanvasRenderer: () => (/* binding */ CanvasRenderer),\n/* harmony export */   CanvasRendererEvent: () => (/* binding */ CanvasRendererEvent),\n/* harmony export */   CanvasText: () => (/* binding */ CanvasText),\n/* harmony export */   CanvasTextStyle: () => (/* binding */ CanvasTextStyle)\n/* harmony export */ });\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Renderer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js\");\n/* harmony import */ var _util_Color__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _util_Matrix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/Matrix */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js\");\n/* harmony import */ var _util_Percent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _util_Disposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/* harmony import */ var _util_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _util_Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _util_Object__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../util/Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _util_Type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _util_Math__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/* harmony import */ var svg_arc_to_cubic_bezier__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-arc-to-cubic-bezier */ \"(ssr)/./node_modules/svg-arc-to-cubic-bezier/modules/index.js\");\n/** @ignore */ /** */\r\n\r\n\r\n\r\n\r\n//import { Throttler } from \"../../util/Throttler\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction checkArgs(name, actual, expected) {\r\n    if (actual !== expected) {\r\n        throw new Error(\"Required \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkMinArgs(name, actual, expected) {\r\n    if (actual < expected) {\r\n        throw new Error(\"Required at least \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkEvenArgs(name, actual, expected) {\r\n    checkMinArgs(name, actual, expected);\r\n    if ((actual % expected) !== 0) {\r\n        throw new Error(\"Arguments for \" + name + \" must be in pairs of \" + expected);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n * This splits the flag so that way 0017 will be processed as 0 0 17\r\n *\r\n * This is important for weird paths like `M17 5A1 1 0 0017 30 1 1 0 0017 5`\r\n */\r\nfunction splitArcFlags(args) {\r\n    for (let i = 0; i < args.length; i += 7) {\r\n        let index = i + 3;\r\n        let flag = args[index];\r\n        if (flag.length > 1) {\r\n            const a = /^([01])([01])(.*)$/.exec(flag);\r\n            if (a !== null) {\r\n                args.splice(index, 0, a[1]);\r\n                ++index;\r\n                args.splice(index, 0, a[2]);\r\n                ++index;\r\n                if (a[3].length > 0) {\r\n                    args[index] = a[3];\r\n                }\r\n                else {\r\n                    args.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n        ++index;\r\n        flag = args[index];\r\n        if (flag.length > 1) {\r\n            const a = /^([01])(.+)$/.exec(flag);\r\n            if (a !== null) {\r\n                args.splice(index, 0, a[1]);\r\n                ++index;\r\n                args[index] = a[2];\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction assertBinary(value) {\r\n    if (value === 0 || value === 1) {\r\n        return value;\r\n    }\r\n    else {\r\n        throw new Error(\"Flag must be 0 or 1\");\r\n    }\r\n}\r\n//  1 -> 0xffffff * (2 / 2)\r\n//  2 -> 0xffffff * (1 / 2)\r\n//\r\n//  3 -> 0xffffff * (3 / 4)\r\n//  4 -> 0xffffff * (1 / 4)\r\n//\r\n//  5 -> 0xffffff * (7 / 8)\r\n//  6 -> 0xffffff * (5 / 8)\r\n//  7 -> 0xffffff * (3 / 8)\r\n//  8 -> 0xffffff * (1 / 8)\r\n//\r\n//  9 -> 0xffffff * (15 / 16)\r\n// 10 -> 0xffffff * (13 / 16)\r\n// 11 -> 0xffffff * (11 / 16)\r\n// 12 -> 0xffffff *  (9 / 16)\r\n// 13 -> 0xffffff *  (7 / 16)\r\n// 14 -> 0xffffff *  (5 / 16)\r\n// 15 -> 0xffffff *  (3 / 16)\r\n// 16 -> 0xffffff *  (1 / 16)\r\n// @todo remove this old color distribution algo if the new one pans out\r\n/*function distributeId(id: number): number {\r\n    if (id === 1) {\r\n        return 0x000001;\r\n\r\n    } else {\r\n        // Finds the closest power of 2\r\n        const base = Math.pow(2, Math.ceil(Math.log(id) / Math.log(2)));\r\n\r\n        // Translates the id into an odd fraction index\r\n        const index = ((base - id) * 2) + 1;\r\n\r\n        // TODO is Math.round correct ?\r\n        return Math.round(0xffffff * (index / base));\r\n    }\r\n}*/\r\n/**\r\n * Function by smeans:\r\n * https://lowcode.life/generating-unique-contrasting-colors-in-javascript/\r\n * @ignore\r\n */\r\nfunction distributeId(id) {\r\n    const rgb = [0, 0, 0];\r\n    for (let i = 0; i < 24; i++) {\r\n        rgb[i % 3] <<= 1;\r\n        rgb[i % 3] |= id & 0x01;\r\n        id >>= 1;\r\n    }\r\n    return (rgb[0] | 0) + (rgb[1] << 8) + (rgb[2] << 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction eachTargets(hitTarget, f) {\r\n    for (;;) {\r\n        if (hitTarget.interactive) {\r\n            if (!f(hitTarget)) {\r\n                break;\r\n            }\r\n        }\r\n        if (hitTarget._parent) {\r\n            hitTarget = hitTarget._parent;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n}\r\n// TODO feature detection for mouse/touch/pointer\r\n/**\r\n * @ignore\r\n */\r\nfunction onPointerEvent(element, name, f) {\r\n    return _util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(element, _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getRendererEvent(name), (event) => {\r\n        const target = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getEventTarget(event);\r\n        let touches = event.touches;\r\n        if (touches) {\r\n            if (touches.length == 0) {\r\n                touches = event.changedTouches;\r\n            }\r\n            f(_util_Array__WEBPACK_IMPORTED_MODULE_2__.copy(touches), target);\r\n        }\r\n        else {\r\n            f([event], target);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction isTainted(image) {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    const context = canvas.getContext(\"2d\", { willReadFrequently: true });\r\n    context.drawImage(image, 0, 0, 1, 1);\r\n    try {\r\n        context.getImageData(0, 0, 1, 1);\r\n        return false;\r\n    }\r\n    catch (err) {\r\n        console.warn(\"Image \\\"\" + image.src + \"\\\" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors\");\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * This is needed to workaround a bug in iOS which causes it to not GC canvas elements.\r\n *\r\n * @ignore\r\n */\r\nfunction clearCanvas(view) {\r\n    view.width = 0;\r\n    view.height = 0;\r\n    view.style.width = \"0px\";\r\n    view.style.height = \"0px\";\r\n}\r\n/**\r\n * Aligns the coordinate to the pixel, so it renders crisp\r\n *\r\n * @ignore\r\n */\r\nfunction crisp(x) {\r\n    return Math.floor(x) + .5;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasPivot {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    get x() {\r\n        return this._x;\r\n    }\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    set x(value) {\r\n        this._x = value;\r\n    }\r\n    set y(value) {\r\n        this._y = value;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasDisplayObject extends _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.DisposerClass {\r\n    constructor(renderer) {\r\n        super();\r\n        Object.defineProperty(this, \"_layer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"mask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"exportable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"interactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"inactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"wheelable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"cancelTouch\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"isMeasured\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"buttonMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"alpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"compoundAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"angle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"crisp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"pivot\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new CanvasPivot()\r\n        });\r\n        Object.defineProperty(this, \"filter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"cursorOverStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_replacedCursorStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_localMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Matrix__WEBPACK_IMPORTED_MODULE_4__.Matrix()\r\n        });\r\n        Object.defineProperty(this, \"_matrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Matrix__WEBPACK_IMPORTED_MODULE_4__.Matrix()\r\n        });\r\n        // TODO can this be replaced with _localMatrix ?\r\n        Object.defineProperty(this, \"_uMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _util_Matrix__WEBPACK_IMPORTED_MODULE_4__.Matrix()\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_bounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._renderer = renderer;\r\n    }\r\n    subStatus(status) {\r\n        return {\r\n            inactive: (this.inactive == null ? status.inactive : this.inactive),\r\n            layer: this._layer || status.layer,\r\n        };\r\n    }\r\n    _dispose() {\r\n        this._renderer._removeObject(this);\r\n        this.getLayer().dirty = true;\r\n    }\r\n    getCanvas() {\r\n        return this.getLayer().view;\r\n    }\r\n    getLayer() {\r\n        let self = this;\r\n        for (;;) {\r\n            if (self._layer) {\r\n                return self._layer;\r\n            }\r\n            else if (self._parent) {\r\n                self = self._parent;\r\n            }\r\n            else {\r\n                return this._renderer.defaultLayer;\r\n            }\r\n        }\r\n    }\r\n    setLayer(order, margin) {\r\n        if (order == null) {\r\n            this._layer = undefined;\r\n        }\r\n        else {\r\n            const visible = true;\r\n            this._layer = this._renderer.getLayer(order, visible);\r\n            this._layer.visible = visible;\r\n            this._layer.margin = margin;\r\n            if (margin) {\r\n                _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setInteractive(this._layer.view, false);\r\n            }\r\n            this._renderer._ghostLayer.setMargin(this._renderer.layers);\r\n            if (this._parent) {\r\n                this._parent.registerChildLayer(this._layer);\r\n            }\r\n            this._layer.dirty = true;\r\n            this._renderer.resizeLayer(this._layer);\r\n            this._renderer.resizeGhost();\r\n        }\r\n    }\r\n    markDirtyLayer() {\r\n        this.getLayer().dirty = true;\r\n    }\r\n    clear() {\r\n        this.invalidateBounds();\r\n    }\r\n    invalidateBounds() {\r\n        this._localBounds = undefined;\r\n    }\r\n    _addBounds(_bounds) { }\r\n    _getColorId() {\r\n        if (this._colorId === undefined) {\r\n            this._colorId = this._renderer.paintId(this);\r\n        }\r\n        return this._colorId;\r\n    }\r\n    _isInteractive(status) {\r\n        return !status.inactive && (this.interactive || this._renderer._forceInteractive > 0);\r\n    }\r\n    _isInteractiveMask(status) {\r\n        return this._isInteractive(status);\r\n    }\r\n    contains(child) {\r\n        for (;;) {\r\n            if (child === this) {\r\n                return true;\r\n            }\r\n            else if (child._parent) {\r\n                child = child._parent;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    toGlobal(point) {\r\n        return this._matrix.apply(point);\r\n    }\r\n    toLocal(point) {\r\n        return this._matrix.applyInverse(point);\r\n    }\r\n    getLocalMatrix() {\r\n        this._uMatrix.setTransform(0, 0, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);\r\n        return this._uMatrix;\r\n    }\r\n    getLocalBounds() {\r\n        if (!this._localBounds) {\r\n            const bn = 10000000;\r\n            this._localBounds = {\r\n                left: bn,\r\n                top: bn,\r\n                right: -bn,\r\n                bottom: -bn\r\n            };\r\n            this._addBounds(this._localBounds);\r\n        }\r\n        return this._localBounds;\r\n    }\r\n    getAdjustedBounds(bounds) {\r\n        this._setMatrix();\r\n        const matrix = this.getLocalMatrix();\r\n        const p0 = matrix.apply({ x: bounds.left, y: bounds.top });\r\n        const p1 = matrix.apply({ x: bounds.right, y: bounds.top });\r\n        const p2 = matrix.apply({ x: bounds.right, y: bounds.bottom });\r\n        const p3 = matrix.apply({ x: bounds.left, y: bounds.bottom });\r\n        return {\r\n            left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n            top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n            right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n            bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n        };\r\n    }\r\n    on(key, callback, context) {\r\n        if (this.interactive) {\r\n            return this._renderer._addEvent(this, key, callback, context);\r\n        }\r\n        else {\r\n            return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => { });\r\n        }\r\n    }\r\n    _setMatrix() {\r\n        // TODO only calculate this if it has actually changed\r\n        this._localMatrix.setTransform(this.x, this.y, this.pivot.x, this.pivot.y, \r\n        // Converts degrees to radians\r\n        this.angle * Math.PI / 180, this.scale);\r\n        this._matrix.copyFrom(this._localMatrix);\r\n        if (this._parent) {\r\n            // TODO only calculate this if it has actually changed\r\n            this._matrix.prepend(this._parent._matrix);\r\n        }\r\n    }\r\n    _transform(context, resolution) {\r\n        const m = this._matrix;\r\n        let tx = m.tx * resolution;\r\n        let ty = m.ty * resolution;\r\n        if (this.crisp) {\r\n            tx = crisp(tx);\r\n            ty = crisp(ty);\r\n        }\r\n        context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, tx, ty);\r\n    }\r\n    _transformMargin(context, resolution, margin) {\r\n        const m = this._matrix;\r\n        context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, (m.tx + margin.left) * resolution, (m.ty + margin.top) * resolution);\r\n    }\r\n    _transformLayer(context, resolution, layer) {\r\n        if (layer.margin) {\r\n            this._transformMargin(context, layer.scale || resolution, layer.margin);\r\n        }\r\n        else {\r\n            this._transform(context, layer.scale || resolution);\r\n        }\r\n    }\r\n    render(status, targetGhostLayer = 0) {\r\n        if (this.visible && (this.exportable !== false || !this._renderer._omitTainted)) {\r\n            this._setMatrix();\r\n            const subStatus = this.subStatus(status);\r\n            const resolution = this._renderer.resolution;\r\n            const layers = this._renderer.layers;\r\n            const ghostLayer = this._renderer._ghostLayer;\r\n            const ghostContext = ghostLayer.context;\r\n            const mask = this.mask;\r\n            if (mask) {\r\n                mask._setMatrix();\r\n            }\r\n            // TODO improve this\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(layers, (layer) => {\r\n                if (layer) {\r\n                    const context = layer.context;\r\n                    context.save();\r\n                    // We must apply the mask before we transform the element\r\n                    if (mask) {\r\n                        mask._transformLayer(context, resolution, layer);\r\n                        mask._runPath(context);\r\n                        context.clip();\r\n                    }\r\n                    context.globalAlpha = this.compoundAlpha * this.alpha;\r\n                    this._transformLayer(context, resolution, layer);\r\n                    if (this.filter) {\r\n                        context.filter = this.filter;\r\n                    }\r\n                }\r\n            });\r\n            ghostContext.save();\r\n            // We must apply the mask before we transform the element\r\n            if (mask && this._isInteractiveMask(subStatus)) {\r\n                mask._transformMargin(ghostContext, resolution, ghostLayer.margin);\r\n                mask._runPath(ghostContext);\r\n                ghostContext.clip();\r\n            }\r\n            this._transformMargin(ghostContext, resolution, ghostLayer.margin);\r\n            if ((subStatus.layer.order > 0) && !targetGhostLayer) {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.move(this._renderer._deferredGhostLayers, subStatus.layer.order);\r\n            }\r\n            this._render(subStatus, targetGhostLayer);\r\n            ghostContext.restore();\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(layers, (layer) => {\r\n                if (layer) {\r\n                    layer.context.restore();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _render(status, _targetGhostLayer = 0) {\r\n        if (this.exportable === false) {\r\n            status.layer.tainted = true;\r\n        }\r\n    }\r\n    _ghostOnly(targetGhostLayer = 0) {\r\n        return targetGhostLayer > 0 ? true : false;\r\n    }\r\n    _drawGhost(status, targetGhostLayer = 0) {\r\n        const interactive = this._isInteractive(status);\r\n        const order = status.layer.order || 0;\r\n        return interactive && ((order == 0 && !this._ghostOnly(targetGhostLayer)) || order == targetGhostLayer) ? true : false;\r\n    }\r\n    hovering() {\r\n        return this._renderer._hovering.has(this);\r\n    }\r\n    dragging() {\r\n        return this._renderer._dragging.some((x) => x.value === this);\r\n    }\r\n    shouldCancelTouch() {\r\n        const renderer = this._renderer;\r\n        if (renderer.tapToActivate && !renderer._touchActive) {\r\n            return false;\r\n        }\r\n        if (this.cancelTouch) {\r\n            return true;\r\n        }\r\n        else if (this._parent) {\r\n            return this._parent.shouldCancelTouch();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasContainer extends CanvasDisplayObject {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"interactiveChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_childLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    _isInteractiveMask(status) {\r\n        return this.interactiveChildren || super._isInteractiveMask(status);\r\n    }\r\n    addChild(child) {\r\n        child._parent = this;\r\n        this._children.push(child);\r\n        if (child._layer) {\r\n            this.registerChildLayer(child._layer);\r\n        }\r\n    }\r\n    addChildAt(child, index) {\r\n        child._parent = this;\r\n        this._children.splice(index, 0, child);\r\n        if (child._layer) {\r\n            this.registerChildLayer(child._layer);\r\n        }\r\n    }\r\n    removeChild(child) {\r\n        child._parent = undefined;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.removeFirst(this._children, child);\r\n    }\r\n    _render(status, targetGhostLayer) {\r\n        super._render(status);\r\n        const renderer = this._renderer;\r\n        if (this.interactive && this.interactiveChildren) {\r\n            ++renderer._forceInteractive;\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._children, (child) => {\r\n            child.compoundAlpha = this.compoundAlpha * this.alpha;\r\n            child.render(status, targetGhostLayer);\r\n        });\r\n        if (this.interactive && this.interactiveChildren) {\r\n            --renderer._forceInteractive;\r\n        }\r\n    }\r\n    registerChildLayer(layer) {\r\n        if (!this._childLayers) {\r\n            this._childLayers = [];\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.pushOne(this._childLayers, layer);\r\n        if (this._parent) {\r\n            this._parent.registerChildLayer(layer);\r\n        }\r\n    }\r\n    markDirtyLayer(deep = false) {\r\n        super.markDirtyLayer();\r\n        if (deep && this._childLayers) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._childLayers, (layer) => layer.dirty = true);\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this._childLayers) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._childLayers, (layer) => {\r\n                layer.dirty = true;\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction setPoint(bounds, point) {\r\n    bounds.left = Math.min(bounds.left, point.x);\r\n    bounds.top = Math.min(bounds.top, point.y);\r\n    bounds.right = Math.max(bounds.right, point.x);\r\n    bounds.bottom = Math.max(bounds.bottom, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Op {\r\n    colorize(_context, _forceColor) { }\r\n    colorizeGhost(context, forceColor) {\r\n        this.colorize(context, forceColor);\r\n    }\r\n    path(_context) { }\r\n    pathGhost(context) {\r\n        this.path(context);\r\n    }\r\n    addBounds(_bounds) { }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BeginPath extends Op {\r\n    colorize(context, _forceColor) {\r\n        context.beginPath();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BeginFill extends Op {\r\n    constructor(color) {\r\n        super();\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n    }\r\n    colorize(context, forceColor) {\r\n        if (forceColor !== undefined) {\r\n            context.fillStyle = forceColor;\r\n        }\r\n        else {\r\n            context.fillStyle = this.color;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass EndFill extends Op {\r\n    constructor(clearShadow) {\r\n        super();\r\n        Object.defineProperty(this, \"clearShadow\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: clearShadow\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.fill();\r\n        if (this.clearShadow) {\r\n            context.shadowColor = \"\";\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass EndStroke extends Op {\r\n    colorize(context, _forceColor) {\r\n        context.stroke();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineStyle extends Op {\r\n    constructor(width, color, lineJoin, lineCap) {\r\n        super();\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(this, \"lineJoin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: lineJoin\r\n        });\r\n        Object.defineProperty(this, \"lineCap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: lineCap\r\n        });\r\n    }\r\n    colorize(context, forceColor) {\r\n        if (forceColor !== undefined) {\r\n            context.strokeStyle = forceColor;\r\n        }\r\n        else {\r\n            context.strokeStyle = this.color;\r\n        }\r\n        context.lineWidth = this.width;\r\n        if (this.lineJoin) {\r\n            context.lineJoin = this.lineJoin;\r\n        }\r\n        if (this.lineCap) {\r\n            context.lineCap = this.lineCap;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineDash extends Op {\r\n    constructor(dash) {\r\n        super();\r\n        Object.defineProperty(this, \"dash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dash\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.setLineDash(this.dash);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineDashOffset extends Op {\r\n    constructor(dashOffset) {\r\n        super();\r\n        Object.defineProperty(this, \"dashOffset\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dashOffset\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.lineDashOffset = this.dashOffset;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawRect extends Op {\r\n    constructor(x, y, width, height) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n    }\r\n    path(context) {\r\n        context.rect(this.x, this.y, this.width, this.height);\r\n    }\r\n    addBounds(bounds) {\r\n        const l = this.x;\r\n        const t = this.y;\r\n        const r = l + this.width;\r\n        const b = t + this.height;\r\n        setPoint(bounds, { x: l, y: t });\r\n        setPoint(bounds, { x: r, y: t });\r\n        setPoint(bounds, { x: l, y: b });\r\n        setPoint(bounds, { x: r, y: b });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawCircle extends Op {\r\n    constructor(x, y, radius) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n    }\r\n    path(context) {\r\n        context.moveTo(this.x + this.radius, this.y);\r\n        context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n    }\r\n    // TODO handle skewing and rotation\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x - this.radius, y: this.y - this.radius });\r\n        setPoint(bounds, { x: this.x + this.radius, y: this.y + this.radius });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawEllipse extends Op {\r\n    constructor(x, y, radiusX, radiusY) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"radiusX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusX\r\n        });\r\n        Object.defineProperty(this, \"radiusY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.ellipse(0, 0, this.radiusX, this.radiusY, 0, 0, Math.PI * 2);\r\n    }\r\n    // TODO handle skewing and rotation\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x - this.radiusX, y: this.y - this.radiusY });\r\n        setPoint(bounds, { x: this.x + this.radiusX, y: this.y + this.radiusY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Arc extends Op {\r\n    constructor(cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n        super();\r\n        Object.defineProperty(this, \"cx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cx\r\n        });\r\n        Object.defineProperty(this, \"cy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cy\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        Object.defineProperty(this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: startAngle\r\n        });\r\n        Object.defineProperty(this, \"endAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: endAngle\r\n        });\r\n        Object.defineProperty(this, \"anticlockwise\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: anticlockwise\r\n        });\r\n    }\r\n    path(context) {\r\n        if (this.radius > 0) {\r\n            context.arc(this.cx, this.cy, this.radius, this.startAngle, this.endAngle, this.anticlockwise);\r\n        }\r\n    }\r\n    addBounds(bounds) {\r\n        let arcBounds = _util_Math__WEBPACK_IMPORTED_MODULE_5__.getArcBounds(this.cx, this.cy, this.startAngle * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES, this.endAngle * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES, this.radius);\r\n        setPoint(bounds, { x: arcBounds.left, y: arcBounds.top });\r\n        setPoint(bounds, { x: arcBounds.right, y: arcBounds.bottom });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ArcTo extends Op {\r\n    constructor(x1, y1, x2, y2, radius) {\r\n        super();\r\n        Object.defineProperty(this, \"x1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x1\r\n        });\r\n        Object.defineProperty(this, \"y1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y1\r\n        });\r\n        Object.defineProperty(this, \"x2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x2\r\n        });\r\n        Object.defineProperty(this, \"y2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y2\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n    }\r\n    path(context) {\r\n        if (this.radius > 0) {\r\n            context.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);\r\n        }\r\n    }\r\n    // TODO: add points\r\n    addBounds(_bounds) {\r\n        /*\r\n        // not finished\r\n        https://math.stackexchange.com/questions/1781438/finding-the-center-of-a-circle-given-two-points-and-a-radius-algebraically\r\n\r\n        if (prevPoint) {\r\n            let x1 = prevPoint.x;\r\n            let y1 = prevPoint.y;\r\n            let x2 = this.x2;\r\n            let y2 = this.y2;\r\n            let r = this.radius;\r\n\r\n            let xa = (x2 - x1) / 2;\r\n            let ya = (y2 - y1) / 2;\r\n\r\n            let x0 = x1 + xa;\r\n            let y0 = y1 + ya;\r\n\r\n            let a = Math.hypot(xa, ya);\r\n            let b = Math.sqrt(r * r - a * a);\r\n\r\n            let cx = x0 + b * ya / a;\r\n            let cy = y0 - b * xa / a;\r\n\r\n            console.log(cx, cy);\r\n        }*/\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineTo extends Op {\r\n    constructor(x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.lineTo(this.x, this.y);\r\n    }\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass MoveTo extends Op {\r\n    constructor(x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.moveTo(this.x, this.y);\r\n    }\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ClosePath extends Op {\r\n    path(context) {\r\n        context.closePath();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BezierCurveTo extends Op {\r\n    constructor(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        super();\r\n        Object.defineProperty(this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(this, \"cpX2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX2\r\n        });\r\n        Object.defineProperty(this, \"cpY2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY2\r\n        });\r\n        Object.defineProperty(this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.bezierCurveTo(this.cpX, this.cpY, this.cpX2, this.cpY2, this.toX, this.toY);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n        setPoint(bounds, { x: this.cpX2, y: this.cpY2 });\r\n        setPoint(bounds, { x: this.toX, y: this.toY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass QuadraticCurveTo extends Op {\r\n    constructor(cpX, cpY, toX, toY) {\r\n        super();\r\n        Object.defineProperty(this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.quadraticCurveTo(this.cpX, this.cpY, this.toX, this.toY);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n        setPoint(bounds, { x: this.toX, y: this.toY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Shadow extends Op {\r\n    constructor(color, blur, offsetX, offsetY, opacity) {\r\n        super();\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(this, \"blur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: blur\r\n        });\r\n        Object.defineProperty(this, \"offsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetX\r\n        });\r\n        Object.defineProperty(this, \"offsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetY\r\n        });\r\n        Object.defineProperty(this, \"opacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: opacity\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        if (this.opacity) {\r\n            context.fillStyle = this.color;\r\n        }\r\n        context.shadowColor = this.color;\r\n        context.shadowBlur = this.blur;\r\n        context.shadowOffsetX = this.offsetX;\r\n        context.shadowOffsetY = this.offsetY;\r\n    }\r\n    colorizeGhost(_context, _forceColor) { }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass GraphicsImage extends Op {\r\n    constructor(image, width, height, x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: image\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.drawImage(this.image, this.x, this.y, this.width, this.height);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n        setPoint(bounds, { x: this.width, y: this.height });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasGraphics extends CanvasDisplayObject {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_operations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"blendMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _Renderer__WEBPACK_IMPORTED_MODULE_6__.BlendMode.NORMAL\r\n        });\r\n        Object.defineProperty(this, \"_hasShadows\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_fillAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this._operations.length = 0;\r\n    }\r\n    _pushOp(op) {\r\n        this._operations.push(op);\r\n    }\r\n    beginFill(color, alpha = 1) {\r\n        this._fillAlpha = alpha;\r\n        if (color) {\r\n            if (color instanceof _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color) {\r\n                this._pushOp(new BeginFill(color.toCSS(alpha)));\r\n            }\r\n            else {\r\n                this.isMeasured = true;\r\n                this._pushOp(new BeginFill(color));\r\n            }\r\n        }\r\n        else {\r\n            this._pushOp(new BeginFill(\"rgba(0, 0, 0, \" + alpha + \")\"));\r\n        }\r\n    }\r\n    endFill() {\r\n        this._pushOp(new EndFill(this._hasShadows));\r\n    }\r\n    endStroke() {\r\n        this._pushOp(new EndStroke());\r\n    }\r\n    beginPath() {\r\n        this._pushOp(new BeginPath());\r\n    }\r\n    lineStyle(width = 0, color, alpha = 1, lineJoin, lineCap) {\r\n        this._strokeAlpha = alpha;\r\n        if (color) {\r\n            if (color instanceof _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color) {\r\n                this._pushOp(new LineStyle(width, color.toCSS(alpha), lineJoin, lineCap));\r\n            }\r\n            else {\r\n                this._pushOp(new LineStyle(width, color, lineJoin, lineCap));\r\n            }\r\n        }\r\n        else {\r\n            this._pushOp(new LineStyle(width, \"rgba(0, 0, 0, \" + alpha + \")\", lineJoin, lineCap));\r\n        }\r\n    }\r\n    setLineDash(dash) {\r\n        this._pushOp(new LineDash(dash ? dash : []));\r\n    }\r\n    setLineDashOffset(dashOffset = 0) {\r\n        this._pushOp(new LineDashOffset(dashOffset));\r\n    }\r\n    drawRect(x, y, width, height) {\r\n        this._pushOp(new DrawRect(x, y, width, height));\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pushOp(new DrawCircle(x, y, radius));\r\n    }\r\n    drawEllipse(x, y, radiusX, radiusY) {\r\n        this._pushOp(new DrawEllipse(x, y, radiusX, radiusY));\r\n    }\r\n    arc(cx, cy, radius, startAngle, endAngle, anticlockwise = false) {\r\n        this._pushOp(new Arc(cx, cy, radius, startAngle, endAngle, anticlockwise));\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pushOp(new ArcTo(x1, y1, x2, y2, radius));\r\n    }\r\n    lineTo(x, y) {\r\n        this._pushOp(new LineTo(x, y));\r\n    }\r\n    moveTo(x, y) {\r\n        this._pushOp(new MoveTo(x, y));\r\n    }\r\n    bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        this._pushOp(new BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY));\r\n    }\r\n    quadraticCurveTo(cpX, cpY, toX, toY) {\r\n        this._pushOp(new QuadraticCurveTo(cpX, cpY, toX, toY));\r\n    }\r\n    closePath() {\r\n        this._pushOp(new ClosePath());\r\n    }\r\n    shadow(color, blur = 0, offsetX = 0, offsetY = 0, opacity) {\r\n        this._hasShadows = true;\r\n        this._pushOp(new Shadow(opacity ? color.toCSS(opacity) : color.toCSS(this._fillAlpha || this._strokeAlpha), blur, offsetX, offsetY));\r\n    }\r\n    image(image, width, height, x, y) {\r\n        this._pushOp(new GraphicsImage(image, width, height, x, y));\r\n    }\r\n    // https://svgwg.org/svg2-draft/paths.html#DProperty\r\n    // TODO better error checking\r\n    svgPath(path) {\r\n        let x = 0;\r\n        let y = 0;\r\n        let cpx = null;\r\n        let cpy = null;\r\n        let qcpx = null;\r\n        let qcpy = null;\r\n        const SEGMENTS_REGEXP = /([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g;\r\n        const ARGS_REGEXP = /[\\u0009\\u0020\\u000A\\u000C\\u000D]*([\\+\\-]?[0-9]*\\.?[0-9]+(?:[eE][\\+\\-]?[0-9]+)?)[\\u0009\\u0020\\u000A\\u000C\\u000D]*,?/g;\r\n        let match;\r\n        while ((match = SEGMENTS_REGEXP.exec(path)) !== null) {\r\n            const name = match[1];\r\n            const rest = match[2];\r\n            const args = [];\r\n            while ((match = ARGS_REGEXP.exec(rest)) !== null) {\r\n                args.push(match[1]);\r\n            }\r\n            // Reset control point\r\n            if (name !== \"S\" && name !== \"s\" && name !== \"C\" && name !== \"c\") {\r\n                cpx = null;\r\n                cpy = null;\r\n            }\r\n            // Reset control point\r\n            if (name !== \"Q\" && name !== \"q\" && name !== \"T\" && name !== \"t\") {\r\n                qcpx = null;\r\n                qcpy = null;\r\n            }\r\n            switch (name) {\r\n                case \"M\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    x = +args[0];\r\n                    y = +args[1];\r\n                    this.moveTo(x, y);\r\n                    for (let i = 2; i < args.length; i += 2) {\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"m\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    x += +args[0];\r\n                    y += +args[1];\r\n                    this.moveTo(x, y);\r\n                    for (let i = 2; i < args.length; i += 2) {\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"L\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"l\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"H\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        x = +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        x += +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"V\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        y = +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"v\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        y += +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"C\":\r\n                    checkEvenArgs(name, args.length, 6);\r\n                    for (let i = 0; i < args.length; i += 6) {\r\n                        const x1 = +args[i];\r\n                        const y1 = +args[i + 1];\r\n                        cpx = +args[i + 2];\r\n                        cpy = +args[i + 3];\r\n                        x = +args[i + 4];\r\n                        y = +args[i + 5];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"c\":\r\n                    checkEvenArgs(name, args.length, 6);\r\n                    for (let i = 0; i < args.length; i += 6) {\r\n                        const x1 = +args[i] + x;\r\n                        const y1 = +args[i + 1] + y;\r\n                        cpx = +args[i + 2] + x;\r\n                        cpy = +args[i + 3] + y;\r\n                        x += +args[i + 4];\r\n                        y += +args[i + 5];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"S\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    if (cpx === null || cpy === null) {\r\n                        cpx = x;\r\n                        cpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        const x1 = 2 * x - cpx;\r\n                        const y1 = 2 * y - cpy;\r\n                        cpx = +args[i];\r\n                        cpy = +args[i + 1];\r\n                        x = +args[i + 2];\r\n                        y = +args[i + 3];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"s\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    if (cpx === null || cpy === null) {\r\n                        cpx = x;\r\n                        cpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        const x1 = 2 * x - cpx;\r\n                        const y1 = 2 * y - cpy;\r\n                        cpx = +args[i] + x;\r\n                        cpy = +args[i + 1] + y;\r\n                        x += +args[i + 2];\r\n                        y += +args[i + 3];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"Q\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        qcpx = +args[i];\r\n                        qcpy = +args[i + 1];\r\n                        x = +args[i + 2];\r\n                        y = +args[i + 3];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"q\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        qcpx = +args[i] + x;\r\n                        qcpy = +args[i + 1] + y;\r\n                        x += +args[i + 2];\r\n                        y += +args[i + 3];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"T\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    if (qcpx === null || qcpy === null) {\r\n                        qcpx = x;\r\n                        qcpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        qcpx = 2 * x - qcpx;\r\n                        qcpy = 2 * y - qcpy;\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"t\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    if (qcpx === null || qcpy === null) {\r\n                        qcpx = x;\r\n                        qcpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        qcpx = 2 * x - qcpx;\r\n                        qcpy = 2 * y - qcpy;\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"A\":\r\n                case \"a\":\r\n                    const relative = (name === \"a\");\r\n                    splitArcFlags(args);\r\n                    checkEvenArgs(name, args.length, 7);\r\n                    for (let i = 0; i < args.length; i += 7) {\r\n                        let cx = +args[i + 5];\r\n                        let cy = +args[i + 6];\r\n                        if (relative) {\r\n                            cx += x;\r\n                            cy += y;\r\n                        }\r\n                        const bs = (0,svg_arc_to_cubic_bezier__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\r\n                            px: x,\r\n                            py: y,\r\n                            rx: +args[i],\r\n                            ry: +args[i + 1],\r\n                            xAxisRotation: +args[i + 2],\r\n                            largeArcFlag: assertBinary(+args[i + 3]),\r\n                            sweepFlag: assertBinary(+args[i + 4]),\r\n                            cx,\r\n                            cy,\r\n                        });\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(bs, (b) => {\r\n                            this.bezierCurveTo(b.x1, b.y1, b.x2, b.y2, b.x, b.y);\r\n                            x = b.x;\r\n                            y = b.y;\r\n                        });\r\n                    }\r\n                    break;\r\n                case \"Z\":\r\n                case \"z\":\r\n                    checkArgs(name, args.length, 0);\r\n                    this.closePath();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    _runPath(context) {\r\n        context.beginPath();\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._operations, (op) => {\r\n            op.path(context);\r\n        });\r\n    }\r\n    _render(status, targetGhostLayer = 0) {\r\n        super._render(status);\r\n        const layerDirty = status.layer.dirty;\r\n        const interactive = this._isInteractive(status);\r\n        const ghostOnly = this._ghostOnly(targetGhostLayer);\r\n        const drawGhost = this._drawGhost(status, targetGhostLayer);\r\n        if (layerDirty || interactive || ghostOnly) {\r\n            const context = status.layer.context;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            if (layerDirty && !ghostOnly) {\r\n                context.globalCompositeOperation = this.blendMode;\r\n                context.beginPath();\r\n            }\r\n            let color;\r\n            if (drawGhost) {\r\n                ghostContext.beginPath();\r\n                color = this._getColorId();\r\n            }\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._operations, (op) => {\r\n                if (layerDirty && !ghostOnly) {\r\n                    op.path(context);\r\n                    op.colorize(context, undefined);\r\n                }\r\n                if (drawGhost) {\r\n                    op.pathGhost(ghostContext);\r\n                    op.colorizeGhost(ghostContext, color);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    renderDetached(context) {\r\n        if (this.visible) {\r\n            this._setMatrix();\r\n            context.save();\r\n            // We must apply the mask before we transform the element\r\n            const mask = this.mask;\r\n            if (mask) {\r\n                mask._setMatrix();\r\n                mask._transform(context, 1);\r\n                mask._runPath(context);\r\n                context.clip();\r\n            }\r\n            // TODO handle compoundAlpha somehow ?\r\n            context.globalAlpha = this.compoundAlpha * this.alpha;\r\n            this._transform(context, 1);\r\n            if (this.filter) {\r\n                context.filter = this.filter;\r\n            }\r\n            context.globalCompositeOperation = this.blendMode;\r\n            context.beginPath();\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._operations, (op) => {\r\n                op.path(context);\r\n                op.colorize(context, undefined);\r\n            });\r\n            context.restore();\r\n        }\r\n    }\r\n    _addBounds(bounds) {\r\n        if (this.visible && this.isMeasured) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._operations, (op) => {\r\n                op.addBounds(bounds);\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasText extends CanvasDisplayObject {\r\n    constructor(renderer, text, style) {\r\n        super(renderer);\r\n        Object.defineProperty(this, \"text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"style\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"textVisible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"truncated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_textInfo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        this.text = text;\r\n        this.style = style;\r\n    }\r\n    invalidateBounds() {\r\n        super.invalidateBounds();\r\n        this._textInfo = undefined;\r\n    }\r\n    invalidateVisibility() {\r\n        this.textVisible = true;\r\n        this.scale = this._originalScale || 1;\r\n    }\r\n    _shared(context) {\r\n        if (this.style.textAlign) {\r\n            context.textAlign = this.style.textAlign;\r\n        }\r\n        if (this.style.direction) {\r\n            context.direction = this.style.direction;\r\n        }\r\n        if (this.style.textBaseline) {\r\n            context.textBaseline = this.style.textBaseline;\r\n        }\r\n    }\r\n    _prerender(status, ignoreGhost = false, ignoreFontWeight = false) {\r\n        super._render(status);\r\n        const context = status.layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        // Font style\r\n        const style = this.style;\r\n        let fontStyle = this._getFontStyle(undefined, ignoreFontWeight);\r\n        context.font = fontStyle;\r\n        if (this._isInteractive(status) && !ignoreGhost) {\r\n            ghostContext.font = fontStyle;\r\n        }\r\n        // Other parameters\r\n        if (style.fill) {\r\n            if (style.fill instanceof _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color) {\r\n                context.fillStyle = style.fill.toCSS(style.fillOpacity != undefined ? style.fillOpacity : 1);\r\n            }\r\n            else {\r\n                context.fillStyle = style.fill;\r\n            }\r\n        }\r\n        if (style.shadowColor) {\r\n            status.layer.context.shadowColor = style.shadowColor.toCSS(style.shadowOpacity || 1);\r\n        }\r\n        if (style.shadowBlur) {\r\n            status.layer.context.shadowBlur = style.shadowBlur;\r\n        }\r\n        if (style.shadowOffsetX) {\r\n            status.layer.context.shadowOffsetX = style.shadowOffsetX;\r\n        }\r\n        if (style.shadowOffsetY) {\r\n            status.layer.context.shadowOffsetY = style.shadowOffsetY;\r\n        }\r\n        this._shared(context);\r\n        if (this._isInteractive(status) && !ignoreGhost) {\r\n            ghostContext.fillStyle = this._getColorId();\r\n            this._shared(ghostContext);\r\n        }\r\n    }\r\n    _getFontStyle(style2, ignoreFontWeight = false) {\r\n        // Process defaults\r\n        const style = this.style;\r\n        let fontStyle = [];\r\n        if (style2 && style2.fontVariant) {\r\n            fontStyle.push(style2.fontVariant);\r\n        }\r\n        else if (style.fontVariant) {\r\n            fontStyle.push(style.fontVariant);\r\n        }\r\n        if (!ignoreFontWeight) {\r\n            if (style2 && style2.fontWeight) {\r\n                fontStyle.push(style2.fontWeight);\r\n            }\r\n            else if (style.fontWeight) {\r\n                fontStyle.push(style.fontWeight);\r\n            }\r\n        }\r\n        if (style2 && style2.fontStyle) {\r\n            fontStyle.push(style2.fontStyle);\r\n        }\r\n        else if (style.fontStyle) {\r\n            fontStyle.push(style.fontStyle);\r\n        }\r\n        if (style2 && style2.fontSize) {\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(style2.fontSize)) {\r\n                style2.fontSize = style2.fontSize + \"px\";\r\n            }\r\n            fontStyle.push(style2.fontSize);\r\n        }\r\n        else if (style.fontSize) {\r\n            if (_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(style.fontSize)) {\r\n                style.fontSize = style.fontSize + \"px\";\r\n            }\r\n            fontStyle.push(style.fontSize);\r\n        }\r\n        if (style2 && style2.fontFamily) {\r\n            fontStyle.push(style2.fontFamily);\r\n        }\r\n        else if (style.fontFamily) {\r\n            fontStyle.push(style.fontFamily);\r\n        }\r\n        else if (fontStyle.length) {\r\n            fontStyle.push(\"Arial\");\r\n        }\r\n        return fontStyle.join(\" \");\r\n    }\r\n    _render(status, targetGhostLayer = 0) {\r\n        // We need measurements in order to properly position text for alignment\r\n        if (!this._textInfo) {\r\n            this._measure(status);\r\n        }\r\n        if (this.textVisible) {\r\n            const interactive = this._isInteractive(status);\r\n            const context = status.layer.context;\r\n            const layerDirty = status.layer.dirty;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            const ghostOnly = this._ghostOnly(targetGhostLayer);\r\n            const drawGhost = this._drawGhost(status, targetGhostLayer);\r\n            context.save();\r\n            ghostContext.save();\r\n            this._prerender(status);\r\n            // const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n            // const x = this._localBounds && (this._localBounds.left < 0) ? Math.abs(this._localBounds.left) : 0;\r\n            // Process text info produced by _measure()\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (line, _index) => {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(line.textChunks, (chunk, _index) => {\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        if (!ghostOnly) {\r\n                            context.font = chunk.style;\r\n                        }\r\n                        if (this._isInteractive(status)) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        if (!ghostOnly) {\r\n                            context.fillStyle = chunk.fill.toCSS();\r\n                        }\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Draw text\r\n                    if (layerDirty && !ghostOnly) {\r\n                        context.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                    }\r\n                    // Draw underline\r\n                    if (chunk.textDecoration == \"underline\" || chunk.textDecoration == \"line-through\") {\r\n                        let thickness = 1;\r\n                        let offset = 1;\r\n                        let fontSize = chunk.height;\r\n                        const oversizedBehavior = this.style.oversizedBehavior || \"\";\r\n                        if ([\"truncate\", \"wrap\", \"wrap-no-break\"].indexOf(oversizedBehavior) > -1) {\r\n                            // Measure actual width of the text so the line fits\r\n                            const metrics = this._measureText(chunk.text, context);\r\n                            chunk.width = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n                        }\r\n                        let offsetX = chunk.offsetX;\r\n                        switch (this.style.textAlign) {\r\n                            case \"right\":\r\n                            case \"end\":\r\n                                offsetX -= chunk.width;\r\n                                break;\r\n                            case \"center\":\r\n                                offsetX -= chunk.width / 2;\r\n                                break;\r\n                        }\r\n                        if (chunk.style) {\r\n                            const format = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.getTextStyle(chunk.style);\r\n                            switch (format.fontWeight) {\r\n                                case \"bolder\":\r\n                                case \"bold\":\r\n                                case \"700\":\r\n                                case \"800\":\r\n                                case \"900\":\r\n                                    thickness = 2;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        if (fontSize) {\r\n                            offset = fontSize / 20;\r\n                        }\r\n                        let y;\r\n                        if (chunk.textDecoration == \"line-through\") {\r\n                            y = thickness + line.offsetY + chunk.offsetY - chunk.height / 2;\r\n                        }\r\n                        else {\r\n                            y = thickness + offset * 1.5 + line.offsetY + chunk.offsetY;\r\n                        }\r\n                        if (!ghostOnly) {\r\n                            context.save();\r\n                            context.beginPath();\r\n                            if (chunk.fill) {\r\n                                context.strokeStyle = chunk.fill.toCSS();\r\n                            }\r\n                            else if (this.style.fill && this.style.fill instanceof _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color) {\r\n                                context.strokeStyle = this.style.fill.toCSS();\r\n                            }\r\n                            context.lineWidth = thickness * offset;\r\n                            context.moveTo(offsetX, y);\r\n                            context.lineTo(offsetX + chunk.width, y);\r\n                            context.stroke();\r\n                            context.restore();\r\n                        }\r\n                    }\r\n                    if (interactive && this.interactive && drawGhost) {\r\n                        // Draw text in ghost canvas ONLY if it is set as interactive\r\n                        // explicitly. This way we avoid hit test anomalies caused by anti\r\n                        // aliasing of text.\r\n                        ghostContext.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                });\r\n            });\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n    }\r\n    _addBounds(bounds) {\r\n        if (this.visible && this.isMeasured) {\r\n            //if (this._textVisible) {\r\n            const x = this._measure({\r\n                inactive: this.inactive,\r\n                layer: this.getLayer(),\r\n            });\r\n            setPoint(bounds, { x: x.left, y: x.top });\r\n            setPoint(bounds, { x: x.right, y: x.bottom });\r\n            //}\r\n        }\r\n    }\r\n    _ignoreFontWeight() {\r\n        return /apple/i.test(navigator.vendor);\r\n    }\r\n    _measure(status) {\r\n        const context = status.layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        const rtl = this.style.direction == \"rtl\";\r\n        // Reset text info\r\n        this._textInfo = [];\r\n        // Init\r\n        const oversizedBehavior = this.style.oversizedBehavior;\r\n        const maxWidth = this.style.maxWidth;\r\n        const truncate = _util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n        const wrap = _util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\r\n        // Pre-render\r\n        context.save();\r\n        ghostContext.save();\r\n        this._prerender(status, true, this._ignoreFontWeight());\r\n        // Get default font metrix\r\n        const refText = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \";\r\n        // Split up text into lines\r\n        const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n        let styleRestored = true;\r\n        let minX = 0;\r\n        let maxX = 0;\r\n        // Iterate through the lines\r\n        let offsetY = 0;\r\n        let currentStyle;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(lines, (line, _index) => {\r\n            // Split up line into format/value chunks\r\n            let chunks;\r\n            if (line == \"\") {\r\n                chunks = [{\r\n                        type: \"value\",\r\n                        text: \"\"\r\n                    }];\r\n            }\r\n            else {\r\n                chunks = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.chunk(line, false, this.style.ignoreFormatting);\r\n            }\r\n            while (chunks.length > 0) {\r\n                // Init line object\r\n                let lineInfo = {\r\n                    offsetY: offsetY,\r\n                    ascent: 0,\r\n                    width: 0,\r\n                    height: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    textChunks: []\r\n                };\r\n                // Measure reference text\r\n                const metrics = this._measureText(refText, context);\r\n                const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                lineInfo.height = height;\r\n                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                let currentFormat;\r\n                let currentDecoration = this.style.textDecoration;\r\n                let currentFill;\r\n                let currentChunkWidth;\r\n                let skipFurtherText = false;\r\n                let firstTextChunk = true;\r\n                let leftoverChunks = [];\r\n                let currentVerticalAlign;\r\n                //let offsetX = 0;\r\n                //let chunk;\r\n                //while(chunk = chunks.shift()) {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.eachContinue(chunks, (chunk, index) => {\r\n                    // Format chunk\r\n                    if (chunk.type == \"format\") {\r\n                        if (chunk.text == \"[/]\") {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                                styleRestored = true;\r\n                            }\r\n                            currentFill = undefined;\r\n                            currentStyle = undefined;\r\n                            currentChunkWidth = undefined;\r\n                            currentDecoration = this.style.textDecoration;\r\n                            currentVerticalAlign = undefined;\r\n                            currentFormat = chunk.text;\r\n                        }\r\n                        else {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                            }\r\n                            let format = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.getTextStyle(chunk.text);\r\n                            const fontStyle = this._getFontStyle(format);\r\n                            context.save();\r\n                            ghostContext.save();\r\n                            context.font = fontStyle;\r\n                            currentStyle = fontStyle;\r\n                            currentFormat = chunk.text;\r\n                            if (format.textDecoration) {\r\n                                currentDecoration = format.textDecoration;\r\n                            }\r\n                            if (format.fill) {\r\n                                currentFill = format.fill;\r\n                            }\r\n                            if (format.width) {\r\n                                currentChunkWidth = _util_Type__WEBPACK_IMPORTED_MODULE_8__.toNumber(format.width);\r\n                            }\r\n                            if (format.verticalAlign) {\r\n                                currentVerticalAlign = format.verticalAlign;\r\n                            }\r\n                            styleRestored = false;\r\n                            // Measure reference text after change of format\r\n                            const metrics = this._measureText(refText, context);\r\n                            const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                            if (height > lineInfo.height) {\r\n                                lineInfo.height = height;\r\n                            }\r\n                            if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                            }\r\n                        }\r\n                    }\r\n                    // Text chunk\r\n                    else if (chunk.type == \"value\" && !skipFurtherText) {\r\n                        // Measure\r\n                        const metrics = this._measureText(chunk.text, context);\r\n                        let chunkWidth = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n                        // Check for fit\r\n                        if (truncate) {\r\n                            this.truncated = undefined;\r\n                            // Break words?\r\n                            let breakWords = firstTextChunk || this.style.breakWords || false;\r\n                            // Measure ellipsis and check if it fits\r\n                            const ellipsis = this.style.ellipsis || \"\";\r\n                            const ellipsisMetrics = this._measureText(ellipsis, context);\r\n                            const ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                            // Check fit\r\n                            if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                const excessWidth = maxWidth - lineInfo.width - ellipsisWidth;\r\n                                chunk.text = this._truncateText(context, chunk.text, excessWidth, breakWords);\r\n                                chunk.text += ellipsis;\r\n                                skipFurtherText = true;\r\n                                this.truncated = true;\r\n                            }\r\n                        }\r\n                        else if (wrap) {\r\n                            // Check fit\r\n                            if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                const excessWidth = maxWidth - lineInfo.width;\r\n                                const tmpText = this._truncateText(context, chunk.text, excessWidth, false, (firstTextChunk && this.style.oversizedBehavior != \"wrap-no-break\"));\r\n                                if (tmpText == \"\") {\r\n                                    // Unable to fit a single letter - hide the whole label\r\n                                    this.textVisible = true;\r\n                                    return false;\r\n                                }\r\n                                //skipFurtherText = true;\r\n                                //Add remaining chunks for the next line\r\n                                leftoverChunks = chunks.slice(index + 1);\r\n                                //Add remaining text of current chunk if it was forced-cut\r\n                                if (_util_Utils__WEBPACK_IMPORTED_MODULE_1__.trim(tmpText) != _util_Utils__WEBPACK_IMPORTED_MODULE_1__.trim(chunk.text)) {\r\n                                    leftoverChunks.unshift({\r\n                                        type: \"value\",\r\n                                        text: chunk.text.substr(tmpText.length)\r\n                                    });\r\n                                    if (currentFormat) {\r\n                                        leftoverChunks.unshift({\r\n                                            type: \"format\",\r\n                                            text: currentFormat\r\n                                        });\r\n                                    }\r\n                                }\r\n                                // Set current chunk (truncated)\r\n                                chunk.text = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.trim(tmpText);\r\n                                chunks = [];\r\n                                skipFurtherText = true;\r\n                            }\r\n                        }\r\n                        // Chunk width?\r\n                        let leftBoundMod = 1;\r\n                        let rightBoundMod = 1;\r\n                        if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                            // increase horizontal bounding boxes accordingly\r\n                            const boundsMod = chunkWidth / currentChunkWidth;\r\n                            switch (this.style.textAlign) {\r\n                                case \"right\":\r\n                                case \"end\":\r\n                                    leftBoundMod = boundsMod;\r\n                                    break;\r\n                                case \"center\":\r\n                                    leftBoundMod = boundsMod;\r\n                                    rightBoundMod = boundsMod;\r\n                                    break;\r\n                                default:\r\n                                    rightBoundMod = boundsMod;\r\n                            }\r\n                            chunkWidth = currentChunkWidth;\r\n                        }\r\n                        const chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                        if (chunkHeight > lineInfo.height) {\r\n                            lineInfo.height = chunkHeight;\r\n                        }\r\n                        if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                            lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                        }\r\n                        lineInfo.width += chunkWidth;\r\n                        lineInfo.left += metrics.actualBoundingBoxLeft / leftBoundMod;\r\n                        lineInfo.right += metrics.actualBoundingBoxRight / rightBoundMod;\r\n                        lineInfo.textChunks.push({\r\n                            style: currentStyle,\r\n                            fill: currentFill,\r\n                            text: chunk.text,\r\n                            width: chunkWidth,\r\n                            height: chunkHeight,\r\n                            left: metrics.actualBoundingBoxLeft,\r\n                            right: metrics.actualBoundingBoxRight,\r\n                            ascent: metrics.actualBoundingBoxAscent,\r\n                            offsetX: 0,\r\n                            offsetY: 0,\r\n                            textDecoration: currentDecoration,\r\n                            verticalAlign: currentVerticalAlign\r\n                        });\r\n                        //offsetX += chunkWidth;\r\n                        firstTextChunk = false;\r\n                    }\r\n                    if (leftoverChunks) {\r\n                        //return false;\r\n                    }\r\n                    return true;\r\n                    //}\r\n                });\r\n                if (this.style.lineHeight instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_10__.Percent) {\r\n                    lineInfo.height *= this.style.lineHeight.value;\r\n                    lineInfo.ascent *= this.style.lineHeight.value;\r\n                }\r\n                else {\r\n                    lineInfo.height *= this.style.lineHeight || 1.2;\r\n                    lineInfo.ascent *= this.style.lineHeight || 1.2;\r\n                }\r\n                if (minX < lineInfo.left) {\r\n                    minX = lineInfo.left;\r\n                }\r\n                if (maxX < lineInfo.right) {\r\n                    maxX = lineInfo.right;\r\n                }\r\n                this._textInfo.push(lineInfo);\r\n                //lineInfo.offsetY += lineInfo.ascent;\r\n                offsetY += lineInfo.height;\r\n                // Reset chunks so that it can proceed to the next line\r\n                chunks = leftoverChunks || [];\r\n            }\r\n        });\r\n        if (!styleRestored) {\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n        // Adjust chunk internal offsets\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (lineInfo, _index) => {\r\n            let currentChunkOffset = 0;\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(lineInfo.textChunks, (chunk) => {\r\n                chunk.offsetX = currentChunkOffset + chunk.left - lineInfo.left;\r\n                chunk.offsetY += lineInfo.height - lineInfo.height * (this.style.baselineRatio || 0.19);\r\n                currentChunkOffset += chunk.width * (rtl ? -1 : 1);\r\n                if (chunk.verticalAlign) {\r\n                    switch (chunk.verticalAlign) {\r\n                        case \"super\":\r\n                            chunk.offsetY -= lineInfo.height / 2 - chunk.height / 2;\r\n                            break;\r\n                        case \"sub\":\r\n                            chunk.offsetY += chunk.height / 2;\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        const bounds = {\r\n            left: rtl ? -maxX : -minX,\r\n            top: 0,\r\n            right: rtl ? minX : maxX,\r\n            bottom: offsetY,\r\n        };\r\n        // We need to fit?\r\n        if (oversizedBehavior !== \"none\") {\r\n            const ratio = this._fitRatio(bounds);\r\n            if (ratio < 1) {\r\n                if (oversizedBehavior == \"fit\") {\r\n                    if (_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(this.style.minScale) && (ratio < this.style.minScale)) {\r\n                        this.textVisible = false;\r\n                        bounds.left = 0;\r\n                        bounds.top = 0;\r\n                        bounds.right = 0;\r\n                        bounds.bottom = 0;\r\n                    }\r\n                    else {\r\n                        if (!this._originalScale) {\r\n                            this._originalScale = this.scale;\r\n                        }\r\n                        this.scale = ratio;\r\n                        this.textVisible = true;\r\n                    }\r\n                }\r\n                else if (oversizedBehavior == \"hide\") {\r\n                    this.textVisible = false;\r\n                    bounds.left = 0;\r\n                    bounds.top = 0;\r\n                    bounds.right = 0;\r\n                    bounds.bottom = 0;\r\n                }\r\n                else {\r\n                    switch (this.style.textAlign) {\r\n                        case \"right\":\r\n                        case \"end\":\r\n                            bounds.left = rtl ? maxWidth : -maxWidth;\r\n                            bounds.right = 0;\r\n                            break;\r\n                        case \"center\":\r\n                            bounds.left = -maxWidth / 2;\r\n                            bounds.right = maxWidth / 2;\r\n                            break;\r\n                        default:\r\n                            bounds.left = 0;\r\n                            bounds.right = rtl ? -maxWidth : maxWidth;\r\n                    }\r\n                    this.scale = this._originalScale || 1;\r\n                    this._originalScale = undefined;\r\n                    this.textVisible = true;\r\n                }\r\n            }\r\n            else {\r\n                this.scale = this._originalScale || 1;\r\n                this._originalScale = undefined;\r\n                this.textVisible = true;\r\n            }\r\n        }\r\n        context.restore();\r\n        ghostContext.restore();\r\n        return bounds;\r\n    }\r\n    _fitRatio(bounds) {\r\n        const maxW = this.style.maxWidth;\r\n        const maxH = this.style.maxHeight;\r\n        if (!_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxW) && !_util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxH)) {\r\n            return 1;\r\n        }\r\n        const w = bounds.right - bounds.left;\r\n        const h = bounds.bottom - bounds.top;\r\n        return Math.min(maxW / w || 1, maxH / h || 1);\r\n    }\r\n    _truncateText(context, text, maxWidth, breakWords = false, fallbackBreakWords = true) {\r\n        let width;\r\n        do {\r\n            if (breakWords) {\r\n                text = text.slice(0, -1);\r\n            }\r\n            else {\r\n                let tmp = text.replace(/[^,;:!?\\\\\\/\\s​]+[,;:!?\\\\\\/\\s​]*$/g, \"\");\r\n                if ((tmp == \"\" || tmp === text) && fallbackBreakWords) {\r\n                    breakWords = true;\r\n                }\r\n                else if (tmp == \"\") {\r\n                    return text;\r\n                }\r\n                else {\r\n                    text = tmp;\r\n                }\r\n            }\r\n            const metrics = this._measureText(text, context);\r\n            width = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n        } while ((width > maxWidth) && text != \"\");\r\n        return text;\r\n    }\r\n    _measureText(text, context) {\r\n        let metrics = context.measureText(text);\r\n        let fakeMetrics = {};\r\n        if (metrics.actualBoundingBoxAscent == null) {\r\n            const div = document.createElement(\"div\");\r\n            div.innerText = text;\r\n            div.style.visibility = \"hidden\";\r\n            div.style.position = \"absolute\";\r\n            div.style.top = \"-1000000px;\";\r\n            div.style.fontFamily = this.style.fontFamily || \"\";\r\n            div.style.fontSize = this.style.fontSize + \"\";\r\n            document.body.appendChild(div);\r\n            const bbox = div.getBoundingClientRect();\r\n            document.body.removeChild(div);\r\n            const h = bbox.height;\r\n            const w = metrics.width;\r\n            let left = 0;\r\n            let right = w;\r\n            fakeMetrics = {\r\n                actualBoundingBoxAscent: h,\r\n                actualBoundingBoxDescent: 0,\r\n                actualBoundingBoxLeft: left,\r\n                actualBoundingBoxRight: right,\r\n                fontBoundingBoxAscent: h,\r\n                fontBoundingBoxDescent: 0,\r\n                width: w\r\n            };\r\n            //return fake;\r\n        }\r\n        else {\r\n            fakeMetrics = {\r\n                actualBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                actualBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                actualBoundingBoxLeft: metrics.actualBoundingBoxLeft,\r\n                actualBoundingBoxRight: metrics.actualBoundingBoxRight,\r\n                fontBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                fontBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                width: metrics.width\r\n            };\r\n        }\r\n        const w = metrics.width;\r\n        switch (this.style.textAlign) {\r\n            case \"right\":\r\n            case \"end\":\r\n                fakeMetrics.actualBoundingBoxLeft = w;\r\n                fakeMetrics.actualBoundingBoxRight = 0;\r\n                break;\r\n            case \"center\":\r\n                fakeMetrics.actualBoundingBoxLeft = w / 2;\r\n                fakeMetrics.actualBoundingBoxRight = w / 2;\r\n                break;\r\n            default:\r\n                fakeMetrics.actualBoundingBoxLeft = 0;\r\n                fakeMetrics.actualBoundingBoxRight = w;\r\n        }\r\n        return fakeMetrics;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasTextStyle {\r\n    constructor() {\r\n        //public wordWrapWidth: number = 100;\r\n        Object.defineProperty(this, \"fill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fillOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textAlign\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontFamily\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontWeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontVariant\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textDecoration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // leading?: number;\r\n        // letterSpacing?: number;\r\n        Object.defineProperty(this, \"lineHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: (0,_util_Percent__WEBPACK_IMPORTED_MODULE_10__.percent)(120)\r\n        });\r\n        Object.defineProperty(this, \"baselineRatio\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0.19\r\n        });\r\n        // padding?: number;\r\n        // stroke?: number;\r\n        // strokeThickness?: number;\r\n        // trim?: number;\r\n        // wordWrap?: boolean;\r\n        Object.defineProperty(this, \"direction\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textBaseline\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"oversizedBehavior\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"none\"\r\n        });\r\n        Object.defineProperty(this, \"breakWords\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"ellipsis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"…\"\r\n        });\r\n        Object.defineProperty(this, \"maxWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"maxHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"minScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ignoreFormatting\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasRadialText extends CanvasText {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"textType\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"circular\"\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"inside\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"orientation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"auto\"\r\n        });\r\n        Object.defineProperty(this, \"kerning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_textReversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _render(status, targetGhostLayer = 0) {\r\n        switch (this.textType) {\r\n            case \"circular\":\r\n                this._renderCircular(status, targetGhostLayer);\r\n                break;\r\n            default:\r\n                super._render(status, targetGhostLayer);\r\n                break;\r\n        }\r\n    }\r\n    _renderCircular(status, targetGhostLayer = 0) {\r\n        if (this.textVisible) {\r\n            this._prerender(status);\r\n            const interactive = this._isInteractive(status);\r\n            const context = status.layer.context;\r\n            const layerDirty = status.layer.dirty;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            // Savepoint\r\n            context.save();\r\n            if (interactive) {\r\n                ghostContext.save();\r\n            }\r\n            // We need measurements in order to properly position text for alignment\r\n            if (!this._textInfo) {\r\n                this._measure(status);\r\n            }\r\n            // Init\r\n            let radius = (this.radius || 0);\r\n            let startAngle = (this.startAngle || 0);\r\n            let deltaAngle = 0;\r\n            let orientation = this.orientation;\r\n            let inward = orientation == \"auto\" ? \"auto\" : orientation == \"inward\";\r\n            const inside = this.inside;\r\n            const align = this.style.textAlign || \"left\";\r\n            const kerning = this.kerning || 0;\r\n            let clockwise = align == \"left\" ? 1 : -1;\r\n            const shouldReverse = !this._textReversed;\r\n            const ghostOnly = this._ghostOnly(targetGhostLayer);\r\n            const drawGhost = this._drawGhost(status, targetGhostLayer);\r\n            // Check if we need to invert the whole stuff\r\n            if (inward == \"auto\") {\r\n                // Calc max angle so we know whether we need to flip it\r\n                let maxAngle = 0;\r\n                let midAngle = 0;\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (line, _index) => {\r\n                    const deltaAngle = startAngle + (line.width / (radius - line.height)) / 2 * -clockwise;\r\n                    if (deltaAngle > maxAngle) {\r\n                        maxAngle = deltaAngle;\r\n                    }\r\n                });\r\n                if (align == \"left\") {\r\n                    midAngle = (maxAngle + deltaAngle / 2) * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES;\r\n                }\r\n                else if (align == \"right\") {\r\n                    midAngle = (maxAngle - deltaAngle / 2) * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES;\r\n                }\r\n                else {\r\n                    midAngle = startAngle * _util_Math__WEBPACK_IMPORTED_MODULE_5__.DEGREES;\r\n                }\r\n                midAngle = _util_Math__WEBPACK_IMPORTED_MODULE_5__.normalizeAngle(midAngle);\r\n                inward = (midAngle >= 270) || (midAngle <= 90);\r\n            }\r\n            if (inward == true && shouldReverse) {\r\n                this._textInfo.reverse();\r\n                this._textReversed = true;\r\n            }\r\n            // if ((inward == false && align == \"left\") || (inward == true && align == \"right\")) {\r\n            // \tclockwise *= -1;\r\n            // }\r\n            // Process text info produced by _measure()\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (line, _index) => {\r\n                const textHeight = line.height;\r\n                // Adjust radius (for `inside = false`)\r\n                // Radius adjustment for `inside = false` is below the line calculation\r\n                if (!inside) {\r\n                    radius += textHeight;\r\n                }\r\n                // Reverse letters if we're painting them counter-clockwise\r\n                if (((clockwise == -1 && inward) || (clockwise == 1 && !inward)) && shouldReverse) {\r\n                    line.textChunks.reverse();\r\n                }\r\n                // Init angles\r\n                let lineStartAngle = startAngle;\r\n                deltaAngle = 0;\r\n                // Adjust for center-align\r\n                if (align == \"center\") {\r\n                    lineStartAngle += (line.width / (radius - textHeight)) / 2 * -clockwise;\r\n                    deltaAngle = lineStartAngle - startAngle;\r\n                }\r\n                // if (inward == \"auto\") {\r\n                // \tlet midAngle;\r\n                // \tif (align == \"left\") {\r\n                // \t\tmidAngle = (lineStartAngle + deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \telse if () {\r\n                // \t\tmidAngle = (lineStartAngle - deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \tinward = (midAngle >= 270) || (midAngle <= 90);\r\n                // }\r\n                // Rotate letters if they are facing outward\r\n                lineStartAngle += (Math.PI * (inward ? 0 : 1)); // Rotate 180 if outward\r\n                // Savepoint\r\n                context.save();\r\n                if (interactive) {\r\n                    ghostContext.save();\r\n                }\r\n                // Assume starting angle\r\n                if (!ghostOnly) {\r\n                    context.rotate(lineStartAngle);\r\n                }\r\n                if (interactive) {\r\n                    ghostContext.rotate(lineStartAngle);\r\n                }\r\n                let angleShift = 0;\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(line.textChunks, (chunk, _index) => {\r\n                    // Draw the letter\r\n                    const char = chunk.text;\r\n                    const charWidth = chunk.width;\r\n                    // Rotate half a letter\r\n                    angleShift = (charWidth / 2) / (radius - textHeight) * clockwise;\r\n                    if (!ghostOnly) {\r\n                        context.rotate(angleShift);\r\n                    }\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        if (!ghostOnly) {\r\n                            context.font = chunk.style;\r\n                        }\r\n                        if (interactive) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        if (!ghostOnly) {\r\n                            context.fillStyle = chunk.fill.toCSS();\r\n                        }\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Center letters\r\n                    if (!ghostOnly) {\r\n                        context.textBaseline = \"middle\";\r\n                        context.textAlign = \"center\";\r\n                    }\r\n                    if (interactive) {\r\n                        ghostContext.textBaseline = \"middle\";\r\n                        ghostContext.textAlign = \"center\";\r\n                    }\r\n                    // Plop the letter\r\n                    if (layerDirty && !ghostOnly) {\r\n                        context.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (interactive && drawGhost) {\r\n                        ghostContext.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                    // Rotate half a letter and add spacing\r\n                    angleShift = (charWidth / 2 + kerning) / (radius - textHeight) * clockwise;\r\n                    if (!ghostOnly) {\r\n                        context.rotate(angleShift);\r\n                    }\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                });\r\n                // Restore angle\r\n                context.restore();\r\n                if (interactive) {\r\n                    ghostContext.restore();\r\n                }\r\n                // Adjust radius (for `inside = true`)\r\n                if (inside) {\r\n                    radius -= textHeight;\r\n                }\r\n            });\r\n            // Restore\r\n            context.restore();\r\n            if (interactive) {\r\n                ghostContext.restore();\r\n            }\r\n        }\r\n    }\r\n    _measure(status) {\r\n        switch (this.textType) {\r\n            case \"circular\":\r\n                return this._measureCircular(status);\r\n            default:\r\n                return super._measure(status);\r\n        }\r\n    }\r\n    _measureCircular(status) {\r\n        const context = status.layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        const rtl = this.style.direction == \"rtl\";\r\n        const oversizedBehavior = this.style.oversizedBehavior;\r\n        const maxWidth = this.style.maxWidth;\r\n        const truncate = _util_Type__WEBPACK_IMPORTED_MODULE_8__.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n        const ellipsis = this.style.ellipsis || \"\";\r\n        let ellipsisMetrics;\r\n        //const wrap = $type.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\r\n        // Reset text info\r\n        this.textVisible = true;\r\n        this._textInfo = [];\r\n        this._textReversed = false;\r\n        // Pre-render\r\n        context.save();\r\n        ghostContext.save();\r\n        this._prerender(status, true);\r\n        // Split up text into lines\r\n        const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n        let styleRestored = true;\r\n        let totalWidth = 0;\r\n        // Iterate through the lines\r\n        let offsetY = 0;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(lines, (line, _index) => {\r\n            // Split up line into format/value chunks\r\n            let chunks = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.chunk(line, false, this.style.ignoreFormatting);\r\n            // Init line object\r\n            let lineInfo = {\r\n                offsetY: offsetY,\r\n                ascent: 0,\r\n                width: 0,\r\n                height: 0,\r\n                left: 0,\r\n                right: 0,\r\n                textChunks: []\r\n            };\r\n            let currentStyle;\r\n            let currentFill;\r\n            let currentChunkWidth;\r\n            //while(chunk = chunks.shift()) {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(chunks, (chunk, _index) => {\r\n                // Format chunk\r\n                if (chunk.type == \"format\") {\r\n                    if (chunk.text == \"[/]\") {\r\n                        if (!styleRestored) {\r\n                            context.restore();\r\n                            ghostContext.restore();\r\n                            styleRestored = true;\r\n                        }\r\n                        currentFill = undefined;\r\n                        currentStyle = undefined;\r\n                        currentChunkWidth = undefined;\r\n                    }\r\n                    else {\r\n                        let format = _util_TextFormatter__WEBPACK_IMPORTED_MODULE_9__.TextFormatter.getTextStyle(chunk.text);\r\n                        const fontStyle = this._getFontStyle(format);\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = fontStyle;\r\n                        currentStyle = fontStyle;\r\n                        if (format.fill) {\r\n                            currentFill = format.fill;\r\n                        }\r\n                        if (format.width) {\r\n                            currentChunkWidth = _util_Type__WEBPACK_IMPORTED_MODULE_8__.toNumber(format.width);\r\n                        }\r\n                        styleRestored = false;\r\n                    }\r\n                    if (truncate) {\r\n                        ellipsisMetrics = this._measureText(ellipsis, context);\r\n                    }\r\n                }\r\n                // Text format\r\n                else if (chunk.type == \"value\") {\r\n                    // Measure each letter\r\n                    let chars = chunk.text.match(/./ug) || [];\r\n                    if (rtl) {\r\n                        chars = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.splitString(chunk.text);\r\n                        chars.reverse();\r\n                    }\r\n                    for (let i = 0; i < chars.length; i++) {\r\n                        const char = chars[i];\r\n                        // Measure\r\n                        const metrics = this._measureText(char, context);\r\n                        let chunkWidth = metrics.width;\r\n                        // Chunk width?\r\n                        if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                            chunkWidth = currentChunkWidth;\r\n                        }\r\n                        const chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                        if (chunkHeight > lineInfo.height) {\r\n                            lineInfo.height = chunkHeight;\r\n                        }\r\n                        if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                            lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                        }\r\n                        totalWidth += chunkWidth;\r\n                        // Handle oversized behavior\r\n                        if (truncate) {\r\n                            // Measure ellipsis and check if it fits\r\n                            if (!ellipsisMetrics) {\r\n                                ellipsisMetrics = this._measureText(ellipsis, context);\r\n                            }\r\n                            const ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                            //totalWidth += ellipsisWidth;\r\n                            if ((totalWidth + ellipsisWidth) > maxWidth) {\r\n                                if (lineInfo.textChunks.length == 1) {\r\n                                    this.textVisible = false;\r\n                                }\r\n                                else {\r\n                                    lineInfo.width += ellipsisWidth;\r\n                                    lineInfo.left += ellipsisMetrics.actualBoundingBoxLeft;\r\n                                    lineInfo.right += ellipsisMetrics.actualBoundingBoxRight;\r\n                                    lineInfo.textChunks.push({\r\n                                        style: currentStyle,\r\n                                        fill: currentFill,\r\n                                        text: ellipsis,\r\n                                        width: ellipsisWidth,\r\n                                        height: chunkHeight + ellipsisMetrics.actualBoundingBoxDescent,\r\n                                        left: ellipsisMetrics.actualBoundingBoxLeft,\r\n                                        right: ellipsisMetrics.actualBoundingBoxRight,\r\n                                        ascent: ellipsisMetrics.actualBoundingBoxAscent,\r\n                                        offsetX: 0,\r\n                                        offsetY: chunkHeight,\r\n                                        textDecoration: undefined\r\n                                    });\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                        lineInfo.width += chunkWidth;\r\n                        lineInfo.left += metrics.actualBoundingBoxLeft;\r\n                        lineInfo.right += metrics.actualBoundingBoxRight;\r\n                        lineInfo.textChunks.push({\r\n                            style: currentStyle,\r\n                            fill: currentFill,\r\n                            text: char,\r\n                            width: chunkWidth,\r\n                            height: chunkHeight + metrics.actualBoundingBoxDescent,\r\n                            left: metrics.actualBoundingBoxLeft,\r\n                            right: metrics.actualBoundingBoxRight,\r\n                            ascent: metrics.actualBoundingBoxAscent,\r\n                            offsetX: 0,\r\n                            offsetY: chunkHeight,\r\n                            textDecoration: undefined\r\n                        });\r\n                        if (rtl) {\r\n                            // @todo still needed?\r\n                            //break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (this.style.lineHeight instanceof _util_Percent__WEBPACK_IMPORTED_MODULE_10__.Percent) {\r\n                lineInfo.height *= this.style.lineHeight.value;\r\n            }\r\n            else {\r\n                lineInfo.height *= this.style.lineHeight || 1.2;\r\n            }\r\n            this._textInfo.push(lineInfo);\r\n            //lineInfo.offsetY += lineInfo.ascent;\r\n            offsetY += lineInfo.height;\r\n        });\r\n        if (!styleRestored) {\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n        if (oversizedBehavior == \"hide\" && (totalWidth > maxWidth)) {\r\n            this.textVisible = false;\r\n        }\r\n        // Adjust chunk internal offsets\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._textInfo, (lineInfo) => {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(lineInfo.textChunks, (chunk) => {\r\n                chunk.offsetY += Math.round((lineInfo.height - chunk.height + (lineInfo.ascent - chunk.ascent)) / 2);\r\n            });\r\n        });\r\n        context.restore();\r\n        ghostContext.restore();\r\n        return {\r\n            left: 0,\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n        };\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasImage extends CanvasDisplayObject {\r\n    constructor(renderer, image) {\r\n        super(renderer);\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_imageMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.image = image;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this._imageMask) {\r\n            clearCanvas(this._imageMask);\r\n        }\r\n    }\r\n    getLocalBounds() {\r\n        if (!this._localBounds) {\r\n            let w = 0;\r\n            let h = 0;\r\n            if (this.width) {\r\n                w = this.width;\r\n            }\r\n            if (this.height) {\r\n                h = this.height;\r\n            }\r\n            this._localBounds = {\r\n                left: 0,\r\n                top: 0,\r\n                right: w,\r\n                bottom: h\r\n            };\r\n            this._addBounds(this._localBounds);\r\n        }\r\n        return this._localBounds;\r\n    }\r\n    _render(status, targetGhostLayer = 0) {\r\n        super._render(status);\r\n        if (this.image) {\r\n            if (this.tainted === undefined) {\r\n                this.tainted = isTainted(this.image);\r\n                status.layer.tainted = true;\r\n            }\r\n            if (this.tainted && this._renderer._omitTainted) {\r\n                return;\r\n            }\r\n            const ghostOnly = this._ghostOnly(targetGhostLayer);\r\n            const drawGhost = this._drawGhost(status, targetGhostLayer);\r\n            if (status.layer.dirty && !ghostOnly) {\r\n                if (this.shadowColor) {\r\n                    status.layer.context.shadowColor = this.shadowColor.toCSS(this.shadowOpacity || 1);\r\n                }\r\n                if (this.shadowBlur) {\r\n                    status.layer.context.shadowBlur = this.shadowBlur;\r\n                }\r\n                if (this.shadowOffsetX) {\r\n                    status.layer.context.shadowOffsetX = this.shadowOffsetX;\r\n                }\r\n                if (this.shadowOffsetY) {\r\n                    status.layer.context.shadowOffsetY = this.shadowOffsetY;\r\n                }\r\n                // TODO should this round ?\r\n                const width = this.width || this.image.naturalWidth;\r\n                const height = this.height || this.image.naturalHeight;\r\n                status.layer.context.drawImage(this.image, 0, 0, width, height);\r\n            }\r\n            if (this.interactive && this._isInteractive(status) && drawGhost) {\r\n                const mask = this._getMask(this.image);\r\n                this._renderer._ghostLayer.context.drawImage(mask, 0, 0);\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this.image = undefined;\r\n        this._imageMask = undefined;\r\n    }\r\n    _getMask(image) {\r\n        if (this._imageMask === undefined) {\r\n            // TODO should this round ?\r\n            const width = this.width || image.naturalWidth;\r\n            const height = this.height || image.naturalHeight;\r\n            // We need to create a second canvas because destination-in clears out the entire canvas\r\n            const canvas = document.createElement(\"canvas\");\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            const context = canvas.getContext(\"2d\");\r\n            context.imageSmoothingEnabled = false;\r\n            context.fillStyle = this._getColorId();\r\n            context.fillRect(0, 0, width, height);\r\n            if (!isTainted(image)) {\r\n                context.globalCompositeOperation = \"destination-in\";\r\n                context.drawImage(image, 0, 0, width, height);\r\n            }\r\n            this._imageMask = canvas;\r\n        }\r\n        return this._imageMask;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasRendererEvent {\r\n    constructor(event, originalPoint, point, bbox) {\r\n        Object.defineProperty(this, \"event\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: event\r\n        });\r\n        Object.defineProperty(this, \"originalPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: originalPoint\r\n        });\r\n        Object.defineProperty(this, \"point\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: point\r\n        });\r\n        Object.defineProperty(this, \"bbox\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: bbox\r\n        });\r\n        Object.defineProperty(this, \"id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"simulated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"native\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        if (_util_Utils__WEBPACK_IMPORTED_MODULE_1__.supports(\"touchevents\") && event instanceof Touch) {\r\n            this.id = event.identifier;\r\n        }\r\n        else {\r\n            this.id = null;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasRenderer extends _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.ArrayDisposer {\r\n    constructor(resolution) {\r\n        super();\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(this, \"_layerDom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(this, \"layers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_dirtyLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"defaultLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.getLayer(0)\r\n        });\r\n        Object.defineProperty(this, \"_ghostLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new GhostLayer()\r\n        });\r\n        Object.defineProperty(this, \"_deferredGhostLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_patternCanvas\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"canvas\")\r\n        });\r\n        Object.defineProperty(this, \"_patternContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._patternCanvas.getContext(\"2d\")\r\n        });\r\n        Object.defineProperty(this, \"_realWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_realHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_calculatedWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_calculatedHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"interactionsEnabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_colorMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_forceInteractive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_omitTainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO this should store the Id as well\r\n        Object.defineProperty(this, \"_hovering\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Set()\r\n        });\r\n        Object.defineProperty(this, \"_dragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mousedown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_lastPointerMoveEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tapToActivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"tapToActivateTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 3000\r\n        });\r\n        Object.defineProperty(this, \"_touchActive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_touchActiveTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (resolution == null) {\r\n            this.resolution = window.devicePixelRatio;\r\n        }\r\n        else {\r\n            this.resolution = resolution;\r\n        }\r\n        this.view.style.position = \"absolute\";\r\n        this.view.setAttribute(\"aria-hidden\", \"true\");\r\n        this.view.appendChild(this._layerDom);\r\n        this._disposers.push(new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n            _util_Object__WEBPACK_IMPORTED_MODULE_11__.each(this._events, (_key, events) => {\r\n                events.disposer.dispose();\r\n            });\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n                clearCanvas(layer.view);\r\n                if (layer.exportableView) {\r\n                    clearCanvas(layer.exportableView);\r\n                }\r\n            });\r\n            clearCanvas(this._ghostLayer.view);\r\n            clearCanvas(this._patternCanvas);\r\n        }));\r\n        /*\r\n        this._disposers.push($utils.addEventListener(this._ghostLayer.view, \"click\", (originalEvent: MouseEvent) => {\r\n            const event = this.getEvent(originalEvent);\r\n            const target = this._getHitTarget(event.originalPoint, event.bbox);\r\n            console.debug(target);\r\n        }));\r\n        */\r\n        // Monitor for possible pixel ratio changes (when page is zoomed)\r\n        this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.onZoom(() => {\r\n            if (resolution == null) {\r\n                this.resolution = window.devicePixelRatio;\r\n            }\r\n        }));\r\n        // We need this in order top prevent default touch gestures when dragging\r\n        // draggable elements\r\n        if (_util_Utils__WEBPACK_IMPORTED_MODULE_1__.supports(\"touchevents\")) {\r\n            const listener = (ev) => {\r\n                if (this._dragging.length !== 0) {\r\n                    _util_Array__WEBPACK_IMPORTED_MODULE_2__.eachContinue(this._dragging, (item) => {\r\n                        if (item.value.shouldCancelTouch()) {\r\n                            ev.preventDefault();\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n                // If touch down happends, delay touch out\r\n                if (this._touchActiveTimeout) {\r\n                    this._delayTouchDeactivate();\r\n                }\r\n            };\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(window, \"touchstart\", listener, { passive: false }));\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, \"touchstart\", listener, { passive: false }));\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, \"touchmove\", () => {\r\n                // If touch is moving, delay touch out\r\n                if (this._touchActiveTimeout) {\r\n                    this._delayTouchDeactivate();\r\n                }\r\n            }, { passive: true }));\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(window, \"click\", (_ev) => {\r\n                this._touchActive = false;\r\n            }, { passive: true }));\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, \"click\", (_ev) => {\r\n                window.setTimeout(() => {\r\n                    this._touchActive = true;\r\n                    this._delayTouchDeactivate();\r\n                }, 100);\r\n            }, { passive: true }));\r\n        }\r\n        // Prevent scrolling of the window when hovering on \"wheelable\" object\r\n        if (_util_Utils__WEBPACK_IMPORTED_MODULE_1__.supports(\"wheelevents\")) {\r\n            this._disposers.push(_util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, \"wheel\", (ev) => {\r\n                let prevent = false;\r\n                this._hovering.forEach((obj) => {\r\n                    if (obj.wheelable) {\r\n                        prevent = true;\r\n                        return false;\r\n                    }\r\n                });\r\n                if (prevent) {\r\n                    ev.preventDefault();\r\n                }\r\n            }, { passive: false }));\r\n        }\r\n    }\r\n    /*protected _mouseMoveThrottler: Throttler = new Throttler(() => {\r\n        this._dispatchGlobalMousemove(this._lastPointerMoveEvent.event, this._lastPointerMoveEvent.native);\r\n    });\r\n    */\r\n    resetImageArray() {\r\n        this._ghostLayer.imageArray = undefined;\r\n    }\r\n    _delayTouchDeactivate() {\r\n        if (this._touchActiveTimeout) {\r\n            clearTimeout(this._touchActiveTimeout);\r\n        }\r\n        if (this.tapToActivateTimeout > 0) {\r\n            this._touchActiveTimeout = window.setTimeout(() => {\r\n                this._touchActive = false;\r\n            }, this.tapToActivateTimeout);\r\n        }\r\n    }\r\n    get debugGhostView() {\r\n        return !!this._ghostLayer.view.parentNode;\r\n    }\r\n    set debugGhostView(value) {\r\n        if (value) {\r\n            if (!this._ghostLayer.view.parentNode) {\r\n                this.view.appendChild(this._ghostLayer.view);\r\n            }\r\n        }\r\n        else {\r\n            if (this._ghostLayer.view.parentNode) {\r\n                this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view);\r\n            }\r\n        }\r\n    }\r\n    createLinearGradient(x1, y1, x2, y2) {\r\n        return this.defaultLayer.context.createLinearGradient(x1, y1, x2, y2);\r\n    }\r\n    createRadialGradient(x1, y1, radius1, x2, y2, radius2) {\r\n        return this.defaultLayer.context.createRadialGradient(x1, y1, radius1, x2, y2, radius2);\r\n    }\r\n    createPattern(graphics, background, repetition, width, height) {\r\n        // const patternCanvas = document.createElement(\"canvas\");\r\n        // const patternContext = patternCanvas.getContext(\"2d\")!;\r\n        // patternCanvas.width = width;\r\n        // patternCanvas.height = height;\r\n        // if (fill) {\r\n        // \tpatternContext.fillStyle = fill.toCSS();\r\n        // \tpatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\r\n        // }\r\n        // const layer = {\r\n        // \tview: patternCanvas,\r\n        // \tcontext: patternContext,\r\n        // \tvisible: true,\r\n        // \torder: 0,\r\n        // \twidth: width,\r\n        // \theight: height,\r\n        // \tdirty: true\r\n        // };\r\n        // // patternContext.arc(0, 0, 50, 0, .5 * Math.PI);\r\n        // // patternContext.stroke();\r\n        // image.targetLayer = layer;\r\n        // image.render(layer);\r\n        //this._layerDom.appendChild(patternCanvas);\r\n        this._patternCanvas.width = width;\r\n        this._patternCanvas.height = height;\r\n        this._patternContext.clearRect(0, 0, width, height);\r\n        // patternCanvas.style.width = width * this.resolution + \"px\";\r\n        // patternCanvas.style.height = height * this.resolution + \"px\";\r\n        background.renderDetached(this._patternContext);\r\n        graphics.renderDetached(this._patternContext);\r\n        return this._patternContext.createPattern(this._patternCanvas, repetition);\r\n    }\r\n    makeContainer() {\r\n        return new CanvasContainer(this);\r\n    }\r\n    makeGraphics() {\r\n        return new CanvasGraphics(this);\r\n    }\r\n    makeText(text, style) {\r\n        return new CanvasText(this, text, style);\r\n    }\r\n    makeTextStyle() {\r\n        return new CanvasTextStyle();\r\n    }\r\n    makeRadialText(text, style) {\r\n        return new CanvasRadialText(this, text, style);\r\n    }\r\n    makePicture(image) {\r\n        return new CanvasImage(this, image);\r\n    }\r\n    resizeLayer(layer) {\r\n        layer.resize(this._calculatedWidth, this._calculatedHeight, this._calculatedWidth, this._calculatedHeight, this.resolution);\r\n    }\r\n    resizeGhost() {\r\n        this._ghostLayer.resize(this._calculatedWidth, this._calculatedHeight, this._calculatedWidth, this._calculatedHeight, this.resolution);\r\n    }\r\n    resize(realWidth, realHeight, calculatedWidth, calculatedHeight) {\r\n        this._realWidth = realWidth;\r\n        this._realHeight = realHeight;\r\n        this._calculatedWidth = calculatedWidth;\r\n        this._calculatedHeight = calculatedHeight;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                layer.dirty = true;\r\n                this.resizeLayer(layer);\r\n            }\r\n        });\r\n        this.resizeGhost();\r\n        this.view.style.width = calculatedWidth + \"px\";\r\n        this.view.style.height = calculatedHeight + \"px\";\r\n    }\r\n    createDetachedLayer(willReadFrequently = false) {\r\n        const view = document.createElement(\"canvas\");\r\n        const context = view.getContext(\"2d\", { willReadFrequently: willReadFrequently });\r\n        const layer = new CanvasLayer(view, context);\r\n        view.style.position = \"absolute\";\r\n        view.style.top = \"0px\";\r\n        view.style.left = \"0px\";\r\n        return layer;\r\n    }\r\n    getLayerByOrder(order) {\r\n        const layers = this.layers;\r\n        const length = layers.length;\r\n        for (let i = 0; i < length; i++) {\r\n            const layer = layers[i];\r\n            if (layer.order == order) {\r\n                return layer;\r\n            }\r\n        }\r\n    }\r\n    getLayer(order, visible = true) {\r\n        let existingLayer = this.getLayerByOrder(order);\r\n        if (existingLayer) {\r\n            return existingLayer;\r\n        }\r\n        const layer = this.createDetachedLayer(order == 99);\r\n        layer.order = order;\r\n        layer.visible = visible;\r\n        layer.view.className = \"am5-layer-\" + order;\r\n        if (layer.visible) {\r\n            this.resizeLayer(layer);\r\n        }\r\n        const layers = this.layers;\r\n        layers.push(layer);\r\n        layers.sort((a, b) => {\r\n            if (a.order > b.order) {\r\n                return 1;\r\n            }\r\n            else if (a.order < b.order) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        const length = layers.length;\r\n        const layerIndex = _util_Array__WEBPACK_IMPORTED_MODULE_2__.indexOf(layers, layer);\r\n        let next;\r\n        for (let i = layerIndex + 1; i < length; i++) {\r\n            if (layers[i].visible) {\r\n                next = layers[i];\r\n                break;\r\n            }\r\n        }\r\n        if (layer.visible) {\r\n            if (next === undefined) {\r\n                this._layerDom.appendChild(layer.view);\r\n            }\r\n            else {\r\n                this._layerDom.insertBefore(layer.view, next.view);\r\n            }\r\n        }\r\n        return layer;\r\n    }\r\n    render(root) {\r\n        this._dirtyLayers.length = 0;\r\n        this._deferredGhostLayers = [];\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                if (layer.dirty && layer.visible) {\r\n                    this._dirtyLayers.push(layer);\r\n                    layer.clear();\r\n                }\r\n            }\r\n        });\r\n        this._ghostLayer.clear();\r\n        root.render({\r\n            inactive: null,\r\n            layer: this.defaultLayer,\r\n        });\r\n        const deferredGhostLayers = this._deferredGhostLayers;\r\n        if (deferredGhostLayers.length) {\r\n            deferredGhostLayers.sort((a, b) => a - b);\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(deferredGhostLayers, (layerx) => {\r\n                root.render({\r\n                    inactive: null,\r\n                    layer: this.defaultLayer\r\n                }, layerx);\r\n            });\r\n        }\r\n        this._ghostLayer.context.restore();\r\n        //setTimeout(() => {\r\n        // Remove this after the Chrome bug is fixed:\r\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1279394\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                const context = layer.context;\r\n                context.beginPath();\r\n                context.moveTo(0, 0);\r\n                context.stroke();\r\n            }\r\n        });\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this._dirtyLayers, (layer) => {\r\n            layer.context.restore();\r\n            layer.dirty = false;\r\n        });\r\n        //}, 100)\r\n        if (this._hovering.size && this._lastPointerMoveEvent) {\r\n            const { events, target, native } = this._lastPointerMoveEvent;\r\n            //this._mouseMoveThrottler.run();\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                this._dispatchGlobalMousemove(event, target, native);\r\n            });\r\n        }\r\n    }\r\n    paintId(obj) {\r\n        const id = distributeId(++this._colorId);\r\n        const color = _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color.fromHex(id).toCSS();\r\n        this._colorMap[color] = obj;\r\n        return color;\r\n    }\r\n    _removeObject(obj) {\r\n        if (obj._colorId !== undefined) {\r\n            delete this._colorMap[obj._colorId];\r\n        }\r\n    }\r\n    // protected _identifyObjectByColor(colorId: number): CanvasDisplayObject | undefined {\r\n    // \treturn this._colorMap[colorId];\r\n    // }\r\n    _adjustBoundingBox(bbox) {\r\n        const margin = this._ghostLayer.margin;\r\n        return new DOMRect(-margin.left, -margin.top, bbox.width + margin.left + margin.right, bbox.height + margin.top + margin.bottom);\r\n    }\r\n    getEvent(originalEvent, adjustPoint = true) {\r\n        const bbox = this.view.getBoundingClientRect();\r\n        const x = originalEvent.clientX || 0;\r\n        const y = originalEvent.clientY || 0;\r\n        const widthScale = this._calculatedWidth / this._realWidth;\r\n        const heightScale = this._calculatedHeight / this._realHeight;\r\n        const originalPoint = {\r\n            x: x - bbox.left,\r\n            y: y - bbox.top,\r\n        };\r\n        const point = {\r\n            x: (x - (adjustPoint ? bbox.left : 0)) * widthScale,\r\n            y: (y - (adjustPoint ? bbox.top : 0)) * heightScale,\r\n        };\r\n        return new CanvasRendererEvent(originalEvent, originalPoint, point, this._adjustBoundingBox(bbox));\r\n    }\r\n    _getHitTarget(point, bbox, target) {\r\n        if (bbox.width === 0 || bbox.height === 0 || point.x < bbox.left || point.x > bbox.right || point.y < bbox.top || point.y > bbox.bottom) {\r\n            return;\r\n        }\r\n        if (!target || !this._layerDom.contains(target)) {\r\n            return;\r\n        }\r\n        const pixel = this._ghostLayer.getImageData(point, bbox);\r\n        if (pixel.data[0] === 0 && pixel.data[1] === 0 && pixel.data[2] === 0) {\r\n            return false;\r\n        }\r\n        const colorId = _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color.fromRGB(pixel.data[0], pixel.data[1], pixel.data[2]).toCSS();\r\n        const hit = this._colorMap[colorId];\r\n        return hit;\r\n    }\r\n    getObjectAtPoint(point) {\r\n        const data = this._ghostLayer.getImageArray(point);\r\n        if (data[0] === 0 && data[1] === 0 && data[2] === 0) {\r\n            return undefined;\r\n        }\r\n        const colorId = _util_Color__WEBPACK_IMPORTED_MODULE_7__.Color.fromRGB(data[0], data[1], data[2]).toCSS();\r\n        const hit = this._colorMap[colorId];\r\n        return hit;\r\n    }\r\n    _withEvents(key, f) {\r\n        const events = this._events[key];\r\n        if (events !== undefined) {\r\n            events.dispatching = true;\r\n            try {\r\n                f(events);\r\n            }\r\n            finally {\r\n                events.dispatching = false;\r\n                if (events.cleanup) {\r\n                    events.cleanup = false;\r\n                    _util_Array__WEBPACK_IMPORTED_MODULE_2__.keepIf(events.callbacks, (callback) => {\r\n                        return !callback.disposed;\r\n                    });\r\n                    if (events.callbacks.length === 0) {\r\n                        events.disposer.dispose();\r\n                        delete this._events[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _dispatchEventAll(key, event) {\r\n        if (!this.interactionsEnabled) {\r\n            return;\r\n        }\r\n        this._withEvents(key, (events) => {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events.callbacks, (callback) => {\r\n                if (!callback.disposed) {\r\n                    callback.callback.call(callback.context, event);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    _dispatchEvent(key, target, event) {\r\n        if (!this.interactionsEnabled) {\r\n            return false;\r\n        }\r\n        let dispatched = false;\r\n        this._withEvents(key, (events) => {\r\n            _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events.callbacks, (callback) => {\r\n                if (!callback.disposed && callback.object === target) {\r\n                    callback.callback.call(callback.context, event);\r\n                    dispatched = true;\r\n                }\r\n            });\r\n        });\r\n        return dispatched;\r\n    }\r\n    _dispatchMousedown(originalEvent, originalTarget) {\r\n        const button = originalEvent.button;\r\n        if (button != 0 && button != 2 && button != 1 && button !== undefined) {\r\n            // Ignore non-primary mouse buttons\r\n            return;\r\n        }\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            const id = event.id;\r\n            let dragged = false;\r\n            eachTargets(target, (obj) => {\r\n                const info = { id: id, value: obj };\r\n                this._mousedown.push(info);\r\n                if (!dragged && this._dispatchEvent(\"pointerdown\", obj, event)) {\r\n                    // Only dispatch the first element which matches\r\n                    dragged = true;\r\n                    const has = this._dragging.some((x) => {\r\n                        return x.value === obj && x.id === id;\r\n                    });\r\n                    if (!has) {\r\n                        this._dragging.push(info);\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n    }\r\n    _dispatchGlobalMousemove(originalEvent, originalTarget, native) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        event.native = native;\r\n        if (target) {\r\n            this._hovering.forEach((obj) => {\r\n                if (!obj.contains(target)) {\r\n                    this._hovering.delete(obj);\r\n                    if (obj.cursorOverStyle) {\r\n                        _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                    }\r\n                    this._dispatchEvent(\"pointerout\", obj, event);\r\n                }\r\n            });\r\n            if (event.native) {\r\n                eachTargets(target, (obj) => {\r\n                    if (!this._hovering.has(obj)) {\r\n                        this._hovering.add(obj);\r\n                        if (obj.cursorOverStyle) {\r\n                            obj._replacedCursorStyle = _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getStyle(document.body, \"cursor\");\r\n                            _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setStyle(document.body, \"cursor\", obj.cursorOverStyle);\r\n                        }\r\n                        this._dispatchEvent(\"pointerover\", obj, event);\r\n                    }\r\n                    return true;\r\n                });\r\n            }\r\n            //} else if (target === false) {\r\n        }\r\n        else {\r\n            this._hovering.forEach((obj) => {\r\n                if (obj.cursorOverStyle) {\r\n                    _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                }\r\n                this._dispatchEvent(\"pointerout\", obj, event);\r\n            });\r\n            this._hovering.clear();\r\n        }\r\n        this._dispatchEventAll(\"globalpointermove\", event);\r\n    }\r\n    removeHovering(graphics) {\r\n        this._hovering.delete(graphics);\r\n        if (graphics.cursorOverStyle) {\r\n            _util_Utils__WEBPACK_IMPORTED_MODULE_1__.setStyle(document.body, \"cursor\", graphics._replacedCursorStyle);\r\n        }\r\n    }\r\n    _dispatchGlobalMouseup(originalEvent, native) {\r\n        const event = this.getEvent(originalEvent);\r\n        event.native = native;\r\n        //const target = this._getHitTarget(event.originalPoint);\r\n        this._dispatchEventAll(\"globalpointerup\", event);\r\n    }\r\n    _dispatchDragMove(originalEvent) {\r\n        if (this._dragging.length !== 0) {\r\n            const event = this.getEvent(originalEvent);\r\n            const id = event.id;\r\n            this._dragging.forEach((obj) => {\r\n                if (obj.id === id) {\r\n                    this._dispatchEvent(\"pointermove\", obj.value, event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispatchDragEnd(originalEvent, originalTarget) {\r\n        const button = originalEvent.button;\r\n        let clickevent;\r\n        if (button == 0 || button === undefined) {\r\n            clickevent = \"click\";\r\n        }\r\n        else if (button == 2) {\r\n            clickevent = \"rightclick\";\r\n        }\r\n        else if (button == 1) {\r\n            clickevent = \"middleclick\";\r\n        }\r\n        else {\r\n            // Ignore non-primary mouse buttons\r\n            return;\r\n        }\r\n        const event = this.getEvent(originalEvent);\r\n        const id = event.id;\r\n        if (this._mousedown.length !== 0) {\r\n            const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n            if (target) {\r\n                this._mousedown.forEach((obj) => {\r\n                    if (obj.id === id && obj.value.contains(target)) {\r\n                        this._dispatchEvent(clickevent, obj.value, event);\r\n                    }\r\n                });\r\n            }\r\n            this._mousedown.length = 0;\r\n        }\r\n        if (this._dragging.length !== 0) {\r\n            this._dragging.forEach((obj) => {\r\n                if (obj.id === id) {\r\n                    this._dispatchEvent(\"pointerup\", obj.value, event);\r\n                }\r\n            });\r\n            this._dragging.length = 0;\r\n        }\r\n    }\r\n    _dispatchDoubleClick(originalEvent, originalTarget) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            eachTargets(target, (obj) => {\r\n                if (this._dispatchEvent(\"dblclick\", obj, event)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispatchWheel(originalEvent, originalTarget) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            eachTargets(target, (obj) => {\r\n                if (this._dispatchEvent(\"wheel\", obj, event)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _makeSharedEvent(key, f) {\r\n        if (this._listeners[key] === undefined) {\r\n            const listener = f();\r\n            this._listeners[key] = new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.CounterDisposer(() => {\r\n                delete this._listeners[key];\r\n                listener.dispose();\r\n            });\r\n        }\r\n        return this._listeners[key].increment();\r\n    }\r\n    _onPointerEvent(name, f) {\r\n        let native = false;\r\n        let timer = null;\r\n        function clear() {\r\n            timer = null;\r\n            native = false;\r\n        }\r\n        return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.MultiDisposer([\r\n            new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                }\r\n                clear();\r\n            }),\r\n            _util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getRendererEvent(name), (_) => {\r\n                native = true;\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                }\r\n                timer = window.setTimeout(clear, 0);\r\n            }),\r\n            onPointerEvent(window, name, (ev, target) => {\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                    timer = null;\r\n                }\r\n                f(ev, target, native);\r\n                native = false;\r\n            }),\r\n        ]);\r\n    }\r\n    // This ensures that only a single DOM event is added (e.g. only a single mousemove event listener)\r\n    _initEvent(key) {\r\n        switch (key) {\r\n            case \"globalpointermove\":\r\n            case \"pointerover\":\r\n            case \"pointerout\":\r\n                return this._makeSharedEvent(\"pointermove\", () => {\r\n                    const listener = (events, target, native) => {\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                            this._dispatchGlobalMousemove(event, target, native);\r\n                        });\r\n                    };\r\n                    return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.MultiDisposer([\r\n                        this._onPointerEvent(\"pointerdown\", listener),\r\n                        this._onPointerEvent(\"pointermove\", listener),\r\n                    ]);\r\n                });\r\n            case \"globalpointerup\":\r\n                return this._makeSharedEvent(\"pointerup\", () => {\r\n                    const mouseup = this._onPointerEvent(\"pointerup\", (events, target, native) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                            this._dispatchGlobalMouseup(event, native);\r\n                        });\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                    });\r\n                    const pointercancel = this._onPointerEvent(\"pointercancel\", (events, target, native) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (event) => {\r\n                            this._dispatchGlobalMouseup(event, native);\r\n                        });\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                    });\r\n                    return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n                        mouseup.dispose();\r\n                        pointercancel.dispose();\r\n                    });\r\n                });\r\n            case \"click\":\r\n            case \"rightclick\":\r\n            case \"middleclick\":\r\n            case \"pointerdown\":\r\n            /*\r\n                return this._makeSharedEvent(\"pointerdown\", () => {\r\n                    return this._onPointerEvent(\"pointerdown\", (event, target, native) => {\r\n                        this._lastPointerMoveEvent = { event, target, native };\r\n                        this._dispatchMousedown(event)\r\n                    });\r\n                });\r\n            */\r\n            case \"pointermove\":\r\n            case \"pointerup\":\r\n                return this._makeSharedEvent(\"pointerdown\", () => {\r\n                    //const throttler = new Throttler();\r\n                    const mousedown = this._onPointerEvent(\"pointerdown\", (events, target) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(events, (ev) => {\r\n                            this._dispatchMousedown(ev, target);\r\n                        });\r\n                    });\r\n                    // TODO handle throttling properly for multitouch\r\n                    const mousemove = this._onPointerEvent(\"pointermove\", (ev) => {\r\n                        //throttler.throttle(() => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(ev, (ev) => {\r\n                            this._dispatchDragMove(ev);\r\n                        });\r\n                        //});\r\n                    });\r\n                    const mouseup = this._onPointerEvent(\"pointerup\", (ev, target) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(ev, (ev) => {\r\n                            this._dispatchDragEnd(ev, target);\r\n                        });\r\n                    });\r\n                    const pointercancel = this._onPointerEvent(\"pointercancel\", (ev, target) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(ev, (ev) => {\r\n                            this._dispatchDragEnd(ev, target);\r\n                        });\r\n                    });\r\n                    return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n                        mousedown.dispose();\r\n                        mousemove.dispose();\r\n                        mouseup.dispose();\r\n                        pointercancel.dispose();\r\n                    });\r\n                });\r\n            case \"dblclick\":\r\n                return this._makeSharedEvent(\"dblclick\", () => {\r\n                    return this._onPointerEvent(\"dblclick\", (ev, target) => {\r\n                        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(ev, (ev) => {\r\n                            this._dispatchDoubleClick(ev, target);\r\n                        });\r\n                    });\r\n                });\r\n            case \"wheel\":\r\n                return this._makeSharedEvent(\"wheel\", () => {\r\n                    return _util_Utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener(this.view, _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getRendererEvent(\"wheel\"), (event) => {\r\n                        this._dispatchWheel(event, _util_Utils__WEBPACK_IMPORTED_MODULE_1__.getEventTarget(event));\r\n                    }, { passive: false });\r\n                });\r\n        }\r\n    }\r\n    _addEvent(object, key, callback, context) {\r\n        let events = this._events[key];\r\n        if (events === undefined) {\r\n            events = this._events[key] = {\r\n                disposer: this._initEvent(key),\r\n                callbacks: [],\r\n                dispatching: false,\r\n                cleanup: false,\r\n            };\r\n        }\r\n        const listener = { object, context, callback, disposed: false };\r\n        events.callbacks.push(listener);\r\n        return new _util_Disposer__WEBPACK_IMPORTED_MODULE_3__.Disposer(() => {\r\n            listener.disposed = true;\r\n            if (events.dispatching) {\r\n                events.cleanup = true;\r\n            }\r\n            else {\r\n                _util_Array__WEBPACK_IMPORTED_MODULE_2__.removeFirst(events.callbacks, listener);\r\n                if (events.callbacks.length === 0) {\r\n                    events.disposer.dispose();\r\n                    delete this._events[key];\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getCanvas(root, options) {\r\n        // Make sure everything is rendered\r\n        this.render(root);\r\n        if (!options) {\r\n            options = {};\r\n        }\r\n        let scale = this.resolution;\r\n        let canvasWidth = Math.floor(this._calculatedWidth * this.resolution);\r\n        let canvasHeight = Math.floor(this._calculatedHeight * this.resolution);\r\n        // Check if we need to scale\r\n        if (options.minWidth && (options.minWidth > canvasWidth)) {\r\n            let minScale = options.minWidth / canvasWidth;\r\n            if (minScale > scale) {\r\n                scale = minScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.minHeight && (options.minHeight > canvasHeight)) {\r\n            let minScale = options.minHeight / canvasHeight;\r\n            if (minScale > scale) {\r\n                scale = minScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.maxWidth && (options.maxWidth < canvasWidth)) {\r\n            let maxScale = options.maxWidth / canvasWidth;\r\n            if (maxScale < scale) {\r\n                scale = maxScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.maxHeight && (options.maxHeight > canvasHeight)) {\r\n            let maxScale = options.maxHeight / canvasHeight;\r\n            if (maxScale < scale) {\r\n                scale = maxScale * this.resolution;\r\n            }\r\n        }\r\n        // Check if we need to compensate for pixel ratio\r\n        if (options.maintainPixelRatio) {\r\n            scale /= this.resolution;\r\n        }\r\n        // Init list canvases to remove from DOM after export\r\n        const canvases = [];\r\n        // Set up new canvas for export\r\n        let forceRender = false;\r\n        const canvas = document.createElement(\"canvas\");\r\n        if (scale != this.resolution) {\r\n            forceRender = true;\r\n            canvasWidth = canvasWidth * scale / this.resolution;\r\n            canvasHeight = canvasHeight * scale / this.resolution;\r\n        }\r\n        canvas.width = canvasWidth;\r\n        canvas.height = canvasHeight;\r\n        // Add to DOM so it inherits CSS\r\n        canvas.style.position = \"fixed\";\r\n        canvas.style.top = \"-10000px\";\r\n        this.view.appendChild(canvas);\r\n        canvases.push(canvas);\r\n        // Context\r\n        const context = canvas.getContext(\"2d\");\r\n        let width = 0;\r\n        let height = 0;\r\n        let needRerender = false;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer && layer.visible) {\r\n                if (layer.tainted || forceRender) {\r\n                    needRerender = true;\r\n                    layer.exportableView = layer.view;\r\n                    layer.exportableContext = layer.context;\r\n                    layer.view = document.createElement(\"canvas\");\r\n                    // Add to DOM so it inherits CSS\r\n                    layer.view.style.position = \"fixed\";\r\n                    layer.view.style.top = \"-10000px\";\r\n                    this.view.appendChild(layer.view);\r\n                    canvases.push(layer.view);\r\n                    let extraX = 0;\r\n                    let extraY = 0;\r\n                    if (layer.margin) {\r\n                        extraX += layer.margin.left || 0 + layer.margin.right || 0;\r\n                        extraY += layer.margin.top || 0 + layer.margin.bottom || 0;\r\n                    }\r\n                    layer.view.width = canvasWidth + extraX;\r\n                    layer.view.height = canvasHeight + extraY;\r\n                    layer.context = layer.view.getContext(\"2d\");\r\n                    layer.dirty = true;\r\n                    layer.scale = scale;\r\n                }\r\n            }\r\n        });\r\n        if (needRerender) {\r\n            this._omitTainted = true;\r\n            this.render(root);\r\n            this._omitTainted = false;\r\n        }\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(this.layers, (layer) => {\r\n            if (layer && layer.visible) {\r\n                // Layer is fine. Just plop it into our target canvas\r\n                let x = 0;\r\n                let y = 0;\r\n                if (layer.margin) {\r\n                    x = -(layer.margin.left || 0) * this.resolution;\r\n                    y = -(layer.margin.top || 0) * this.resolution;\r\n                }\r\n                context.drawImage(layer.view, x, y);\r\n                // Restore layer original canvas\r\n                if (layer.exportableView) {\r\n                    layer.view = layer.exportableView;\r\n                    layer.exportableView = undefined;\r\n                }\r\n                if (layer.exportableContext) {\r\n                    layer.context = layer.exportableContext;\r\n                    layer.exportableContext = undefined;\r\n                }\r\n                if (width < layer.view.clientWidth) {\r\n                    width = layer.view.clientWidth;\r\n                }\r\n                if (height < layer.view.clientHeight) {\r\n                    height = layer.view.clientHeight;\r\n                }\r\n                layer.scale = undefined;\r\n            }\r\n        });\r\n        canvas.style.width = width + \"px\";\r\n        canvas.style.height = height + \"px\";\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(canvases, (canvas) => {\r\n            canvas.style.position = \"\";\r\n            canvas.style.top = \"\";\r\n            this.view.removeChild(canvas);\r\n        });\r\n        return canvas;\r\n    }\r\n}\r\nclass GhostLayer {\r\n    constructor() {\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"margin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n            }\r\n        });\r\n        Object.defineProperty(this, \"_resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"imageArray\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.view = document.createElement(\"canvas\");\r\n        this.context = this.view.getContext(\"2d\", { alpha: false, willReadFrequently: true });\r\n        this.context.imageSmoothingEnabled = false;\r\n        this.view.style.position = \"absolute\";\r\n        this.view.style.top = \"0px\";\r\n        this.view.style.left = \"0px\";\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight, resolution) {\r\n        this._resolution = resolution;\r\n        canvasWidth += (this.margin.left + this.margin.right);\r\n        canvasHeight += (this.margin.top + this.margin.bottom);\r\n        // TODO this should take into account calculateSize\r\n        domWidth += (this.margin.left + this.margin.right);\r\n        domHeight += (this.margin.top + this.margin.bottom);\r\n        this.view.style.left = -this.margin.left + \"px\";\r\n        this.view.style.top = -this.margin.top + \"px\";\r\n        this._width = Math.floor(canvasWidth * resolution);\r\n        this._height = Math.floor(canvasHeight * resolution);\r\n        this.view.width = this._width;\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.height = this._height;\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    getImageData(point, bbox) {\r\n        return this.context.getImageData(\r\n        // TODO should this round ?\r\n        Math.round(((point.x - bbox.left) / bbox.width) * this._width), Math.round(((point.y - bbox.top) / bbox.height) * this._height), 1, 1);\r\n    }\r\n    getImageArray(point) {\r\n        if (!this.imageArray) {\r\n            this.imageArray = this.context.getImageData(0, 0, this._width, this._height).data;\r\n        }\r\n        const data = this.imageArray;\r\n        const x = Math.round(point.x * this._resolution);\r\n        const y = Math.round(point.y * this._resolution);\r\n        const i = (y * this._width + x) * 4;\r\n        return [data[i], data[i + 1], data[i + 2], data[i + 3]];\r\n    }\r\n    setMargin(layers) {\r\n        this.margin.left = 0;\r\n        this.margin.right = 0;\r\n        this.margin.top = 0;\r\n        this.margin.bottom = 0;\r\n        _util_Array__WEBPACK_IMPORTED_MODULE_2__.each(layers, (layer) => {\r\n            if (layer.margin) {\r\n                this.margin.left = Math.max(this.margin.left, layer.margin.left);\r\n                this.margin.right = Math.max(this.margin.right, layer.margin.right);\r\n                this.margin.top = Math.max(this.margin.top, layer.margin.top);\r\n                this.margin.bottom = Math.max(this.margin.bottom, layer.margin.bottom);\r\n            }\r\n        });\r\n    }\r\n    clear() {\r\n        this.context.save();\r\n        this.context.fillStyle = '#000';\r\n        this.context.fillRect(0, 0, this._width, this._height);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass CanvasLayer {\r\n    constructor(view, context) {\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"margin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"order\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"exportableView\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"exportableContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        this.view = view;\r\n        this.context = context;\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight, resolution) {\r\n        // TODO should this take into account calculateSize ?\r\n        if (this.width != null) {\r\n            canvasWidth = this.width;\r\n            domWidth = this.width;\r\n        }\r\n        // TODO should this take into account calculateSize ?\r\n        if (this.height != null) {\r\n            canvasHeight = this.height;\r\n            domHeight = this.height;\r\n        }\r\n        if (this.margin) {\r\n            canvasWidth += (this.margin.left + this.margin.right);\r\n            canvasHeight += (this.margin.top + this.margin.bottom);\r\n            // TODO this should take into account calculateSize\r\n            domWidth += (this.margin.left + this.margin.right);\r\n            domHeight += (this.margin.top + this.margin.bottom);\r\n            this.view.style.left = -this.margin.left + \"px\";\r\n            this.view.style.top = -this.margin.top + \"px\";\r\n        }\r\n        else {\r\n            this.view.style.left = \"0px\";\r\n            this.view.style.top = \"0px\";\r\n        }\r\n        this._width = Math.floor(canvasWidth * resolution);\r\n        this._height = Math.floor(canvasHeight * resolution);\r\n        this.view.width = this._width;\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.height = this._height;\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    clear() {\r\n        this.context.save();\r\n        this.context.clearRect(0, 0, this._width, this._height);\r\n    }\r\n}\r\n//# sourceMappingURL=CanvasRenderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvYmFja2VuZC9DYW52YXNSZW5kZXJlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3VDO0FBQ0U7QUFDRTtBQUNXO0FBQ3RELFdBQVcsWUFBWTtBQUNzRjtBQUNwRDtBQUNkO0FBQ0E7QUFDRTtBQUNKO0FBQ0E7QUFDUztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUF1QixVQUFVLHlEQUF1QjtBQUNuRSx1QkFBdUIsdURBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZDQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsMEJBQTBCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQ0FBa0MseURBQWE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFNO0FBQzdCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBTTtBQUM3QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBTTtBQUM3QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVEQUFxQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsK0JBQStCO0FBQ2pFLGtDQUFrQyxnQ0FBZ0M7QUFDbEUsa0NBQWtDLG1DQUFtQztBQUNyRSxrQ0FBa0Msa0NBQWtDO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvREFBUSxVQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2Q0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQWtCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdEQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsWUFBWTtBQUN2QywyQkFBMkIsWUFBWTtBQUN2QywyQkFBMkIsWUFBWTtBQUN2QywyQkFBMkIsWUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQWtEO0FBQzdFLDJCQUEyQixrREFBa0Q7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG9EQUFvRDtBQUMvRSwyQkFBMkIsb0RBQW9EO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvREFBa0IscUNBQXFDLCtDQUFhLGtCQUFrQiwrQ0FBYTtBQUMzSCwyQkFBMkIscUNBQXFDO0FBQ2hFLDJCQUEyQix5Q0FBeUM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzQkFBc0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNCQUFzQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwQkFBMEI7QUFDckQsMkJBQTJCLDRCQUE0QjtBQUN2RCwyQkFBMkIsMEJBQTBCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwQkFBMEI7QUFDckQsMkJBQTJCLDBCQUEwQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0JBQXNCO0FBQ2pELDJCQUEyQiwrQkFBK0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQVM7QUFDNUIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOENBQUs7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw4Q0FBSztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxtRUFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyw4Q0FBSztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQVc7QUFDdkIsZ0JBQWdCLDZDQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsOERBQWE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRiw4Q0FBSztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLCtCQUErQixxQkFBcUI7QUFDcEQsK0JBQStCLHlCQUF5QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0RBQWM7QUFDdkMscUJBQXFCLGdEQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EseUJBQXlCLDhEQUFhO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDhEQUFhO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGdEQUFjO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkNBQVcsYUFBYSw2Q0FBVztBQUN2RTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDZDQUFXO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixxREFBcUQsbURBQU87QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQWMsV0FBVyxnREFBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxlQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQU87QUFDMUIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2Q0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDZEQUE2RCwrQ0FBYTtBQUMxRTtBQUNBO0FBQ0EsNkRBQTZELCtDQUFhO0FBQzFFO0FBQ0E7QUFDQSw0Q0FBNEMsK0NBQWE7QUFDekQ7QUFDQSwyQkFBMkIsc0RBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZDQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnREFBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQjtBQUNBLHlCQUF5Qiw4REFBYTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw4REFBYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZ0RBQWM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG9EQUFrQjtBQUNsRDtBQUNBO0FBQ0Esb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixpREFBaUQsbURBQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQixZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxZQUFZLGlEQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNkJBQTZCLHlEQUFhO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQVE7QUFDekMsWUFBWSwrQ0FBWTtBQUN4QjtBQUNBLGFBQWE7QUFDYixZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsNkJBQTZCLCtDQUFhO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsWUFBWSxpREFBZTtBQUMzQjtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5REFBdUIsbUNBQW1DLGdCQUFnQjtBQUMzRyxpQ0FBaUMseURBQXVCLHNDQUFzQyxnQkFBZ0I7QUFDOUcsaUNBQWlDLHlEQUF1QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsSUFBSSxlQUFlO0FBQ2hDLGlDQUFpQyx5REFBdUI7QUFDeEQ7QUFDQSxhQUFhLElBQUksZUFBZTtBQUNoQyxpQ0FBaUMseURBQXVCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhLElBQUksZUFBZTtBQUNoQztBQUNBO0FBQ0EsWUFBWSxpREFBZTtBQUMzQixpQ0FBaUMseURBQXVCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUksZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsd0NBQXdDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDJCQUEyQixnREFBYztBQUN6QztBQUNBLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSw2Q0FBVztBQUNuQjtBQUNBO0FBQ0EsU0FBUztBQUNULFdBQVc7QUFDWDtBQUNBLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4Q0FBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDhDQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0NBQWE7QUFDakM7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaURBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsaURBQWU7QUFDdEUsNEJBQTRCLGlEQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlEQUFlO0FBQ25DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyREFBZTtBQUN0RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUFhO0FBQ2hDLGdCQUFnQixvREFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLHlEQUF1QixZQUFZLHlEQUF1QjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELHdCQUF3Qiw2Q0FBVztBQUNuQztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLCtCQUErQix5REFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0EseUJBQXlCO0FBQ3pCLHVEQUF1RDtBQUN2RCxxQkFBcUI7QUFDckI7QUFDQSx3QkFBd0IsNkNBQVc7QUFDbkM7QUFDQSx5QkFBeUI7QUFDekIsdURBQXVEO0FBQ3ZELHFCQUFxQjtBQUNyQiwrQkFBK0Isb0RBQVE7QUFDdkM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2Q0FBVztBQUNuQztBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0EseUJBQXlCO0FBQ3pCLDJCQUEyQjtBQUMzQixxQkFBcUI7QUFDckI7QUFDQSx3QkFBd0IsNkNBQVc7QUFDbkM7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0Esd0JBQXdCLDZDQUFXO0FBQ25DO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQiwrQkFBK0Isb0RBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2Q0FBVztBQUNuQztBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSwyQkFBMkIseURBQXVCLFlBQVkseURBQXVCO0FBQ3JGLG1EQUFtRCx1REFBcUI7QUFDeEUscUJBQXFCLElBQUksZ0JBQWdCO0FBQ3pDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSxtQkFBbUIsb0RBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvREFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG9EQUFvRCx3Q0FBd0M7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvYmFja2VuZC9DYW52YXNSZW5kZXJlci5qcz83NmMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAaWdub3JlICovIC8qKiAqL1xyXG5pbXBvcnQgeyBCbGVuZE1vZGUgfSBmcm9tIFwiLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gXCIuLi8uLi91dGlsL0NvbG9yXCI7XHJcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi8uLi91dGlsL01hdHJpeFwiO1xyXG5pbXBvcnQgeyBQZXJjZW50LCBwZXJjZW50IH0gZnJvbSBcIi4uLy4uL3V0aWwvUGVyY2VudFwiO1xyXG4vL2ltcG9ydCB7IFRocm90dGxlciB9IGZyb20gXCIuLi8uLi91dGlsL1Rocm90dGxlclwiO1xyXG5pbXBvcnQgeyBBcnJheURpc3Bvc2VyLCBEaXNwb3NlciwgRGlzcG9zZXJDbGFzcywgQ291bnRlckRpc3Bvc2VyLCBNdWx0aURpc3Bvc2VyIH0gZnJvbSBcIi4uLy4uL3V0aWwvRGlzcG9zZXJcIjtcclxuaW1wb3J0IHsgVGV4dEZvcm1hdHRlciB9IGZyb20gXCIuLi8uLi91dGlsL1RleHRGb3JtYXR0ZXJcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuLi8uLi91dGlsL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi4vLi4vdXRpbC9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuLi8uLi91dGlsL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi4vLi4vdXRpbC9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICRtYXRoIGZyb20gXCIuLi8uLi91dGlsL01hdGhcIjtcclxuaW1wb3J0IGFyY1RvQmV6aWVyIGZyb20gJ3N2Zy1hcmMtdG8tY3ViaWMtYmV6aWVyJztcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrQXJncyhuYW1lLCBhY3R1YWwsIGV4cGVjdGVkKSB7XHJcbiAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlcXVpcmVkIFwiICsgZXhwZWN0ZWQgKyBcIiBhcmd1bWVudHMgZm9yIFwiICsgbmFtZSArIFwiIGJ1dCBnb3QgXCIgKyBhY3R1YWwpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGVja01pbkFyZ3MobmFtZSwgYWN0dWFsLCBleHBlY3RlZCkge1xyXG4gICAgaWYgKGFjdHVhbCA8IGV4cGVjdGVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgYXQgbGVhc3QgXCIgKyBleHBlY3RlZCArIFwiIGFyZ3VtZW50cyBmb3IgXCIgKyBuYW1lICsgXCIgYnV0IGdvdCBcIiArIGFjdHVhbCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrRXZlbkFyZ3MobmFtZSwgYWN0dWFsLCBleHBlY3RlZCkge1xyXG4gICAgY2hlY2tNaW5BcmdzKG5hbWUsIGFjdHVhbCwgZXhwZWN0ZWQpO1xyXG4gICAgaWYgKChhY3R1YWwgJSBleHBlY3RlZCkgIT09IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudHMgZm9yIFwiICsgbmFtZSArIFwiIG11c3QgYmUgaW4gcGFpcnMgb2YgXCIgKyBleHBlY3RlZCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICogVGhpcyBzcGxpdHMgdGhlIGZsYWcgc28gdGhhdCB3YXkgMDAxNyB3aWxsIGJlIHByb2Nlc3NlZCBhcyAwIDAgMTdcclxuICpcclxuICogVGhpcyBpcyBpbXBvcnRhbnQgZm9yIHdlaXJkIHBhdGhzIGxpa2UgYE0xNyA1QTEgMSAwIDAwMTcgMzAgMSAxIDAgMDAxNyA1YFxyXG4gKi9cclxuZnVuY3Rpb24gc3BsaXRBcmNGbGFncyhhcmdzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDcpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSBpICsgMztcclxuICAgICAgICBsZXQgZmxhZyA9IGFyZ3NbaW5kZXhdO1xyXG4gICAgICAgIGlmIChmbGFnLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgYSA9IC9eKFswMV0pKFswMV0pKC4qKSQvLmV4ZWMoZmxhZyk7XHJcbiAgICAgICAgICAgIGlmIChhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMCwgYVsxXSk7XHJcbiAgICAgICAgICAgICAgICArK2luZGV4O1xyXG4gICAgICAgICAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDAsIGFbMl0pO1xyXG4gICAgICAgICAgICAgICAgKytpbmRleDtcclxuICAgICAgICAgICAgICAgIGlmIChhWzNdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzW2luZGV4XSA9IGFbM107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgKytpbmRleDtcclxuICAgICAgICBmbGFnID0gYXJnc1tpbmRleF07XHJcbiAgICAgICAgaWYgKGZsYWcubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBhID0gL14oWzAxXSkoLispJC8uZXhlYyhmbGFnKTtcclxuICAgICAgICAgICAgaWYgKGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAwLCBhWzFdKTtcclxuICAgICAgICAgICAgICAgICsraW5kZXg7XHJcbiAgICAgICAgICAgICAgICBhcmdzW2luZGV4XSA9IGFbMl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGFzc2VydEJpbmFyeSh2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlID09PSAwIHx8IHZhbHVlID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmxhZyBtdXN0IGJlIDAgb3IgMVwiKTtcclxuICAgIH1cclxufVxyXG4vLyAgMSAtPiAweGZmZmZmZiAqICgyIC8gMilcclxuLy8gIDIgLT4gMHhmZmZmZmYgKiAoMSAvIDIpXHJcbi8vXHJcbi8vICAzIC0+IDB4ZmZmZmZmICogKDMgLyA0KVxyXG4vLyAgNCAtPiAweGZmZmZmZiAqICgxIC8gNClcclxuLy9cclxuLy8gIDUgLT4gMHhmZmZmZmYgKiAoNyAvIDgpXHJcbi8vICA2IC0+IDB4ZmZmZmZmICogKDUgLyA4KVxyXG4vLyAgNyAtPiAweGZmZmZmZiAqICgzIC8gOClcclxuLy8gIDggLT4gMHhmZmZmZmYgKiAoMSAvIDgpXHJcbi8vXHJcbi8vICA5IC0+IDB4ZmZmZmZmICogKDE1IC8gMTYpXHJcbi8vIDEwIC0+IDB4ZmZmZmZmICogKDEzIC8gMTYpXHJcbi8vIDExIC0+IDB4ZmZmZmZmICogKDExIC8gMTYpXHJcbi8vIDEyIC0+IDB4ZmZmZmZmICogICg5IC8gMTYpXHJcbi8vIDEzIC0+IDB4ZmZmZmZmICogICg3IC8gMTYpXHJcbi8vIDE0IC0+IDB4ZmZmZmZmICogICg1IC8gMTYpXHJcbi8vIDE1IC0+IDB4ZmZmZmZmICogICgzIC8gMTYpXHJcbi8vIDE2IC0+IDB4ZmZmZmZmICogICgxIC8gMTYpXHJcbi8vIEB0b2RvIHJlbW92ZSB0aGlzIG9sZCBjb2xvciBkaXN0cmlidXRpb24gYWxnbyBpZiB0aGUgbmV3IG9uZSBwYW5zIG91dFxyXG4vKmZ1bmN0aW9uIGRpc3RyaWJ1dGVJZChpZDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGlmIChpZCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiAweDAwMDAwMTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEZpbmRzIHRoZSBjbG9zZXN0IHBvd2VyIG9mIDJcclxuICAgICAgICBjb25zdCBiYXNlID0gTWF0aC5wb3coMiwgTWF0aC5jZWlsKE1hdGgubG9nKGlkKSAvIE1hdGgubG9nKDIpKSk7XHJcblxyXG4gICAgICAgIC8vIFRyYW5zbGF0ZXMgdGhlIGlkIGludG8gYW4gb2RkIGZyYWN0aW9uIGluZGV4XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSAoKGJhc2UgLSBpZCkgKiAyKSArIDE7XHJcblxyXG4gICAgICAgIC8vIFRPRE8gaXMgTWF0aC5yb3VuZCBjb3JyZWN0ID9cclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgweGZmZmZmZiAqIChpbmRleCAvIGJhc2UpKTtcclxuICAgIH1cclxufSovXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiBieSBzbWVhbnM6XHJcbiAqIGh0dHBzOi8vbG93Y29kZS5saWZlL2dlbmVyYXRpbmctdW5pcXVlLWNvbnRyYXN0aW5nLWNvbG9ycy1pbi1qYXZhc2NyaXB0L1xyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBkaXN0cmlidXRlSWQoaWQpIHtcclxuICAgIGNvbnN0IHJnYiA9IFswLCAwLCAwXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7IGkrKykge1xyXG4gICAgICAgIHJnYltpICUgM10gPDw9IDE7XHJcbiAgICAgICAgcmdiW2kgJSAzXSB8PSBpZCAmIDB4MDE7XHJcbiAgICAgICAgaWQgPj49IDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKHJnYlswXSB8IDApICsgKHJnYlsxXSA8PCA4KSArIChyZ2JbMl0gPDwgMTYpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBlYWNoVGFyZ2V0cyhoaXRUYXJnZXQsIGYpIHtcclxuICAgIGZvciAoOzspIHtcclxuICAgICAgICBpZiAoaGl0VGFyZ2V0LmludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICghZihoaXRUYXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGl0VGFyZ2V0Ll9wYXJlbnQpIHtcclxuICAgICAgICAgICAgaGl0VGFyZ2V0ID0gaGl0VGFyZ2V0Ll9wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gVE9ETyBmZWF0dXJlIGRldGVjdGlvbiBmb3IgbW91c2UvdG91Y2gvcG9pbnRlclxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZnVuY3Rpb24gb25Qb2ludGVyRXZlbnQoZWxlbWVudCwgbmFtZSwgZikge1xyXG4gICAgcmV0dXJuICR1dGlscy5hZGRFdmVudExpc3RlbmVyKGVsZW1lbnQsICR1dGlscy5nZXRSZW5kZXJlckV2ZW50KG5hbWUpLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSAkdXRpbHMuZ2V0RXZlbnRUYXJnZXQoZXZlbnQpO1xyXG4gICAgICAgIGxldCB0b3VjaGVzID0gZXZlbnQudG91Y2hlcztcclxuICAgICAgICBpZiAodG91Y2hlcykge1xyXG4gICAgICAgICAgICBpZiAodG91Y2hlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGYoJGFycmF5LmNvcHkodG91Y2hlcyksIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmKFtldmVudF0sIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGlzVGFpbnRlZChpbWFnZSkge1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgIGNhbnZhcy53aWR0aCA9IDE7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTtcclxuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHsgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlIH0pO1xyXG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIDEsIDEpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiSW1hZ2UgXFxcIlwiICsgaW1hZ2Uuc3JjICsgXCJcXFwiIGlzIGxvYWRlZCBmcm9tIGRpZmZlcmVudCBob3N0IGFuZCBpcyBub3QgY292ZXJlZCBieSBDT1JTIHBvbGljeS4gRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGltcGxpY2F0aW9ucyByZWFkIGhlcmU6IGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvcnNcIik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgaXMgbmVlZGVkIHRvIHdvcmthcm91bmQgYSBidWcgaW4gaU9TIHdoaWNoIGNhdXNlcyBpdCB0byBub3QgR0MgY2FudmFzIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBjbGVhckNhbnZhcyh2aWV3KSB7XHJcbiAgICB2aWV3LndpZHRoID0gMDtcclxuICAgIHZpZXcuaGVpZ2h0ID0gMDtcclxuICAgIHZpZXcuc3R5bGUud2lkdGggPSBcIjBweFwiO1xyXG4gICAgdmlldy5zdHlsZS5oZWlnaHQgPSBcIjBweFwiO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlnbnMgdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHBpeGVsLCBzbyBpdCByZW5kZXJzIGNyaXNwXHJcbiAqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGNyaXNwKHgpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKHgpICsgLjU7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNQaXZvdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfeFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3lcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IHgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3g7XHJcbiAgICB9XHJcbiAgICBnZXQgeSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5feTtcclxuICAgIH1cclxuICAgIHNldCB4KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5feCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgc2V0IHkodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl95ID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNEaXNwbGF5T2JqZWN0IGV4dGVuZHMgRGlzcG9zZXJDbGFzcyB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xheWVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1hc2tcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZpc2libGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4cG9ydGFibGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImludGVyYWN0aXZlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5hY3RpdmVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndoZWVsYWJsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbmNlbFRvdWNoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNNZWFzdXJlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJ1dHRvbk1vZGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbHBoYVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29tcG91bmRBbHBoYVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYW5nbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjYWxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDFcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcmlzcFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBpdm90XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBDYW52YXNQaXZvdCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmlsdGVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1cnNvck92ZXJTdHlsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVwbGFjZWRDdXJzb3JTdHlsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbG9jYWxNYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IE1hdHJpeCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX21hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTWF0cml4KClcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBUT0RPIGNhbiB0aGlzIGJlIHJlcGxhY2VkIHdpdGggX2xvY2FsTWF0cml4ID9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdU1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgTWF0cml4KClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcmVuZGVyZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhcmVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbG9jYWxCb3VuZHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2JvdW5kc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29sb3JJZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgfVxyXG4gICAgc3ViU3RhdHVzKHN0YXR1cykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGluYWN0aXZlOiAodGhpcy5pbmFjdGl2ZSA9PSBudWxsID8gc3RhdHVzLmluYWN0aXZlIDogdGhpcy5pbmFjdGl2ZSksXHJcbiAgICAgICAgICAgIGxheWVyOiB0aGlzLl9sYXllciB8fCBzdGF0dXMubGF5ZXIsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLl9yZW1vdmVPYmplY3QodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nZXRMYXllcigpLmRpcnR5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGdldENhbnZhcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRMYXllcigpLnZpZXc7XHJcbiAgICB9XHJcbiAgICBnZXRMYXllcigpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgZm9yICg7Oykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9sYXllcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWxmLl9wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYgPSBzZWxmLl9wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZXIuZGVmYXVsdExheWVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0TGF5ZXIob3JkZXIsIG1hcmdpbikge1xyXG4gICAgICAgIGlmIChvcmRlciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xheWVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2xheWVyID0gdGhpcy5fcmVuZGVyZXIuZ2V0TGF5ZXIob3JkZXIsIHZpc2libGUpO1xyXG4gICAgICAgICAgICB0aGlzLl9sYXllci52aXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICAgICAgdGhpcy5fbGF5ZXIubWFyZ2luID0gbWFyZ2luO1xyXG4gICAgICAgICAgICBpZiAobWFyZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAkdXRpbHMuc2V0SW50ZXJhY3RpdmUodGhpcy5fbGF5ZXIudmlldywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyLnNldE1hcmdpbih0aGlzLl9yZW5kZXJlci5sYXllcnMpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnQucmVnaXN0ZXJDaGlsZExheWVyKHRoaXMuX2xheWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sYXllci5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlc2l6ZUxheWVyKHRoaXMuX2xheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVzaXplR2hvc3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtYXJrRGlydHlMYXllcigpIHtcclxuICAgICAgICB0aGlzLmdldExheWVyKCkuZGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlQm91bmRzKCk7XHJcbiAgICB9XHJcbiAgICBpbnZhbGlkYXRlQm91bmRzKCkge1xyXG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgX2FkZEJvdW5kcyhfYm91bmRzKSB7IH1cclxuICAgIF9nZXRDb2xvcklkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jb2xvcklkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29sb3JJZCA9IHRoaXMuX3JlbmRlcmVyLnBhaW50SWQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xvcklkO1xyXG4gICAgfVxyXG4gICAgX2lzSW50ZXJhY3RpdmUoc3RhdHVzKSB7XHJcbiAgICAgICAgcmV0dXJuICFzdGF0dXMuaW5hY3RpdmUgJiYgKHRoaXMuaW50ZXJhY3RpdmUgfHwgdGhpcy5fcmVuZGVyZXIuX2ZvcmNlSW50ZXJhY3RpdmUgPiAwKTtcclxuICAgIH1cclxuICAgIF9pc0ludGVyYWN0aXZlTWFzayhzdGF0dXMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNJbnRlcmFjdGl2ZShzdGF0dXMpO1xyXG4gICAgfVxyXG4gICAgY29udGFpbnMoY2hpbGQpIHtcclxuICAgICAgICBmb3IgKDs7KSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZCA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQuX3BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5fcGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdG9HbG9iYWwocG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF0cml4LmFwcGx5KHBvaW50KTtcclxuICAgIH1cclxuICAgIHRvTG9jYWwocG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF0cml4LmFwcGx5SW52ZXJzZShwb2ludCk7XHJcbiAgICB9XHJcbiAgICBnZXRMb2NhbE1hdHJpeCgpIHtcclxuICAgICAgICB0aGlzLl91TWF0cml4LnNldFRyYW5zZm9ybSgwLCAwLCB0aGlzLnBpdm90LngsIHRoaXMucGl2b3QueSwgdGhpcy5hbmdsZSAqIE1hdGguUEkgLyAxODAsIHRoaXMuc2NhbGUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91TWF0cml4O1xyXG4gICAgfVxyXG4gICAgZ2V0TG9jYWxCb3VuZHMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kcykge1xyXG4gICAgICAgICAgICBjb25zdCBibiA9IDEwMDAwMDAwO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGJuLFxyXG4gICAgICAgICAgICAgICAgdG9wOiBibixcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAtYm4sXHJcbiAgICAgICAgICAgICAgICBib3R0b206IC1iblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRCb3VuZHModGhpcy5fbG9jYWxCb3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxCb3VuZHM7XHJcbiAgICB9XHJcbiAgICBnZXRBZGp1c3RlZEJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICB0aGlzLl9zZXRNYXRyaXgoKTtcclxuICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLmdldExvY2FsTWF0cml4KCk7XHJcbiAgICAgICAgY29uc3QgcDAgPSBtYXRyaXguYXBwbHkoeyB4OiBib3VuZHMubGVmdCwgeTogYm91bmRzLnRvcCB9KTtcclxuICAgICAgICBjb25zdCBwMSA9IG1hdHJpeC5hcHBseSh7IHg6IGJvdW5kcy5yaWdodCwgeTogYm91bmRzLnRvcCB9KTtcclxuICAgICAgICBjb25zdCBwMiA9IG1hdHJpeC5hcHBseSh7IHg6IGJvdW5kcy5yaWdodCwgeTogYm91bmRzLmJvdHRvbSB9KTtcclxuICAgICAgICBjb25zdCBwMyA9IG1hdHJpeC5hcHBseSh7IHg6IGJvdW5kcy5sZWZ0LCB5OiBib3VuZHMuYm90dG9tIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IE1hdGgubWluKHAwLngsIHAxLngsIHAyLngsIHAzLngpLFxyXG4gICAgICAgICAgICB0b3A6IE1hdGgubWluKHAwLnksIHAxLnksIHAyLnksIHAzLnkpLFxyXG4gICAgICAgICAgICByaWdodDogTWF0aC5tYXgocDAueCwgcDEueCwgcDIueCwgcDMueCksXHJcbiAgICAgICAgICAgIGJvdHRvbTogTWF0aC5tYXgocDAueSwgcDEueSwgcDIueSwgcDMueSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgb24oa2V5LCBjYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci5fYWRkRXZlbnQodGhpcywga2V5LCBjYWxsYmFjaywgY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldE1hdHJpeCgpIHtcclxuICAgICAgICAvLyBUT0RPIG9ubHkgY2FsY3VsYXRlIHRoaXMgaWYgaXQgaGFzIGFjdHVhbGx5IGNoYW5nZWRcclxuICAgICAgICB0aGlzLl9sb2NhbE1hdHJpeC5zZXRUcmFuc2Zvcm0odGhpcy54LCB0aGlzLnksIHRoaXMucGl2b3QueCwgdGhpcy5waXZvdC55LCBcclxuICAgICAgICAvLyBDb252ZXJ0cyBkZWdyZWVzIHRvIHJhZGlhbnNcclxuICAgICAgICB0aGlzLmFuZ2xlICogTWF0aC5QSSAvIDE4MCwgdGhpcy5zY2FsZSk7XHJcbiAgICAgICAgdGhpcy5fbWF0cml4LmNvcHlGcm9tKHRoaXMuX2xvY2FsTWF0cml4KTtcclxuICAgICAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gb25seSBjYWxjdWxhdGUgdGhpcyBpZiBpdCBoYXMgYWN0dWFsbHkgY2hhbmdlZFxyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXgucHJlcGVuZCh0aGlzLl9wYXJlbnQuX21hdHJpeCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3RyYW5zZm9ybShjb250ZXh0LCByZXNvbHV0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgbSA9IHRoaXMuX21hdHJpeDtcclxuICAgICAgICBsZXQgdHggPSBtLnR4ICogcmVzb2x1dGlvbjtcclxuICAgICAgICBsZXQgdHkgPSBtLnR5ICogcmVzb2x1dGlvbjtcclxuICAgICAgICBpZiAodGhpcy5jcmlzcCkge1xyXG4gICAgICAgICAgICB0eCA9IGNyaXNwKHR4KTtcclxuICAgICAgICAgICAgdHkgPSBjcmlzcCh0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKG0uYSAqIHJlc29sdXRpb24sIG0uYiAqIHJlc29sdXRpb24sIG0uYyAqIHJlc29sdXRpb24sIG0uZCAqIHJlc29sdXRpb24sIHR4LCB0eSk7XHJcbiAgICB9XHJcbiAgICBfdHJhbnNmb3JtTWFyZ2luKGNvbnRleHQsIHJlc29sdXRpb24sIG1hcmdpbikge1xyXG4gICAgICAgIGNvbnN0IG0gPSB0aGlzLl9tYXRyaXg7XHJcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0obS5hICogcmVzb2x1dGlvbiwgbS5iICogcmVzb2x1dGlvbiwgbS5jICogcmVzb2x1dGlvbiwgbS5kICogcmVzb2x1dGlvbiwgKG0udHggKyBtYXJnaW4ubGVmdCkgKiByZXNvbHV0aW9uLCAobS50eSArIG1hcmdpbi50b3ApICogcmVzb2x1dGlvbik7XHJcbiAgICB9XHJcbiAgICBfdHJhbnNmb3JtTGF5ZXIoY29udGV4dCwgcmVzb2x1dGlvbiwgbGF5ZXIpIHtcclxuICAgICAgICBpZiAobGF5ZXIubWFyZ2luKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybU1hcmdpbihjb250ZXh0LCBsYXllci5zY2FsZSB8fCByZXNvbHV0aW9uLCBsYXllci5tYXJnaW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtKGNvbnRleHQsIGxheWVyLnNjYWxlIHx8IHJlc29sdXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlcihzdGF0dXMsIHRhcmdldEdob3N0TGF5ZXIgPSAwKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiAodGhpcy5leHBvcnRhYmxlICE9PSBmYWxzZSB8fCAhdGhpcy5fcmVuZGVyZXIuX29taXRUYWludGVkKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRNYXRyaXgoKTtcclxuICAgICAgICAgICAgY29uc3Qgc3ViU3RhdHVzID0gdGhpcy5zdWJTdGF0dXMoc3RhdHVzKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb247XHJcbiAgICAgICAgICAgIGNvbnN0IGxheWVycyA9IHRoaXMuX3JlbmRlcmVyLmxheWVycztcclxuICAgICAgICAgICAgY29uc3QgZ2hvc3RMYXllciA9IHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyO1xyXG4gICAgICAgICAgICBjb25zdCBnaG9zdENvbnRleHQgPSBnaG9zdExheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSB0aGlzLm1hc2s7XHJcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICBtYXNrLl9zZXRNYXRyaXgoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUT0RPIGltcHJvdmUgdGhpc1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChsYXllcnMsIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGxheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbXVzdCBhcHBseSB0aGUgbWFzayBiZWZvcmUgd2UgdHJhbnNmb3JtIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFzay5fdHJhbnNmb3JtTGF5ZXIoY29udGV4dCwgcmVzb2x1dGlvbiwgbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrLl9ydW5QYXRoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMuY29tcG91bmRBbHBoYSAqIHRoaXMuYWxwaGE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtTGF5ZXIoY29udGV4dCwgcmVzb2x1dGlvbiwgbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbHRlciA9IHRoaXMuZmlsdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGdob3N0Q29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIC8vIFdlIG11c3QgYXBwbHkgdGhlIG1hc2sgYmVmb3JlIHdlIHRyYW5zZm9ybSB0aGUgZWxlbWVudFxyXG4gICAgICAgICAgICBpZiAobWFzayAmJiB0aGlzLl9pc0ludGVyYWN0aXZlTWFzayhzdWJTdGF0dXMpKSB7XHJcbiAgICAgICAgICAgICAgICBtYXNrLl90cmFuc2Zvcm1NYXJnaW4oZ2hvc3RDb250ZXh0LCByZXNvbHV0aW9uLCBnaG9zdExheWVyLm1hcmdpbik7XHJcbiAgICAgICAgICAgICAgICBtYXNrLl9ydW5QYXRoKGdob3N0Q29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQuY2xpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybU1hcmdpbihnaG9zdENvbnRleHQsIHJlc29sdXRpb24sIGdob3N0TGF5ZXIubWFyZ2luKTtcclxuICAgICAgICAgICAgaWYgKChzdWJTdGF0dXMubGF5ZXIub3JkZXIgPiAwKSAmJiAhdGFyZ2V0R2hvc3RMYXllcikge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5Lm1vdmUodGhpcy5fcmVuZGVyZXIuX2RlZmVycmVkR2hvc3RMYXllcnMsIHN1YlN0YXR1cy5sYXllci5vcmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyKHN1YlN0YXR1cywgdGFyZ2V0R2hvc3RMYXllcik7XHJcbiAgICAgICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGxheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5jb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3JlbmRlcihzdGF0dXMsIF90YXJnZXRHaG9zdExheWVyID0gMCkge1xyXG4gICAgICAgIGlmICh0aGlzLmV4cG9ydGFibGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cy5sYXllci50YWludGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZ2hvc3RPbmx5KHRhcmdldEdob3N0TGF5ZXIgPSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldEdob3N0TGF5ZXIgPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgX2RyYXdHaG9zdChzdGF0dXMsIHRhcmdldEdob3N0TGF5ZXIgPSAwKSB7XHJcbiAgICAgICAgY29uc3QgaW50ZXJhY3RpdmUgPSB0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cyk7XHJcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBzdGF0dXMubGF5ZXIub3JkZXIgfHwgMDtcclxuICAgICAgICByZXR1cm4gaW50ZXJhY3RpdmUgJiYgKChvcmRlciA9PSAwICYmICF0aGlzLl9naG9zdE9ubHkodGFyZ2V0R2hvc3RMYXllcikpIHx8IG9yZGVyID09IHRhcmdldEdob3N0TGF5ZXIpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaG92ZXJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLl9ob3ZlcmluZy5oYXModGhpcyk7XHJcbiAgICB9XHJcbiAgICBkcmFnZ2luZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZXIuX2RyYWdnaW5nLnNvbWUoKHgpID0+IHgudmFsdWUgPT09IHRoaXMpO1xyXG4gICAgfVxyXG4gICAgc2hvdWxkQ2FuY2VsVG91Y2goKSB7XHJcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcclxuICAgICAgICBpZiAocmVuZGVyZXIudGFwVG9BY3RpdmF0ZSAmJiAhcmVuZGVyZXIuX3RvdWNoQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsVG91Y2gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50LnNob3VsZENhbmNlbFRvdWNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbnZhc0NvbnRhaW5lciBleHRlbmRzIENhbnZhc0Rpc3BsYXlPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnRlcmFjdGl2ZUNoaWxkcmVuXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2hpbGRMYXllcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NoaWxkcmVuXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfaXNJbnRlcmFjdGl2ZU1hc2soc3RhdHVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiB8fCBzdXBlci5faXNJbnRlcmFjdGl2ZU1hc2soc3RhdHVzKTtcclxuICAgIH1cclxuICAgIGFkZENoaWxkKGNoaWxkKSB7XHJcbiAgICAgICAgY2hpbGQuX3BhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChjaGlsZCk7XHJcbiAgICAgICAgaWYgKGNoaWxkLl9sYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyQ2hpbGRMYXllcihjaGlsZC5fbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZENoaWxkQXQoY2hpbGQsIGluZGV4KSB7XHJcbiAgICAgICAgY2hpbGQuX3BhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XHJcbiAgICAgICAgaWYgKGNoaWxkLl9sYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyQ2hpbGRMYXllcihjaGlsZC5fbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbW92ZUNoaWxkKGNoaWxkKSB7XHJcbiAgICAgICAgY2hpbGQuX3BhcmVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAkYXJyYXkucmVtb3ZlRmlyc3QodGhpcy5fY2hpbGRyZW4sIGNoaWxkKTtcclxuICAgIH1cclxuICAgIF9yZW5kZXIoc3RhdHVzLCB0YXJnZXRHaG9zdExheWVyKSB7XHJcbiAgICAgICAgc3VwZXIuX3JlbmRlcihzdGF0dXMpO1xyXG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3RpdmUgJiYgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICsrcmVuZGVyZXIuX2ZvcmNlSW50ZXJhY3RpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2NoaWxkcmVuLCAoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgY2hpbGQuY29tcG91bmRBbHBoYSA9IHRoaXMuY29tcG91bmRBbHBoYSAqIHRoaXMuYWxwaGE7XHJcbiAgICAgICAgICAgIGNoaWxkLnJlbmRlcihzdGF0dXMsIHRhcmdldEdob3N0TGF5ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0aXZlICYmIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAtLXJlbmRlcmVyLl9mb3JjZUludGVyYWN0aXZlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlZ2lzdGVyQ2hpbGRMYXllcihsYXllcikge1xyXG4gICAgICAgIGlmICghdGhpcy5fY2hpbGRMYXllcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGRMYXllcnMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LnB1c2hPbmUodGhpcy5fY2hpbGRMYXllcnMsIGxheWVyKTtcclxuICAgICAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5yZWdpc3RlckNoaWxkTGF5ZXIobGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1hcmtEaXJ0eUxheWVyKGRlZXAgPSBmYWxzZSkge1xyXG4gICAgICAgIHN1cGVyLm1hcmtEaXJ0eUxheWVyKCk7XHJcbiAgICAgICAgaWYgKGRlZXAgJiYgdGhpcy5fY2hpbGRMYXllcnMpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fY2hpbGRMYXllcnMsIChsYXllcikgPT4gbGF5ZXIuZGlydHkgPSB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jaGlsZExheWVycykge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9jaGlsZExheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsYXllci5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0UG9pbnQoYm91bmRzLCBwb2ludCkge1xyXG4gICAgYm91bmRzLmxlZnQgPSBNYXRoLm1pbihib3VuZHMubGVmdCwgcG9pbnQueCk7XHJcbiAgICBib3VuZHMudG9wID0gTWF0aC5taW4oYm91bmRzLnRvcCwgcG9pbnQueSk7XHJcbiAgICBib3VuZHMucmlnaHQgPSBNYXRoLm1heChib3VuZHMucmlnaHQsIHBvaW50LngpO1xyXG4gICAgYm91bmRzLmJvdHRvbSA9IE1hdGgubWF4KGJvdW5kcy5ib3R0b20sIHBvaW50LnkpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBPcCB7XHJcbiAgICBjb2xvcml6ZShfY29udGV4dCwgX2ZvcmNlQ29sb3IpIHsgfVxyXG4gICAgY29sb3JpemVHaG9zdChjb250ZXh0LCBmb3JjZUNvbG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvcml6ZShjb250ZXh0LCBmb3JjZUNvbG9yKTtcclxuICAgIH1cclxuICAgIHBhdGgoX2NvbnRleHQpIHsgfVxyXG4gICAgcGF0aEdob3N0KGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLnBhdGgoY29udGV4dCk7XHJcbiAgICB9XHJcbiAgICBhZGRCb3VuZHMoX2JvdW5kcykgeyB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIEJlZ2luUGF0aCBleHRlbmRzIE9wIHtcclxuICAgIGNvbG9yaXplKGNvbnRleHQsIF9mb3JjZUNvbG9yKSB7XHJcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgQmVnaW5GaWxsIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoY29sb3IpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbG9yXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNvbG9yXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb2xvcml6ZShjb250ZXh0LCBmb3JjZUNvbG9yKSB7XHJcbiAgICAgICAgaWYgKGZvcmNlQ29sb3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZvcmNlQ29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBFbmRGaWxsIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoY2xlYXJTaGFkb3cpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsZWFyU2hhZG93XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNsZWFyU2hhZG93XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb2xvcml6ZShjb250ZXh0LCBfZm9yY2VDb2xvcikge1xyXG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmNsZWFyU2hhZG93KSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcIlwiO1xyXG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xyXG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xyXG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgRW5kU3Ryb2tlIGV4dGVuZHMgT3Age1xyXG4gICAgY29sb3JpemUoY29udGV4dCwgX2ZvcmNlQ29sb3IpIHtcclxuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBMaW5lU3R5bGUgZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgY29sb3IsIGxpbmVKb2luLCBsaW5lQ2FwKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aWR0aFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB3aWR0aFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbG9yXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNvbG9yXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGluZUpvaW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbGluZUpvaW5cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsaW5lQ2FwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGxpbmVDYXBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbG9yaXplKGNvbnRleHQsIGZvcmNlQ29sb3IpIHtcclxuICAgICAgICBpZiAoZm9yY2VDb2xvciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBmb3JjZUNvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gdGhpcy53aWR0aDtcclxuICAgICAgICBpZiAodGhpcy5saW5lSm9pbikge1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gdGhpcy5saW5lSm9pbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubGluZUNhcCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSB0aGlzLmxpbmVDYXA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBMaW5lRGFzaCBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhc2gpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhc2hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZGFzaFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29sb3JpemUoY29udGV4dCwgX2ZvcmNlQ29sb3IpIHtcclxuICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHRoaXMuZGFzaCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIExpbmVEYXNoT2Zmc2V0IGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoZGFzaE9mZnNldCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGFzaE9mZnNldFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBkYXNoT2Zmc2V0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb2xvcml6ZShjb250ZXh0LCBfZm9yY2VDb2xvcikge1xyXG4gICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSB0aGlzLmRhc2hPZmZzZXQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIERyYXdSZWN0IGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB5XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogd2lkdGhcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJoZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogaGVpZ2h0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgIH1cclxuICAgIGFkZEJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICBjb25zdCBsID0gdGhpcy54O1xyXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnk7XHJcbiAgICAgICAgY29uc3QgciA9IGwgKyB0aGlzLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGIgPSB0ICsgdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IGwsIHk6IHQgfSk7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHIsIHk6IHQgfSk7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IGwsIHk6IGIgfSk7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHIsIHk6IGIgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIERyYXdDaXJjbGUgZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCByYWRpdXMpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJhZGl1c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiByYWRpdXNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHBhdGgoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHRoaXMueCArIHRoaXMucmFkaXVzLCB0aGlzLnkpO1xyXG4gICAgICAgIGNvbnRleHQuYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETyBoYW5kbGUgc2tld2luZyBhbmQgcm90YXRpb25cclxuICAgIGFkZEJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy54IC0gdGhpcy5yYWRpdXMsIHk6IHRoaXMueSAtIHRoaXMucmFkaXVzIH0pO1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB0aGlzLnggKyB0aGlzLnJhZGl1cywgeTogdGhpcy55ICsgdGhpcy5yYWRpdXMgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIERyYXdFbGxpcHNlIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgcmFkaXVzWCwgcmFkaXVzWSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB5XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmFkaXVzWFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiByYWRpdXNYXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmFkaXVzWVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiByYWRpdXNZXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LmVsbGlwc2UoMCwgMCwgdGhpcy5yYWRpdXNYLCB0aGlzLnJhZGl1c1ksIDAsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgIH1cclxuICAgIC8vIFRPRE8gaGFuZGxlIHNrZXdpbmcgYW5kIHJvdGF0aW9uXHJcbiAgICBhZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHRoaXMueCAtIHRoaXMucmFkaXVzWCwgeTogdGhpcy55IC0gdGhpcy5yYWRpdXNZIH0pO1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB0aGlzLnggKyB0aGlzLnJhZGl1c1gsIHk6IHRoaXMueSArIHRoaXMucmFkaXVzWSB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgQXJjIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjeFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjeFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGN5XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmFkaXVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHJhZGl1c1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0QW5nbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogc3RhcnRBbmdsZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVuZEFuZ2xlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGVuZEFuZ2xlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYW50aWNsb2Nrd2lzZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBhbnRpY2xvY2t3aXNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBpZiAodGhpcy5yYWRpdXMgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKHRoaXMuY3gsIHRoaXMuY3ksIHRoaXMucmFkaXVzLCB0aGlzLnN0YXJ0QW5nbGUsIHRoaXMuZW5kQW5nbGUsIHRoaXMuYW50aWNsb2Nrd2lzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkQm91bmRzKGJvdW5kcykge1xyXG4gICAgICAgIGxldCBhcmNCb3VuZHMgPSAkbWF0aC5nZXRBcmNCb3VuZHModGhpcy5jeCwgdGhpcy5jeSwgdGhpcy5zdGFydEFuZ2xlICogJG1hdGguREVHUkVFUywgdGhpcy5lbmRBbmdsZSAqICRtYXRoLkRFR1JFRVMsIHRoaXMucmFkaXVzKTtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogYXJjQm91bmRzLmxlZnQsIHk6IGFyY0JvdW5kcy50b3AgfSk7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IGFyY0JvdW5kcy5yaWdodCwgeTogYXJjQm91bmRzLmJvdHRvbSB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgQXJjVG8gZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ4MVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB4MVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInkxXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHkxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieDJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeDJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ5MlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB5MlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJhZGl1c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiByYWRpdXNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHBhdGgoY29udGV4dCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJhZGl1cyA+IDApIHtcclxuICAgICAgICAgICAgY29udGV4dC5hcmNUbyh0aGlzLngxLCB0aGlzLnkxLCB0aGlzLngyLCB0aGlzLnkyLCB0aGlzLnJhZGl1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogYWRkIHBvaW50c1xyXG4gICAgYWRkQm91bmRzKF9ib3VuZHMpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgIC8vIG5vdCBmaW5pc2hlZFxyXG4gICAgICAgIGh0dHBzOi8vbWF0aC5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMTc4MTQzOC9maW5kaW5nLXRoZS1jZW50ZXItb2YtYS1jaXJjbGUtZ2l2ZW4tdHdvLXBvaW50cy1hbmQtYS1yYWRpdXMtYWxnZWJyYWljYWxseVxyXG5cclxuICAgICAgICBpZiAocHJldlBvaW50KSB7XHJcbiAgICAgICAgICAgIGxldCB4MSA9IHByZXZQb2ludC54O1xyXG4gICAgICAgICAgICBsZXQgeTEgPSBwcmV2UG9pbnQueTtcclxuICAgICAgICAgICAgbGV0IHgyID0gdGhpcy54MjtcclxuICAgICAgICAgICAgbGV0IHkyID0gdGhpcy55MjtcclxuICAgICAgICAgICAgbGV0IHIgPSB0aGlzLnJhZGl1cztcclxuXHJcbiAgICAgICAgICAgIGxldCB4YSA9ICh4MiAtIHgxKSAvIDI7XHJcbiAgICAgICAgICAgIGxldCB5YSA9ICh5MiAtIHkxKSAvIDI7XHJcblxyXG4gICAgICAgICAgICBsZXQgeDAgPSB4MSArIHhhO1xyXG4gICAgICAgICAgICBsZXQgeTAgPSB5MSArIHlhO1xyXG5cclxuICAgICAgICAgICAgbGV0IGEgPSBNYXRoLmh5cG90KHhhLCB5YSk7XHJcbiAgICAgICAgICAgIGxldCBiID0gTWF0aC5zcXJ0KHIgKiByIC0gYSAqIGEpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGN4ID0geDAgKyBiICogeWEgLyBhO1xyXG4gICAgICAgICAgICBsZXQgY3kgPSB5MCAtIGIgKiB4YSAvIGE7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjeCwgY3kpO1xyXG4gICAgICAgIH0qL1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBMaW5lVG8gZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHhcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHBhdGgoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnRleHQubGluZVRvKHRoaXMueCwgdGhpcy55KTtcclxuICAgIH1cclxuICAgIGFkZEJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy54LCB5OiB0aGlzLnkgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIE1vdmVUbyBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogeVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5tb3ZlVG8odGhpcy54LCB0aGlzLnkpO1xyXG4gICAgfVxyXG4gICAgYWRkQm91bmRzKGJvdW5kcykge1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB0aGlzLngsIHk6IHRoaXMueSB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgQ2xvc2VQYXRoIGV4dGVuZHMgT3Age1xyXG4gICAgcGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgQmV6aWVyQ3VydmVUbyBleHRlbmRzIE9wIHtcclxuICAgIGNvbnN0cnVjdG9yKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3BYXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNwWFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNwWVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjcFlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcFgyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNwWDJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcFkyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNwWTJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b1hcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdG9YXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9ZXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRvWVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcGF0aChjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHRoaXMuY3BYLCB0aGlzLmNwWSwgdGhpcy5jcFgyLCB0aGlzLmNwWTIsIHRoaXMudG9YLCB0aGlzLnRvWSk7XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPOiBPSz9cclxuICAgIGFkZEJvdW5kcyhib3VuZHMpIHtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy5jcFgsIHk6IHRoaXMuY3BZIH0pO1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB0aGlzLmNwWDIsIHk6IHRoaXMuY3BZMiB9KTtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy50b1gsIHk6IHRoaXMudG9ZIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBRdWFkcmF0aWNDdXJ2ZVRvIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoY3BYLCBjcFksIHRvWCwgdG9ZKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcFhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY3BYXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3BZXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNwWVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvWFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0b1hcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b1lcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdG9ZXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8odGhpcy5jcFgsIHRoaXMuY3BZLCB0aGlzLnRvWCwgdGhpcy50b1kpO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogT0s/XHJcbiAgICBhZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHRoaXMuY3BYLCB5OiB0aGlzLmNwWSB9KTtcclxuICAgICAgICBzZXRQb2ludChib3VuZHMsIHsgeDogdGhpcy50b1gsIHk6IHRoaXMudG9ZIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBTaGFkb3cgZXh0ZW5kcyBPcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xvciwgYmx1ciwgb2Zmc2V0WCwgb2Zmc2V0WSwgb3BhY2l0eSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29sb3JcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY29sb3JcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJibHVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGJsdXJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvZmZzZXRYXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG9mZnNldFhcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvZmZzZXRZXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG9mZnNldFlcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGFjaXR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG9wYWNpdHlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbG9yaXplKGNvbnRleHQsIF9mb3JjZUNvbG9yKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3BhY2l0eSkge1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHRoaXMuYmx1cjtcclxuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSB0aGlzLm9mZnNldFg7XHJcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gdGhpcy5vZmZzZXRZO1xyXG4gICAgfVxyXG4gICAgY29sb3JpemVHaG9zdChfY29udGV4dCwgX2ZvcmNlQ29sb3IpIHsgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBHcmFwaGljc0ltYWdlIGV4dGVuZHMgT3Age1xyXG4gICAgY29uc3RydWN0b3IoaW1hZ2UsIHdpZHRoLCBoZWlnaHQsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImltYWdlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGltYWdlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogd2lkdGhcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJoZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogaGVpZ2h0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwieVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlLCB0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogT0s/XHJcbiAgICBhZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHRoaXMueCwgeTogdGhpcy55IH0pO1xyXG4gICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB0aGlzLndpZHRoLCB5OiB0aGlzLmhlaWdodCB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbnZhc0dyYXBoaWNzIGV4dGVuZHMgQ2FudmFzRGlzcGxheU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9vcGVyYXRpb25zXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmxlbmRNb2RlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IEJsZW5kTW9kZS5OT1JNQUxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGFzU2hhZG93c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9maWxsQWxwaGFcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N0cm9rZUFscGhhXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLl9vcGVyYXRpb25zLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbiAgICBfcHVzaE9wKG9wKSB7XHJcbiAgICAgICAgdGhpcy5fb3BlcmF0aW9ucy5wdXNoKG9wKTtcclxuICAgIH1cclxuICAgIGJlZ2luRmlsbChjb2xvciwgYWxwaGEgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5fZmlsbEFscGhhID0gYWxwaGE7XHJcbiAgICAgICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2xvciBpbnN0YW5jZW9mIENvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wdXNoT3AobmV3IEJlZ2luRmlsbChjb2xvci50b0NTUyhhbHBoYSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNNZWFzdXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wdXNoT3AobmV3IEJlZ2luRmlsbChjb2xvcikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9wdXNoT3AobmV3IEJlZ2luRmlsbChcInJnYmEoMCwgMCwgMCwgXCIgKyBhbHBoYSArIFwiKVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZW5kRmlsbCgpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IEVuZEZpbGwodGhpcy5faGFzU2hhZG93cykpO1xyXG4gICAgfVxyXG4gICAgZW5kU3Ryb2tlKCkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgRW5kU3Ryb2tlKCkpO1xyXG4gICAgfVxyXG4gICAgYmVnaW5QYXRoKCkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgQmVnaW5QYXRoKCkpO1xyXG4gICAgfVxyXG4gICAgbGluZVN0eWxlKHdpZHRoID0gMCwgY29sb3IsIGFscGhhID0gMSwgbGluZUpvaW4sIGxpbmVDYXApIHtcclxuICAgICAgICB0aGlzLl9zdHJva2VBbHBoYSA9IGFscGhhO1xyXG4gICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICBpZiAoY29sb3IgaW5zdGFuY2VvZiBDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBMaW5lU3R5bGUod2lkdGgsIGNvbG9yLnRvQ1NTKGFscGhhKSwgbGluZUpvaW4sIGxpbmVDYXApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3B1c2hPcChuZXcgTGluZVN0eWxlKHdpZHRoLCBjb2xvciwgbGluZUpvaW4sIGxpbmVDYXApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBMaW5lU3R5bGUod2lkdGgsIFwicmdiYSgwLCAwLCAwLCBcIiArIGFscGhhICsgXCIpXCIsIGxpbmVKb2luLCBsaW5lQ2FwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0TGluZURhc2goZGFzaCkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgTGluZURhc2goZGFzaCA/IGRhc2ggOiBbXSkpO1xyXG4gICAgfVxyXG4gICAgc2V0TGluZURhc2hPZmZzZXQoZGFzaE9mZnNldCA9IDApIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IExpbmVEYXNoT2Zmc2V0KGRhc2hPZmZzZXQpKTtcclxuICAgIH1cclxuICAgIGRyYXdSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IERyYXdSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcclxuICAgIH1cclxuICAgIGRyYXdDaXJjbGUoeCwgeSwgcmFkaXVzKSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBEcmF3Q2lyY2xlKHgsIHksIHJhZGl1cykpO1xyXG4gICAgfVxyXG4gICAgZHJhd0VsbGlwc2UoeCwgeSwgcmFkaXVzWCwgcmFkaXVzWSkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgRHJhd0VsbGlwc2UoeCwgeSwgcmFkaXVzWCwgcmFkaXVzWSkpO1xyXG4gICAgfVxyXG4gICAgYXJjKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBBcmMoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKSk7XHJcbiAgICB9XHJcbiAgICBhcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBBcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSk7XHJcbiAgICB9XHJcbiAgICBsaW5lVG8oeCwgeSkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgTGluZVRvKHgsIHkpKTtcclxuICAgIH1cclxuICAgIG1vdmVUbyh4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBNb3ZlVG8oeCwgeSkpO1xyXG4gICAgfVxyXG4gICAgYmV6aWVyQ3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IEJlemllckN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSk7XHJcbiAgICB9XHJcbiAgICBxdWFkcmF0aWNDdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgUXVhZHJhdGljQ3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1kpKTtcclxuICAgIH1cclxuICAgIGNsb3NlUGF0aCgpIHtcclxuICAgICAgICB0aGlzLl9wdXNoT3AobmV3IENsb3NlUGF0aCgpKTtcclxuICAgIH1cclxuICAgIHNoYWRvdyhjb2xvciwgYmx1ciA9IDAsIG9mZnNldFggPSAwLCBvZmZzZXRZID0gMCwgb3BhY2l0eSkge1xyXG4gICAgICAgIHRoaXMuX2hhc1NoYWRvd3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3B1c2hPcChuZXcgU2hhZG93KG9wYWNpdHkgPyBjb2xvci50b0NTUyhvcGFjaXR5KSA6IGNvbG9yLnRvQ1NTKHRoaXMuX2ZpbGxBbHBoYSB8fCB0aGlzLl9zdHJva2VBbHBoYSksIGJsdXIsIG9mZnNldFgsIG9mZnNldFkpKTtcclxuICAgIH1cclxuICAgIGltYWdlKGltYWdlLCB3aWR0aCwgaGVpZ2h0LCB4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5fcHVzaE9wKG5ldyBHcmFwaGljc0ltYWdlKGltYWdlLCB3aWR0aCwgaGVpZ2h0LCB4LCB5KSk7XHJcbiAgICB9XHJcbiAgICAvLyBodHRwczovL3N2Z3dnLm9yZy9zdmcyLWRyYWZ0L3BhdGhzLmh0bWwjRFByb3BlcnR5XHJcbiAgICAvLyBUT0RPIGJldHRlciBlcnJvciBjaGVja2luZ1xyXG4gICAgc3ZnUGF0aChwYXRoKSB7XHJcbiAgICAgICAgbGV0IHggPSAwO1xyXG4gICAgICAgIGxldCB5ID0gMDtcclxuICAgICAgICBsZXQgY3B4ID0gbnVsbDtcclxuICAgICAgICBsZXQgY3B5ID0gbnVsbDtcclxuICAgICAgICBsZXQgcWNweCA9IG51bGw7XHJcbiAgICAgICAgbGV0IHFjcHkgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IFNFR01FTlRTX1JFR0VYUCA9IC8oW01tWnpMbEhoVnZDY1NzUXFUdEFhXSkoW15NbVp6TGxIaFZ2Q2NTc1FxVHRBYV0qKS9nO1xyXG4gICAgICAgIGNvbnN0IEFSR1NfUkVHRVhQID0gL1tcXHUwMDA5XFx1MDAyMFxcdTAwMEFcXHUwMDBDXFx1MDAwRF0qKFtcXCtcXC1dP1swLTldKlxcLj9bMC05XSsoPzpbZUVdW1xcK1xcLV0/WzAtOV0rKT8pW1xcdTAwMDlcXHUwMDIwXFx1MDAwQVxcdTAwMENcXHUwMDBEXSosPy9nO1xyXG4gICAgICAgIGxldCBtYXRjaDtcclxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gU0VHTUVOVFNfUkVHRVhQLmV4ZWMocGF0aCkpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBtYXRjaFsxXTtcclxuICAgICAgICAgICAgY29uc3QgcmVzdCA9IG1hdGNoWzJdO1xyXG4gICAgICAgICAgICBjb25zdCBhcmdzID0gW107XHJcbiAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBBUkdTX1JFR0VYUC5leGVjKHJlc3QpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKG1hdGNoWzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBSZXNldCBjb250cm9sIHBvaW50XHJcbiAgICAgICAgICAgIGlmIChuYW1lICE9PSBcIlNcIiAmJiBuYW1lICE9PSBcInNcIiAmJiBuYW1lICE9PSBcIkNcIiAmJiBuYW1lICE9PSBcImNcIikge1xyXG4gICAgICAgICAgICAgICAgY3B4ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGNweSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmVzZXQgY29udHJvbCBwb2ludFxyXG4gICAgICAgICAgICBpZiAobmFtZSAhPT0gXCJRXCIgJiYgbmFtZSAhPT0gXCJxXCIgJiYgbmFtZSAhPT0gXCJUXCIgJiYgbmFtZSAhPT0gXCJ0XCIpIHtcclxuICAgICAgICAgICAgICAgIHFjcHggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcWNweSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSArYXJnc1swXTtcclxuICAgICAgICAgICAgICAgICAgICB5ID0gK2FyZ3NbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCBhcmdzLmxlbmd0aDsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9ICthcmdzW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1cIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB4ICs9ICthcmdzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgKz0gK2FyZ3NbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCBhcmdzLmxlbmd0aDsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gK2FyZ3NbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSArYXJnc1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tFdmVuQXJncyhuYW1lLCBhcmdzLmxlbmd0aCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gK2FyZ3NbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrTWluQXJncyhuYW1lLCBhcmdzLmxlbmd0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImhcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja01pbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9ICthcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiVlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrTWluQXJncyhuYW1lLCBhcmdzLmxlbmd0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInZcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja01pbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICthcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gNikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4MSA9ICthcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5MSA9ICthcmdzW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gK2FyZ3NbaSArIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSArYXJnc1tpICsgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSArYXJnc1tpICsgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSArYXJnc1tpICsgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmV6aWVyQ3VydmVUbyh4MSwgeTEsIGNweCwgY3B5LCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gNikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4MSA9ICthcmdzW2ldICsgeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeTEgPSArYXJnc1tpICsgMV0gKyB5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSArYXJnc1tpICsgMl0gKyB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSArYXJnc1tpICsgM10gKyB5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9ICthcmdzW2kgKyA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSArPSArYXJnc1tpICsgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmV6aWVyQ3VydmVUbyh4MSwgeTEsIGNweCwgY3B5LCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcHggPT09IG51bGwgfHwgY3B5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSA9IHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4MSA9IDIgKiB4IC0gY3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5MSA9IDIgKiB5IC0gY3B5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gK2FyZ3NbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gK2FyZ3NbaSArIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gK2FyZ3NbaSArIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlemllckN1cnZlVG8oeDEsIHkxLCBjcHgsIGNweSwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3B4ID09PSBudWxsIHx8IGNweSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSB5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeDEgPSAyICogeCAtIGNweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeTEgPSAyICogeSAtIGNweTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gK2FyZ3NbaV0gKyB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSArYXJnc1tpICsgMV0gKyB5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9ICthcmdzW2kgKyAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSArPSArYXJnc1tpICsgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmV6aWVyQ3VydmVUbyh4MSwgeTEsIGNweCwgY3B5LCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiUVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B4ID0gK2FyZ3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFjcHkgPSArYXJnc1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSArYXJnc1tpICsgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSArYXJnc1tpICsgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVhZHJhdGljQ3VydmVUbyhxY3B4LCBxY3B5LCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwicVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B4ID0gK2FyZ3NbaV0gKyB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B5ID0gK2FyZ3NbaSArIDFdICsgeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCArPSArYXJnc1tpICsgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gK2FyZ3NbaSArIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YWRyYXRpY0N1cnZlVG8ocWNweCwgcWNweSwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlRcIjpcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0V2ZW5BcmdzKG5hbWUsIGFyZ3MubGVuZ3RoLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocWNweCA9PT0gbnVsbCB8fCBxY3B5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFjcHggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B5ID0geTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFjcHggPSAyICogeCAtIHFjcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFjcHkgPSAyICogeSAtIHFjcHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSArYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9ICthcmdzW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWFkcmF0aWNDdXJ2ZVRvKHFjcHgsIHFjcHksIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tFdmVuQXJncyhuYW1lLCBhcmdzLmxlbmd0aCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHFjcHggPT09IG51bGwgfHwgcWNweSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWNweSA9IHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B4ID0gMiAqIHggLSBxY3B4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxY3B5ID0gMiAqIHkgLSBxY3B5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4ICs9ICthcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICthcmdzW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWFkcmF0aWNDdXJ2ZVRvKHFjcHgsIHFjcHksIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJBXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlID0gKG5hbWUgPT09IFwiYVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzcGxpdEFyY0ZsYWdzKGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRXZlbkFyZ3MobmFtZSwgYXJncy5sZW5ndGgsIDcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gNykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3ggPSArYXJnc1tpICsgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjeSA9ICthcmdzW2kgKyA2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeCArPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3kgKz0geTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBicyA9IGFyY1RvQmV6aWVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB4OiB4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHk6IHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeDogK2FyZ3NbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeTogK2FyZ3NbaSArIDFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeEF4aXNSb3RhdGlvbjogK2FyZ3NbaSArIDJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFyZ2VBcmNGbGFnOiBhc3NlcnRCaW5hcnkoK2FyZ3NbaSArIDNdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWVwRmxhZzogYXNzZXJ0QmluYXJ5KCthcmdzW2kgKyA0XSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goYnMsIChiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlemllckN1cnZlVG8oYi54MSwgYi55MSwgYi54MiwgYi55MiwgYi54LCBiLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGIueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBiLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwielwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQXJncyhuYW1lLCBhcmdzLmxlbmd0aCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9ydW5QYXRoKGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX29wZXJhdGlvbnMsIChvcCkgPT4ge1xyXG4gICAgICAgICAgICBvcC5wYXRoKGNvbnRleHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX3JlbmRlcihzdGF0dXMsIHRhcmdldEdob3N0TGF5ZXIgPSAwKSB7XHJcbiAgICAgICAgc3VwZXIuX3JlbmRlcihzdGF0dXMpO1xyXG4gICAgICAgIGNvbnN0IGxheWVyRGlydHkgPSBzdGF0dXMubGF5ZXIuZGlydHk7XHJcbiAgICAgICAgY29uc3QgaW50ZXJhY3RpdmUgPSB0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cyk7XHJcbiAgICAgICAgY29uc3QgZ2hvc3RPbmx5ID0gdGhpcy5fZ2hvc3RPbmx5KHRhcmdldEdob3N0TGF5ZXIpO1xyXG4gICAgICAgIGNvbnN0IGRyYXdHaG9zdCA9IHRoaXMuX2RyYXdHaG9zdChzdGF0dXMsIHRhcmdldEdob3N0TGF5ZXIpO1xyXG4gICAgICAgIGlmIChsYXllckRpcnR5IHx8IGludGVyYWN0aXZlIHx8IGdob3N0T25seSkge1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gc3RhdHVzLmxheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGdob3N0Q29udGV4dCA9IHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgIGlmIChsYXllckRpcnR5ICYmICFnaG9zdE9ubHkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5ibGVuZE1vZGU7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjb2xvcjtcclxuICAgICAgICAgICAgaWYgKGRyYXdHaG9zdCkge1xyXG4gICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSB0aGlzLl9nZXRDb2xvcklkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fb3BlcmF0aW9ucywgKG9wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXJEaXJ0eSAmJiAhZ2hvc3RPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3AucGF0aChjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBvcC5jb2xvcml6ZShjb250ZXh0LCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRyYXdHaG9zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wLnBhdGhHaG9zdChnaG9zdENvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wLmNvbG9yaXplR2hvc3QoZ2hvc3RDb250ZXh0LCBjb2xvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbmRlckRldGFjaGVkKGNvbnRleHQpIHtcclxuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE1hdHJpeCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgLy8gV2UgbXVzdCBhcHBseSB0aGUgbWFzayBiZWZvcmUgd2UgdHJhbnNmb3JtIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSB0aGlzLm1hc2s7XHJcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICBtYXNrLl9zZXRNYXRyaXgoKTtcclxuICAgICAgICAgICAgICAgIG1hc2suX3RyYW5zZm9ybShjb250ZXh0LCAxKTtcclxuICAgICAgICAgICAgICAgIG1hc2suX3J1blBhdGgoY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUT0RPIGhhbmRsZSBjb21wb3VuZEFscGhhIHNvbWVob3cgP1xyXG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy5jb21wb3VuZEFscGhhICogdGhpcy5hbHBoYTtcclxuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtKGNvbnRleHQsIDEpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsdGVyID0gdGhpcy5maWx0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLmJsZW5kTW9kZTtcclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fb3BlcmF0aW9ucywgKG9wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvcC5wYXRoKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgb3AuY29sb3JpemUoY29udGV4dCwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiB0aGlzLmlzTWVhc3VyZWQpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fb3BlcmF0aW9ucywgKG9wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvcC5hZGRCb3VuZHMoYm91bmRzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FudmFzVGV4dCBleHRlbmRzIENhbnZhc0Rpc3BsYXlPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIsIHRleHQsIHN0eWxlKSB7XHJcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3R5bGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzb2x1dGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGV4dFZpc2libGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRydW5jYXRlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGV4dEluZm9cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX29yaWdpbmFsU2NhbGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xyXG4gICAgfVxyXG4gICAgaW52YWxpZGF0ZUJvdW5kcygpIHtcclxuICAgICAgICBzdXBlci5pbnZhbGlkYXRlQm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy5fdGV4dEluZm8gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpbnZhbGlkYXRlVmlzaWJpbGl0eSgpIHtcclxuICAgICAgICB0aGlzLnRleHRWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy5fb3JpZ2luYWxTY2FsZSB8fCAxO1xyXG4gICAgfVxyXG4gICAgX3NoYXJlZChjb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUudGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gdGhpcy5zdHlsZS50ZXh0QWxpZ247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnN0eWxlLmRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICBjb250ZXh0LmRpcmVjdGlvbiA9IHRoaXMuc3R5bGUuZGlyZWN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdHlsZS50ZXh0QmFzZWxpbmUpIHtcclxuICAgICAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSB0aGlzLnN0eWxlLnRleHRCYXNlbGluZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcHJlcmVuZGVyKHN0YXR1cywgaWdub3JlR2hvc3QgPSBmYWxzZSwgaWdub3JlRm9udFdlaWdodCA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIuX3JlbmRlcihzdGF0dXMpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBzdGF0dXMubGF5ZXIuY29udGV4dDtcclxuICAgICAgICBjb25zdCBnaG9zdENvbnRleHQgPSB0aGlzLl9yZW5kZXJlci5fZ2hvc3RMYXllci5jb250ZXh0O1xyXG4gICAgICAgIC8vIEZvbnQgc3R5bGVcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XHJcbiAgICAgICAgbGV0IGZvbnRTdHlsZSA9IHRoaXMuX2dldEZvbnRTdHlsZSh1bmRlZmluZWQsIGlnbm9yZUZvbnRXZWlnaHQpO1xyXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnRTdHlsZTtcclxuICAgICAgICBpZiAodGhpcy5faXNJbnRlcmFjdGl2ZShzdGF0dXMpICYmICFpZ25vcmVHaG9zdCkge1xyXG4gICAgICAgICAgICBnaG9zdENvbnRleHQuZm9udCA9IGZvbnRTdHlsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gT3RoZXIgcGFyYW1ldGVyc1xyXG4gICAgICAgIGlmIChzdHlsZS5maWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChzdHlsZS5maWxsIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGUuZmlsbC50b0NTUyhzdHlsZS5maWxsT3BhY2l0eSAhPSB1bmRlZmluZWQgPyBzdHlsZS5maWxsT3BhY2l0eSA6IDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzdHlsZS5maWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdHlsZS5zaGFkb3dDb2xvcikge1xyXG4gICAgICAgICAgICBzdGF0dXMubGF5ZXIuY29udGV4dC5zaGFkb3dDb2xvciA9IHN0eWxlLnNoYWRvd0NvbG9yLnRvQ1NTKHN0eWxlLnNoYWRvd09wYWNpdHkgfHwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdHlsZS5zaGFkb3dCbHVyKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cy5sYXllci5jb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5zaGFkb3dCbHVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3R5bGUuc2hhZG93T2Zmc2V0WCkge1xyXG4gICAgICAgICAgICBzdGF0dXMubGF5ZXIuY29udGV4dC5zaGFkb3dPZmZzZXRYID0gc3R5bGUuc2hhZG93T2Zmc2V0WDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0eWxlLnNoYWRvd09mZnNldFkpIHtcclxuICAgICAgICAgICAgc3RhdHVzLmxheWVyLmNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IHN0eWxlLnNoYWRvd09mZnNldFk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NoYXJlZChjb250ZXh0KTtcclxuICAgICAgICBpZiAodGhpcy5faXNJbnRlcmFjdGl2ZShzdGF0dXMpICYmICFpZ25vcmVHaG9zdCkge1xyXG4gICAgICAgICAgICBnaG9zdENvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2V0Q29sb3JJZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zaGFyZWQoZ2hvc3RDb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZ2V0Rm9udFN0eWxlKHN0eWxlMiwgaWdub3JlRm9udFdlaWdodCA9IGZhbHNlKSB7XHJcbiAgICAgICAgLy8gUHJvY2VzcyBkZWZhdWx0c1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcclxuICAgICAgICBsZXQgZm9udFN0eWxlID0gW107XHJcbiAgICAgICAgaWYgKHN0eWxlMiAmJiBzdHlsZTIuZm9udFZhcmlhbnQpIHtcclxuICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goc3R5bGUyLmZvbnRWYXJpYW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuZm9udFZhcmlhbnQpIHtcclxuICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goc3R5bGUuZm9udFZhcmlhbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlnbm9yZUZvbnRXZWlnaHQpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlMiAmJiBzdHlsZTIuZm9udFdlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goc3R5bGUyLmZvbnRXZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmZvbnRXZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZS5wdXNoKHN0eWxlLmZvbnRXZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdHlsZTIgJiYgc3R5bGUyLmZvbnRTdHlsZSkge1xyXG4gICAgICAgICAgICBmb250U3R5bGUucHVzaChzdHlsZTIuZm9udFN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuZm9udFN0eWxlKSB7XHJcbiAgICAgICAgICAgIGZvbnRTdHlsZS5wdXNoKHN0eWxlLmZvbnRTdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdHlsZTIgJiYgc3R5bGUyLmZvbnRTaXplKSB7XHJcbiAgICAgICAgICAgIGlmICgkdHlwZS5pc051bWJlcihzdHlsZTIuZm9udFNpemUpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZTIuZm9udFNpemUgPSBzdHlsZTIuZm9udFNpemUgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goc3R5bGUyLmZvbnRTaXplKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuZm9udFNpemUpIHtcclxuICAgICAgICAgICAgaWYgKCR0eXBlLmlzTnVtYmVyKHN0eWxlLmZvbnRTaXplKSkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUuZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZSArIFwicHhcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb250U3R5bGUucHVzaChzdHlsZS5mb250U2l6ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdHlsZTIgJiYgc3R5bGUyLmZvbnRGYW1pbHkpIHtcclxuICAgICAgICAgICAgZm9udFN0eWxlLnB1c2goc3R5bGUyLmZvbnRGYW1pbHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzdHlsZS5mb250RmFtaWx5KSB7XHJcbiAgICAgICAgICAgIGZvbnRTdHlsZS5wdXNoKHN0eWxlLmZvbnRGYW1pbHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmb250U3R5bGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvbnRTdHlsZS5wdXNoKFwiQXJpYWxcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb250U3R5bGUuam9pbihcIiBcIik7XHJcbiAgICB9XHJcbiAgICBfcmVuZGVyKHN0YXR1cywgdGFyZ2V0R2hvc3RMYXllciA9IDApIHtcclxuICAgICAgICAvLyBXZSBuZWVkIG1lYXN1cmVtZW50cyBpbiBvcmRlciB0byBwcm9wZXJseSBwb3NpdGlvbiB0ZXh0IGZvciBhbGlnbm1lbnRcclxuICAgICAgICBpZiAoIXRoaXMuX3RleHRJbmZvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21lYXN1cmUoc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudGV4dFZpc2libGUpIHtcclxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3RpdmUgPSB0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBzdGF0dXMubGF5ZXIuY29udGV4dDtcclxuICAgICAgICAgICAgY29uc3QgbGF5ZXJEaXJ0eSA9IHN0YXR1cy5sYXllci5kaXJ0eTtcclxuICAgICAgICAgICAgY29uc3QgZ2hvc3RDb250ZXh0ID0gdGhpcy5fcmVuZGVyZXIuX2dob3N0TGF5ZXIuY29udGV4dDtcclxuICAgICAgICAgICAgY29uc3QgZ2hvc3RPbmx5ID0gdGhpcy5fZ2hvc3RPbmx5KHRhcmdldEdob3N0TGF5ZXIpO1xyXG4gICAgICAgICAgICBjb25zdCBkcmF3R2hvc3QgPSB0aGlzLl9kcmF3R2hvc3Qoc3RhdHVzLCB0YXJnZXRHaG9zdExheWVyKTtcclxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGdob3N0Q29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXJlbmRlcihzdGF0dXMpO1xyXG4gICAgICAgICAgICAvLyBjb25zdCBsaW5lcyA9IHRoaXMudGV4dC50b1N0cmluZygpLnJlcGxhY2UoL1xcci9nLCBcIlwiKS5zcGxpdCgvXFxuLyk7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHggPSB0aGlzLl9sb2NhbEJvdW5kcyAmJiAodGhpcy5fbG9jYWxCb3VuZHMubGVmdCA8IDApID8gTWF0aC5hYnModGhpcy5fbG9jYWxCb3VuZHMubGVmdCkgOiAwO1xyXG4gICAgICAgICAgICAvLyBQcm9jZXNzIHRleHQgaW5mbyBwcm9kdWNlZCBieSBfbWVhc3VyZSgpXHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RleHRJbmZvLCAobGluZSwgX2luZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChsaW5lLnRleHRDaHVua3MsIChjaHVuaywgX2luZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHN0eWxlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdob3N0T25seSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5mb250ID0gY2h1bmsuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzSW50ZXJhY3RpdmUoc3RhdHVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LmZvbnQgPSBjaHVuay5zdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsuZmlsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFnaG9zdE9ubHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY2h1bmsuZmlsbC50b0NTUygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbG9yIGRvZXMgbm90IGFmZmVjdCBnaG9zdENvbnRleHQgc28gd2Ugbm90IHNldCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IHRleHRcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJEaXJ0eSAmJiAhZ2hvc3RPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoY2h1bmsudGV4dCwgY2h1bmsub2Zmc2V0WCwgbGluZS5vZmZzZXRZICsgY2h1bmsub2Zmc2V0WSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIERyYXcgdW5kZXJsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnRleHREZWNvcmF0aW9uID09IFwidW5kZXJsaW5lXCIgfHwgY2h1bmsudGV4dERlY29yYXRpb24gPT0gXCJsaW5lLXRocm91Z2hcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGhpY2tuZXNzID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmb250U2l6ZSA9IGNodW5rLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3ZlcnNpemVkQmVoYXZpb3IgPSB0aGlzLnN0eWxlLm92ZXJzaXplZEJlaGF2aW9yIHx8IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChbXCJ0cnVuY2F0ZVwiLCBcIndyYXBcIiwgXCJ3cmFwLW5vLWJyZWFrXCJdLmluZGV4T2Yob3ZlcnNpemVkQmVoYXZpb3IpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1lYXN1cmUgYWN0dWFsIHdpZHRoIG9mIHRoZSB0ZXh0IHNvIHRoZSBsaW5lIGZpdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLl9tZWFzdXJlVGV4dChjaHVuay50ZXh0LCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLndpZHRoID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQgKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9mZnNldFggPSBjaHVuay5vZmZzZXRYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc3R5bGUudGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRYIC09IGNodW5rLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFggLT0gY2h1bmsud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gVGV4dEZvcm1hdHRlci5nZXRUZXh0U3R5bGUoY2h1bmsuc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmb3JtYXQuZm9udFdlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib2xkZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9sZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI3MDBcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiODAwXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjkwMFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlja25lc3MgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9udFNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGZvbnRTaXplIC8gMjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay50ZXh0RGVjb3JhdGlvbiA9PSBcImxpbmUtdGhyb3VnaFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gdGhpY2tuZXNzICsgbGluZS5vZmZzZXRZICsgY2h1bmsub2Zmc2V0WSAtIGNodW5rLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gdGhpY2tuZXNzICsgb2Zmc2V0ICogMS41ICsgbGluZS5vZmZzZXRZICsgY2h1bmsub2Zmc2V0WTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdob3N0T25seSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLmZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY2h1bmsuZmlsbC50b0NTUygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdHlsZS5maWxsICYmIHRoaXMuc3R5bGUuZmlsbCBpbnN0YW5jZW9mIENvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuc3R5bGUuZmlsbC50b0NTUygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSB0aGlja25lc3MgKiBvZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhvZmZzZXRYLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKG9mZnNldFggKyBjaHVuay53aWR0aCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlICYmIHRoaXMuaW50ZXJhY3RpdmUgJiYgZHJhd0dob3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERyYXcgdGV4dCBpbiBnaG9zdCBjYW52YXMgT05MWSBpZiBpdCBpcyBzZXQgYXMgaW50ZXJhY3RpdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwbGljaXRseS4gVGhpcyB3YXkgd2UgYXZvaWQgaGl0IHRlc3QgYW5vbWFsaWVzIGNhdXNlZCBieSBhbnRpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsaWFzaW5nIG9mIHRleHQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5maWxsVGV4dChjaHVuay50ZXh0LCBjaHVuay5vZmZzZXRYLCBsaW5lLm9mZnNldFkgKyBjaHVuay5vZmZzZXRZKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLmZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbG9yIGRvZXMgbm90IGFmZmVjdCBnaG9zdENvbnRleHQgc28gd2Ugbm90IHNldCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBzdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICBnaG9zdENvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRCb3VuZHMoYm91bmRzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAmJiB0aGlzLmlzTWVhc3VyZWQpIHtcclxuICAgICAgICAgICAgLy9pZiAodGhpcy5fdGV4dFZpc2libGUpIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMuX21lYXN1cmUoe1xyXG4gICAgICAgICAgICAgICAgaW5hY3RpdmU6IHRoaXMuaW5hY3RpdmUsXHJcbiAgICAgICAgICAgICAgICBsYXllcjogdGhpcy5nZXRMYXllcigpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0UG9pbnQoYm91bmRzLCB7IHg6IHgubGVmdCwgeTogeC50b3AgfSk7XHJcbiAgICAgICAgICAgIHNldFBvaW50KGJvdW5kcywgeyB4OiB4LnJpZ2h0LCB5OiB4LmJvdHRvbSB9KTtcclxuICAgICAgICAgICAgLy99XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2lnbm9yZUZvbnRXZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIC9hcHBsZS9pLnRlc3QobmF2aWdhdG9yLnZlbmRvcik7XHJcbiAgICB9XHJcbiAgICBfbWVhc3VyZShzdGF0dXMpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gc3RhdHVzLmxheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgY29uc3QgZ2hvc3RDb250ZXh0ID0gdGhpcy5fcmVuZGVyZXIuX2dob3N0TGF5ZXIuY29udGV4dDtcclxuICAgICAgICBjb25zdCBydGwgPSB0aGlzLnN0eWxlLmRpcmVjdGlvbiA9PSBcInJ0bFwiO1xyXG4gICAgICAgIC8vIFJlc2V0IHRleHQgaW5mb1xyXG4gICAgICAgIHRoaXMuX3RleHRJbmZvID0gW107XHJcbiAgICAgICAgLy8gSW5pdFxyXG4gICAgICAgIGNvbnN0IG92ZXJzaXplZEJlaGF2aW9yID0gdGhpcy5zdHlsZS5vdmVyc2l6ZWRCZWhhdmlvcjtcclxuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuc3R5bGUubWF4V2lkdGg7XHJcbiAgICAgICAgY29uc3QgdHJ1bmNhdGUgPSAkdHlwZS5pc051bWJlcihtYXhXaWR0aCkgJiYgb3ZlcnNpemVkQmVoYXZpb3IgPT0gXCJ0cnVuY2F0ZVwiO1xyXG4gICAgICAgIGNvbnN0IHdyYXAgPSAkdHlwZS5pc051bWJlcihtYXhXaWR0aCkgJiYgKG92ZXJzaXplZEJlaGF2aW9yID09IFwid3JhcFwiIHx8IG92ZXJzaXplZEJlaGF2aW9yID09IFwid3JhcC1uby1icmVha1wiKTtcclxuICAgICAgICAvLyBQcmUtcmVuZGVyXHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgZ2hvc3RDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICB0aGlzLl9wcmVyZW5kZXIoc3RhdHVzLCB0cnVlLCB0aGlzLl9pZ25vcmVGb250V2VpZ2h0KCkpO1xyXG4gICAgICAgIC8vIEdldCBkZWZhdWx0IGZvbnQgbWV0cml4XHJcbiAgICAgICAgY29uc3QgcmVmVGV4dCA9IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODkgXCI7XHJcbiAgICAgICAgLy8gU3BsaXQgdXAgdGV4dCBpbnRvIGxpbmVzXHJcbiAgICAgICAgY29uc3QgbGluZXMgPSB0aGlzLnRleHQudG9TdHJpbmcoKS5yZXBsYWNlKC9cXHIvZywgXCJcIikuc3BsaXQoL1xcbi8pO1xyXG4gICAgICAgIGxldCBzdHlsZVJlc3RvcmVkID0gdHJ1ZTtcclxuICAgICAgICBsZXQgbWluWCA9IDA7XHJcbiAgICAgICAgbGV0IG1heFggPSAwO1xyXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgbGluZXNcclxuICAgICAgICBsZXQgb2Zmc2V0WSA9IDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTdHlsZTtcclxuICAgICAgICAkYXJyYXkuZWFjaChsaW5lcywgKGxpbmUsIF9pbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBTcGxpdCB1cCBsaW5lIGludG8gZm9ybWF0L3ZhbHVlIGNodW5rc1xyXG4gICAgICAgICAgICBsZXQgY2h1bmtzO1xyXG4gICAgICAgICAgICBpZiAobGluZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBjaHVua3MgPSBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInZhbHVlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNodW5rcyA9IFRleHRGb3JtYXR0ZXIuY2h1bmsobGluZSwgZmFsc2UsIHRoaXMuc3R5bGUuaWdub3JlRm9ybWF0dGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2hpbGUgKGNodW5rcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbml0IGxpbmUgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBsZXQgbGluZUluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WTogb2Zmc2V0WSxcclxuICAgICAgICAgICAgICAgICAgICBhc2NlbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dENodW5rczogW11cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyBNZWFzdXJlIHJlZmVyZW5jZSB0ZXh0XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5fbWVhc3VyZVRleHQocmVmVGV4dCwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ7XHJcbiAgICAgICAgICAgICAgICBsaW5lSW5mby5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBsaW5lSW5mby5hc2NlbnQgPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRGb3JtYXQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudERlY29yYXRpb24gPSB0aGlzLnN0eWxlLnRleHREZWNvcmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRGaWxsO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDaHVua1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNraXBGdXJ0aGVyVGV4dCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0VGV4dENodW5rID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBsZWZ0b3ZlckNodW5rcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRWZXJ0aWNhbEFsaWduO1xyXG4gICAgICAgICAgICAgICAgLy9sZXQgb2Zmc2V0WCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvL2xldCBjaHVuaztcclxuICAgICAgICAgICAgICAgIC8vd2hpbGUoY2h1bmsgPSBjaHVua3Muc2hpZnQoKSkge1xyXG4gICAgICAgICAgICAgICAgJGFycmF5LmVhY2hDb250aW51ZShjaHVua3MsIChjaHVuaywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgY2h1bmtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSA9PSBcImZvcm1hdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay50ZXh0ID09IFwiWy9dXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3R5bGVSZXN0b3JlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVSZXN0b3JlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RmlsbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVua1dpZHRoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERlY29yYXRpb24gPSB0aGlzLnN0eWxlLnRleHREZWNvcmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlcnRpY2FsQWxpZ24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rm9ybWF0ID0gY2h1bmsudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3R5bGVSZXN0b3JlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybWF0ID0gVGV4dEZvcm1hdHRlci5nZXRUZXh0U3R5bGUoY2h1bmsudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb250U3R5bGUgPSB0aGlzLl9nZXRGb250U3R5bGUoZm9ybWF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnRTdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IGZvbnRTdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGb3JtYXQgPSBjaHVuay50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdC50ZXh0RGVjb3JhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREZWNvcmF0aW9uID0gZm9ybWF0LnRleHREZWNvcmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdC5maWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpbGwgPSBmb3JtYXQuZmlsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtYXQud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmtXaWR0aCA9ICR0eXBlLnRvTnVtYmVyKGZvcm1hdC53aWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0LnZlcnRpY2FsQWxpZ24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVydGljYWxBbGlnbiA9IGZvcm1hdC52ZXJ0aWNhbEFsaWduO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVSZXN0b3JlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWVhc3VyZSByZWZlcmVuY2UgdGV4dCBhZnRlciBjaGFuZ2Ugb2YgZm9ybWF0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5fbWVhc3VyZVRleHQocmVmVGV4dCwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0ID4gbGluZUluZm8uaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8uaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgPiBsaW5lSW5mby5hc2NlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5hc2NlbnQgPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRleHQgY2h1bmtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjaHVuay50eXBlID09IFwidmFsdWVcIiAmJiAhc2tpcEZ1cnRoZXJUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1lYXN1cmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuX21lYXN1cmVUZXh0KGNodW5rLnRleHQsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2h1bmtXaWR0aCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZml0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cnVuY2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnVuY2F0ZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCcmVhayB3b3Jkcz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBicmVha1dvcmRzID0gZmlyc3RUZXh0Q2h1bmsgfHwgdGhpcy5zdHlsZS5icmVha1dvcmRzIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWVhc3VyZSBlbGxpcHNpcyBhbmQgY2hlY2sgaWYgaXQgZml0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxsaXBzaXMgPSB0aGlzLnN0eWxlLmVsbGlwc2lzIHx8IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGxpcHNpc01ldHJpY3MgPSB0aGlzLl9tZWFzdXJlVGV4dChlbGxpcHNpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGxpcHNpc1dpZHRoID0gZWxsaXBzaXNNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCArIGVsbGlwc2lzTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZml0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGxpbmVJbmZvLndpZHRoICsgY2h1bmtXaWR0aCkgPiBtYXhXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2Vzc1dpZHRoID0gbWF4V2lkdGggLSBsaW5lSW5mby53aWR0aCAtIGVsbGlwc2lzV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsudGV4dCA9IHRoaXMuX3RydW5jYXRlVGV4dChjb250ZXh0LCBjaHVuay50ZXh0LCBleGNlc3NXaWR0aCwgYnJlYWtXb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsudGV4dCArPSBlbGxpcHNpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwRnVydGhlclRleHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ1bmNhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh3cmFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobGluZUluZm8ud2lkdGggKyBjaHVua1dpZHRoKSA+IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhjZXNzV2lkdGggPSBtYXhXaWR0aCAtIGxpbmVJbmZvLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcFRleHQgPSB0aGlzLl90cnVuY2F0ZVRleHQoY29udGV4dCwgY2h1bmsudGV4dCwgZXhjZXNzV2lkdGgsIGZhbHNlLCAoZmlyc3RUZXh0Q2h1bmsgJiYgdGhpcy5zdHlsZS5vdmVyc2l6ZWRCZWhhdmlvciAhPSBcIndyYXAtbm8tYnJlYWtcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXBUZXh0ID09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW5hYmxlIHRvIGZpdCBhIHNpbmdsZSBsZXR0ZXIgLSBoaWRlIHRoZSB3aG9sZSBsYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NraXBGdXJ0aGVyVGV4dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BZGQgcmVtYWluaW5nIGNodW5rcyBmb3IgdGhlIG5leHQgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRvdmVyQ2h1bmtzID0gY2h1bmtzLnNsaWNlKGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BZGQgcmVtYWluaW5nIHRleHQgb2YgY3VycmVudCBjaHVuayBpZiBpdCB3YXMgZm9yY2VkLWN1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdXRpbHMudHJpbSh0bXBUZXh0KSAhPSAkdXRpbHMudHJpbShjaHVuay50ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0b3ZlckNodW5rcy51bnNoaWZ0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidmFsdWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNodW5rLnRleHQuc3Vic3RyKHRtcFRleHQubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRvdmVyQ2h1bmtzLnVuc2hpZnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZm9ybWF0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY3VycmVudEZvcm1hdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGN1cnJlbnQgY2h1bmsgKHRydW5jYXRlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuay50ZXh0ID0gJHV0aWxzLnRyaW0odG1wVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcEZ1cnRoZXJUZXh0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaHVuayB3aWR0aD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnRCb3VuZE1vZCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByaWdodEJvdW5kTW9kID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdHlsZSAmJiBjdXJyZW50Q2h1bmtXaWR0aCAmJiAoY3VycmVudENodW5rV2lkdGggPiBjaHVua1dpZHRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5jcmVhc2UgaG9yaXpvbnRhbCBib3VuZGluZyBib3hlcyBhY2NvcmRpbmdseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm91bmRzTW9kID0gY2h1bmtXaWR0aCAvIGN1cnJlbnRDaHVua1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnN0eWxlLnRleHRBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdEJvdW5kTW9kID0gYm91bmRzTW9kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRCb3VuZE1vZCA9IGJvdW5kc01vZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRCb3VuZE1vZCA9IGJvdW5kc01vZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRCb3VuZE1vZCA9IGJvdW5kc01vZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rV2lkdGggPSBjdXJyZW50Q2h1bmtXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVua0hlaWdodCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rSGVpZ2h0ID4gbGluZUluZm8uaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5oZWlnaHQgPSBjaHVua0hlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCA+IGxpbmVJbmZvLmFzY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8uYXNjZW50ID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby53aWR0aCArPSBjaHVua1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5sZWZ0ICs9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0IC8gbGVmdEJvdW5kTW9kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5yaWdodCArPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQgLyByaWdodEJvdW5kTW9kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby50ZXh0Q2h1bmtzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGN1cnJlbnRTdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IGN1cnJlbnRGaWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY2h1bmsudGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjaHVua1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjaHVua0hlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzY2VudDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRZOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246IGN1cnJlbnREZWNvcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbjogY3VycmVudFZlcnRpY2FsQWxpZ25cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb2Zmc2V0WCArPSBjaHVua1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFRleHRDaHVuayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdG92ZXJDaHVua3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHlsZS5saW5lSGVpZ2h0IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLmhlaWdodCAqPSB0aGlzLnN0eWxlLmxpbmVIZWlnaHQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZUluZm8uYXNjZW50ICo9IHRoaXMuc3R5bGUubGluZUhlaWdodC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLmhlaWdodCAqPSB0aGlzLnN0eWxlLmxpbmVIZWlnaHQgfHwgMS4yO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLmFzY2VudCAqPSB0aGlzLnN0eWxlLmxpbmVIZWlnaHQgfHwgMS4yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG1pblggPCBsaW5lSW5mby5sZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IGxpbmVJbmZvLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4WCA8IGxpbmVJbmZvLnJpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IGxpbmVJbmZvLnJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEluZm8ucHVzaChsaW5lSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAvL2xpbmVJbmZvLm9mZnNldFkgKz0gbGluZUluZm8uYXNjZW50O1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0WSArPSBsaW5lSW5mby5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBjaHVua3Mgc28gdGhhdCBpdCBjYW4gcHJvY2VlZCB0byB0aGUgbmV4dCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaHVua3MgPSBsZWZ0b3ZlckNodW5rcyB8fCBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghc3R5bGVSZXN0b3JlZCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRqdXN0IGNodW5rIGludGVybmFsIG9mZnNldHNcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90ZXh0SW5mbywgKGxpbmVJbmZvLCBfaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRDaHVua09mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGxpbmVJbmZvLnRleHRDaHVua3MsIChjaHVuaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2h1bmsub2Zmc2V0WCA9IGN1cnJlbnRDaHVua09mZnNldCArIGNodW5rLmxlZnQgLSBsaW5lSW5mby5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgY2h1bmsub2Zmc2V0WSArPSBsaW5lSW5mby5oZWlnaHQgLSBsaW5lSW5mby5oZWlnaHQgKiAodGhpcy5zdHlsZS5iYXNlbGluZVJhdGlvIHx8IDAuMTkpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rT2Zmc2V0ICs9IGNodW5rLndpZHRoICogKHJ0bCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmsudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3VwZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLm9mZnNldFkgLT0gbGluZUluZm8uaGVpZ2h0IC8gMiAtIGNodW5rLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1YlwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsub2Zmc2V0WSArPSBjaHVuay5oZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHJ0bCA/IC1tYXhYIDogLW1pblgsXHJcbiAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgcmlnaHQ6IHJ0bCA/IG1pblggOiBtYXhYLFxyXG4gICAgICAgICAgICBib3R0b206IG9mZnNldFksXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBXZSBuZWVkIHRvIGZpdD9cclxuICAgICAgICBpZiAob3ZlcnNpemVkQmVoYXZpb3IgIT09IFwibm9uZVwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhdGlvID0gdGhpcy5fZml0UmF0aW8oYm91bmRzKTtcclxuICAgICAgICAgICAgaWYgKHJhdGlvIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG92ZXJzaXplZEJlaGF2aW9yID09IFwiZml0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIodGhpcy5zdHlsZS5taW5TY2FsZSkgJiYgKHJhdGlvIDwgdGhpcy5zdHlsZS5taW5TY2FsZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0VmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMucmlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMuYm90dG9tID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fb3JpZ2luYWxTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxTY2FsZSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FsZSA9IHJhdGlvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvdmVyc2l6ZWRCZWhhdmlvciA9PSBcImhpZGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBib3VuZHMuYm90dG9tID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zdHlsZS50ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gcnRsID8gbWF4V2lkdGggOiAtbWF4V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMucmlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ID0gLW1heFdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5yaWdodCA9IG1heFdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLmxlZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gcnRsID8gLW1heFdpZHRoIDogbWF4V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUgPSB0aGlzLl9vcmlnaW5hbFNjYWxlIHx8IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxTY2FsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUgPSB0aGlzLl9vcmlnaW5hbFNjYWxlIHx8IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW5hbFNjYWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0VmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICByZXR1cm4gYm91bmRzO1xyXG4gICAgfVxyXG4gICAgX2ZpdFJhdGlvKGJvdW5kcykge1xyXG4gICAgICAgIGNvbnN0IG1heFcgPSB0aGlzLnN0eWxlLm1heFdpZHRoO1xyXG4gICAgICAgIGNvbnN0IG1heEggPSB0aGlzLnN0eWxlLm1heEhlaWdodDtcclxuICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKG1heFcpICYmICEkdHlwZS5pc051bWJlcihtYXhIKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdyA9IGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IGggPSBib3VuZHMuYm90dG9tIC0gYm91bmRzLnRvcDtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4obWF4VyAvIHcgfHwgMSwgbWF4SCAvIGggfHwgMSk7XHJcbiAgICB9XHJcbiAgICBfdHJ1bmNhdGVUZXh0KGNvbnRleHQsIHRleHQsIG1heFdpZHRoLCBicmVha1dvcmRzID0gZmFsc2UsIGZhbGxiYWNrQnJlYWtXb3JkcyA9IHRydWUpIHtcclxuICAgICAgICBsZXQgd2lkdGg7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBpZiAoYnJlYWtXb3Jkcykge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRtcCA9IHRleHQucmVwbGFjZSgvW14sOzohP1xcXFxcXC9cXHPigItdK1ssOzohP1xcXFxcXC9cXHPigItdKiQvZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHRtcCA9PSBcIlwiIHx8IHRtcCA9PT0gdGV4dCkgJiYgZmFsbGJhY2tCcmVha1dvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtXb3JkcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0bXAgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRtcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5fbWVhc3VyZVRleHQodGV4dCwgY29udGV4dCk7XHJcbiAgICAgICAgICAgIHdpZHRoID0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQgKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQ7XHJcbiAgICAgICAgfSB3aGlsZSAoKHdpZHRoID4gbWF4V2lkdGgpICYmIHRleHQgIT0gXCJcIik7XHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcbiAgICBfbWVhc3VyZVRleHQodGV4dCwgY29udGV4dCkge1xyXG4gICAgICAgIGxldCBtZXRyaWNzID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KTtcclxuICAgICAgICBsZXQgZmFrZU1ldHJpY3MgPSB7fTtcclxuICAgICAgICBpZiAobWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGRpdi5pbm5lclRleHQgPSB0ZXh0O1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IFwiLTEwMDAwMDBweDtcIjtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmZvbnRGYW1pbHkgPSB0aGlzLnN0eWxlLmZvbnRGYW1pbHkgfHwgXCJcIjtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmZvbnRTaXplID0gdGhpcy5zdHlsZS5mb250U2l6ZSArIFwiXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgY29uc3QgYmJveCA9IGRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gYmJveC5oZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSBtZXRyaWNzLndpZHRoO1xyXG4gICAgICAgICAgICBsZXQgbGVmdCA9IDA7XHJcbiAgICAgICAgICAgIGxldCByaWdodCA9IHc7XHJcbiAgICAgICAgICAgIGZha2VNZXRyaWNzID0ge1xyXG4gICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ6IGgsXHJcbiAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveExlZnQ6IGxlZnQsXHJcbiAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveFJpZ2h0OiByaWdodCxcclxuICAgICAgICAgICAgICAgIGZvbnRCb3VuZGluZ0JveEFzY2VudDogaCxcclxuICAgICAgICAgICAgICAgIGZvbnRCb3VuZGluZ0JveERlc2NlbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogd1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3JldHVybiBmYWtlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZmFrZU1ldHJpY3MgPSB7XHJcbiAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveEFzY2VudDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCxcclxuICAgICAgICAgICAgICAgIGFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQsXHJcbiAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveExlZnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0LFxyXG4gICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hSaWdodDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0LFxyXG4gICAgICAgICAgICAgICAgZm9udEJvdW5kaW5nQm94QXNjZW50OiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50LFxyXG4gICAgICAgICAgICAgICAgZm9udEJvdW5kaW5nQm94RGVzY2VudDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogbWV0cmljcy53aWR0aFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB3ID0gbWV0cmljcy53aWR0aDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3R5bGUudGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XHJcbiAgICAgICAgICAgICAgICBmYWtlTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQgPSB3O1xyXG4gICAgICAgICAgICAgICAgZmFrZU1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgZmFrZU1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0ID0gdyAvIDI7XHJcbiAgICAgICAgICAgICAgICBmYWtlTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0ID0gdyAvIDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGZha2VNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmYWtlTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0ID0gdztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZha2VNZXRyaWNzO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FudmFzVGV4dFN0eWxlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8vcHVibGljIHdvcmRXcmFwV2lkdGg6IG51bWJlciA9IDEwMDtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaWxsXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpbGxPcGFjaXR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRBbGlnblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb250RmFtaWx5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZvbnRTaXplXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZvbnRXZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZm9udFN0eWxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZvbnRWYXJpYW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHREZWNvcmF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoYWRvd0NvbG9yXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoYWRvd0JsdXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hhZG93T2Zmc2V0WFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaGFkb3dPZmZzZXRZXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoYWRvd09wYWNpdHlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gbGVhZGluZz86IG51bWJlcjtcclxuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nPzogbnVtYmVyO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmVIZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogcGVyY2VudCgxMjApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmFzZWxpbmVSYXRpb1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwLjE5XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcGFkZGluZz86IG51bWJlcjtcclxuICAgICAgICAvLyBzdHJva2U/OiBudW1iZXI7XHJcbiAgICAgICAgLy8gc3Ryb2tlVGhpY2tuZXNzPzogbnVtYmVyO1xyXG4gICAgICAgIC8vIHRyaW0/OiBudW1iZXI7XHJcbiAgICAgICAgLy8gd29yZFdyYXA/OiBib29sZWFuO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpcmVjdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0QmFzZWxpbmVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3ZlcnNpemVkQmVoYXZpb3JcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogXCJub25lXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJicmVha1dvcmRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZWxsaXBzaXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogXCLigKZcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFdpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heEhlaWdodFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtaW5TY2FsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZ25vcmVGb3JtYXR0aW5nXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNSYWRpYWxUZXh0IGV4dGVuZHMgQ2FudmFzVGV4dCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRUeXBlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFwiY2lyY3VsYXJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJhZGl1c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFydEFuZ2xlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluc2lkZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9yaWVudGF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFwiYXV0b1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia2VybmluZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RleHRSZXZlcnNlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX3JlbmRlcihzdGF0dXMsIHRhcmdldEdob3N0TGF5ZXIgPSAwKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnRleHRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjaXJjdWxhclwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyQ2lyY3VsYXIoc3RhdHVzLCB0YXJnZXRHaG9zdExheWVyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc3VwZXIuX3JlbmRlcihzdGF0dXMsIHRhcmdldEdob3N0TGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3JlbmRlckNpcmN1bGFyKHN0YXR1cywgdGFyZ2V0R2hvc3RMYXllciA9IDApIHtcclxuICAgICAgICBpZiAodGhpcy50ZXh0VmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wcmVyZW5kZXIoc3RhdHVzKTtcclxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3RpdmUgPSB0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBzdGF0dXMubGF5ZXIuY29udGV4dDtcclxuICAgICAgICAgICAgY29uc3QgbGF5ZXJEaXJ0eSA9IHN0YXR1cy5sYXllci5kaXJ0eTtcclxuICAgICAgICAgICAgY29uc3QgZ2hvc3RDb250ZXh0ID0gdGhpcy5fcmVuZGVyZXIuX2dob3N0TGF5ZXIuY29udGV4dDtcclxuICAgICAgICAgICAgLy8gU2F2ZXBvaW50XHJcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gV2UgbmVlZCBtZWFzdXJlbWVudHMgaW4gb3JkZXIgdG8gcHJvcGVybHkgcG9zaXRpb24gdGV4dCBmb3IgYWxpZ25tZW50XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fdGV4dEluZm8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21lYXN1cmUoc3RhdHVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJbml0XHJcbiAgICAgICAgICAgIGxldCByYWRpdXMgPSAodGhpcy5yYWRpdXMgfHwgMCk7XHJcbiAgICAgICAgICAgIGxldCBzdGFydEFuZ2xlID0gKHRoaXMuc3RhcnRBbmdsZSB8fCAwKTtcclxuICAgICAgICAgICAgbGV0IGRlbHRhQW5nbGUgPSAwO1xyXG4gICAgICAgICAgICBsZXQgb3JpZW50YXRpb24gPSB0aGlzLm9yaWVudGF0aW9uO1xyXG4gICAgICAgICAgICBsZXQgaW53YXJkID0gb3JpZW50YXRpb24gPT0gXCJhdXRvXCIgPyBcImF1dG9cIiA6IG9yaWVudGF0aW9uID09IFwiaW53YXJkXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc2lkZSA9IHRoaXMuaW5zaWRlO1xyXG4gICAgICAgICAgICBjb25zdCBhbGlnbiA9IHRoaXMuc3R5bGUudGV4dEFsaWduIHx8IFwibGVmdFwiO1xyXG4gICAgICAgICAgICBjb25zdCBrZXJuaW5nID0gdGhpcy5rZXJuaW5nIHx8IDA7XHJcbiAgICAgICAgICAgIGxldCBjbG9ja3dpc2UgPSBhbGlnbiA9PSBcImxlZnRcIiA/IDEgOiAtMTtcclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmV2ZXJzZSA9ICF0aGlzLl90ZXh0UmV2ZXJzZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGdob3N0T25seSA9IHRoaXMuX2dob3N0T25seSh0YXJnZXRHaG9zdExheWVyKTtcclxuICAgICAgICAgICAgY29uc3QgZHJhd0dob3N0ID0gdGhpcy5fZHJhd0dob3N0KHN0YXR1cywgdGFyZ2V0R2hvc3RMYXllcik7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gaW52ZXJ0IHRoZSB3aG9sZSBzdHVmZlxyXG4gICAgICAgICAgICBpZiAoaW53YXJkID09IFwiYXV0b1wiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxjIG1heCBhbmdsZSBzbyB3ZSBrbm93IHdoZXRoZXIgd2UgbmVlZCB0byBmbGlwIGl0XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4QW5nbGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1pZEFuZ2xlID0gMDtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RleHRJbmZvLCAobGluZSwgX2luZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFBbmdsZSA9IHN0YXJ0QW5nbGUgKyAobGluZS53aWR0aCAvIChyYWRpdXMgLSBsaW5lLmhlaWdodCkpIC8gMiAqIC1jbG9ja3dpc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhQW5nbGUgPiBtYXhBbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhBbmdsZSA9IGRlbHRhQW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaWRBbmdsZSA9IChtYXhBbmdsZSArIGRlbHRhQW5nbGUgLyAyKSAqICRtYXRoLkRFR1JFRVM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhbGlnbiA9PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaWRBbmdsZSA9IChtYXhBbmdsZSAtIGRlbHRhQW5nbGUgLyAyKSAqICRtYXRoLkRFR1JFRVM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtaWRBbmdsZSA9IHN0YXJ0QW5nbGUgKiAkbWF0aC5ERUdSRUVTO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWlkQW5nbGUgPSAkbWF0aC5ub3JtYWxpemVBbmdsZShtaWRBbmdsZSk7XHJcbiAgICAgICAgICAgICAgICBpbndhcmQgPSAobWlkQW5nbGUgPj0gMjcwKSB8fCAobWlkQW5nbGUgPD0gOTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbndhcmQgPT0gdHJ1ZSAmJiBzaG91bGRSZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0SW5mby5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0UmV2ZXJzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmICgoaW53YXJkID09IGZhbHNlICYmIGFsaWduID09IFwibGVmdFwiKSB8fCAoaW53YXJkID09IHRydWUgJiYgYWxpZ24gPT0gXCJyaWdodFwiKSkge1xyXG4gICAgICAgICAgICAvLyBcdGNsb2Nrd2lzZSAqPSAtMTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAvLyBQcm9jZXNzIHRleHQgaW5mbyBwcm9kdWNlZCBieSBfbWVhc3VyZSgpXHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RleHRJbmZvLCAobGluZSwgX2luZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gbGluZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgcmFkaXVzIChmb3IgYGluc2lkZSA9IGZhbHNlYClcclxuICAgICAgICAgICAgICAgIC8vIFJhZGl1cyBhZGp1c3RtZW50IGZvciBgaW5zaWRlID0gZmFsc2VgIGlzIGJlbG93IHRoZSBsaW5lIGNhbGN1bGF0aW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoIWluc2lkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1cyArPSB0ZXh0SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gUmV2ZXJzZSBsZXR0ZXJzIGlmIHdlJ3JlIHBhaW50aW5nIHRoZW0gY291bnRlci1jbG9ja3dpc2VcclxuICAgICAgICAgICAgICAgIGlmICgoKGNsb2Nrd2lzZSA9PSAtMSAmJiBpbndhcmQpIHx8IChjbG9ja3dpc2UgPT0gMSAmJiAhaW53YXJkKSkgJiYgc2hvdWxkUmV2ZXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUudGV4dENodW5rcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBJbml0IGFuZ2xlc1xyXG4gICAgICAgICAgICAgICAgbGV0IGxpbmVTdGFydEFuZ2xlID0gc3RhcnRBbmdsZTtcclxuICAgICAgICAgICAgICAgIGRlbHRhQW5nbGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IGZvciBjZW50ZXItYWxpZ25cclxuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PSBcImNlbnRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0YXJ0QW5nbGUgKz0gKGxpbmUud2lkdGggLyAocmFkaXVzIC0gdGV4dEhlaWdodCkpIC8gMiAqIC1jbG9ja3dpc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFBbmdsZSA9IGxpbmVTdGFydEFuZ2xlIC0gc3RhcnRBbmdsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGlmIChpbndhcmQgPT0gXCJhdXRvXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFx0bGV0IG1pZEFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgLy8gXHRpZiAoYWxpZ24gPT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFx0XHRtaWRBbmdsZSA9IChsaW5lU3RhcnRBbmdsZSArIGRlbHRhQW5nbGUgLyAyKSAqICRtYXRoLkRFR1JFRVM7XHJcbiAgICAgICAgICAgICAgICAvLyBcdH1cclxuICAgICAgICAgICAgICAgIC8vIFx0ZWxzZSBpZiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcdFx0bWlkQW5nbGUgPSAobGluZVN0YXJ0QW5nbGUgLSBkZWx0YUFuZ2xlIC8gMikgKiAkbWF0aC5ERUdSRUVTO1xyXG4gICAgICAgICAgICAgICAgLy8gXHR9XHJcbiAgICAgICAgICAgICAgICAvLyBcdGlud2FyZCA9IChtaWRBbmdsZSA+PSAyNzApIHx8IChtaWRBbmdsZSA8PSA5MCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvLyBSb3RhdGUgbGV0dGVycyBpZiB0aGV5IGFyZSBmYWNpbmcgb3V0d2FyZFxyXG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0QW5nbGUgKz0gKE1hdGguUEkgKiAoaW53YXJkID8gMCA6IDEpKTsgLy8gUm90YXRlIDE4MCBpZiBvdXR3YXJkXHJcbiAgICAgICAgICAgICAgICAvLyBTYXZlcG9pbnRcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEFzc3VtZSBzdGFydGluZyBhbmdsZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFnaG9zdE9ubHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJvdGF0ZShsaW5lU3RhcnRBbmdsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQucm90YXRlKGxpbmVTdGFydEFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBhbmdsZVNoaWZ0ID0gMDtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGxpbmUudGV4dENodW5rcywgKGNodW5rLCBfaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IHRoZSBsZXR0ZXJcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gY2h1bmsudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBjaHVuay53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSb3RhdGUgaGFsZiBhIGxldHRlclxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlU2hpZnQgPSAoY2hhcldpZHRoIC8gMikgLyAocmFkaXVzIC0gdGV4dEhlaWdodCkgKiBjbG9ja3dpc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnaG9zdE9ubHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yb3RhdGUoYW5nbGVTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQucm90YXRlKGFuZ2xlU2hpZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgc3R5bGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsuc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZ2hvc3RPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBjaHVuay5zdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5mb250ID0gY2h1bmsuc3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLmZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZ2hvc3RPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNodW5rLmZpbGwudG9DU1MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb2xvciBkb2VzIG5vdCBhZmZlY3QgZ2hvc3RDb250ZXh0IHNvIHdlIG5vdCBzZXQgaXRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2VudGVyIGxldHRlcnNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWdob3N0T25seSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGxvcCB0aGUgbGV0dGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyRGlydHkgJiYgIWdob3N0T25seSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIDAsIChpbndhcmQgPyAxIDogLTEpICogKDAgLSByYWRpdXMgKyB0ZXh0SGVpZ2h0IC8gMikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUgJiYgZHJhd0dob3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5maWxsVGV4dChjaGFyLCAwLCAoaW53YXJkID8gMSA6IC0xKSAqICgwIC0gcmFkaXVzICsgdGV4dEhlaWdodCAvIDIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLmZpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbG9yIGRvZXMgbm90IGFmZmVjdCBnaG9zdENvbnRleHQgc28gd2Ugbm90IHNldCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBzdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5zdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlIGhhbGYgYSBsZXR0ZXIgYW5kIGFkZCBzcGFjaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGVTaGlmdCA9IChjaGFyV2lkdGggLyAyICsga2VybmluZykgLyAocmFkaXVzIC0gdGV4dEhlaWdodCkgKiBjbG9ja3dpc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnaG9zdE9ubHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yb3RhdGUoYW5nbGVTaGlmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQucm90YXRlKGFuZ2xlU2hpZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBhbmdsZVxyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IHJhZGl1cyAoZm9yIGBpbnNpZGUgPSB0cnVlYClcclxuICAgICAgICAgICAgICAgIGlmIChpbnNpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByYWRpdXMgLT0gdGV4dEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFJlc3RvcmVcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgZ2hvc3RDb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9tZWFzdXJlKHN0YXR1cykge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy50ZXh0VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiY2lyY3VsYXJcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZWFzdXJlQ2lyY3VsYXIoc3RhdHVzKTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5fbWVhc3VyZShzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9tZWFzdXJlQ2lyY3VsYXIoc3RhdHVzKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHN0YXR1cy5sYXllci5jb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IGdob3N0Q29udGV4dCA9IHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgY29uc3QgcnRsID0gdGhpcy5zdHlsZS5kaXJlY3Rpb24gPT0gXCJydGxcIjtcclxuICAgICAgICBjb25zdCBvdmVyc2l6ZWRCZWhhdmlvciA9IHRoaXMuc3R5bGUub3ZlcnNpemVkQmVoYXZpb3I7XHJcbiAgICAgICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLnN0eWxlLm1heFdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHRydW5jYXRlID0gJHR5cGUuaXNOdW1iZXIobWF4V2lkdGgpICYmIG92ZXJzaXplZEJlaGF2aW9yID09IFwidHJ1bmNhdGVcIjtcclxuICAgICAgICBjb25zdCBlbGxpcHNpcyA9IHRoaXMuc3R5bGUuZWxsaXBzaXMgfHwgXCJcIjtcclxuICAgICAgICBsZXQgZWxsaXBzaXNNZXRyaWNzO1xyXG4gICAgICAgIC8vY29uc3Qgd3JhcCA9ICR0eXBlLmlzTnVtYmVyKG1heFdpZHRoKSAmJiAob3ZlcnNpemVkQmVoYXZpb3IgPT0gXCJ3cmFwXCIgfHwgb3ZlcnNpemVkQmVoYXZpb3IgPT0gXCJ3cmFwLW5vLWJyZWFrXCIpO1xyXG4gICAgICAgIC8vIFJlc2V0IHRleHQgaW5mb1xyXG4gICAgICAgIHRoaXMudGV4dFZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3RleHRJbmZvID0gW107XHJcbiAgICAgICAgdGhpcy5fdGV4dFJldmVyc2VkID0gZmFsc2U7XHJcbiAgICAgICAgLy8gUHJlLXJlbmRlclxyXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgIGdob3N0Q29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgdGhpcy5fcHJlcmVuZGVyKHN0YXR1cywgdHJ1ZSk7XHJcbiAgICAgICAgLy8gU3BsaXQgdXAgdGV4dCBpbnRvIGxpbmVzXHJcbiAgICAgICAgY29uc3QgbGluZXMgPSB0aGlzLnRleHQudG9TdHJpbmcoKS5yZXBsYWNlKC9cXHIvZywgXCJcIikuc3BsaXQoL1xcbi8pO1xyXG4gICAgICAgIGxldCBzdHlsZVJlc3RvcmVkID0gdHJ1ZTtcclxuICAgICAgICBsZXQgdG90YWxXaWR0aCA9IDA7XHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBsaW5lc1xyXG4gICAgICAgIGxldCBvZmZzZXRZID0gMDtcclxuICAgICAgICAkYXJyYXkuZWFjaChsaW5lcywgKGxpbmUsIF9pbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBTcGxpdCB1cCBsaW5lIGludG8gZm9ybWF0L3ZhbHVlIGNodW5rc1xyXG4gICAgICAgICAgICBsZXQgY2h1bmtzID0gVGV4dEZvcm1hdHRlci5jaHVuayhsaW5lLCBmYWxzZSwgdGhpcy5zdHlsZS5pZ25vcmVGb3JtYXR0aW5nKTtcclxuICAgICAgICAgICAgLy8gSW5pdCBsaW5lIG9iamVjdFxyXG4gICAgICAgICAgICBsZXQgbGluZUluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRZOiBvZmZzZXRZLFxyXG4gICAgICAgICAgICAgICAgYXNjZW50OiAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0Q2h1bmtzOiBbXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFN0eWxlO1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudEZpbGw7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Q2h1bmtXaWR0aDtcclxuICAgICAgICAgICAgLy93aGlsZShjaHVuayA9IGNodW5rcy5zaGlmdCgpKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGNodW5rcywgKGNodW5rLCBfaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIEZvcm1hdCBjaHVua1xyXG4gICAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT0gXCJmb3JtYXRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay50ZXh0ID09IFwiWy9dXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHlsZVJlc3RvcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVJlc3RvcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RmlsbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmtXaWR0aCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmb3JtYXQgPSBUZXh0Rm9ybWF0dGVyLmdldFRleHRTdHlsZShjaHVuay50ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9udFN0eWxlID0gdGhpcy5fZ2V0Rm9udFN0eWxlKGZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaG9zdENvbnRleHQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250U3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IGZvbnRTdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdC5maWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RmlsbCA9IGZvcm1hdC5maWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtYXQud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVua1dpZHRoID0gJHR5cGUudG9OdW1iZXIoZm9ybWF0LndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVJlc3RvcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cnVuY2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGxpcHNpc01ldHJpY3MgPSB0aGlzLl9tZWFzdXJlVGV4dChlbGxpcHNpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVGV4dCBmb3JtYXRcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNodW5rLnR5cGUgPT0gXCJ2YWx1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWVhc3VyZSBlYWNoIGxldHRlclxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGFycyA9IGNodW5rLnRleHQubWF0Y2goLy4vdWcpIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChydGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSAkdXRpbHMuc3BsaXRTdHJpbmcoY2h1bmsudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gY2hhcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1lYXN1cmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuX21lYXN1cmVUZXh0KGNoYXIsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2h1bmtXaWR0aCA9IG1ldHJpY3Mud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENodW5rIHdpZHRoP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0eWxlICYmIGN1cnJlbnRDaHVua1dpZHRoICYmIChjdXJyZW50Q2h1bmtXaWR0aCA+IGNodW5rV2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua1dpZHRoID0gY3VycmVudENodW5rV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmtIZWlnaHQgPSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVua0hlaWdodCA+IGxpbmVJbmZvLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8uaGVpZ2h0ID0gY2h1bmtIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgPiBsaW5lSW5mby5hc2NlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLmFzY2VudCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxXaWR0aCArPSBjaHVua1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgb3ZlcnNpemVkIGJlaGF2aW9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cnVuY2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWVhc3VyZSBlbGxpcHNpcyBhbmQgY2hlY2sgaWYgaXQgZml0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGxpcHNpc01ldHJpY3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGxpcHNpc01ldHJpY3MgPSB0aGlzLl9tZWFzdXJlVGV4dChlbGxpcHNpcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGxpcHNpc1dpZHRoID0gZWxsaXBzaXNNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCArIGVsbGlwc2lzTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90b3RhbFdpZHRoICs9IGVsbGlwc2lzV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHRvdGFsV2lkdGggKyBlbGxpcHNpc1dpZHRoKSA+IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVJbmZvLnRleHRDaHVua3MubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0VmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8ud2lkdGggKz0gZWxsaXBzaXNXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8ubGVmdCArPSBlbGxpcHNpc01ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSW5mby5yaWdodCArPSBlbGxpcHNpc01ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8udGV4dENodW5rcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjdXJyZW50U3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBjdXJyZW50RmlsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGVsbGlwc2lzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGVsbGlwc2lzV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNodW5rSGVpZ2h0ICsgZWxsaXBzaXNNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGVsbGlwc2lzTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogZWxsaXBzaXNNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc2NlbnQ6IGVsbGlwc2lzTWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRZOiBjaHVua0hlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLndpZHRoICs9IGNodW5rV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLmxlZnQgKz0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVJbmZvLnJpZ2h0ICs9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUluZm8udGV4dENodW5rcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjdXJyZW50U3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBjdXJyZW50RmlsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNoYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2h1bmtXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogY2h1bmtIZWlnaHQgKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzY2VudDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRZOiBjaHVua0hlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvIHN0aWxsIG5lZWRlZD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZS5saW5lSGVpZ2h0IGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgbGluZUluZm8uaGVpZ2h0ICo9IHRoaXMuc3R5bGUubGluZUhlaWdodC52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxpbmVJbmZvLmhlaWdodCAqPSB0aGlzLnN0eWxlLmxpbmVIZWlnaHQgfHwgMS4yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHRJbmZvLnB1c2gobGluZUluZm8pO1xyXG4gICAgICAgICAgICAvL2xpbmVJbmZvLm9mZnNldFkgKz0gbGluZUluZm8uYXNjZW50O1xyXG4gICAgICAgICAgICBvZmZzZXRZICs9IGxpbmVJbmZvLmhlaWdodDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIXN0eWxlUmVzdG9yZWQpIHtcclxuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvdmVyc2l6ZWRCZWhhdmlvciA9PSBcImhpZGVcIiAmJiAodG90YWxXaWR0aCA+IG1heFdpZHRoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkanVzdCBjaHVuayBpbnRlcm5hbCBvZmZzZXRzXHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdGV4dEluZm8sIChsaW5lSW5mbykgPT4ge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChsaW5lSW5mby50ZXh0Q2h1bmtzLCAoY2h1bmspID0+IHtcclxuICAgICAgICAgICAgICAgIGNodW5rLm9mZnNldFkgKz0gTWF0aC5yb3VuZCgobGluZUluZm8uaGVpZ2h0IC0gY2h1bmsuaGVpZ2h0ICsgKGxpbmVJbmZvLmFzY2VudCAtIGNodW5rLmFzY2VudCkpIC8gMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgICAgIGdob3N0Q29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgYm90dG9tOiAwLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNJbWFnZSBleHRlbmRzIENhbnZhc0Rpc3BsYXlPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIsIGltYWdlKSB7XHJcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlaWdodFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbWFnZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0YWludGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoYWRvd0NvbG9yXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoYWRvd0JsdXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hhZG93T2Zmc2V0WFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaGFkb3dPZmZzZXRZXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoYWRvd09wYWNpdHlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ltYWdlTWFza1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9pbWFnZU1hc2spIHtcclxuICAgICAgICAgICAgY2xlYXJDYW52YXModGhpcy5faW1hZ2VNYXNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRMb2NhbEJvdW5kcygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XHJcbiAgICAgICAgICAgIGxldCB3ID0gMDtcclxuICAgICAgICAgICAgbGV0IGggPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgdyA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBoID0gdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHcsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IGhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkQm91bmRzKHRoaXMuX2xvY2FsQm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsQm91bmRzO1xyXG4gICAgfVxyXG4gICAgX3JlbmRlcihzdGF0dXMsIHRhcmdldEdob3N0TGF5ZXIgPSAwKSB7XHJcbiAgICAgICAgc3VwZXIuX3JlbmRlcihzdGF0dXMpO1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhaW50ZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWludGVkID0gaXNUYWludGVkKHRoaXMuaW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzLmxheWVyLnRhaW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhaW50ZWQgJiYgdGhpcy5fcmVuZGVyZXIuX29taXRUYWludGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZ2hvc3RPbmx5ID0gdGhpcy5fZ2hvc3RPbmx5KHRhcmdldEdob3N0TGF5ZXIpO1xyXG4gICAgICAgICAgICBjb25zdCBkcmF3R2hvc3QgPSB0aGlzLl9kcmF3R2hvc3Qoc3RhdHVzLCB0YXJnZXRHaG9zdExheWVyKTtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cy5sYXllci5kaXJ0eSAmJiAhZ2hvc3RPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5sYXllci5jb250ZXh0LnNoYWRvd0NvbG9yID0gdGhpcy5zaGFkb3dDb2xvci50b0NTUyh0aGlzLnNoYWRvd09wYWNpdHkgfHwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dCbHVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmxheWVyLmNvbnRleHQuc2hhZG93Qmx1ciA9IHRoaXMuc2hhZG93Qmx1cjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd09mZnNldFgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMubGF5ZXIuY29udGV4dC5zaGFkb3dPZmZzZXRYID0gdGhpcy5zaGFkb3dPZmZzZXRYO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93T2Zmc2V0WSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5sYXllci5jb250ZXh0LnNoYWRvd09mZnNldFkgPSB0aGlzLnNoYWRvd09mZnNldFk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHNob3VsZCB0aGlzIHJvdW5kID9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aCB8fCB0aGlzLmltYWdlLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaGVpZ2h0IHx8IHRoaXMuaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICAgICAgICAgIHN0YXR1cy5sYXllci5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGl2ZSAmJiB0aGlzLl9pc0ludGVyYWN0aXZlKHN0YXR1cykgJiYgZHJhd0dob3N0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXNrID0gdGhpcy5fZ2V0TWFzayh0aGlzLmltYWdlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLl9naG9zdExheWVyLmNvbnRleHQuZHJhd0ltYWdlKG1hc2ssIDAsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmltYWdlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlTWFzayA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIF9nZXRNYXNrKGltYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ltYWdlTWFzayA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gc2hvdWxkIHRoaXMgcm91bmQgP1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMud2lkdGggfHwgaW1hZ2UubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmhlaWdodCB8fCBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNyZWF0ZSBhIHNlY29uZCBjYW52YXMgYmVjYXVzZSBkZXN0aW5hdGlvbi1pbiBjbGVhcnMgb3V0IHRoZSBlbnRpcmUgY2FudmFzXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICAgICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZXRDb2xvcklkKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGlmICghaXNUYWludGVkKGltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLWluXCI7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5faW1hZ2VNYXNrID0gY2FudmFzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faW1hZ2VNYXNrO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FudmFzUmVuZGVyZXJFdmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihldmVudCwgb3JpZ2luYWxQb2ludCwgcG9pbnQsIGJib3gpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJldmVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBldmVudFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9yaWdpbmFsUG9pbnRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogb3JpZ2luYWxQb2ludFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBvaW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHBvaW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmJveFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBiYm94XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2ltdWxhdGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmF0aXZlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoJHV0aWxzLnN1cHBvcnRzKFwidG91Y2hldmVudHNcIikgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaCkge1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gZXZlbnQuaWRlbnRpZmllcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbnZhc1JlbmRlcmVyIGV4dGVuZHMgQXJyYXlEaXNwb3NlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZXNvbHV0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2aWV3XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGF5ZXJEb21cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxheWVyc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXJ0eUxheWVyc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlZmF1bHRMYXllclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmdldExheWVyKDApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2dob3N0TGF5ZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IEdob3N0TGF5ZXIoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kZWZlcnJlZEdob3N0TGF5ZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhdHRlcm5DYW52YXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXR0ZXJuQ29udGV4dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9wYXR0ZXJuQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZWFsV2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZWFsSGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2FsY3VsYXRlZFdpZHRoXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2FsY3VsYXRlZEhlaWdodFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzb2x1dGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnRlcmFjdGlvbnNFbmFibGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGlzdGVuZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2V2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jb2xvcklkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29sb3JNYXBcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZm9yY2VJbnRlcmFjdGl2ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX29taXRUYWludGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVE9ETyB0aGlzIHNob3VsZCBzdG9yZSB0aGUgSWQgYXMgd2VsbFxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ob3ZlcmluZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgU2V0KClcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZHJhZ2dpbmdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbW91c2Vkb3duXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xhc3RQb2ludGVyTW92ZUV2ZW50XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhcFRvQWN0aXZhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0YXBUb0FjdGl2YXRlVGltZW91dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAzMDAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RvdWNoQWN0aXZlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RvdWNoQWN0aXZlVGltZW91dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgIHRoaXMudmlldy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XHJcbiAgICAgICAgdGhpcy52aWV3LmFwcGVuZENoaWxkKHRoaXMuX2xheWVyRG9tKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaChuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fZXZlbnRzLCAoX2tleSwgZXZlbnRzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldmVudHMuZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5sYXllcnMsIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJDYW52YXMobGF5ZXIudmlldyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuZXhwb3J0YWJsZVZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckNhbnZhcyhsYXllci5leHBvcnRhYmxlVmlldyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjbGVhckNhbnZhcyh0aGlzLl9naG9zdExheWVyLnZpZXcpO1xyXG4gICAgICAgICAgICBjbGVhckNhbnZhcyh0aGlzLl9wYXR0ZXJuQ2FudmFzKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgLypcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9naG9zdExheWVyLnZpZXcsIFwiY2xpY2tcIiwgKG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmdldEV2ZW50KG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9nZXRIaXRUYXJnZXQoZXZlbnQub3JpZ2luYWxQb2ludCwgZXZlbnQuYmJveCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcodGFyZ2V0KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICAvLyBNb25pdG9yIGZvciBwb3NzaWJsZSBwaXhlbCByYXRpbyBjaGFuZ2VzICh3aGVuIHBhZ2UgaXMgem9vbWVkKVxyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5vblpvb20oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzb2x1dGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICAvLyBXZSBuZWVkIHRoaXMgaW4gb3JkZXIgdG9wIHByZXZlbnQgZGVmYXVsdCB0b3VjaCBnZXN0dXJlcyB3aGVuIGRyYWdnaW5nXHJcbiAgICAgICAgLy8gZHJhZ2dhYmxlIGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKCR1dGlscy5zdXBwb3J0cyhcInRvdWNoZXZlbnRzXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZHJhZ2dpbmcubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2hDb250aW51ZSh0aGlzLl9kcmFnZ2luZywgKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWUuc2hvdWxkQ2FuY2VsVG91Y2goKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIElmIHRvdWNoIGRvd24gaGFwcGVuZHMsIGRlbGF5IHRvdWNoIG91dFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RvdWNoQWN0aXZlVGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlbGF5VG91Y2hEZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywgXCJ0b3VjaHN0YXJ0XCIsIGxpc3RlbmVyLCB7IHBhc3NpdmU6IGZhbHNlIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIodGhpcy52aWV3LCBcInRvdWNoc3RhcnRcIiwgbGlzdGVuZXIsIHsgcGFzc2l2ZTogZmFsc2UgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlcnMucHVzaCgkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnZpZXcsIFwidG91Y2htb3ZlXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRvdWNoIGlzIG1vdmluZywgZGVsYXkgdG91Y2ggb3V0XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdG91Y2hBY3RpdmVUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsYXlUb3VjaERlYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcImNsaWNrXCIsIChfZXYpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvdWNoQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKCR1dGlscy5hZGRFdmVudExpc3RlbmVyKHRoaXMudmlldywgXCJjbGlja1wiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG91Y2hBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlbGF5VG91Y2hEZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcmV2ZW50IHNjcm9sbGluZyBvZiB0aGUgd2luZG93IHdoZW4gaG92ZXJpbmcgb24gXCJ3aGVlbGFibGVcIiBvYmplY3RcclxuICAgICAgICBpZiAoJHV0aWxzLnN1cHBvcnRzKFwid2hlZWxldmVudHNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXJzLnB1c2goJHV0aWxzLmFkZEV2ZW50TGlzdGVuZXIodGhpcy52aWV3LCBcIndoZWVsXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZXZlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hvdmVyaW5nLmZvckVhY2goKG9iaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoud2hlZWxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qcHJvdGVjdGVkIF9tb3VzZU1vdmVUaHJvdHRsZXI6IFRocm90dGxlciA9IG5ldyBUaHJvdHRsZXIoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoR2xvYmFsTW91c2Vtb3ZlKHRoaXMuX2xhc3RQb2ludGVyTW92ZUV2ZW50LmV2ZW50LCB0aGlzLl9sYXN0UG9pbnRlck1vdmVFdmVudC5uYXRpdmUpO1xyXG4gICAgfSk7XHJcbiAgICAqL1xyXG4gICAgcmVzZXRJbWFnZUFycmF5KCkge1xyXG4gICAgICAgIHRoaXMuX2dob3N0TGF5ZXIuaW1hZ2VBcnJheSA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIF9kZWxheVRvdWNoRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fdG91Y2hBY3RpdmVUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90b3VjaEFjdGl2ZVRpbWVvdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50YXBUb0FjdGl2YXRlVGltZW91dCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fdG91Y2hBY3RpdmVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG91Y2hBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSwgdGhpcy50YXBUb0FjdGl2YXRlVGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGRlYnVnR2hvc3RWaWV3KCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2dob3N0TGF5ZXIudmlldy5wYXJlbnROb2RlO1xyXG4gICAgfVxyXG4gICAgc2V0IGRlYnVnR2hvc3RWaWV3KHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fZ2hvc3RMYXllci52aWV3LnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5hcHBlbmRDaGlsZCh0aGlzLl9naG9zdExheWVyLnZpZXcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZ2hvc3RMYXllci52aWV3LnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dob3N0TGF5ZXIudmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2dob3N0TGF5ZXIudmlldyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjcmVhdGVMaW5lYXJHcmFkaWVudCh4MSwgeTEsIHgyLCB5Mikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRMYXllci5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHgxLCB5MSwgeDIsIHkyKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVJhZGlhbEdyYWRpZW50KHgxLCB5MSwgcmFkaXVzMSwgeDIsIHkyLCByYWRpdXMyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdExheWVyLmNvbnRleHQuY3JlYXRlUmFkaWFsR3JhZGllbnQoeDEsIHkxLCByYWRpdXMxLCB4MiwgeTIsIHJhZGl1czIpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlUGF0dGVybihncmFwaGljcywgYmFja2dyb3VuZCwgcmVwZXRpdGlvbiwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIC8vIGNvbnN0IHBhdHRlcm5DYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIC8vIGNvbnN0IHBhdHRlcm5Db250ZXh0ID0gcGF0dGVybkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xyXG4gICAgICAgIC8vIHBhdHRlcm5DYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAvLyBwYXR0ZXJuQ2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAvLyBpZiAoZmlsbCkge1xyXG4gICAgICAgIC8vIFx0cGF0dGVybkNvbnRleHQuZmlsbFN0eWxlID0gZmlsbC50b0NTUygpO1xyXG4gICAgICAgIC8vIFx0cGF0dGVybkNvbnRleHQuZmlsbFJlY3QoMCwgMCwgcGF0dGVybkNhbnZhcy53aWR0aCwgcGF0dGVybkNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBjb25zdCBsYXllciA9IHtcclxuICAgICAgICAvLyBcdHZpZXc6IHBhdHRlcm5DYW52YXMsXHJcbiAgICAgICAgLy8gXHRjb250ZXh0OiBwYXR0ZXJuQ29udGV4dCxcclxuICAgICAgICAvLyBcdHZpc2libGU6IHRydWUsXHJcbiAgICAgICAgLy8gXHRvcmRlcjogMCxcclxuICAgICAgICAvLyBcdHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAvLyBcdGhlaWdodDogaGVpZ2h0LFxyXG4gICAgICAgIC8vIFx0ZGlydHk6IHRydWVcclxuICAgICAgICAvLyB9O1xyXG4gICAgICAgIC8vIC8vIHBhdHRlcm5Db250ZXh0LmFyYygwLCAwLCA1MCwgMCwgLjUgKiBNYXRoLlBJKTtcclxuICAgICAgICAvLyAvLyBwYXR0ZXJuQ29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAvLyBpbWFnZS50YXJnZXRMYXllciA9IGxheWVyO1xyXG4gICAgICAgIC8vIGltYWdlLnJlbmRlcihsYXllcik7XHJcbiAgICAgICAgLy90aGlzLl9sYXllckRvbS5hcHBlbmRDaGlsZChwYXR0ZXJuQ2FudmFzKTtcclxuICAgICAgICB0aGlzLl9wYXR0ZXJuQ2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5fcGF0dGVybkNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5fcGF0dGVybkNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIC8vIHBhdHRlcm5DYW52YXMuc3R5bGUud2lkdGggPSB3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiArIFwicHhcIjtcclxuICAgICAgICAvLyBwYXR0ZXJuQ2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiArIFwicHhcIjtcclxuICAgICAgICBiYWNrZ3JvdW5kLnJlbmRlckRldGFjaGVkKHRoaXMuX3BhdHRlcm5Db250ZXh0KTtcclxuICAgICAgICBncmFwaGljcy5yZW5kZXJEZXRhY2hlZCh0aGlzLl9wYXR0ZXJuQ29udGV4dCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdHRlcm5Db250ZXh0LmNyZWF0ZVBhdHRlcm4odGhpcy5fcGF0dGVybkNhbnZhcywgcmVwZXRpdGlvbik7XHJcbiAgICB9XHJcbiAgICBtYWtlQ29udGFpbmVyKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzQ29udGFpbmVyKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgbWFrZUdyYXBoaWNzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzR3JhcGhpY3ModGhpcyk7XHJcbiAgICB9XHJcbiAgICBtYWtlVGV4dCh0ZXh0LCBzdHlsZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzVGV4dCh0aGlzLCB0ZXh0LCBzdHlsZSk7XHJcbiAgICB9XHJcbiAgICBtYWtlVGV4dFN0eWxlKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzVGV4dFN0eWxlKCk7XHJcbiAgICB9XHJcbiAgICBtYWtlUmFkaWFsVGV4dCh0ZXh0LCBzdHlsZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzUmFkaWFsVGV4dCh0aGlzLCB0ZXh0LCBzdHlsZSk7XHJcbiAgICB9XHJcbiAgICBtYWtlUGljdHVyZShpbWFnZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzSW1hZ2UodGhpcywgaW1hZ2UpO1xyXG4gICAgfVxyXG4gICAgcmVzaXplTGF5ZXIobGF5ZXIpIHtcclxuICAgICAgICBsYXllci5yZXNpemUodGhpcy5fY2FsY3VsYXRlZFdpZHRoLCB0aGlzLl9jYWxjdWxhdGVkSGVpZ2h0LCB0aGlzLl9jYWxjdWxhdGVkV2lkdGgsIHRoaXMuX2NhbGN1bGF0ZWRIZWlnaHQsIHRoaXMucmVzb2x1dGlvbik7XHJcbiAgICB9XHJcbiAgICByZXNpemVHaG9zdCgpIHtcclxuICAgICAgICB0aGlzLl9naG9zdExheWVyLnJlc2l6ZSh0aGlzLl9jYWxjdWxhdGVkV2lkdGgsIHRoaXMuX2NhbGN1bGF0ZWRIZWlnaHQsIHRoaXMuX2NhbGN1bGF0ZWRXaWR0aCwgdGhpcy5fY2FsY3VsYXRlZEhlaWdodCwgdGhpcy5yZXNvbHV0aW9uKTtcclxuICAgIH1cclxuICAgIHJlc2l6ZShyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIGNhbGN1bGF0ZWRXaWR0aCwgY2FsY3VsYXRlZEhlaWdodCkge1xyXG4gICAgICAgIHRoaXMuX3JlYWxXaWR0aCA9IHJlYWxXaWR0aDtcclxuICAgICAgICB0aGlzLl9yZWFsSGVpZ2h0ID0gcmVhbEhlaWdodDtcclxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVkV2lkdGggPSBjYWxjdWxhdGVkV2lkdGg7XHJcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlZEhlaWdodCA9IGNhbGN1bGF0ZWRIZWlnaHQ7XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5sYXllcnMsIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxheWVyLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplTGF5ZXIobGF5ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZXNpemVHaG9zdCgpO1xyXG4gICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IGNhbGN1bGF0ZWRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gY2FsY3VsYXRlZEhlaWdodCArIFwicHhcIjtcclxuICAgIH1cclxuICAgIGNyZWF0ZURldGFjaGVkTGF5ZXIod2lsbFJlYWRGcmVxdWVudGx5ID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCB2aWV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdmlldy5nZXRDb250ZXh0KFwiMmRcIiwgeyB3aWxsUmVhZEZyZXF1ZW50bHk6IHdpbGxSZWFkRnJlcXVlbnRseSB9KTtcclxuICAgICAgICBjb25zdCBsYXllciA9IG5ldyBDYW52YXNMYXllcih2aWV3LCBjb250ZXh0KTtcclxuICAgICAgICB2aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgIHZpZXcuc3R5bGUudG9wID0gXCIwcHhcIjtcclxuICAgICAgICB2aWV3LnN0eWxlLmxlZnQgPSBcIjBweFwiO1xyXG4gICAgICAgIHJldHVybiBsYXllcjtcclxuICAgIH1cclxuICAgIGdldExheWVyQnlPcmRlcihvcmRlcikge1xyXG4gICAgICAgIGNvbnN0IGxheWVycyA9IHRoaXMubGF5ZXJzO1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGxheWVycy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKGxheWVyLm9yZGVyID09IG9yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGF5ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRMYXllcihvcmRlciwgdmlzaWJsZSA9IHRydWUpIHtcclxuICAgICAgICBsZXQgZXhpc3RpbmdMYXllciA9IHRoaXMuZ2V0TGF5ZXJCeU9yZGVyKG9yZGVyKTtcclxuICAgICAgICBpZiAoZXhpc3RpbmdMYXllcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdMYXllcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmNyZWF0ZURldGFjaGVkTGF5ZXIob3JkZXIgPT0gOTkpO1xyXG4gICAgICAgIGxheWVyLm9yZGVyID0gb3JkZXI7XHJcbiAgICAgICAgbGF5ZXIudmlzaWJsZSA9IHZpc2libGU7XHJcbiAgICAgICAgbGF5ZXIudmlldy5jbGFzc05hbWUgPSBcImFtNS1sYXllci1cIiArIG9yZGVyO1xyXG4gICAgICAgIGlmIChsYXllci52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplTGF5ZXIobGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsYXllcnMgPSB0aGlzLmxheWVycztcclxuICAgICAgICBsYXllcnMucHVzaChsYXllcik7XHJcbiAgICAgICAgbGF5ZXJzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEub3JkZXIgPiBiLm9yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhLm9yZGVyIDwgYi5vcmRlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSBsYXllcnMubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGxheWVySW5kZXggPSAkYXJyYXkuaW5kZXhPZihsYXllcnMsIGxheWVyKTtcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICBmb3IgKGxldCBpID0gbGF5ZXJJbmRleCArIDE7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXJzW2ldLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIG5leHQgPSBsYXllcnNbaV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGF5ZXIudmlzaWJsZSkge1xyXG4gICAgICAgICAgICBpZiAobmV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXllckRvbS5hcHBlbmRDaGlsZChsYXllci52aWV3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xheWVyRG9tLmluc2VydEJlZm9yZShsYXllci52aWV3LCBuZXh0LnZpZXcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsYXllcjtcclxuICAgIH1cclxuICAgIHJlbmRlcihyb290KSB7XHJcbiAgICAgICAgdGhpcy5fZGlydHlMYXllcnMubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLl9kZWZlcnJlZEdob3N0TGF5ZXJzID0gW107XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5sYXllcnMsIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsYXllci5kaXJ0eSAmJiBsYXllci52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlydHlMYXllcnMucHVzaChsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2dob3N0TGF5ZXIuY2xlYXIoKTtcclxuICAgICAgICByb290LnJlbmRlcih7XHJcbiAgICAgICAgICAgIGluYWN0aXZlOiBudWxsLFxyXG4gICAgICAgICAgICBsYXllcjogdGhpcy5kZWZhdWx0TGF5ZXIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZGVmZXJyZWRHaG9zdExheWVycyA9IHRoaXMuX2RlZmVycmVkR2hvc3RMYXllcnM7XHJcbiAgICAgICAgaWYgKGRlZmVycmVkR2hvc3RMYXllcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkR2hvc3RMYXllcnMuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChkZWZlcnJlZEdob3N0TGF5ZXJzLCAobGF5ZXJ4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByb290LnJlbmRlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5hY3RpdmU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IHRoaXMuZGVmYXVsdExheWVyXHJcbiAgICAgICAgICAgICAgICB9LCBsYXllcngpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZ2hvc3RMYXllci5jb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAvL3NldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIC8vIFJlbW92ZSB0aGlzIGFmdGVyIHRoZSBDaHJvbWUgYnVnIGlzIGZpeGVkOlxyXG4gICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTEyNzkzOTRcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLmxheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsYXllcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGxheWVyLmNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5fZGlydHlMYXllcnMsIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICBsYXllci5jb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgbGF5ZXIuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL30sIDEwMClcclxuICAgICAgICBpZiAodGhpcy5faG92ZXJpbmcuc2l6ZSAmJiB0aGlzLl9sYXN0UG9pbnRlck1vdmVFdmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGV2ZW50cywgdGFyZ2V0LCBuYXRpdmUgfSA9IHRoaXMuX2xhc3RQb2ludGVyTW92ZUV2ZW50O1xyXG4gICAgICAgICAgICAvL3RoaXMuX21vdXNlTW92ZVRocm90dGxlci5ydW4oKTtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoR2xvYmFsTW91c2Vtb3ZlKGV2ZW50LCB0YXJnZXQsIG5hdGl2ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBhaW50SWQob2JqKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBkaXN0cmlidXRlSWQoKyt0aGlzLl9jb2xvcklkKTtcclxuICAgICAgICBjb25zdCBjb2xvciA9IENvbG9yLmZyb21IZXgoaWQpLnRvQ1NTKCk7XHJcbiAgICAgICAgdGhpcy5fY29sb3JNYXBbY29sb3JdID0gb2JqO1xyXG4gICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgIH1cclxuICAgIF9yZW1vdmVPYmplY3Qob2JqKSB7XHJcbiAgICAgICAgaWYgKG9iai5fY29sb3JJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb2xvck1hcFtvYmouX2NvbG9ySWRdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHByb3RlY3RlZCBfaWRlbnRpZnlPYmplY3RCeUNvbG9yKGNvbG9ySWQ6IG51bWJlcik6IENhbnZhc0Rpc3BsYXlPYmplY3QgfCB1bmRlZmluZWQge1xyXG4gICAgLy8gXHRyZXR1cm4gdGhpcy5fY29sb3JNYXBbY29sb3JJZF07XHJcbiAgICAvLyB9XHJcbiAgICBfYWRqdXN0Qm91bmRpbmdCb3goYmJveCkge1xyXG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuX2dob3N0TGF5ZXIubWFyZ2luO1xyXG4gICAgICAgIHJldHVybiBuZXcgRE9NUmVjdCgtbWFyZ2luLmxlZnQsIC1tYXJnaW4udG9wLCBiYm94LndpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQsIGJib3guaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pO1xyXG4gICAgfVxyXG4gICAgZ2V0RXZlbnQob3JpZ2luYWxFdmVudCwgYWRqdXN0UG9pbnQgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gb3JpZ2luYWxFdmVudC5jbGllbnRYIHx8IDA7XHJcbiAgICAgICAgY29uc3QgeSA9IG9yaWdpbmFsRXZlbnQuY2xpZW50WSB8fCAwO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoU2NhbGUgPSB0aGlzLl9jYWxjdWxhdGVkV2lkdGggLyB0aGlzLl9yZWFsV2lkdGg7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0U2NhbGUgPSB0aGlzLl9jYWxjdWxhdGVkSGVpZ2h0IC8gdGhpcy5fcmVhbEhlaWdodDtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFBvaW50ID0ge1xyXG4gICAgICAgICAgICB4OiB4IC0gYmJveC5sZWZ0LFxyXG4gICAgICAgICAgICB5OiB5IC0gYmJveC50b3AsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBwb2ludCA9IHtcclxuICAgICAgICAgICAgeDogKHggLSAoYWRqdXN0UG9pbnQgPyBiYm94LmxlZnQgOiAwKSkgKiB3aWR0aFNjYWxlLFxyXG4gICAgICAgICAgICB5OiAoeSAtIChhZGp1c3RQb2ludCA/IGJib3gudG9wIDogMCkpICogaGVpZ2h0U2NhbGUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gbmV3IENhbnZhc1JlbmRlcmVyRXZlbnQob3JpZ2luYWxFdmVudCwgb3JpZ2luYWxQb2ludCwgcG9pbnQsIHRoaXMuX2FkanVzdEJvdW5kaW5nQm94KGJib3gpKTtcclxuICAgIH1cclxuICAgIF9nZXRIaXRUYXJnZXQocG9pbnQsIGJib3gsIHRhcmdldCkge1xyXG4gICAgICAgIGlmIChiYm94LndpZHRoID09PSAwIHx8IGJib3guaGVpZ2h0ID09PSAwIHx8IHBvaW50LnggPCBiYm94LmxlZnQgfHwgcG9pbnQueCA+IGJib3gucmlnaHQgfHwgcG9pbnQueSA8IGJib3gudG9wIHx8IHBvaW50LnkgPiBiYm94LmJvdHRvbSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGFyZ2V0IHx8ICF0aGlzLl9sYXllckRvbS5jb250YWlucyh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGl4ZWwgPSB0aGlzLl9naG9zdExheWVyLmdldEltYWdlRGF0YShwb2ludCwgYmJveCk7XHJcbiAgICAgICAgaWYgKHBpeGVsLmRhdGFbMF0gPT09IDAgJiYgcGl4ZWwuZGF0YVsxXSA9PT0gMCAmJiBwaXhlbC5kYXRhWzJdID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29sb3JJZCA9IENvbG9yLmZyb21SR0IocGl4ZWwuZGF0YVswXSwgcGl4ZWwuZGF0YVsxXSwgcGl4ZWwuZGF0YVsyXSkudG9DU1MoKTtcclxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLl9jb2xvck1hcFtjb2xvcklkXTtcclxuICAgICAgICByZXR1cm4gaGl0O1xyXG4gICAgfVxyXG4gICAgZ2V0T2JqZWN0QXRQb2ludChwb2ludCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9naG9zdExheWVyLmdldEltYWdlQXJyYXkocG9pbnQpO1xyXG4gICAgICAgIGlmIChkYXRhWzBdID09PSAwICYmIGRhdGFbMV0gPT09IDAgJiYgZGF0YVsyXSA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb2xvcklkID0gQ29sb3IuZnJvbVJHQihkYXRhWzBdLCBkYXRhWzFdLCBkYXRhWzJdKS50b0NTUygpO1xyXG4gICAgICAgIGNvbnN0IGhpdCA9IHRoaXMuX2NvbG9yTWFwW2NvbG9ySWRdO1xyXG4gICAgICAgIHJldHVybiBoaXQ7XHJcbiAgICB9XHJcbiAgICBfd2l0aEV2ZW50cyhrZXksIGYpIHtcclxuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLl9ldmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXZlbnRzLmRpc3BhdGNoaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGYoZXZlbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5kaXNwYXRjaGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5jbGVhbnVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLmNsZWFudXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkYXJyYXkua2VlcElmKGV2ZW50cy5jYWxsYmFja3MsIChjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWNhbGxiYWNrLmRpc3Bvc2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudHMuY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMuZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2Rpc3BhdGNoRXZlbnRBbGwoa2V5LCBldmVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbnNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fd2l0aEV2ZW50cyhrZXksIChldmVudHMpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLmNhbGxiYWNrcywgKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrLmRpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbGJhY2suY2FsbChjYWxsYmFjay5jb250ZXh0LCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2Rpc3BhdGNoRXZlbnQoa2V5LCB0YXJnZXQsIGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGlzcGF0Y2hlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3dpdGhFdmVudHMoa2V5LCAoZXZlbnRzKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGV2ZW50cy5jYWxsYmFja3MsIChjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFjay5kaXNwb3NlZCAmJiBjYWxsYmFjay5vYmplY3QgPT09IHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGxiYWNrLmNhbGwoY2FsbGJhY2suY29udGV4dCwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZGlzcGF0Y2hlZDtcclxuICAgIH1cclxuICAgIF9kaXNwYXRjaE1vdXNlZG93bihvcmlnaW5hbEV2ZW50LCBvcmlnaW5hbFRhcmdldCkge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IG9yaWdpbmFsRXZlbnQuYnV0dG9uO1xyXG4gICAgICAgIGlmIChidXR0b24gIT0gMCAmJiBidXR0b24gIT0gMiAmJiBidXR0b24gIT0gMSAmJiBidXR0b24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBJZ25vcmUgbm9uLXByaW1hcnkgbW91c2UgYnV0dG9uc1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5nZXRFdmVudChvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9nZXRIaXRUYXJnZXQoZXZlbnQub3JpZ2luYWxQb2ludCwgZXZlbnQuYmJveCwgb3JpZ2luYWxUYXJnZXQpO1xyXG4gICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBldmVudC5pZDtcclxuICAgICAgICAgICAgbGV0IGRyYWdnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZWFjaFRhcmdldHModGFyZ2V0LCAob2JqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0geyBpZDogaWQsIHZhbHVlOiBvYmogfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdXNlZG93bi5wdXNoKGluZm8pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkcmFnZ2VkICYmIHRoaXMuX2Rpc3BhdGNoRXZlbnQoXCJwb2ludGVyZG93blwiLCBvYmosIGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZGlzcGF0Y2ggdGhlIGZpcnN0IGVsZW1lbnQgd2hpY2ggbWF0Y2hlc1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhcyA9IHRoaXMuX2RyYWdnaW5nLnNvbWUoKHgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgudmFsdWUgPT09IG9iaiAmJiB4LmlkID09PSBpZDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnZ2luZy5wdXNoKGluZm8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZGlzcGF0Y2hHbG9iYWxNb3VzZW1vdmUob3JpZ2luYWxFdmVudCwgb3JpZ2luYWxUYXJnZXQsIG5hdGl2ZSkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5nZXRFdmVudChvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9nZXRIaXRUYXJnZXQoZXZlbnQub3JpZ2luYWxQb2ludCwgZXZlbnQuYmJveCwgb3JpZ2luYWxUYXJnZXQpO1xyXG4gICAgICAgIGV2ZW50Lm5hdGl2ZSA9IG5hdGl2ZTtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hvdmVyaW5nLmZvckVhY2goKG9iaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvYmouY29udGFpbnModGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvdmVyaW5nLmRlbGV0ZShvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouY3Vyc29yT3ZlclN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1dGlscy5zZXRTdHlsZShkb2N1bWVudC5ib2R5LCBcImN1cnNvclwiLCBvYmouX3JlcGxhY2VkQ3Vyc29yU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KFwicG9pbnRlcm91dFwiLCBvYmosIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5uYXRpdmUpIHtcclxuICAgICAgICAgICAgICAgIGVhY2hUYXJnZXRzKHRhcmdldCwgKG9iaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faG92ZXJpbmcuaGFzKG9iaikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faG92ZXJpbmcuYWRkKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouY3Vyc29yT3ZlclN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouX3JlcGxhY2VkQ3Vyc29yU3R5bGUgPSAkdXRpbHMuZ2V0U3R5bGUoZG9jdW1lbnQuYm9keSwgXCJjdXJzb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdXRpbHMuc2V0U3R5bGUoZG9jdW1lbnQuYm9keSwgXCJjdXJzb3JcIiwgb2JqLmN1cnNvck92ZXJTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChcInBvaW50ZXJvdmVyXCIsIG9iaiwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vfSBlbHNlIGlmICh0YXJnZXQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmluZy5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouY3Vyc29yT3ZlclN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHV0aWxzLnNldFN0eWxlKGRvY3VtZW50LmJvZHksIFwiY3Vyc29yXCIsIG9iai5fcmVwbGFjZWRDdXJzb3JTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KFwicG9pbnRlcm91dFwiLCBvYmosIGV2ZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hvdmVyaW5nLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnRBbGwoXCJnbG9iYWxwb2ludGVybW92ZVwiLCBldmVudCk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVIb3ZlcmluZyhncmFwaGljcykge1xyXG4gICAgICAgIHRoaXMuX2hvdmVyaW5nLmRlbGV0ZShncmFwaGljcyk7XHJcbiAgICAgICAgaWYgKGdyYXBoaWNzLmN1cnNvck92ZXJTdHlsZSkge1xyXG4gICAgICAgICAgICAkdXRpbHMuc2V0U3R5bGUoZG9jdW1lbnQuYm9keSwgXCJjdXJzb3JcIiwgZ3JhcGhpY3MuX3JlcGxhY2VkQ3Vyc29yU3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kaXNwYXRjaEdsb2JhbE1vdXNldXAob3JpZ2luYWxFdmVudCwgbmF0aXZlKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmdldEV2ZW50KG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgIGV2ZW50Lm5hdGl2ZSA9IG5hdGl2ZTtcclxuICAgICAgICAvL2NvbnN0IHRhcmdldCA9IHRoaXMuX2dldEhpdFRhcmdldChldmVudC5vcmlnaW5hbFBvaW50KTtcclxuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50QWxsKFwiZ2xvYmFscG9pbnRlcnVwXCIsIGV2ZW50KTtcclxuICAgIH1cclxuICAgIF9kaXNwYXRjaERyYWdNb3ZlKG9yaWdpbmFsRXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5fZHJhZ2dpbmcubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5nZXRFdmVudChvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBldmVudC5pZDtcclxuICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcuZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoXCJwb2ludGVybW92ZVwiLCBvYmoudmFsdWUsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2Rpc3BhdGNoRHJhZ0VuZChvcmlnaW5hbEV2ZW50LCBvcmlnaW5hbFRhcmdldCkge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IG9yaWdpbmFsRXZlbnQuYnV0dG9uO1xyXG4gICAgICAgIGxldCBjbGlja2V2ZW50O1xyXG4gICAgICAgIGlmIChidXR0b24gPT0gMCB8fCBidXR0b24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjbGlja2V2ZW50ID0gXCJjbGlja1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChidXR0b24gPT0gMikge1xyXG4gICAgICAgICAgICBjbGlja2V2ZW50ID0gXCJyaWdodGNsaWNrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGJ1dHRvbiA9PSAxKSB7XHJcbiAgICAgICAgICAgIGNsaWNrZXZlbnQgPSBcIm1pZGRsZWNsaWNrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZ25vcmUgbm9uLXByaW1hcnkgbW91c2UgYnV0dG9uc1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5nZXRFdmVudChvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICBjb25zdCBpZCA9IGV2ZW50LmlkO1xyXG4gICAgICAgIGlmICh0aGlzLl9tb3VzZWRvd24ubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2dldEhpdFRhcmdldChldmVudC5vcmlnaW5hbFBvaW50LCBldmVudC5iYm94LCBvcmlnaW5hbFRhcmdldCk7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdXNlZG93bi5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmlkID09PSBpZCAmJiBvYmoudmFsdWUuY29udGFpbnModGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGNsaWNrZXZlbnQsIG9iai52YWx1ZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX21vdXNlZG93bi5sZW5ndGggPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZHJhZ2dpbmcubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnaW5nLmZvckVhY2goKG9iaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KFwicG9pbnRlcnVwXCIsIG9iai52YWx1ZSwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcubGVuZ3RoID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZGlzcGF0Y2hEb3VibGVDbGljayhvcmlnaW5hbEV2ZW50LCBvcmlnaW5hbFRhcmdldCkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5nZXRFdmVudChvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9nZXRIaXRUYXJnZXQoZXZlbnQub3JpZ2luYWxQb2ludCwgZXZlbnQuYmJveCwgb3JpZ2luYWxUYXJnZXQpO1xyXG4gICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgZWFjaFRhcmdldHModGFyZ2V0LCAob2JqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2hFdmVudChcImRibGNsaWNrXCIsIG9iaiwgZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kaXNwYXRjaFdoZWVsKG9yaWdpbmFsRXZlbnQsIG9yaWdpbmFsVGFyZ2V0KSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmdldEV2ZW50KG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2dldEhpdFRhcmdldChldmVudC5vcmlnaW5hbFBvaW50LCBldmVudC5iYm94LCBvcmlnaW5hbFRhcmdldCk7XHJcbiAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICBlYWNoVGFyZ2V0cyh0YXJnZXQsIChvYmopID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwYXRjaEV2ZW50KFwid2hlZWxcIiwgb2JqLCBldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX21ha2VTaGFyZWRFdmVudChrZXksIGYpIHtcclxuICAgICAgICBpZiAodGhpcy5fbGlzdGVuZXJzW2tleV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGYoKTtcclxuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzW2tleV0gPSBuZXcgQ291bnRlckRpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNba2V5XTtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcnNba2V5XS5pbmNyZW1lbnQoKTtcclxuICAgIH1cclxuICAgIF9vblBvaW50ZXJFdmVudChuYW1lLCBmKSB7XHJcbiAgICAgICAgbGV0IG5hdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCB0aW1lciA9IG51bGw7XHJcbiAgICAgICAgZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICAgICAgICAgIHRpbWVyID0gbnVsbDtcclxuICAgICAgICAgICAgbmF0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgTXVsdGlEaXNwb3NlcihbXHJcbiAgICAgICAgICAgIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGltZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2xlYXIoKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICR1dGlscy5hZGRFdmVudExpc3RlbmVyKHRoaXMudmlldywgJHV0aWxzLmdldFJlbmRlcmVyRXZlbnQobmFtZSksIChfKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuYXRpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoY2xlYXIsIDApO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgb25Qb2ludGVyRXZlbnQod2luZG93LCBuYW1lLCAoZXYsIHRhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmKGV2LCB0YXJnZXQsIG5hdGl2ZSk7XHJcbiAgICAgICAgICAgICAgICBuYXRpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdCBvbmx5IGEgc2luZ2xlIERPTSBldmVudCBpcyBhZGRlZCAoZS5nLiBvbmx5IGEgc2luZ2xlIG1vdXNlbW92ZSBldmVudCBsaXN0ZW5lcilcclxuICAgIF9pbml0RXZlbnQoa2V5KSB7XHJcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgY2FzZSBcImdsb2JhbHBvaW50ZXJtb3ZlXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOlxyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcm91dFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21ha2VTaGFyZWRFdmVudChcInBvaW50ZXJtb3ZlXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IChldmVudHMsIHRhcmdldCwgbmF0aXZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb2ludGVyTW92ZUV2ZW50ID0geyBldmVudHMsIHRhcmdldCwgbmF0aXZlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGV2ZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEdsb2JhbE1vdXNlbW92ZShldmVudCwgdGFyZ2V0LCBuYXRpdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTXVsdGlEaXNwb3NlcihbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uUG9pbnRlckV2ZW50KFwicG9pbnRlcmRvd25cIiwgbGlzdGVuZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblBvaW50ZXJFdmVudChcInBvaW50ZXJtb3ZlXCIsIGxpc3RlbmVyKSxcclxuICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYXNlIFwiZ2xvYmFscG9pbnRlcnVwXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFrZVNoYXJlZEV2ZW50KFwicG9pbnRlcnVwXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3VzZXVwID0gdGhpcy5fb25Qb2ludGVyRXZlbnQoXCJwb2ludGVydXBcIiwgKGV2ZW50cywgdGFyZ2V0LCBuYXRpdmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoR2xvYmFsTW91c2V1cChldmVudCwgbmF0aXZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb2ludGVyTW92ZUV2ZW50ID0geyBldmVudHMsIHRhcmdldCwgbmF0aXZlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRlcmNhbmNlbCA9IHRoaXMuX29uUG9pbnRlckV2ZW50KFwicG9pbnRlcmNhbmNlbFwiLCAoZXZlbnRzLCB0YXJnZXQsIG5hdGl2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChldmVudHMsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hHbG9iYWxNb3VzZXVwKGV2ZW50LCBuYXRpdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFBvaW50ZXJNb3ZlRXZlbnQgPSB7IGV2ZW50cywgdGFyZ2V0LCBuYXRpdmUgfTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2V1cC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJjYW5jZWwuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjbGlja1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRjbGlja1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwibWlkZGxlY2xpY2tcIjpcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJkb3duXCI6XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFrZVNoYXJlZEV2ZW50KFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vblBvaW50ZXJFdmVudChcInBvaW50ZXJkb3duXCIsIChldmVudCwgdGFyZ2V0LCBuYXRpdmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFBvaW50ZXJNb3ZlRXZlbnQgPSB7IGV2ZW50LCB0YXJnZXQsIG5hdGl2ZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaE1vdXNlZG93bihldmVudClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcm1vdmVcIjpcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJ1cFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21ha2VTaGFyZWRFdmVudChcInBvaW50ZXJkb3duXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHRocm90dGxlciA9IG5ldyBUaHJvdHRsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3VzZWRvd24gPSB0aGlzLl9vblBvaW50ZXJFdmVudChcInBvaW50ZXJkb3duXCIsIChldmVudHMsIHRhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChldmVudHMsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hNb3VzZWRvd24oZXYsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIHRocm90dGxpbmcgcHJvcGVybHkgZm9yIG11bHRpdG91Y2hcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3VzZW1vdmUgPSB0aGlzLl9vblBvaW50ZXJFdmVudChcInBvaW50ZXJtb3ZlXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Rocm90dGxlci50aHJvdHRsZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGV2LCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRHJhZ01vdmUoZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy99KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3VzZXVwID0gdGhpcy5fb25Qb2ludGVyRXZlbnQoXCJwb2ludGVydXBcIiwgKGV2LCB0YXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goZXYsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hEcmFnRW5kKGV2LCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludGVyY2FuY2VsID0gdGhpcy5fb25Qb2ludGVyRXZlbnQoXCJwb2ludGVyY2FuY2VsXCIsIChldiwgdGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGV2LCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRHJhZ0VuZChldiwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlZG93bi5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlbW92ZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNldXAuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyY2FuY2VsLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYXNlIFwiZGJsY2xpY2tcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYWtlU2hhcmVkRXZlbnQoXCJkYmxjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uUG9pbnRlckV2ZW50KFwiZGJsY2xpY2tcIiwgKGV2LCB0YXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5LmVhY2goZXYsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hEb3VibGVDbGljayhldiwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FzZSBcIndoZWVsXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFrZVNoYXJlZEV2ZW50KFwid2hlZWxcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkdXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnZpZXcsICR1dGlscy5nZXRSZW5kZXJlckV2ZW50KFwid2hlZWxcIiksIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaFdoZWVsKGV2ZW50LCAkdXRpbHMuZ2V0RXZlbnRUYXJnZXQoZXZlbnQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FkZEV2ZW50KG9iamVjdCwga2V5LCBjYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgICAgIGxldCBldmVudHMgPSB0aGlzLl9ldmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzW2tleV0gPSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwb3NlcjogdGhpcy5faW5pdEV2ZW50KGtleSksXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2xlYW51cDogZmFsc2UsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0geyBvYmplY3QsIGNvbnRleHQsIGNhbGxiYWNrLCBkaXNwb3NlZDogZmFsc2UgfTtcclxuICAgICAgICBldmVudHMuY2FsbGJhY2tzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgICAgIHJldHVybiBuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5kaXNwb3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChldmVudHMuZGlzcGF0Y2hpbmcpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5jbGVhbnVwID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChldmVudHMuY2FsbGJhY2tzLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzLmNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMuZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2FudmFzKHJvb3QsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyBNYWtlIHN1cmUgZXZlcnl0aGluZyBpcyByZW5kZXJlZFxyXG4gICAgICAgIHRoaXMucmVuZGVyKHJvb3QpO1xyXG4gICAgICAgIGlmICghb3B0aW9ucykge1xyXG4gICAgICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzY2FsZSA9IHRoaXMucmVzb2x1dGlvbjtcclxuICAgICAgICBsZXQgY2FudmFzV2lkdGggPSBNYXRoLmZsb29yKHRoaXMuX2NhbGN1bGF0ZWRXaWR0aCAqIHRoaXMucmVzb2x1dGlvbik7XHJcbiAgICAgICAgbGV0IGNhbnZhc0hlaWdodCA9IE1hdGguZmxvb3IodGhpcy5fY2FsY3VsYXRlZEhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byBzY2FsZVxyXG4gICAgICAgIGlmIChvcHRpb25zLm1pbldpZHRoICYmIChvcHRpb25zLm1pbldpZHRoID4gY2FudmFzV2lkdGgpKSB7XHJcbiAgICAgICAgICAgIGxldCBtaW5TY2FsZSA9IG9wdGlvbnMubWluV2lkdGggLyBjYW52YXNXaWR0aDtcclxuICAgICAgICAgICAgaWYgKG1pblNjYWxlID4gc2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gbWluU2NhbGUgKiB0aGlzLnJlc29sdXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMubWluSGVpZ2h0ICYmIChvcHRpb25zLm1pbkhlaWdodCA+IGNhbnZhc0hlaWdodCkpIHtcclxuICAgICAgICAgICAgbGV0IG1pblNjYWxlID0gb3B0aW9ucy5taW5IZWlnaHQgLyBjYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgICAgIGlmIChtaW5TY2FsZSA+IHNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IG1pblNjYWxlICogdGhpcy5yZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLm1heFdpZHRoICYmIChvcHRpb25zLm1heFdpZHRoIDwgY2FudmFzV2lkdGgpKSB7XHJcbiAgICAgICAgICAgIGxldCBtYXhTY2FsZSA9IG9wdGlvbnMubWF4V2lkdGggLyBjYW52YXNXaWR0aDtcclxuICAgICAgICAgICAgaWYgKG1heFNjYWxlIDwgc2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gbWF4U2NhbGUgKiB0aGlzLnJlc29sdXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMubWF4SGVpZ2h0ICYmIChvcHRpb25zLm1heEhlaWdodCA+IGNhbnZhc0hlaWdodCkpIHtcclxuICAgICAgICAgICAgbGV0IG1heFNjYWxlID0gb3B0aW9ucy5tYXhIZWlnaHQgLyBjYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgICAgIGlmIChtYXhTY2FsZSA8IHNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IG1heFNjYWxlICogdGhpcy5yZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gY29tcGVuc2F0ZSBmb3IgcGl4ZWwgcmF0aW9cclxuICAgICAgICBpZiAob3B0aW9ucy5tYWludGFpblBpeGVsUmF0aW8pIHtcclxuICAgICAgICAgICAgc2NhbGUgLz0gdGhpcy5yZXNvbHV0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJbml0IGxpc3QgY2FudmFzZXMgdG8gcmVtb3ZlIGZyb20gRE9NIGFmdGVyIGV4cG9ydFxyXG4gICAgICAgIGNvbnN0IGNhbnZhc2VzID0gW107XHJcbiAgICAgICAgLy8gU2V0IHVwIG5ldyBjYW52YXMgZm9yIGV4cG9ydFxyXG4gICAgICAgIGxldCBmb3JjZVJlbmRlciA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgaWYgKHNjYWxlICE9IHRoaXMucmVzb2x1dGlvbikge1xyXG4gICAgICAgICAgICBmb3JjZVJlbmRlciA9IHRydWU7XHJcbiAgICAgICAgICAgIGNhbnZhc1dpZHRoID0gY2FudmFzV2lkdGggKiBzY2FsZSAvIHRoaXMucmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgY2FudmFzSGVpZ2h0ID0gY2FudmFzSGVpZ2h0ICogc2NhbGUgLyB0aGlzLnJlc29sdXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgLy8gQWRkIHRvIERPTSBzbyBpdCBpbmhlcml0cyBDU1NcclxuICAgICAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLnRvcCA9IFwiLTEwMDAwcHhcIjtcclxuICAgICAgICB0aGlzLnZpZXcuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICBjYW52YXNlcy5wdXNoKGNhbnZhcyk7XHJcbiAgICAgICAgLy8gQ29udGV4dFxyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIGxldCB3aWR0aCA9IDA7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XHJcbiAgICAgICAgbGV0IG5lZWRSZXJlbmRlciA9IGZhbHNlO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMubGF5ZXJzLCAobGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxheWVyICYmIGxheWVyLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsYXllci50YWludGVkIHx8IGZvcmNlUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVlZFJlcmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5leHBvcnRhYmxlVmlldyA9IGxheWVyLnZpZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZXhwb3J0YWJsZUNvbnRleHQgPSBsYXllci5jb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLnZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0byBET00gc28gaXQgaW5oZXJpdHMgQ1NTXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIudmlldy5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci52aWV3LnN0eWxlLnRvcCA9IFwiLTEwMDAwcHhcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuYXBwZW5kQ2hpbGQobGF5ZXIudmlldyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzZXMucHVzaChsYXllci52aWV3KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXh0cmFYID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXh0cmFZID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIubWFyZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhWCArPSBsYXllci5tYXJnaW4ubGVmdCB8fCAwICsgbGF5ZXIubWFyZ2luLnJpZ2h0IHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhWSArPSBsYXllci5tYXJnaW4udG9wIHx8IDAgKyBsYXllci5tYXJnaW4uYm90dG9tIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLnZpZXcud2lkdGggPSBjYW52YXNXaWR0aCArIGV4dHJhWDtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci52aWV3LmhlaWdodCA9IGNhbnZhc0hlaWdodCArIGV4dHJhWTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5jb250ZXh0ID0gbGF5ZXIudmlldy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLnNjYWxlID0gc2NhbGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAobmVlZFJlcmVuZGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29taXRUYWludGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIocm9vdCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29taXRUYWludGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMubGF5ZXJzLCAobGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxheWVyICYmIGxheWVyLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIExheWVyIGlzIGZpbmUuIEp1c3QgcGxvcCBpdCBpbnRvIG91ciB0YXJnZXQgY2FudmFzXHJcbiAgICAgICAgICAgICAgICBsZXQgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgeSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIubWFyZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IC0obGF5ZXIubWFyZ2luLmxlZnQgfHwgMCkgKiB0aGlzLnJlc29sdXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IC0obGF5ZXIubWFyZ2luLnRvcCB8fCAwKSAqIHRoaXMucmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGxheWVyLnZpZXcsIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBsYXllciBvcmlnaW5hbCBjYW52YXNcclxuICAgICAgICAgICAgICAgIGlmIChsYXllci5leHBvcnRhYmxlVmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLnZpZXcgPSBsYXllci5leHBvcnRhYmxlVmlldztcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5leHBvcnRhYmxlVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChsYXllci5leHBvcnRhYmxlQ29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmNvbnRleHQgPSBsYXllci5leHBvcnRhYmxlQ29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5leHBvcnRhYmxlQ29udGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA8IGxheWVyLnZpZXcuY2xpZW50V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGxheWVyLnZpZXcuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0IDwgbGF5ZXIudmlldy5jbGllbnRIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBsYXllci52aWV3LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxheWVyLnNjYWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcclxuICAgICAgICAkYXJyYXkuZWFjaChjYW52YXNlcywgKGNhbnZhcykgPT4ge1xyXG4gICAgICAgICAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSBcIlwiO1xyXG4gICAgICAgICAgICBjYW52YXMuc3R5bGUudG9wID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZUNoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgIH1cclxufVxyXG5jbGFzcyBHaG9zdExheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZpZXdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29udGV4dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXJnaW5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Jlc29sdXRpb25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl93aWR0aFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hlaWdodFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW1hZ2VBcnJheVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMudmlldy5nZXRDb250ZXh0KFwiMmRcIiwgeyBhbHBoYTogZmFsc2UsIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgIHRoaXMudmlldy5zdHlsZS50b3AgPSBcIjBweFwiO1xyXG4gICAgICAgIHRoaXMudmlldy5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcclxuICAgIH1cclxuICAgIHJlc2l6ZShjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBkb21XaWR0aCwgZG9tSGVpZ2h0LCByZXNvbHV0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlc29sdXRpb247XHJcbiAgICAgICAgY2FudmFzV2lkdGggKz0gKHRoaXMubWFyZ2luLmxlZnQgKyB0aGlzLm1hcmdpbi5yaWdodCk7XHJcbiAgICAgICAgY2FudmFzSGVpZ2h0ICs9ICh0aGlzLm1hcmdpbi50b3AgKyB0aGlzLm1hcmdpbi5ib3R0b20pO1xyXG4gICAgICAgIC8vIFRPRE8gdGhpcyBzaG91bGQgdGFrZSBpbnRvIGFjY291bnQgY2FsY3VsYXRlU2l6ZVxyXG4gICAgICAgIGRvbVdpZHRoICs9ICh0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpO1xyXG4gICAgICAgIGRvbUhlaWdodCArPSAodGhpcy5tYXJnaW4udG9wICsgdGhpcy5tYXJnaW4uYm90dG9tKTtcclxuICAgICAgICB0aGlzLnZpZXcuc3R5bGUubGVmdCA9IC10aGlzLm1hcmdpbi5sZWZ0ICsgXCJweFwiO1xyXG4gICAgICAgIHRoaXMudmlldy5zdHlsZS50b3AgPSAtdGhpcy5tYXJnaW4udG9wICsgXCJweFwiO1xyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gTWF0aC5mbG9vcihjYW52YXNXaWR0aCAqIHJlc29sdXRpb24pO1xyXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IE1hdGguZmxvb3IoY2FudmFzSGVpZ2h0ICogcmVzb2x1dGlvbik7XHJcbiAgICAgICAgdGhpcy52aWV3LndpZHRoID0gdGhpcy5fd2lkdGg7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gZG9tV2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgdGhpcy52aWV3LmhlaWdodCA9IHRoaXMuX2hlaWdodDtcclxuICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gZG9tSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgfVxyXG4gICAgZ2V0SW1hZ2VEYXRhKHBvaW50LCBiYm94KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEoXHJcbiAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyByb3VuZCA/XHJcbiAgICAgICAgTWF0aC5yb3VuZCgoKHBvaW50LnggLSBiYm94LmxlZnQpIC8gYmJveC53aWR0aCkgKiB0aGlzLl93aWR0aCksIE1hdGgucm91bmQoKChwb2ludC55IC0gYmJveC50b3ApIC8gYmJveC5oZWlnaHQpICogdGhpcy5faGVpZ2h0KSwgMSwgMSk7XHJcbiAgICB9XHJcbiAgICBnZXRJbWFnZUFycmF5KHBvaW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlQXJyYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZUFycmF5ID0gdGhpcy5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KS5kYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5pbWFnZUFycmF5O1xyXG4gICAgICAgIGNvbnN0IHggPSBNYXRoLnJvdW5kKHBvaW50LnggKiB0aGlzLl9yZXNvbHV0aW9uKTtcclxuICAgICAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChwb2ludC55ICogdGhpcy5fcmVzb2x1dGlvbik7XHJcbiAgICAgICAgY29uc3QgaSA9ICh5ICogdGhpcy5fd2lkdGggKyB4KSAqIDQ7XHJcbiAgICAgICAgcmV0dXJuIFtkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0sIGRhdGFbaSArIDNdXTtcclxuICAgIH1cclxuICAgIHNldE1hcmdpbihsYXllcnMpIHtcclxuICAgICAgICB0aGlzLm1hcmdpbi5sZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLm1hcmdpbi5yaWdodCA9IDA7XHJcbiAgICAgICAgdGhpcy5tYXJnaW4udG9wID0gMDtcclxuICAgICAgICB0aGlzLm1hcmdpbi5ib3R0b20gPSAwO1xyXG4gICAgICAgICRhcnJheS5lYWNoKGxheWVycywgKGxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsYXllci5tYXJnaW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFyZ2luLmxlZnQgPSBNYXRoLm1heCh0aGlzLm1hcmdpbi5sZWZ0LCBsYXllci5tYXJnaW4ubGVmdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmdpbi5yaWdodCA9IE1hdGgubWF4KHRoaXMubWFyZ2luLnJpZ2h0LCBsYXllci5tYXJnaW4ucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJnaW4udG9wID0gTWF0aC5tYXgodGhpcy5tYXJnaW4udG9wLCBsYXllci5tYXJnaW4udG9wKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFyZ2luLmJvdHRvbSA9IE1hdGgubWF4KHRoaXMubWFyZ2luLmJvdHRvbSwgbGF5ZXIubWFyZ2luLmJvdHRvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNMYXllciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBjb250ZXh0KSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmlld1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb250ZXh0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhaW50ZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1hcmdpblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcmRlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmlzaWJsZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVpZ2h0XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjYWxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpcnR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleHBvcnRhYmxlVmlld1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleHBvcnRhYmxlQ29udGV4dFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfd2lkdGhcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oZWlnaHRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgIH1cclxuICAgIHJlc2l6ZShjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBkb21XaWR0aCwgZG9tSGVpZ2h0LCByZXNvbHV0aW9uKSB7XHJcbiAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyB0YWtlIGludG8gYWNjb3VudCBjYWxjdWxhdGVTaXplID9cclxuICAgICAgICBpZiAodGhpcy53aWR0aCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNhbnZhc1dpZHRoID0gdGhpcy53aWR0aDtcclxuICAgICAgICAgICAgZG9tV2lkdGggPSB0aGlzLndpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPIHNob3VsZCB0aGlzIHRha2UgaW50byBhY2NvdW50IGNhbGN1bGF0ZVNpemUgP1xyXG4gICAgICAgIGlmICh0aGlzLmhlaWdodCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNhbnZhc0hlaWdodCA9IHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICBkb21IZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWFyZ2luKSB7XHJcbiAgICAgICAgICAgIGNhbnZhc1dpZHRoICs9ICh0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpO1xyXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQgKz0gKHRoaXMubWFyZ2luLnRvcCArIHRoaXMubWFyZ2luLmJvdHRvbSk7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBzaG91bGQgdGFrZSBpbnRvIGFjY291bnQgY2FsY3VsYXRlU2l6ZVxyXG4gICAgICAgICAgICBkb21XaWR0aCArPSAodGhpcy5tYXJnaW4ubGVmdCArIHRoaXMubWFyZ2luLnJpZ2h0KTtcclxuICAgICAgICAgICAgZG9tSGVpZ2h0ICs9ICh0aGlzLm1hcmdpbi50b3AgKyB0aGlzLm1hcmdpbi5ib3R0b20pO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUubGVmdCA9IC10aGlzLm1hcmdpbi5sZWZ0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUudG9wID0gLXRoaXMubWFyZ2luLnRvcCArIFwicHhcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLnRvcCA9IFwiMHB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gTWF0aC5mbG9vcihjYW52YXNXaWR0aCAqIHJlc29sdXRpb24pO1xyXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IE1hdGguZmxvb3IoY2FudmFzSGVpZ2h0ICogcmVzb2x1dGlvbik7XHJcbiAgICAgICAgdGhpcy52aWV3LndpZHRoID0gdGhpcy5fd2lkdGg7XHJcbiAgICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gZG9tV2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgdGhpcy52aWV3LmhlaWdodCA9IHRoaXMuX2hlaWdodDtcclxuICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gZG9tSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1JlbmRlcmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlendMode: () => (/* binding */ BlendMode)\n/* harmony export */ });\n/**\r\n * From https://github.com/pixijs/pixi.js/blob/3dd0ff9a935f0bc13a09aefff9eb2872f02c51b9/packages/canvas/canvas-renderer/src/utils/mapCanvasBlendModesToPixi.ts#L13\r\n */\r\nvar BlendMode;\r\n(function (BlendMode) {\r\n    BlendMode[\"ADD\"] = \"lighter\";\r\n    BlendMode[\"COLOR\"] = \"color\";\r\n    BlendMode[\"COLOR_BURN\"] = \"color-burn\";\r\n    BlendMode[\"COLOR_DODGE\"] = \"color-dodge\";\r\n    BlendMode[\"DARKEN\"] = \"darken\";\r\n    BlendMode[\"DIFFERENCE\"] = \"difference\";\r\n    BlendMode[\"DST_OVER\"] = \"destination-over\";\r\n    BlendMode[\"EXCLUSION\"] = \"exclusion\";\r\n    BlendMode[\"HARD_LIGHT\"] = \"hard-light\";\r\n    BlendMode[\"HUE\"] = \"hue\";\r\n    BlendMode[\"LIGHTEN\"] = \"lighten\";\r\n    BlendMode[\"LUMINOSITY\"] = \"luminosity\";\r\n    BlendMode[\"MULTIPLY\"] = \"multiply\";\r\n    BlendMode[\"NORMAL\"] = \"source-over\";\r\n    BlendMode[\"OVERLAY\"] = \"overlay\";\r\n    BlendMode[\"SATURATION\"] = \"saturation\";\r\n    BlendMode[\"SCREEN\"] = \"screen\";\r\n    BlendMode[\"SOFT_LIGHT\"] = \"soft-light\";\r\n    BlendMode[\"SRC_ATOP\"] = \"source-atop\";\r\n    BlendMode[\"XOR\"] = \"xor\";\r\n})(BlendMode || (BlendMode = {}));\r\n//# sourceMappingURL=Renderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvYmFja2VuZC9SZW5kZXJlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4QjtBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvYmFja2VuZC9SZW5kZXJlci5qcz83NTZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9ibG9iLzNkZDBmZjlhOTM1ZjBiYzEzYTA5YWVmZmY5ZWIyODcyZjAyYzUxYjkvcGFja2FnZXMvY2FudmFzL2NhbnZhcy1yZW5kZXJlci9zcmMvdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aS50cyNMMTNcclxuICovXHJcbmV4cG9ydCB2YXIgQmxlbmRNb2RlO1xyXG4oZnVuY3Rpb24gKEJsZW5kTW9kZSkge1xyXG4gICAgQmxlbmRNb2RlW1wiQUREXCJdID0gXCJsaWdodGVyXCI7XHJcbiAgICBCbGVuZE1vZGVbXCJDT0xPUlwiXSA9IFwiY29sb3JcIjtcclxuICAgIEJsZW5kTW9kZVtcIkNPTE9SX0JVUk5cIl0gPSBcImNvbG9yLWJ1cm5cIjtcclxuICAgIEJsZW5kTW9kZVtcIkNPTE9SX0RPREdFXCJdID0gXCJjb2xvci1kb2RnZVwiO1xyXG4gICAgQmxlbmRNb2RlW1wiREFSS0VOXCJdID0gXCJkYXJrZW5cIjtcclxuICAgIEJsZW5kTW9kZVtcIkRJRkZFUkVOQ0VcIl0gPSBcImRpZmZlcmVuY2VcIjtcclxuICAgIEJsZW5kTW9kZVtcIkRTVF9PVkVSXCJdID0gXCJkZXN0aW5hdGlvbi1vdmVyXCI7XHJcbiAgICBCbGVuZE1vZGVbXCJFWENMVVNJT05cIl0gPSBcImV4Y2x1c2lvblwiO1xyXG4gICAgQmxlbmRNb2RlW1wiSEFSRF9MSUdIVFwiXSA9IFwiaGFyZC1saWdodFwiO1xyXG4gICAgQmxlbmRNb2RlW1wiSFVFXCJdID0gXCJodWVcIjtcclxuICAgIEJsZW5kTW9kZVtcIkxJR0hURU5cIl0gPSBcImxpZ2h0ZW5cIjtcclxuICAgIEJsZW5kTW9kZVtcIkxVTUlOT1NJVFlcIl0gPSBcImx1bWlub3NpdHlcIjtcclxuICAgIEJsZW5kTW9kZVtcIk1VTFRJUExZXCJdID0gXCJtdWx0aXBseVwiO1xyXG4gICAgQmxlbmRNb2RlW1wiTk9STUFMXCJdID0gXCJzb3VyY2Utb3ZlclwiO1xyXG4gICAgQmxlbmRNb2RlW1wiT1ZFUkxBWVwiXSA9IFwib3ZlcmxheVwiO1xyXG4gICAgQmxlbmRNb2RlW1wiU0FUVVJBVElPTlwiXSA9IFwic2F0dXJhdGlvblwiO1xyXG4gICAgQmxlbmRNb2RlW1wiU0NSRUVOXCJdID0gXCJzY3JlZW5cIjtcclxuICAgIEJsZW5kTW9kZVtcIlNPRlRfTElHSFRcIl0gPSBcInNvZnQtbGlnaHRcIjtcclxuICAgIEJsZW5kTW9kZVtcIlNSQ19BVE9QXCJdID0gXCJzb3VyY2UtYXRvcFwiO1xyXG4gICAgQmxlbmRNb2RlW1wiWE9SXCJdID0gXCJ4b3JcIjtcclxufSkoQmxlbmRNb2RlIHx8IChCbGVuZE1vZGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pattern: () => (/* binding */ Pattern)\n/* harmony export */ });\n/* harmony import */ var _util_Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n\r\n/**\r\n * Base class for patterns.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nclass Pattern extends _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_backgroundDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_pattern\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        // Applying themes because pattern will not have parent\r\n        super._afterNewApplyThemes();\r\n    }\r\n    get pattern() {\r\n        return this._pattern;\r\n    }\r\n    _draw() { }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"repetition\") || this.isDirty(\"width\") || this.isDirty(\"height\") || this.isDirty(\"rotation\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"colorOpacity\") || this.isDirty(\"fillOpacity\")) {\r\n            this._clear = true;\r\n        }\r\n        this._checkDirtyFill();\r\n    }\r\n    _checkDirtyFill() {\r\n        if (this.isDirty(\"color\") || this.isDirty(\"fill\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            const repetition = this.get(\"repetition\", \"\");\r\n            const width = this.get(\"width\", 100);\r\n            const height = this.get(\"height\", 100);\r\n            const fill = this.get(\"fill\");\r\n            const fillOpacity = this.get(\"fillOpacity\", 1);\r\n            const backgroundDisplay = this._backgroundDisplay;\r\n            const display = this._display;\r\n            display.clear();\r\n            backgroundDisplay.clear();\r\n            if (fill && (fillOpacity > 0)) {\r\n                backgroundDisplay.beginFill(fill, fillOpacity);\r\n                backgroundDisplay.drawRect(0, 0, width, height);\r\n                backgroundDisplay.endFill();\r\n            }\r\n            display.angle = this.get(\"rotation\", 0);\r\n            //display.pivot = { x: width / 2, y: height / 2 };\r\n            this._draw();\r\n            this._pattern = this._root._renderer.createPattern(display, backgroundDisplay, repetition, width, height);\r\n        }\r\n        this._clear = false;\r\n    }\r\n}\r\nObject.defineProperty(Pattern, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Pattern\"\r\n});\r\nObject.defineProperty(Pattern, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _util_Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([Pattern.className])\r\n});\r\n//# sourceMappingURL=Pattern.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvcGF0dGVybnMvUGF0dGVybi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQSxTQUFTLHlGQUF5RjtBQUNsRztBQUNPLHNCQUFzQixnREFBTTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3JlbmRlci9wYXR0ZXJucy9QYXR0ZXJuLmpzPzQ3YmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL3V0aWwvRW50aXR5XCI7XHJcbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBwYXR0ZXJucy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvY29sb3JzLWdyYWRpZW50cy1hbmQtcGF0dGVybnMvcGF0dGVybnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGF0dGVybiBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwbGF5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3Jvb3QuX3JlbmRlcmVyLm1ha2VHcmFwaGljcygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2JhY2tncm91bmREaXNwbGF5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX3Jvb3QuX3JlbmRlcmVyLm1ha2VHcmFwaGljcygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NsZWFyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhdHRlcm5cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgLy8gQXBwbHlpbmcgdGhlbWVzIGJlY2F1c2UgcGF0dGVybiB3aWxsIG5vdCBoYXZlIHBhcmVudFxyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ld0FwcGx5VGhlbWVzKCk7XHJcbiAgICB9XHJcbiAgICBnZXQgcGF0dGVybigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0dGVybjtcclxuICAgIH1cclxuICAgIF9kcmF3KCkgeyB9XHJcbiAgICBfYmVmb3JlQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYmVmb3JlQ2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJyZXBldGl0aW9uXCIpIHx8IHRoaXMuaXNEaXJ0eShcIndpZHRoXCIpIHx8IHRoaXMuaXNEaXJ0eShcImhlaWdodFwiKSB8fCB0aGlzLmlzRGlydHkoXCJyb3RhdGlvblwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VXaWR0aFwiKSB8fCB0aGlzLmlzRGlydHkoXCJzdHJva2VEYXNoYXJyYXlcIikgfHwgdGhpcy5pc0RpcnR5KFwic3Ryb2tlRGFzaG9mZnNldFwiKSB8fCB0aGlzLmlzRGlydHkoXCJjb2xvck9wYWNpdHlcIikgfHwgdGhpcy5pc0RpcnR5KFwiZmlsbE9wYWNpdHlcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jaGVja0RpcnR5RmlsbCgpO1xyXG4gICAgfVxyXG4gICAgX2NoZWNrRGlydHlGaWxsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJjb2xvclwiKSB8fCB0aGlzLmlzRGlydHkoXCJmaWxsXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fY2hhbmdlZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jbGVhcikge1xyXG4gICAgICAgICAgICBjb25zdCByZXBldGl0aW9uID0gdGhpcy5nZXQoXCJyZXBldGl0aW9uXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuZ2V0KFwid2lkdGhcIiwgMTAwKTtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5nZXQoXCJoZWlnaHRcIiwgMTAwKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsbCA9IHRoaXMuZ2V0KFwiZmlsbFwiKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsbE9wYWNpdHkgPSB0aGlzLmdldChcImZpbGxPcGFjaXR5XCIsIDEpO1xyXG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kRGlzcGxheSA9IHRoaXMuX2JhY2tncm91bmREaXNwbGF5O1xyXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gdGhpcy5fZGlzcGxheTtcclxuICAgICAgICAgICAgZGlzcGxheS5jbGVhcigpO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kRGlzcGxheS5jbGVhcigpO1xyXG4gICAgICAgICAgICBpZiAoZmlsbCAmJiAoZmlsbE9wYWNpdHkgPiAwKSkge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZERpc3BsYXkuYmVnaW5GaWxsKGZpbGwsIGZpbGxPcGFjaXR5KTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmREaXNwbGF5LmRyYXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZERpc3BsYXkuZW5kRmlsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpc3BsYXkuYW5nbGUgPSB0aGlzLmdldChcInJvdGF0aW9uXCIsIDApO1xyXG4gICAgICAgICAgICAvL2Rpc3BsYXkucGl2b3QgPSB7IHg6IHdpZHRoIC8gMiwgeTogaGVpZ2h0IC8gMiB9O1xyXG4gICAgICAgICAgICB0aGlzLl9kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhdHRlcm4gPSB0aGlzLl9yb290Ll9yZW5kZXJlci5jcmVhdGVQYXR0ZXJuKGRpc3BsYXksIGJhY2tncm91bmREaXNwbGF5LCByZXBldGl0aW9uLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY2xlYXIgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybiwgXCJjbGFzc05hbWVcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFwiUGF0dGVyblwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybiwgXCJjbGFzc05hbWVzXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBFbnRpdHkuY2xhc3NOYW1lcy5jb25jYXQoW1BhdHRlcm4uY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhdHRlcm4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PicturePattern: () => (/* binding */ PicturePattern)\n/* harmony export */ });\n/* harmony import */ var _Pattern__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Pattern */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js\");\n\r\n/**\r\n * Picture pattern.\r\n *\r\n * @since 5.2.15\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nclass PicturePattern extends _Pattern__WEBPACK_IMPORTED_MODULE_0__.Pattern {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        this._clear = true;\r\n        if (this.isDirty(\"src\")) {\r\n            this._load();\r\n        }\r\n        const canvas = this.get(\"canvas\");\r\n        if (canvas) {\r\n            this.set(\"width\", canvas.width);\r\n            this.set(\"height\", canvas.height);\r\n        }\r\n    }\r\n    _draw() {\r\n        super._draw();\r\n        const colorOpacity = this.get(\"colorOpacity\");\r\n        if (colorOpacity !== undefined) {\r\n            this._display.alpha = Math.max(0, colorOpacity);\r\n        }\r\n        const image = this._image;\r\n        if (image) {\r\n            const patternWidth = this.get(\"width\", 100);\r\n            const patternHeight = this.get(\"height\", 100);\r\n            // Fit\r\n            const fit = this.get(\"fit\", \"image\");\r\n            let width = 0;\r\n            let height = 0;\r\n            if (fit == \"pattern\") {\r\n                width = patternWidth;\r\n                height = patternHeight;\r\n                this.markDirty();\r\n            }\r\n            else {\r\n                width = image.width;\r\n                height = image.height;\r\n                if (fit == \"image\") {\r\n                    this.set(\"width\", width);\r\n                    this.set(\"height\", height);\r\n                }\r\n            }\r\n            // Position\r\n            const centered = this.get(\"centered\", true);\r\n            let x = 0;\r\n            let y = 0;\r\n            if (centered) {\r\n                x = patternWidth / 2 - width / 2;\r\n                y = patternHeight / 2 - height / 2;\r\n            }\r\n            this._display.image(image, width, height, x, y);\r\n        }\r\n        const canvas = this.get(\"canvas\");\r\n        if (canvas) {\r\n            this._display.image(canvas, canvas.width, canvas.height, 0, 0);\r\n        }\r\n    }\r\n    _load() {\r\n        const src = this.get(\"src\");\r\n        if (src) {\r\n            const image = new Image();\r\n            //image.crossOrigin = \"Anonymous\";\r\n            image.src = src;\r\n            image.decode().then(() => {\r\n                this._image = image;\r\n                this._draw();\r\n                if (this.events.isEnabled(\"loaded\")) {\r\n                    this.events.dispatch(\"loaded\", { type: \"loaded\", target: this });\r\n                }\r\n            }).catch((_error) => {\r\n                // TODO: maybe raise error?\r\n            });\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PicturePattern, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PicturePattern\"\r\n});\r\nObject.defineProperty(PicturePattern, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Pattern__WEBPACK_IMPORTED_MODULE_0__.Pattern.classNames.concat([PicturePattern.className])\r\n});\r\n//# sourceMappingURL=PicturePattern.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvcGF0dGVybnMvUGljdHVyZVBhdHRlcm4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMseUZBQXlGO0FBQ2xHO0FBQ08sNkJBQTZCLDZDQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsOEJBQThCO0FBQ25GO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZDQUFPO0FBQ2xCLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS9yZW5kZXIvcGF0dGVybnMvUGljdHVyZVBhdHRlcm4uanM/MjQ0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXR0ZXJuIH0gZnJvbSBcIi4vUGF0dGVyblwiO1xyXG4vKipcclxuICogUGljdHVyZSBwYXR0ZXJuLlxyXG4gKlxyXG4gKiBAc2luY2UgNS4yLjE1XHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbG9ycy1ncmFkaWVudHMtYW5kLXBhdHRlcm5zL3BhdHRlcm5zL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBpY3R1cmVQYXR0ZXJuIGV4dGVuZHMgUGF0dGVybiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pbWFnZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIHN1cGVyLl9iZWZvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgdGhpcy5fY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJzcmNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmdldChcImNhbnZhc1wiKTtcclxuICAgICAgICBpZiAoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KFwid2lkdGhcIiwgY2FudmFzLndpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXQoXCJoZWlnaHRcIiwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2RyYXcoKSB7XHJcbiAgICAgICAgc3VwZXIuX2RyYXcoKTtcclxuICAgICAgICBjb25zdCBjb2xvck9wYWNpdHkgPSB0aGlzLmdldChcImNvbG9yT3BhY2l0eVwiKTtcclxuICAgICAgICBpZiAoY29sb3JPcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5hbHBoYSA9IE1hdGgubWF4KDAsIGNvbG9yT3BhY2l0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5faW1hZ2U7XHJcbiAgICAgICAgaWYgKGltYWdlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5XaWR0aCA9IHRoaXMuZ2V0KFwid2lkdGhcIiwgMTAwKTtcclxuICAgICAgICAgICAgY29uc3QgcGF0dGVybkhlaWdodCA9IHRoaXMuZ2V0KFwiaGVpZ2h0XCIsIDEwMCk7XHJcbiAgICAgICAgICAgIC8vIEZpdFxyXG4gICAgICAgICAgICBjb25zdCBmaXQgPSB0aGlzLmdldChcImZpdFwiLCBcImltYWdlXCIpO1xyXG4gICAgICAgICAgICBsZXQgd2lkdGggPSAwO1xyXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgaWYgKGZpdCA9PSBcInBhdHRlcm5cIikge1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBwYXR0ZXJuV2lkdGg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBwYXR0ZXJuSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZml0ID09IFwiaW1hZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwid2lkdGhcIiwgd2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiaGVpZ2h0XCIsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUG9zaXRpb25cclxuICAgICAgICAgICAgY29uc3QgY2VudGVyZWQgPSB0aGlzLmdldChcImNlbnRlcmVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICBsZXQgeCA9IDA7XHJcbiAgICAgICAgICAgIGxldCB5ID0gMDtcclxuICAgICAgICAgICAgaWYgKGNlbnRlcmVkKSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gcGF0dGVybldpZHRoIC8gMiAtIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgIHkgPSBwYXR0ZXJuSGVpZ2h0IC8gMiAtIGhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5pbWFnZShpbWFnZSwgd2lkdGgsIGhlaWdodCwgeCwgeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZ2V0KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5pbWFnZShjYW52YXMsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgMCwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2xvYWQoKSB7XHJcbiAgICAgICAgY29uc3Qgc3JjID0gdGhpcy5nZXQoXCJzcmNcIik7XHJcbiAgICAgICAgaWYgKHNyYykge1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAvL2ltYWdlLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICBpbWFnZS5kZWNvZGUoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKFwibG9hZGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goXCJsb2FkZWRcIiwgeyB0eXBlOiBcImxvYWRlZFwiLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChfZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IG1heWJlIHJhaXNlIGVycm9yP1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFBpY3R1cmVQYXR0ZXJuLCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJQaWN0dXJlUGF0dGVyblwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUGljdHVyZVBhdHRlcm4sIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogUGF0dGVybi5jbGFzc05hbWVzLmNvbmNhdChbUGljdHVyZVBhdHRlcm4uY2xhc3NOYW1lXSlcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBpY3R1cmVQYXR0ZXJuLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimationState: () => (/* binding */ AnimationState),\n/* harmony export */   AnimationTime: () => (/* binding */ AnimationTime),\n/* harmony export */   colorInterpolate: () => (/* binding */ colorInterpolate),\n/* harmony export */   defaultInterpolate: () => (/* binding */ defaultInterpolate),\n/* harmony export */   getInterpolate: () => (/* binding */ getInterpolate),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   percentInterpolate: () => (/* binding */ percentInterpolate),\n/* harmony export */   range: () => (/* binding */ range),\n/* harmony export */   waitForAnimations: () => (/* binding */ waitForAnimations)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _Percent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction waitForAnimations(animations) {\r\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function* () {\r\n        if (animations !== undefined) {\r\n            const promises = [];\r\n            _Object__WEBPACK_IMPORTED_MODULE_1__.each(animations, (_, animation) => {\r\n                promises.push(animation.waitForStop());\r\n            });\r\n            yield Promise.all(promises);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction normalize(value, min, max) {\r\n    if (min === max) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return Math.min(Math.max((value - min) * (1 / (max - min)), 0), 1);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction range(diff, from, to) {\r\n    return from + (diff * (to - from));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction defaultInterpolate(diff, from, to) {\r\n    if (diff >= 1) {\r\n        return to;\r\n    }\r\n    else {\r\n        return from;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction percentInterpolate(diff, from, to) {\r\n    return new _Percent__WEBPACK_IMPORTED_MODULE_2__.Percent(range(diff, from.percent, to.percent));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction colorInterpolate(diff, from, to) {\r\n    return _Color__WEBPACK_IMPORTED_MODULE_3__.Color.interpolate(diff, from, to);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getInterpolate(from, to) {\r\n    if (typeof from === \"number\" && typeof to === \"number\") {\r\n        return range;\r\n    }\r\n    if (from instanceof _Percent__WEBPACK_IMPORTED_MODULE_2__.Percent && to instanceof _Percent__WEBPACK_IMPORTED_MODULE_2__.Percent) {\r\n        return percentInterpolate;\r\n    }\r\n    if (from instanceof _Color__WEBPACK_IMPORTED_MODULE_3__.Color && to instanceof _Color__WEBPACK_IMPORTED_MODULE_3__.Color) {\r\n        return colorInterpolate;\r\n    }\r\n    return defaultInterpolate;\r\n}\r\nvar AnimationState;\r\n(function (AnimationState) {\r\n    AnimationState[AnimationState[\"Stopped\"] = 0] = \"Stopped\";\r\n    AnimationState[AnimationState[\"Playing\"] = 1] = \"Playing\";\r\n    AnimationState[AnimationState[\"Paused\"] = 2] = \"Paused\";\r\n})(AnimationState || (AnimationState = {}));\r\n/**\r\n * @ignore\r\n */\r\nclass AnimationTime {\r\n    constructor(entity, duration) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_playingDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_startingTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_current\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _EventDispatcher__WEBPACK_IMPORTED_MODULE_4__.EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n        this._duration = duration;\r\n    }\r\n    _stopEvent() {\r\n        const type = \"stopped\";\r\n        if (this.events.isEnabled(type)) {\r\n            this.events.dispatch(type, { type: type, target: this });\r\n        }\r\n    }\r\n    _runAnimation(currentTime) {\r\n        if (this._playingDuration !== null) {\r\n            if (this._startingTime === null) {\r\n                this._startingTime = currentTime;\r\n                return AnimationState.Playing;\r\n            }\r\n            else {\r\n                const diff = (currentTime - this._startingTime) / this._playingDuration;\r\n                if (diff >= 1) {\r\n                    this._playingDuration = null;\r\n                    this._startingTime = null;\r\n                    this._from = this._to;\r\n                    this._current = this._to;\r\n                    this._entity.markDirty();\r\n                    this._stopEvent();\r\n                    const type = \"ended\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                    return AnimationState.Stopped;\r\n                }\r\n                else {\r\n                    this._current = range(diff, this._from, this._to);\r\n                    this._entity.markDirty();\r\n                    const type = \"progress\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this, progress: diff });\r\n                    }\r\n                    return AnimationState.Playing;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return AnimationState.Stopped;\r\n        }\r\n    }\r\n    _play() {\r\n        this._from = this._current;\r\n        if (this._playingDuration === null) {\r\n            this._entity._root._addAnimation(this);\r\n            const type = \"started\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n        else {\r\n            this._startingTime = null;\r\n        }\r\n        this._playingDuration = Math.abs(this._to - this._from) * this._duration;\r\n    }\r\n    get duration() {\r\n        return this._duration;\r\n    }\r\n    set duration(value) {\r\n        if (this._duration !== value) {\r\n            this._duration = value;\r\n            if (value === 0) {\r\n                this.jumpTo(this._to);\r\n            }\r\n            else if (this._current !== this._to) {\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n    get current() {\r\n        if (this.easing) {\r\n            return this.easing(this._current);\r\n        }\r\n        else {\r\n            return this._current;\r\n        }\r\n    }\r\n    stop() {\r\n        this.jumpTo(this._current);\r\n    }\r\n    jumpTo(value) {\r\n        if (this._current !== value) {\r\n            this._entity.markDirty();\r\n        }\r\n        if (this._playingDuration !== null) {\r\n            this._stopEvent();\r\n        }\r\n        this._playingDuration = null;\r\n        this._startingTime = null;\r\n        this._current = value;\r\n        this._from = value;\r\n        this._to = value;\r\n    }\r\n    tweenTo(value) {\r\n        if (this._current === value || this._duration === 0) {\r\n            this.jumpTo(value);\r\n        }\r\n        else {\r\n            if (this._to !== value) {\r\n                this._to = value;\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n}\r\n/*export class AnimationValue extends AnimationTime {\r\n    public _min: number;\r\n    public _max: number;\r\n\r\n    constructor(entity: Entity, duration: number, min: number, max: number) {\r\n        super(entity, duration);\r\n        this._min = min;\r\n        this._max = max;\r\n    }\r\n\r\n    public get min(): number {\r\n        return this._min;\r\n    }\r\n\r\n    public set min(value: number) {\r\n        if (this._min !== value) {\r\n            this._min = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public get max(): number {\r\n        return this._max;\r\n    }\r\n\r\n    public set max(value: number) {\r\n        if (this._max !== value) {\r\n            this._max = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public currentValue(): number {\r\n        return range(super.currentTime(), this._min, this._max);\r\n    }\r\n\r\n    public jumpToValue(value: number) {\r\n        super.jumpToTime(normalize(value, this._min, this._max));\r\n    }\r\n\r\n    public tweenToValue(value: number) {\r\n        super.tweenToTime(normalize(value, this._min, this._max));\r\n    }\r\n}\r\n*/\r\n//# sourceMappingURL=Animation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0FuaW1hdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFrQztBQUNFO0FBQ0o7QUFDb0I7QUFDaEI7QUFDcEM7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLGdEQUFTO0FBQ3BCO0FBQ0E7QUFDQSxZQUFZLHlDQUFZO0FBQ3hCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZUFBZSw2Q0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsV0FBVyx5Q0FBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFPLGtCQUFrQiw2Q0FBTztBQUN4RDtBQUNBO0FBQ0Esd0JBQXdCLHlDQUFLLGtCQUFrQix5Q0FBSztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUN6QztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsMEJBQTBCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDBCQUEwQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDBDQUEwQztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsMEJBQTBCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvQW5pbWF0aW9uLmpzP2M1NWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IFBlcmNlbnQgfSBmcm9tIFwiLi9QZXJjZW50XCI7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSBcIi4vQ29sb3JcIjtcclxuaW1wb3J0IHsgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcIi4vRXZlbnREaXNwYXRjaGVyXCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4vT2JqZWN0XCI7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvckFuaW1hdGlvbnMoYW5pbWF0aW9ucykge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBpZiAoYW5pbWF0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XHJcbiAgICAgICAgICAgICRvYmplY3QuZWFjaChhbmltYXRpb25zLCAoXywgYW5pbWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGFuaW1hdGlvbi53YWl0Rm9yU3RvcCgpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWx1ZSwgbWluLCBtYXgpIHtcclxuICAgIGlmIChtaW4gPT09IG1heCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KCh2YWx1ZSAtIG1pbikgKiAoMSAvIChtYXggLSBtaW4pKSwgMCksIDEpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UoZGlmZiwgZnJvbSwgdG8pIHtcclxuICAgIHJldHVybiBmcm9tICsgKGRpZmYgKiAodG8gLSBmcm9tKSk7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0SW50ZXJwb2xhdGUoZGlmZiwgZnJvbSwgdG8pIHtcclxuICAgIGlmIChkaWZmID49IDEpIHtcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZnJvbTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcmNlbnRJbnRlcnBvbGF0ZShkaWZmLCBmcm9tLCB0bykge1xyXG4gICAgcmV0dXJuIG5ldyBQZXJjZW50KHJhbmdlKGRpZmYsIGZyb20ucGVyY2VudCwgdG8ucGVyY2VudCkpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29sb3JJbnRlcnBvbGF0ZShkaWZmLCBmcm9tLCB0bykge1xyXG4gICAgcmV0dXJuIENvbG9yLmludGVycG9sYXRlKGRpZmYsIGZyb20sIHRvKTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVycG9sYXRlKGZyb20sIHRvKSB7XHJcbiAgICBpZiAodHlwZW9mIGZyb20gPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhbmdlO1xyXG4gICAgfVxyXG4gICAgaWYgKGZyb20gaW5zdGFuY2VvZiBQZXJjZW50ICYmIHRvIGluc3RhbmNlb2YgUGVyY2VudCkge1xyXG4gICAgICAgIHJldHVybiBwZXJjZW50SW50ZXJwb2xhdGU7XHJcbiAgICB9XHJcbiAgICBpZiAoZnJvbSBpbnN0YW5jZW9mIENvbG9yICYmIHRvIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICByZXR1cm4gY29sb3JJbnRlcnBvbGF0ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZWZhdWx0SW50ZXJwb2xhdGU7XHJcbn1cclxuZXhwb3J0IHZhciBBbmltYXRpb25TdGF0ZTtcclxuKGZ1bmN0aW9uIChBbmltYXRpb25TdGF0ZSkge1xyXG4gICAgQW5pbWF0aW9uU3RhdGVbQW5pbWF0aW9uU3RhdGVbXCJTdG9wcGVkXCJdID0gMF0gPSBcIlN0b3BwZWRcIjtcclxuICAgIEFuaW1hdGlvblN0YXRlW0FuaW1hdGlvblN0YXRlW1wiUGxheWluZ1wiXSA9IDFdID0gXCJQbGF5aW5nXCI7XHJcbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlBhdXNlZFwiXSA9IDJdID0gXCJQYXVzZWRcIjtcclxufSkoQW5pbWF0aW9uU3RhdGUgfHwgKEFuaW1hdGlvblN0YXRlID0ge30pKTtcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRpb25UaW1lIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSwgZHVyYXRpb24pIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW50aXR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kdXJhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGxheWluZ0R1cmF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RhcnRpbmdUaW1lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY3VycmVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Zyb21cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBFdmVudERpc3BhdGNoZXIoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVhc2luZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgIH1cclxuICAgIF9zdG9wRXZlbnQoKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IFwic3RvcHBlZFwiO1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQodHlwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3J1bkFuaW1hdGlvbihjdXJyZW50VGltZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nRHVyYXRpb24gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXJ0aW5nVGltZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRpbmdUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQW5pbWF0aW9uU3RhdGUuUGxheWluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAoY3VycmVudFRpbWUgLSB0aGlzLl9zdGFydGluZ1RpbWUpIC8gdGhpcy5fcGxheWluZ0R1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BsYXlpbmdEdXJhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRpbmdUaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mcm9tID0gdGhpcy5fdG87XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX3RvO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5tYXJrRGlydHkoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9wRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gXCJlbmRlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQodHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBbmltYXRpb25TdGF0ZS5TdG9wcGVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHJhbmdlKGRpZmYsIHRoaXMuX2Zyb20sIHRoaXMuX3RvKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkubWFya0RpcnR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IFwicHJvZ3Jlc3NcIjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKHR5cGUsIHsgdHlwZTogdHlwZSwgdGFyZ2V0OiB0aGlzLCBwcm9ncmVzczogZGlmZiB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFuaW1hdGlvblN0YXRlLlBsYXlpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBBbmltYXRpb25TdGF0ZS5TdG9wcGVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wbGF5KCkge1xyXG4gICAgICAgIHRoaXMuX2Zyb20gPSB0aGlzLl9jdXJyZW50O1xyXG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nRHVyYXRpb24gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5Ll9yb290Ll9hZGRBbmltYXRpb24odGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBcInN0YXJ0ZWRcIjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZCh0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2godHlwZSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0aW5nVGltZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3BsYXlpbmdEdXJhdGlvbiA9IE1hdGguYWJzKHRoaXMuX3RvIC0gdGhpcy5fZnJvbSkgKiB0aGlzLl9kdXJhdGlvbjtcclxuICAgIH1cclxuICAgIGdldCBkdXJhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZHVyYXRpb247XHJcbiAgICB9XHJcbiAgICBzZXQgZHVyYXRpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb24gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5qdW1wVG8odGhpcy5fdG8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnQgIT09IHRoaXMuX3RvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgY3VycmVudCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lYXNpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFzaW5nKHRoaXMuX2N1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICB0aGlzLmp1bXBUbyh0aGlzLl9jdXJyZW50KTtcclxuICAgIH1cclxuICAgIGp1bXBUbyh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50ICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbnRpdHkubWFya0RpcnR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nRHVyYXRpb24gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RvcEV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3BsYXlpbmdEdXJhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRpbmdUaW1lID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fZnJvbSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3RvID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICB0d2VlblRvKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgPT09IHZhbHVlIHx8IHRoaXMuX2R1cmF0aW9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuanVtcFRvKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90byAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLypleHBvcnQgY2xhc3MgQW5pbWF0aW9uVmFsdWUgZXh0ZW5kcyBBbmltYXRpb25UaW1lIHtcclxuICAgIHB1YmxpYyBfbWluOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgX21heDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eTogRW50aXR5LCBkdXJhdGlvbjogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihlbnRpdHksIGR1cmF0aW9uKTtcclxuICAgICAgICB0aGlzLl9taW4gPSBtaW47XHJcbiAgICAgICAgdGhpcy5fbWF4ID0gbWF4O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgbWluKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IG1pbih2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX21pbiAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWluID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eS5tYXJrRGlydHkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBtYXgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF4O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgbWF4KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5fbWF4ICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXggPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5Lm1hcmtEaXJ0eSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHJhbmdlKHN1cGVyLmN1cnJlbnRUaW1lKCksIHRoaXMuX21pbiwgdGhpcy5fbWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMganVtcFRvVmFsdWUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyLmp1bXBUb1RpbWUobm9ybWFsaXplKHZhbHVlLCB0aGlzLl9taW4sIHRoaXMuX21heCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0d2VlblRvVmFsdWUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyLnR3ZWVuVG9UaW1lKG5vcm1hbGl6ZSh2YWx1ZSwgdGhpcy5fbWluLCB0aGlzLl9tYXgpKTtcclxuICAgIH1cclxufVxyXG4qL1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   any: () => (/* binding */ any),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   each: () => (/* binding */ each),\n/* harmony export */   eachContinue: () => (/* binding */ eachContinue),\n/* harmony export */   eachReverse: () => (/* binding */ eachReverse),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findIndex: () => (/* binding */ findIndex),\n/* harmony export */   findIndexReverse: () => (/* binding */ findIndexReverse),\n/* harmony export */   findMap: () => (/* binding */ findMap),\n/* harmony export */   findReverse: () => (/* binding */ findReverse),\n/* harmony export */   first: () => (/* binding */ first),\n/* harmony export */   getFirstSortedIndex: () => (/* binding */ getFirstSortedIndex),\n/* harmony export */   getSortedIndex: () => (/* binding */ getSortedIndex),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   indexOf: () => (/* binding */ indexOf),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   insertIndex: () => (/* binding */ insertIndex),\n/* harmony export */   keepIf: () => (/* binding */ keepIf),\n/* harmony export */   last: () => (/* binding */ last),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   move: () => (/* binding */ move),\n/* harmony export */   pushAll: () => (/* binding */ pushAll),\n/* harmony export */   pushOne: () => (/* binding */ pushOne),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   removeFirst: () => (/* binding */ removeFirst),\n/* harmony export */   removeIndex: () => (/* binding */ removeIndex),\n/* harmony export */   replace: () => (/* binding */ replace),\n/* harmony export */   setIndex: () => (/* binding */ setIndex),\n/* harmony export */   shiftLeft: () => (/* binding */ shiftLeft),\n/* harmony export */   shuffle: () => (/* binding */ shuffle),\n/* harmony export */   slice: () => (/* binding */ slice),\n/* harmony export */   toArray: () => (/* binding */ toArray)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Searches `array` for `value`.\r\n *\r\n * Returns -1 if not found.\r\n *\r\n * @param array  Source array\r\n * @param value  Value to search\r\n * @returns Index\r\n */\r\nfunction indexOf(array, value) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        // TODO handle NaN\r\n        if (array[i] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls `test` for each element in `array`.\r\n *\r\n * If `test` returns `true` then it immediately returns `true`.\r\n *\r\n * If `test` returns `false` for all of the elements in `array` then it returns `false`.\r\n *\r\n * @param array  Source array\r\n * @param test   Function which is called on each element\r\n * @returns Whether `test` returned true or not\r\n */\r\nfunction any(array, test) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (test(array[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Calls `fn` function for every member of array and returns a new array out\r\n * of all outputs.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n * @returns New array\r\n */\r\nfunction map(array, fn) {\r\n    const length = array.length;\r\n    const output = new Array(length);\r\n    for (let i = 0; i < length; ++i) {\r\n        output[i] = fn(array[i], i);\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nfunction each(array, fn) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array in reverse order and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nfunction eachReverse(array, fn) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * If `fn` call evaluates to `false`, further iteration is cancelled.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nfunction eachContinue(array, fn) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (!fn(array[i], i)) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Shifts an item at `index` towards beginning of the array.\r\n *\r\n * @param array  Source array\r\n * @param index  Target element index\r\n */\r\nfunction shiftLeft(array, index) {\r\n    const length = array.length;\r\n    for (let i = index; i < length; ++i) {\r\n        array[i - index] = array[i];\r\n    }\r\n    array.length = length - index;\r\n}\r\n/**\r\n * Returns the last item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nfunction last(array) {\r\n    const length = array.length;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n/**\r\n * Returns the first item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nfunction first(array) {\r\n    return array[0];\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * Caps `index` to be between `0` and `array.length`\r\n *\r\n * @param array    Source array\r\n * @param element  Item to insert\r\n * @param array    Index to insert item at\r\n */\r\nfunction insert(array, element, index) {\r\n    //if (array) {\r\n    index = Math.max(0, Math.min(index, array.length));\r\n    array.splice(index, 0, element);\r\n    //}\r\n}\r\n/**\r\n * Removes all copies of `element` from `array` (if they exist) and then\r\n * inserts `element` at `index`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item\r\n * @param array    Index to move item to\r\n */\r\nfunction setIndex(array, element, index) {\r\n    remove(array, element);\r\n    insert(array, element, index);\r\n}\r\n/**\r\n * Pushes all of the elements from `input` into `array`.\r\n *\r\n * @param array  Output array\r\n * @param input  Input array\r\n */\r\nfunction pushAll(array, input) {\r\n    const length = input.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        array.push(input[i]);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array`.\r\n *\r\n * If there are multiple copies of `element`, they are all removed.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n */\r\nfunction remove(array, element) {\r\n    let found = false;\r\n    let index = 0;\r\n    for (;;) {\r\n        index = array.indexOf(element, index);\r\n        if (index === -1) {\r\n            return found;\r\n        }\r\n        else {\r\n            found = true;\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nfunction removeFirst(array, element) {\r\n    let index = array.indexOf(element);\r\n    if (index !== -1) {\r\n        array.splice(index, 1);\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds an `element` to `array`.\r\n *\r\n * If array already contains and item like this, it is removed before adding\r\n * it again.\r\n *\r\n * Optionally `toIndex` can be specified to add element at specific index.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to move item to\r\n */\r\nfunction move(array, element, toIndex) {\r\n    // @todo this implementation must be the same as the List.moveValue method\r\n    // @todo don't do anything if the desired index is the same as the current index\r\n    let index = indexOf(array, element);\r\n    // @todo remove all old values rather than only the first ?\r\n    if (index !== -1) {\r\n        removeIndex(array, index);\r\n    }\r\n    if (toIndex == null) {\r\n        array.push(element);\r\n    }\r\n    else {\r\n        insertIndex(array, toIndex, element);\r\n    }\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to add item at\r\n */\r\nfunction add(array, element, index) {\r\n    // Append to the end if index is not set\r\n    if (!_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // Add to the beginning of array if index is 0\r\n    else if (index === 0) {\r\n        array.unshift(element);\r\n    }\r\n    // Add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Pushes `element` into `array` if it doesn't already exist.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n */\r\nfunction pushOne(array, element) {\r\n    if (array.indexOf(element) === -1) {\r\n        array.push(element);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array` (if it exists) and then inserts `element` at\r\n * `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n * @param array    Index to move item to\r\n */\r\nfunction replace(array, element, index) {\r\n    // check if exists\r\n    let ind = array.indexOf(element);\r\n    // remove if exists\r\n    if (ind !== -1) {\r\n        array.splice(ind, 1);\r\n    }\r\n    // add to end if index is not set\r\n    if (!_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Wraps `input` in an array, if it isn't already an array.\r\n *\r\n * @param input  Source value\r\n * @return An array\r\n */\r\nfunction toArray(input) {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    else {\r\n        return [input];\r\n    }\r\n}\r\n/**\r\n * Returns `true` if `element` exists in `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to search for\r\n * @returns Item in array?\r\n */\r\nfunction has(array, element) {\r\n    return indexOf(array, element) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of `array`.\r\n *\r\n * @param array  Source array\r\n * @returns Copy of the array\r\n */\r\nfunction copy(array) {\r\n    const length = array.length;\r\n    // It's faster to create the array with a pre-defined length\r\n    const output = new Array(length);\r\n    for (let i = 0; i < length; ++i) {\r\n        // Because the array has a pre-defined length, we have to assign rather than push\r\n        // This is also faster than pushing\r\n        output[i] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns a copy of `array` which contains all the elements between `start`\r\n * and `end`. (including `start` and excluding `end`)\r\n *\r\n * If `end` is not provided, it defaults to `array.length`.\r\n *\r\n * @param array  Source array\r\n * @param start  Start index\r\n * @param end    End index\r\n * @returns Part of the array\r\n */\r\nfunction slice(array, start, end = array.length) {\r\n    const output = new Array(end - start);\r\n    for (let i = start; i < end; ++i) {\r\n        output[i - start] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Inserts a value into array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n * @param value  Value to insert\r\n */\r\nfunction insertIndex(array, index, value) {\r\n    array.splice(index, 0, value);\r\n}\r\n/**\r\n * Removes a value from array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n */\r\nfunction removeIndex(array, index) {\r\n    array.splice(index, 1);\r\n}\r\n/**\r\n * Searches the array using custom function and returns index of the item if\r\n * found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns -1.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nfunction findIndex(array, matches) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * This is the same as `findIndex` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nfunction findIndexReverse(array, matches) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nfunction find(array, matches) {\r\n    const index = findIndex(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * This is the same as `find` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nfunction findReverse(array, matches) {\r\n    const index = findIndexReverse(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If value\r\n * is not `undefined`, it returns it.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nfunction findMap(array, matches) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        const value = matches(array[i], i);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nfunction shuffle(array) {\r\n    // https://stackoverflow.com/a/2450976/449477\r\n    let currentIndex = array.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns right-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nfunction getSortedIndex(array, ordering) {\r\n    let start = 0;\r\n    let end = array.length;\r\n    let found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        const pivot = (start + end) >> 1;\r\n        const order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            start = pivot + 1;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: (found ? start - 1 : start)\r\n    };\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns left-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nfunction getFirstSortedIndex(array, ordering) {\r\n    let start = 0;\r\n    let end = array.length;\r\n    let found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        const pivot = (start + end) >> 1;\r\n        const order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            end = pivot;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: start\r\n    };\r\n}\r\nfunction keepIf(array, keep) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (!keep(array[i])) {\r\n            array.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Array.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0FycmF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsU0FBUywyQ0FBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkNBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0FycmF5LmpzPzg5YTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBVVElMSVRZIEZVTkNUSU9OU1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbi8qKlxyXG4gKiBTZWFyY2hlcyBgYXJyYXlgIGZvciBgdmFsdWVgLlxyXG4gKlxyXG4gKiBSZXR1cm5zIC0xIGlmIG5vdCBmb3VuZC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIHZhbHVlICBWYWx1ZSB0byBzZWFyY2hcclxuICogQHJldHVybnMgSW5kZXhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIC8vIFRPRE8gaGFuZGxlIE5hTlxyXG4gICAgICAgIGlmIChhcnJheVtpXSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxscyBgdGVzdGAgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgLlxyXG4gKlxyXG4gKiBJZiBgdGVzdGAgcmV0dXJucyBgdHJ1ZWAgdGhlbiBpdCBpbW1lZGlhdGVseSByZXR1cm5zIGB0cnVlYC5cclxuICpcclxuICogSWYgYHRlc3RgIHJldHVybnMgYGZhbHNlYCBmb3IgYWxsIG9mIHRoZSBlbGVtZW50cyBpbiBgYXJyYXlgIHRoZW4gaXQgcmV0dXJucyBgZmFsc2VgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gdGVzdCAgIEZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCBvbiBlYWNoIGVsZW1lbnRcclxuICogQHJldHVybnMgV2hldGhlciBgdGVzdGAgcmV0dXJuZWQgdHJ1ZSBvciBub3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhbnkoYXJyYXksIHRlc3QpIHtcclxuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBpZiAodGVzdChhcnJheVtpXSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxscyBgZm5gIGZ1bmN0aW9uIGZvciBldmVyeSBtZW1iZXIgb2YgYXJyYXkgYW5kIHJldHVybnMgYSBuZXcgYXJyYXkgb3V0XHJcbiAqIG9mIGFsbCBvdXRwdXRzLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gZm4gICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIE5ldyBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcclxuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIGNvbnN0IG91dHB1dCA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIG91dHB1dFtpXSA9IGZuKGFycmF5W2ldLCBpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIGl0ZW1zIGluIGFycmF5IGFuZCBjYWxscyBgZm5gIGZ1bmN0aW9uIGZvciBlYWNoIG9mXHJcbiAqIHRoZW0uXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBmbiAgICAgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlYWNoKGFycmF5LCBmbikge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGZuKGFycmF5W2ldLCBpKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogSXRlcmF0ZXMgdGhyb3VnaCBhbGwgaXRlbXMgaW4gYXJyYXkgaW4gcmV2ZXJzZSBvcmRlciBhbmQgY2FsbHMgYGZuYCBmdW5jdGlvbiBmb3IgZWFjaCBvZlxyXG4gKiB0aGVtLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gZm4gICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZWFjaFJldmVyc2UoYXJyYXksIGZuKSB7XHJcbiAgICBsZXQgaSA9IGFycmF5Lmxlbmd0aDtcclxuICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgIC0taTtcclxuICAgICAgICBmbihhcnJheVtpXSwgaSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIGl0ZW1zIGluIGFycmF5IGFuZCBjYWxscyBgZm5gIGZ1bmN0aW9uIGZvciBlYWNoIG9mXHJcbiAqIHRoZW0uXHJcbiAqXHJcbiAqIElmIGBmbmAgY2FsbCBldmFsdWF0ZXMgdG8gYGZhbHNlYCwgZnVydGhlciBpdGVyYXRpb24gaXMgY2FuY2VsbGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gZm4gICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZWFjaENvbnRpbnVlKGFycmF5LCBmbikge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGlmICghZm4oYXJyYXlbaV0sIGkpKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogU2hpZnRzIGFuIGl0ZW0gYXQgYGluZGV4YCB0b3dhcmRzIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBpbmRleCAgVGFyZ2V0IGVsZW1lbnQgaW5kZXhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaGlmdExlZnQoYXJyYXksIGluZGV4KSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGFycmF5W2kgLSBpbmRleF0gPSBhcnJheVtpXTtcclxuICAgIH1cclxuICAgIGFycmF5Lmxlbmd0aCA9IGxlbmd0aCAtIGluZGV4O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBsYXN0IGl0ZW0gb2YgdGhlIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcmV0dXJucyBMYXN0IGl0ZW1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XHJcbiAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGZpcnN0IGl0ZW0gb2YgdGhlIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcmV0dXJucyBMYXN0IGl0ZW1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdChhcnJheSkge1xyXG4gICAgcmV0dXJuIGFycmF5WzBdO1xyXG59XHJcbi8qKlxyXG4gKiBJbnNlcnRzIGBlbGVtZW50YCBpbnRvIGBhcnJheWAgYXQgYGluZGV4YC5cclxuICpcclxuICogQ2FwcyBgaW5kZXhgIHRvIGJlIGJldHdlZW4gYDBgIGFuZCBgYXJyYXkubGVuZ3RoYFxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtIHRvIGluc2VydFxyXG4gKiBAcGFyYW0gYXJyYXkgICAgSW5kZXggdG8gaW5zZXJ0IGl0ZW0gYXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQoYXJyYXksIGVsZW1lbnQsIGluZGV4KSB7XHJcbiAgICAvL2lmIChhcnJheSkge1xyXG4gICAgaW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgYXJyYXkubGVuZ3RoKSk7XHJcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDAsIGVsZW1lbnQpO1xyXG4gICAgLy99XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgYWxsIGNvcGllcyBvZiBgZWxlbWVudGAgZnJvbSBgYXJyYXlgIChpZiB0aGV5IGV4aXN0KSBhbmQgdGhlblxyXG4gKiBpbnNlcnRzIGBlbGVtZW50YCBhdCBgaW5kZXhgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtXHJcbiAqIEBwYXJhbSBhcnJheSAgICBJbmRleCB0byBtb3ZlIGl0ZW0gdG9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbmRleChhcnJheSwgZWxlbWVudCwgaW5kZXgpIHtcclxuICAgIHJlbW92ZShhcnJheSwgZWxlbWVudCk7XHJcbiAgICBpbnNlcnQoYXJyYXksIGVsZW1lbnQsIGluZGV4KTtcclxufVxyXG4vKipcclxuICogUHVzaGVzIGFsbCBvZiB0aGUgZWxlbWVudHMgZnJvbSBgaW5wdXRgIGludG8gYGFycmF5YC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICBPdXRwdXQgYXJyYXlcclxuICogQHBhcmFtIGlucHV0ICBJbnB1dCBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHB1c2hBbGwoYXJyYXksIGlucHV0KSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYXJyYXkucHVzaChpbnB1dFtpXSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgYGVsZW1lbnRgIGZyb20gYGFycmF5YC5cclxuICpcclxuICogSWYgdGhlcmUgYXJlIG11bHRpcGxlIGNvcGllcyBvZiBgZWxlbWVudGAsIHRoZXkgYXJlIGFsbCByZW1vdmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtIHRvIHJlbW92ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgZWxlbWVudCkge1xyXG4gICAgbGV0IGZvdW5kID0gZmFsc2U7XHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgZm9yICg7Oykge1xyXG4gICAgICAgIGluZGV4ID0gYXJyYXkuaW5kZXhPZihlbGVtZW50LCBpbmRleCk7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm91bmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGaXJzdChhcnJheSwgZWxlbWVudCkge1xyXG4gICAgbGV0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihlbGVtZW50KTtcclxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBZGRzIGFuIGBlbGVtZW50YCB0byBgYXJyYXlgLlxyXG4gKlxyXG4gKiBJZiBhcnJheSBhbHJlYWR5IGNvbnRhaW5zIGFuZCBpdGVtIGxpa2UgdGhpcywgaXQgaXMgcmVtb3ZlZCBiZWZvcmUgYWRkaW5nXHJcbiAqIGl0IGFnYWluLlxyXG4gKlxyXG4gKiBPcHRpb25hbGx5IGB0b0luZGV4YCBjYW4gYmUgc3BlY2lmaWVkIHRvIGFkZCBlbGVtZW50IGF0IHNwZWNpZmljIGluZGV4LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtIHRvIGFkZFxyXG4gKiBAcGFyYW0gYXJyYXkgICAgSW5kZXggdG8gbW92ZSBpdGVtIHRvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbW92ZShhcnJheSwgZWxlbWVudCwgdG9JbmRleCkge1xyXG4gICAgLy8gQHRvZG8gdGhpcyBpbXBsZW1lbnRhdGlvbiBtdXN0IGJlIHRoZSBzYW1lIGFzIHRoZSBMaXN0Lm1vdmVWYWx1ZSBtZXRob2RcclxuICAgIC8vIEB0b2RvIGRvbid0IGRvIGFueXRoaW5nIGlmIHRoZSBkZXNpcmVkIGluZGV4IGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IGluZGV4XHJcbiAgICBsZXQgaW5kZXggPSBpbmRleE9mKGFycmF5LCBlbGVtZW50KTtcclxuICAgIC8vIEB0b2RvIHJlbW92ZSBhbGwgb2xkIHZhbHVlcyByYXRoZXIgdGhhbiBvbmx5IHRoZSBmaXJzdCA/XHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgcmVtb3ZlSW5kZXgoYXJyYXksIGluZGV4KTtcclxuICAgIH1cclxuICAgIGlmICh0b0luZGV4ID09IG51bGwpIHtcclxuICAgICAgICBhcnJheS5wdXNoKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zZXJ0SW5kZXgoYXJyYXksIHRvSW5kZXgsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBJbnNlcnRzIGBlbGVtZW50YCBpbnRvIGBhcnJheWAgYXQgYGluZGV4YC5cclxuICpcclxuICogSWYgYGluZGV4YCBpcyBub3QgcHJvdmlkZWQsIGl0IHdpbGwgaW5zZXJ0IGBlbGVtZW50YCBhdCB0aGUgZW5kIG9mIGBhcnJheWAuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIGVsZW1lbnQgIEl0ZW0gdG8gYWRkXHJcbiAqIEBwYXJhbSBhcnJheSAgICBJbmRleCB0byBhZGQgaXRlbSBhdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChhcnJheSwgZWxlbWVudCwgaW5kZXgpIHtcclxuICAgIC8vIEFwcGVuZCB0byB0aGUgZW5kIGlmIGluZGV4IGlzIG5vdCBzZXRcclxuICAgIGlmICghJHR5cGUuaXNOdW1iZXIoaW5kZXgpKSB7XHJcbiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50KTtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0byB0aGUgYmVnaW5uaW5nIG9mIGFycmF5IGlmIGluZGV4IGlzIDBcclxuICAgIGVsc2UgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgYXJyYXkudW5zaGlmdChlbGVtZW50KTtcclxuICAgIH1cclxuICAgIC8vIEFkZCB0byBpbmRpY2F0ZWQgcGxhY2UgaWYgaW5kZXggaXMgc2V0XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDAsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBQdXNoZXMgYGVsZW1lbnRgIGludG8gYGFycmF5YCBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIGVsZW1lbnQgIEl0ZW0gdG8gYWRkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcHVzaE9uZShhcnJheSwgZWxlbWVudCkge1xyXG4gICAgaWYgKGFycmF5LmluZGV4T2YoZWxlbWVudCkgPT09IC0xKSB7XHJcbiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmVtb3ZlcyBgZWxlbWVudGAgZnJvbSBgYXJyYXlgIChpZiBpdCBleGlzdHMpIGFuZCB0aGVuIGluc2VydHMgYGVsZW1lbnRgIGF0XHJcbiAqIGBpbmRleGAuXHJcbiAqXHJcbiAqIElmIGBpbmRleGAgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGluc2VydCBgZWxlbWVudGAgYXQgdGhlIGVuZCBvZiBgYXJyYXlgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBlbGVtZW50ICBJdGVtIHRvIHJlbW92ZVxyXG4gKiBAcGFyYW0gYXJyYXkgICAgSW5kZXggdG8gbW92ZSBpdGVtIHRvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShhcnJheSwgZWxlbWVudCwgaW5kZXgpIHtcclxuICAgIC8vIGNoZWNrIGlmIGV4aXN0c1xyXG4gICAgbGV0IGluZCA9IGFycmF5LmluZGV4T2YoZWxlbWVudCk7XHJcbiAgICAvLyByZW1vdmUgaWYgZXhpc3RzXHJcbiAgICBpZiAoaW5kICE9PSAtMSkge1xyXG4gICAgICAgIGFycmF5LnNwbGljZShpbmQsIDEpO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkIHRvIGVuZCBpZiBpbmRleCBpcyBub3Qgc2V0XHJcbiAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGluZGV4KSkge1xyXG4gICAgICAgIGFycmF5LnB1c2goZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICAvLyBhZGQgdG8gaW5kaWNhdGVkIHBsYWNlIGlmIGluZGV4IGlzIHNldFxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAwLCBlbGVtZW50KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogV3JhcHMgYGlucHV0YCBpbiBhbiBhcnJheSwgaWYgaXQgaXNuJ3QgYWxyZWFkeSBhbiBhcnJheS5cclxuICpcclxuICogQHBhcmFtIGlucHV0ICBTb3VyY2UgdmFsdWVcclxuICogQHJldHVybiBBbiBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkoaW5wdXQpIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBbaW5wdXRdO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgZWxlbWVudGAgZXhpc3RzIGluIGBhcnJheWAuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIGVsZW1lbnQgIEl0ZW0gdG8gc2VhcmNoIGZvclxyXG4gKiBAcmV0dXJucyBJdGVtIGluIGFycmF5P1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhhcyhhcnJheSwgZWxlbWVudCkge1xyXG4gICAgcmV0dXJuIGluZGV4T2YoYXJyYXksIGVsZW1lbnQpICE9PSAtMTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHNoYWxsb3cgY29weSBvZiBgYXJyYXlgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcmV0dXJucyBDb3B5IG9mIHRoZSBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkoYXJyYXkpIHtcclxuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIC8vIEl0J3MgZmFzdGVyIHRvIGNyZWF0ZSB0aGUgYXJyYXkgd2l0aCBhIHByZS1kZWZpbmVkIGxlbmd0aFxyXG4gICAgY29uc3Qgb3V0cHV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgLy8gQmVjYXVzZSB0aGUgYXJyYXkgaGFzIGEgcHJlLWRlZmluZWQgbGVuZ3RoLCB3ZSBoYXZlIHRvIGFzc2lnbiByYXRoZXIgdGhhbiBwdXNoXHJcbiAgICAgICAgLy8gVGhpcyBpcyBhbHNvIGZhc3RlciB0aGFuIHB1c2hpbmdcclxuICAgICAgICBvdXRwdXRbaV0gPSBhcnJheVtpXTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBjb3B5IG9mIGBhcnJheWAgd2hpY2ggY29udGFpbnMgYWxsIHRoZSBlbGVtZW50cyBiZXR3ZWVuIGBzdGFydGBcclxuICogYW5kIGBlbmRgLiAoaW5jbHVkaW5nIGBzdGFydGAgYW5kIGV4Y2x1ZGluZyBgZW5kYClcclxuICpcclxuICogSWYgYGVuZGAgaXMgbm90IHByb3ZpZGVkLCBpdCBkZWZhdWx0cyB0byBgYXJyYXkubGVuZ3RoYC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIHN0YXJ0ICBTdGFydCBpbmRleFxyXG4gKiBAcGFyYW0gZW5kICAgIEVuZCBpbmRleFxyXG4gKiBAcmV0dXJucyBQYXJ0IG9mIHRoZSBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kID0gYXJyYXkubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBvdXRwdXQgPSBuZXcgQXJyYXkoZW5kIC0gc3RhcnQpO1xyXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcclxuICAgICAgICBvdXRwdXRbaSAtIHN0YXJ0XSA9IGFycmF5W2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dHB1dDtcclxufVxyXG4vKipcclxuICogSW5zZXJ0cyBhIHZhbHVlIGludG8gYXJyYXkgYXQgc3BlY2lmaWMgaW5kZXguXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBpbmRleCAgSW5kZXhcclxuICogQHBhcmFtIHZhbHVlICBWYWx1ZSB0byBpbnNlcnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRJbmRleChhcnJheSwgaW5kZXgsIHZhbHVlKSB7XHJcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTtcclxufVxyXG4vKipcclxuICogUmVtb3ZlcyBhIHZhbHVlIGZyb20gYXJyYXkgYXQgc3BlY2lmaWMgaW5kZXguXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBpbmRleCAgSW5kZXhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVJbmRleChhcnJheSwgaW5kZXgpIHtcclxuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbn1cclxuLyoqXHJcbiAqIFNlYXJjaGVzIHRoZSBhcnJheSB1c2luZyBjdXN0b20gZnVuY3Rpb24gYW5kIHJldHVybnMgaW5kZXggb2YgdGhlIGl0ZW0gaWZcclxuICogZm91bmQuXHJcbiAqXHJcbiAqIFdpbGwgY2FsbCBgbWF0Y2hlc2AgZnVuY3Rpb24gb24gYWxsIGl0ZW1zIG9mIHRoZSBhcnJheS4gSWYgcmV0dXJuIHZhbHVlXHJcbiAqIGV2YWx1YXRlcyB0byBgdHJ1ZWAsIGluZGV4IGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBPdGhlcndpc2UgcmV0dXJucyAtMS5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICAgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gbWF0Y2hlcyAgU2VhcmNoIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIEluZGV4IG9mIHRoZSBpdGVtIGlmIGZvdW5kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBtYXRjaGVzKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMoYXJyYXlbaV0sIGkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAtMTtcclxufVxyXG4vKipcclxuICogVGhpcyBpcyB0aGUgc2FtZSBhcyBgZmluZEluZGV4YCBleGNlcHQgaXQgc2VhcmNoZXMgZnJvbSByaWdodCB0byBsZWZ0LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgICAgU291cmNlIGFycmF5XHJcbiAqIEBwYXJhbSBtYXRjaGVzICBTZWFyY2ggZnVuY3Rpb25cclxuICogQHJldHVybnMgSW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXhSZXZlcnNlKGFycmF5LCBtYXRjaGVzKSB7XHJcbiAgICBsZXQgaSA9IGFycmF5Lmxlbmd0aDtcclxuICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgIC0taTtcclxuICAgICAgICBpZiAobWF0Y2hlcyhhcnJheVtpXSwgaSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbi8qKlxyXG4gKiBTZWFyY2hlcyB0aGUgYXJyYXkgdXNpbmcgY3VzdG9tIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGl0ZW0gaWYgZm91bmQuXHJcbiAqXHJcbiAqIFdpbGwgY2FsbCBgbWF0Y2hlc2AgZnVuY3Rpb24gb24gYWxsIGl0ZW1zIG9mIHRoZSBhcnJheS4gSWYgcmV0dXJuIHZhbHVlXHJcbiAqIGV2YWx1YXRlcyB0byBgdHJ1ZWAsIGluZGV4IGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBPdGhlcndpc2UgcmV0dXJucyBgdW5kZWZpbmVkYC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICAgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gbWF0Y2hlcyAgU2VhcmNoIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIEl0ZW0gaWYgZm91bmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kKGFycmF5LCBtYXRjaGVzKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IGZpbmRJbmRleChhcnJheSwgbWF0Y2hlcyk7XHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5W2luZGV4XTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVGhpcyBpcyB0aGUgc2FtZSBhcyBgZmluZGAgZXhjZXB0IGl0IHNlYXJjaGVzIGZyb20gcmlnaHQgdG8gbGVmdC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICAgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gbWF0Y2hlcyAgU2VhcmNoIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIEl0ZW0gaWYgZm91bmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kUmV2ZXJzZShhcnJheSwgbWF0Y2hlcykge1xyXG4gICAgY29uc3QgaW5kZXggPSBmaW5kSW5kZXhSZXZlcnNlKGFycmF5LCBtYXRjaGVzKTtcclxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gYXJyYXlbaW5kZXhdO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBTZWFyY2hlcyB0aGUgYXJyYXkgdXNpbmcgY3VzdG9tIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGl0ZW0gaWYgZm91bmQuXHJcbiAqXHJcbiAqIFdpbGwgY2FsbCBgbWF0Y2hlc2AgZnVuY3Rpb24gb24gYWxsIGl0ZW1zIG9mIHRoZSBhcnJheS4gSWYgdmFsdWVcclxuICogaXMgbm90IGB1bmRlZmluZWRgLCBpdCByZXR1cm5zIGl0LlxyXG4gKlxyXG4gKiBPdGhlcndpc2UgcmV0dXJucyBgdW5kZWZpbmVkYC5cclxuICpcclxuICogQHBhcmFtIGFycmF5ICAgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gbWF0Y2hlcyAgU2VhcmNoIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIEl0ZW0gaWYgZm91bmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kTWFwKGFycmF5LCBtYXRjaGVzKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBtYXRjaGVzKGFycmF5W2ldLCBpKTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBJdGVyYXRlcyB0aHJvdWdoIGFsbCBpdGVtcyBpbiBhcnJheSBhbmQgY2FsbHMgYGZuYCBmdW5jdGlvbiBmb3IgZWFjaCBvZlxyXG4gKiB0aGVtLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXkgIFNvdXJjZSBhcnJheVxyXG4gKiBAcGFyYW0gZm4gICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI0NTA5NzYvNDQ5NDc3XHJcbiAgICBsZXQgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoLCB0ZW1wb3JhcnlWYWx1ZSwgcmFuZG9tSW5kZXg7XHJcbiAgICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxyXG4gICAgd2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xyXG4gICAgICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudC4uLlxyXG4gICAgICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KTtcclxuICAgICAgICBjdXJyZW50SW5kZXggLT0gMTtcclxuICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXHJcbiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xyXG4gICAgICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XHJcbiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIE9yZGVycyBhbiBhcnJheSB1c2luZyBzcGVjaWZpYyBgb3JkZXJpbmdgIGZ1bmN0aW9uIGFuZCByZXR1cm5zIHJpZ2h0LW1vc3QgaW5kZXggb2ZcclxuICogdGhlIGB2YWx1ZWAuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIGFycmF5ICAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIG9yZGVyaW5nICBBbiBvcmRlcmluZyBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyBSZXN1bHQgb2YgdGhlIHNlYXJjaFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNvcnRlZEluZGV4KGFycmF5LCBvcmRlcmluZykge1xyXG4gICAgbGV0IHN0YXJ0ID0gMDtcclxuICAgIGxldCBlbmQgPSBhcnJheS5sZW5ndGg7XHJcbiAgICBsZXQgZm91bmQgPSBmYWxzZTtcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIC8vIFRPRE8gaXMgdGhpcyBmYXN0ZXIvc2xvd2VyIHRoYW4gdXNpbmcgTWF0aC5mbG9vciA/XHJcbiAgICAgICAgY29uc3QgcGl2b3QgPSAoc3RhcnQgKyBlbmQpID4+IDE7XHJcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBvcmRlcmluZyhhcnJheVtwaXZvdF0pO1xyXG4gICAgICAgIC8vIGxlc3NcclxuICAgICAgICBpZiAob3JkZXIgPCAwKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gcGl2b3QgKyAxO1xyXG4gICAgICAgICAgICAvLyBlcXVhbFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvcmRlciA9PT0gMCkge1xyXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gcGl2b3QgKyAxO1xyXG4gICAgICAgICAgICAvLyBtb3JlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbmQgPSBwaXZvdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGZvdW5kOiBmb3VuZCxcclxuICAgICAgICBpbmRleDogKGZvdW5kID8gc3RhcnQgLSAxIDogc3RhcnQpXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBPcmRlcnMgYW4gYXJyYXkgdXNpbmcgc3BlY2lmaWMgYG9yZGVyaW5nYCBmdW5jdGlvbiBhbmQgcmV0dXJucyBsZWZ0LW1vc3QgaW5kZXggb2ZcclxuICogdGhlIGB2YWx1ZWAuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIGFycmF5ICAgICBTb3VyY2UgYXJyYXlcclxuICogQHBhcmFtIG9yZGVyaW5nICBBbiBvcmRlcmluZyBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyBSZXN1bHQgb2YgdGhlIHNlYXJjaFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0U29ydGVkSW5kZXgoYXJyYXksIG9yZGVyaW5nKSB7XHJcbiAgICBsZXQgc3RhcnQgPSAwO1xyXG4gICAgbGV0IGVuZCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIGxldCBmb3VuZCA9IGZhbHNlO1xyXG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XHJcbiAgICAgICAgLy8gVE9ETyBpcyB0aGlzIGZhc3Rlci9zbG93ZXIgdGhhbiB1c2luZyBNYXRoLmZsb29yID9cclxuICAgICAgICBjb25zdCBwaXZvdCA9IChzdGFydCArIGVuZCkgPj4gMTtcclxuICAgICAgICBjb25zdCBvcmRlciA9IG9yZGVyaW5nKGFycmF5W3Bpdm90XSk7XHJcbiAgICAgICAgLy8gbGVzc1xyXG4gICAgICAgIGlmIChvcmRlciA8IDApIHtcclxuICAgICAgICAgICAgc3RhcnQgPSBwaXZvdCArIDE7XHJcbiAgICAgICAgICAgIC8vIGVxdWFsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG9yZGVyID09PSAwKSB7XHJcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgZW5kID0gcGl2b3Q7XHJcbiAgICAgICAgICAgIC8vIG1vcmVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVuZCA9IHBpdm90O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZm91bmQ6IGZvdW5kLFxyXG4gICAgICAgIGluZGV4OiBzdGFydFxyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24ga2VlcElmKGFycmF5LCBrZWVwKSB7XHJcbiAgICBsZXQgaSA9IGFycmF5Lmxlbmd0aDtcclxuICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgIC0taTtcclxuICAgICAgICBpZiAoIWtlZXAoYXJyYXlbaV0pKSB7XHJcbiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJyYXkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Children: () => (/* binding */ Children)\n/* harmony export */ });\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n/**\r\n * A version of [[List]] to hold children of the [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n */\r\nclass Children extends _List__WEBPACK_IMPORTED_MODULE_0__.List {\r\n    constructor(container) {\r\n        super();\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._container = container;\r\n        this._events = this.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(change.oldValues, (x) => {\r\n                    this._onRemoved(x);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._onInserted(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._onRemoved(change.oldValue);\r\n                this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._onRemoved(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._onRemoved(change.value);\r\n                this._onInserted(change.value, change.newIndex);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n    }\r\n    _onInserted(child, index) {\r\n        child._setParent(this._container, true);\r\n        const childrenDisplay = this._container._childrenDisplay;\r\n        if (index === undefined) {\r\n            childrenDisplay.addChild(child._display);\r\n        }\r\n        else {\r\n            childrenDisplay.addChildAt(child._display, index);\r\n        }\r\n    }\r\n    _onRemoved(child) {\r\n        this._container._childrenDisplay.removeChild(child._display);\r\n        this._container.markDirtyBounds();\r\n        this._container.markDirty();\r\n    }\r\n    /**\r\n     * Returns `true` if obejct is disposed.\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Permanently dispose this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._events.dispose();\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(this.values, (child) => {\r\n                child.dispose();\r\n            });\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Children.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0NoaWxkcmVuLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QjtBQUNJO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkVBQTZFO0FBQ3RGO0FBQ08sdUJBQXVCLHVDQUFJO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0NBQVc7QUFDM0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvQ2hpbGRyZW4uanM/YzFkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMaXN0IH0gZnJvbSBcIi4vTGlzdFwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuLyoqXHJcbiAqIEEgdmVyc2lvbiBvZiBbW0xpc3RdXSB0byBob2xkIGNoaWxkcmVuIG9mIHRoZSBbW0NvbnRhaW5lcl1dLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9jb21tb24tZWxlbWVudHMvY29udGFpbmVycy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDaGlsZHJlbiBleHRlbmRzIExpc3Qge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY29udGFpbmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ldmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHRoaXMuZXZlbnRzLm9uQWxsKChjaGFuZ2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSBcImNsZWFyXCIpIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGNoYW5nZS5vbGRWYWx1ZXMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25SZW1vdmVkKHgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicHVzaFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkluc2VydGVkKGNoYW5nZS5uZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwic2V0SW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25SZW1vdmVkKGNoYW5nZS5vbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkluc2VydGVkKGNoYW5nZS5uZXdWYWx1ZSwgY2hhbmdlLmluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJpbnNlcnRJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkluc2VydGVkKGNoYW5nZS5uZXdWYWx1ZSwgY2hhbmdlLmluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJyZW1vdmVJbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vblJlbW92ZWQoY2hhbmdlLm9sZFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJtb3ZlSW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25SZW1vdmVkKGNoYW5nZS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkluc2VydGVkKGNoYW5nZS52YWx1ZSwgY2hhbmdlLm5ld0luZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gSUxpc3RFdmVudCB0eXBlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfb25JbnNlcnRlZChjaGlsZCwgaW5kZXgpIHtcclxuICAgICAgICBjaGlsZC5fc2V0UGFyZW50KHRoaXMuX2NvbnRhaW5lciwgdHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW5EaXNwbGF5ID0gdGhpcy5fY29udGFpbmVyLl9jaGlsZHJlbkRpc3BsYXk7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW5EaXNwbGF5LmFkZENoaWxkKGNoaWxkLl9kaXNwbGF5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuRGlzcGxheS5hZGRDaGlsZEF0KGNoaWxkLl9kaXNwbGF5LCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX29uUmVtb3ZlZChjaGlsZCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5fY2hpbGRyZW5EaXNwbGF5LnJlbW92ZUNoaWxkKGNoaWxkLl9kaXNwbGF5KTtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIubWFya0RpcnR5Qm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLm1hcmtEaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBvYmVqY3QgaXMgZGlzcG9zZWQuXHJcbiAgICAgKi9cclxuICAgIGlzRGlzcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJtYW5lbnRseSBkaXNwb3NlIHRoaXMgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLnZhbHVlcywgKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGlsZHJlbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Color: () => (/* binding */ Color),\n/* harmony export */   color: () => (/* binding */ color),\n/* harmony export */   rgba2hex: () => (/* binding */ rgba2hex)\n/* harmony export */ });\n/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction string2hex(string) {\r\n    //string = cssColorNames[string.toLowerCase()] || string;\r\n    if (string[0] === \"#\") {\r\n        string = string.substr(1);\r\n    }\r\n    if (string.length == 3) {\r\n        string = string[0].repeat(2) + string[1].repeat(2) + string[2].repeat(2);\r\n    }\r\n    return parseInt(string, 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction rgba2hex(color) {\r\n    color = color.replace(/[ ]/g, \"\");\r\n    // Init\r\n    let matches = color.match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);\r\n    // Try rgb() format\r\n    if (matches) {\r\n        matches.push(\"1\");\r\n    }\r\n    else {\r\n        matches = color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i);\r\n        if (!matches) {\r\n            return 0x000000;\r\n        }\r\n    }\r\n    let hex = \"\";\r\n    for (let i = 1; i <= 3; i++) {\r\n        let val = parseInt(matches[i]).toString(16);\r\n        if (val.length == 1) {\r\n            val = \"0\" + val;\r\n        }\r\n        hex += val;\r\n    }\r\n    return string2hex(hex);\r\n}\r\n/**\r\n * Returns a new [[Color]] object base on input.\r\n *\r\n * Accepts parameters in CSS hex or rgb/rtba strings, or hex numbers.\r\n *\r\n * * `\"#f00\"`\r\n * * `\"#ff0000\"`\r\n * * `\"rgb(255, 0, 0)\"`\r\n * * `\"rgba(255, 0, 0, 1)\"`\r\n * * `0xff0000`\r\n *\r\n * @param   input  Input color\r\n * @return         Color\r\n */\r\nfunction color(input) {\r\n    return Color.fromAny(input);\r\n}\r\n/**\r\n * Wherever color needs to be specified in amCharts 5, `Color` object needs to\r\n * be used.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more info\r\n * @important\r\n */\r\nclass Color {\r\n    constructor(hex) {\r\n        Object.defineProperty(this, \"_hex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._hex = hex | 0;\r\n    }\r\n    /**\r\n     * Color numeric value.\r\n     */\r\n    get hex() {\r\n        return this._hex;\r\n    }\r\n    /**\r\n     * Value of color's R channel.\r\n     * @return R value\r\n     */\r\n    get r() {\r\n        return this._hex >>> 16;\r\n    }\r\n    /**\r\n     * Value of color's G channel.\r\n     * @return G value\r\n     */\r\n    get g() {\r\n        return (this._hex >> 8) & 0xFF;\r\n    }\r\n    /**\r\n     * Value of color's B channel.\r\n     * @return B value\r\n     */\r\n    get b() {\r\n        return this._hex & 0xFF;\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `rgba(r, g, b, a)` string.\r\n     *\r\n     * @param   alpha  Opacity\r\n     * @return         CSS string\r\n     */\r\n    toCSS(alpha = 1) {\r\n        return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + alpha + \")\";\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `#rgb` string.\r\n     *\r\n     * @return         CSS string\r\n     */\r\n    toCSSHex() {\r\n        return \"#\" + _Utils__WEBPACK_IMPORTED_MODULE_0__.padString(this.r.toString(16), 2) + _Utils__WEBPACK_IMPORTED_MODULE_0__.padString(this.g.toString(16), 2) + _Utils__WEBPACK_IMPORTED_MODULE_0__.padString(this.b.toString(16), 2);\r\n    }\r\n    /**\r\n     * Returns color's HSL info.\r\n     * @param   alpha Opacity\r\n     * @return        HSL info\r\n     */\r\n    toHSL(alpha = 1) {\r\n        return _Utils__WEBPACK_IMPORTED_MODULE_0__.rgbToHsl({\r\n            r: this.r,\r\n            g: this.g,\r\n            b: this.b,\r\n            a: alpha\r\n        });\r\n    }\r\n    /**\r\n     * Converts HSL values into a new [[Color]] object.\r\n     *\r\n     * @param   h H value\r\n     * @param   s S value\r\n     * @param   l L value\r\n     * @return    Color object\r\n     */\r\n    static fromHSL(h, s, l) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.hslToRgb({\r\n            h: h,\r\n            s: s,\r\n            l: l\r\n        });\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    toString() {\r\n        return this.toCSSHex();\r\n    }\r\n    /**\r\n     * Converts hex number into a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     *\r\n     * @param   hex  Hex color\r\n     * @return       Color\r\n     */\r\n    static fromHex(hex) {\r\n        return new Color(hex);\r\n    }\r\n    /**\r\n     * Converts RGB values to a new [[Color]] object.\r\n     *\r\n     * @param   r  R value\r\n     * @param   g  G value\r\n     * @param   b  B value\r\n     * @return     Color\r\n     */\r\n    static fromRGB(r, g, b) {\r\n        return new Color((b | 0) + (g << 8) + (r << 16));\r\n    }\r\n    /**\r\n     * Converts RGB string to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     *\r\n     * @param   s  RGB string\r\n     * @return     Color\r\n     */\r\n    static fromString(s) {\r\n        return new Color(string2hex(s));\r\n    }\r\n    /**\r\n     * Converts CSS rgba() syntax to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     *\r\n     * @param  {string} s [description]\r\n     * @return {Color}    [description]\r\n     */\r\n    static fromCSS(s) {\r\n        return new Color(rgba2hex(s));\r\n    }\r\n    /**\r\n     * Convert to color from virtually anything.\r\n     *\r\n     * Will throw an exception if unable to resolve the color.\r\n     *\r\n     * @param   s  Source\r\n     * @return     Color\r\n     */\r\n    static fromAny(s) {\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isString(s)) {\r\n            if (s[0] == \"#\") {\r\n                return Color.fromString(s);\r\n            }\r\n            else if (s.substr(0, 3) == \"rgb\") {\r\n                return Color.fromCSS(s);\r\n            }\r\n        }\r\n        else if (_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(s)) {\r\n            return Color.fromHex(s);\r\n        }\r\n        else if (s instanceof Color) {\r\n            return Color.fromHex(s.hex);\r\n        }\r\n        throw new Error(\"Unknown color syntax: \" + s);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] object based on either `lightAlternative` or\r\n     * `darkAlternative` depending on which one is more contrasting with\r\n     * the `color`.\r\n     *\r\n     * @param   color             Reference color\r\n     * @param   lightAlternative  Light color\r\n     * @param   darkAlternative   Dark color\r\n     * @return                    Alternative color\r\n     */\r\n    static alternative(color, lightAlternative, darkAlternative) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.alternativeColor({ r: color.r, g: color.g, b: color.b }, lightAlternative ? { r: lightAlternative.r, g: lightAlternative.g, b: lightAlternative.b } : undefined, darkAlternative ? { r: darkAlternative.r, g: darkAlternative.g, b: darkAlternative.b } : undefined);\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns an intermediate Color between two reference colors depending on\r\n     * the progress (`diff`) between the two.\r\n     *\r\n     * @param   diff  Progress\r\n     * @param   from  Source color\r\n     * @param   to    Target color\r\n     * @param   mode  Interpolation mode\r\n     * @return        Color\r\n     */\r\n    static interpolate(diff, from, to, mode = \"rgb\") {\r\n        if (mode == \"hsl\") {\r\n            const fromHSL = from.toHSL();\r\n            const toHSL = to.toHSL();\r\n            return Color.fromHSL((0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, fromHSL.h, toHSL.h), (0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, fromHSL.s, toHSL.s), (0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, fromHSL.l, toHSL.l));\r\n        }\r\n        else {\r\n            return Color.fromRGB((0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, from.r, to.r), (0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, from.g, to.g), (0,_Animation__WEBPACK_IMPORTED_MODULE_2__.range)(diff, from.b, to.b));\r\n        }\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] lightened by `percent` value.\r\n     *\r\n     * Use negative value to darken the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static lighten(color, percent) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.lighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] brightened by `percent` value.\r\n     *\r\n     * Use negative value to dim the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static brighten(color, percent) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.brighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] saturated by `percent` value.\r\n     *\r\n     * Value range is between `0` (fully desaturated), to `1` (full color).\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static saturate(color, percent) {\r\n        const rgb = _Utils__WEBPACK_IMPORTED_MODULE_0__.saturate({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n}\r\n//# sourceMappingURL=Color.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0NvbG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvQztBQUNGO0FBQ0Y7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnRkFBZ0Y7QUFDekY7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkNBQWdCLDJCQUEyQiw2Q0FBZ0IsMkJBQTJCLDZDQUFnQjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNENBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNENBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDJDQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvREFBdUIsR0FBRyxvQ0FBb0MsdUJBQXVCLHNFQUFzRSxpQ0FBaUMsbUVBQW1FO0FBQ25SO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGlEQUFLLDRCQUE0QixpREFBSyw0QkFBNEIsaURBQUs7QUFDeEc7QUFDQTtBQUNBLGlDQUFpQyxpREFBSyxzQkFBc0IsaURBQUssc0JBQXNCLGlEQUFLO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQ0FBYyxHQUFHLG9DQUFvQztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNENBQWUsR0FBRyxvQ0FBb0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRDQUFlLEdBQUcsb0NBQW9DO0FBQzFFO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvQ29sb3IuanM/NTgwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5nZSB9IGZyb20gXCIuL0FuaW1hdGlvblwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5nMmhleChzdHJpbmcpIHtcclxuICAgIC8vc3RyaW5nID0gY3NzQ29sb3JOYW1lc1tzdHJpbmcudG9Mb3dlckNhc2UoKV0gfHwgc3RyaW5nO1xyXG4gICAgaWYgKHN0cmluZ1swXSA9PT0gXCIjXCIpIHtcclxuICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKDEpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0cmluZy5sZW5ndGggPT0gMykge1xyXG4gICAgICAgIHN0cmluZyA9IHN0cmluZ1swXS5yZXBlYXQoMikgKyBzdHJpbmdbMV0ucmVwZWF0KDIpICsgc3RyaW5nWzJdLnJlcGVhdCgyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYXJzZUludChzdHJpbmcsIDE2KTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJnYmEyaGV4KGNvbG9yKSB7XHJcbiAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoL1sgXS9nLCBcIlwiKTtcclxuICAgIC8vIEluaXRcclxuICAgIGxldCBtYXRjaGVzID0gY29sb3IubWF0Y2goL15yZ2JcXCgoWzAtOV0qKSwoWzAtOV0qKSwoWzAtOV0qKVxcKS9pKTtcclxuICAgIC8vIFRyeSByZ2IoKSBmb3JtYXRcclxuICAgIGlmIChtYXRjaGVzKSB7XHJcbiAgICAgICAgbWF0Y2hlcy5wdXNoKFwiMVwiKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG1hdGNoZXMgPSBjb2xvci5tYXRjaCgvXnJnYmFcXCgoWzAtOV0qKSwoWzAtOV0qKSwoWzAtOV0qKSwoWy4wLTldKilcXCkvaSk7XHJcbiAgICAgICAgaWYgKCFtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAweDAwMDAwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgaGV4ID0gXCJcIjtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDM7IGkrKykge1xyXG4gICAgICAgIGxldCB2YWwgPSBwYXJzZUludChtYXRjaGVzW2ldKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgaWYgKHZhbC5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICB2YWwgPSBcIjBcIiArIHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGV4ICs9IHZhbDtcclxuICAgIH1cclxuICAgIHJldHVybiBzdHJpbmcyaGV4KGhleCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBuZXcgW1tDb2xvcl1dIG9iamVjdCBiYXNlIG9uIGlucHV0LlxyXG4gKlxyXG4gKiBBY2NlcHRzIHBhcmFtZXRlcnMgaW4gQ1NTIGhleCBvciByZ2IvcnRiYSBzdHJpbmdzLCBvciBoZXggbnVtYmVycy5cclxuICpcclxuICogKiBgXCIjZjAwXCJgXHJcbiAqICogYFwiI2ZmMDAwMFwiYFxyXG4gKiAqIGBcInJnYigyNTUsIDAsIDApXCJgXHJcbiAqICogYFwicmdiYSgyNTUsIDAsIDAsIDEpXCJgXHJcbiAqICogYDB4ZmYwMDAwYFxyXG4gKlxyXG4gKiBAcGFyYW0gICBpbnB1dCAgSW5wdXQgY29sb3JcclxuICogQHJldHVybiAgICAgICAgIENvbG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29sb3IoaW5wdXQpIHtcclxuICAgIHJldHVybiBDb2xvci5mcm9tQW55KGlucHV0KTtcclxufVxyXG4vKipcclxuICogV2hlcmV2ZXIgY29sb3IgbmVlZHMgdG8gYmUgc3BlY2lmaWVkIGluIGFtQ2hhcnRzIDUsIGBDb2xvcmAgb2JqZWN0IG5lZWRzIHRvXHJcbiAqIGJlIHVzZWQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbG9ycy1ncmFkaWVudHMtYW5kLXBhdHRlcm5zL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29sb3Ige1xyXG4gICAgY29uc3RydWN0b3IoaGV4KSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hleFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9oZXggPSBoZXggfCAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2xvciBudW1lcmljIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBnZXQgaGV4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZXg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZhbHVlIG9mIGNvbG9yJ3MgUiBjaGFubmVsLlxyXG4gICAgICogQHJldHVybiBSIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGdldCByKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZXggPj4+IDE2O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWx1ZSBvZiBjb2xvcidzIEcgY2hhbm5lbC5cclxuICAgICAqIEByZXR1cm4gRyB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBnZXQgZygpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2hleCA+PiA4KSAmIDB4RkY7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZhbHVlIG9mIGNvbG9yJ3MgQiBjaGFubmVsLlxyXG4gICAgICogQHJldHVybiBCIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGdldCBiKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZXggJiAweEZGO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvbG9yIENTUyByZXByZXNlbnRhdGlvbiBpbiBmb3JtIG9mIGByZ2JhKHIsIGcsIGIsIGEpYCBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgYWxwaGEgIE9wYWNpdHlcclxuICAgICAqIEByZXR1cm4gICAgICAgICBDU1Mgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHRvQ1NTKGFscGhhID0gMSkge1xyXG4gICAgICAgIHJldHVybiBcInJnYmEoXCIgKyB0aGlzLnIgKyBcIiwgXCIgKyB0aGlzLmcgKyBcIiwgXCIgKyB0aGlzLmIgKyBcIiwgXCIgKyBhbHBoYSArIFwiKVwiO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvbG9yIENTUyByZXByZXNlbnRhdGlvbiBpbiBmb3JtIG9mIGAjcmdiYCBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiAgICAgICAgIENTUyBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgdG9DU1NIZXgoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiI1wiICsgJHV0aWxzLnBhZFN0cmluZyh0aGlzLnIudG9TdHJpbmcoMTYpLCAyKSArICR1dGlscy5wYWRTdHJpbmcodGhpcy5nLnRvU3RyaW5nKDE2KSwgMikgKyAkdXRpbHMucGFkU3RyaW5nKHRoaXMuYi50b1N0cmluZygxNiksIDIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGNvbG9yJ3MgSFNMIGluZm8uXHJcbiAgICAgKiBAcGFyYW0gICBhbHBoYSBPcGFjaXR5XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICBIU0wgaW5mb1xyXG4gICAgICovXHJcbiAgICB0b0hTTChhbHBoYSA9IDEpIHtcclxuICAgICAgICByZXR1cm4gJHV0aWxzLnJnYlRvSHNsKHtcclxuICAgICAgICAgICAgcjogdGhpcy5yLFxyXG4gICAgICAgICAgICBnOiB0aGlzLmcsXHJcbiAgICAgICAgICAgIGI6IHRoaXMuYixcclxuICAgICAgICAgICAgYTogYWxwaGFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgSFNMIHZhbHVlcyBpbnRvIGEgbmV3IFtbQ29sb3JdXSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgaCBIIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gICBzIFMgdmFsdWVcclxuICAgICAqIEBwYXJhbSAgIGwgTCB2YWx1ZVxyXG4gICAgICogQHJldHVybiAgICBDb2xvciBvYmplY3RcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21IU0woaCwgcywgbCkge1xyXG4gICAgICAgIGNvbnN0IHJnYiA9ICR1dGlscy5oc2xUb1JnYih7XHJcbiAgICAgICAgICAgIGg6IGgsXHJcbiAgICAgICAgICAgIHM6IHMsXHJcbiAgICAgICAgICAgIGw6IGxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tUkdCKHJnYi5yLCByZ2IuZywgcmdiLmIpO1xyXG4gICAgfVxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9DU1NIZXgoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgaGV4IG51bWJlciBpbnRvIGEgbmV3IFtbQ29sb3JdXSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogYGBgVHlwZVNjcmlwdFxyXG4gICAgICogQ29sb3IuZnJvbUhleCgweGZmMDAwMCkgLy8gcmVkXHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIENvbG9yLmZyb21IZXgoMHhmZjAwMDApIC8vIHJlZFxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgaGV4ICBIZXggY29sb3JcclxuICAgICAqIEByZXR1cm4gICAgICAgQ29sb3JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21IZXgoaGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihoZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBSR0IgdmFsdWVzIHRvIGEgbmV3IFtbQ29sb3JdXSBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgciAgUiB2YWx1ZVxyXG4gICAgICogQHBhcmFtICAgZyAgRyB2YWx1ZVxyXG4gICAgICogQHBhcmFtICAgYiAgQiB2YWx1ZVxyXG4gICAgICogQHJldHVybiAgICAgQ29sb3JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21SR0IociwgZywgYikge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IoKGIgfCAwKSArIChnIDw8IDgpICsgKHIgPDwgMTYpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgUkdCIHN0cmluZyB0byBhIG5ldyBbW0NvbG9yXV0gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIENvbG9yLmZyb21TdHJpbmcoXCIjZmYwMDAwXCIpIC8vIHJlZFxyXG4gICAgICogYGBgXHJcbiAgICAgKiBgYGBKYXZhU2NyaXB0XHJcbiAgICAgKiBDb2xvci5mcm9tU3RyaW5nKFwiI2ZmMDAwMFwiKSAvLyByZWRcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHMgIFJHQiBzdHJpbmdcclxuICAgICAqIEByZXR1cm4gICAgIENvbG9yXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tU3RyaW5nKHMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbG9yKHN0cmluZzJoZXgocykpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBDU1MgcmdiYSgpIHN5bnRheCB0byBhIG5ldyBbW0NvbG9yXV0gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIENvbG9yLmZyb21DU1MoXCJyZ2JhKDI1NSwgMCwgMCwgMSlcIikgLy8gcmVkXHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIENvbG9yLmZyb21DU1MoXCJyZ2JhKDI1NSwgMCwgMCwgMSlcIikgLy8gcmVkXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHMgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7Q29sb3J9ICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21DU1Mocykge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IocmdiYTJoZXgocykpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0IHRvIGNvbG9yIGZyb20gdmlydHVhbGx5IGFueXRoaW5nLlxyXG4gICAgICpcclxuICAgICAqIFdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIHVuYWJsZSB0byByZXNvbHZlIHRoZSBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBzICBTb3VyY2VcclxuICAgICAqIEByZXR1cm4gICAgIENvbG9yXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tQW55KHMpIHtcclxuICAgICAgICBpZiAoJHR5cGUuaXNTdHJpbmcocykpIHtcclxuICAgICAgICAgICAgaWYgKHNbMF0gPT0gXCIjXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb2xvci5mcm9tU3RyaW5nKHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHMuc3Vic3RyKDAsIDMpID09IFwicmdiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb2xvci5mcm9tQ1NTKHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCR0eXBlLmlzTnVtYmVyKHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb2xvci5mcm9tSGV4KHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzIGluc3RhbmNlb2YgQ29sb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENvbG9yLmZyb21IZXgocy5oZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbG9yIHN5bnRheDogXCIgKyBzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBbW0NvbG9yXV0gb2JqZWN0IGJhc2VkIG9uIGVpdGhlciBgbGlnaHRBbHRlcm5hdGl2ZWAgb3JcclxuICAgICAqIGBkYXJrQWx0ZXJuYXRpdmVgIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgaXMgbW9yZSBjb250cmFzdGluZyB3aXRoXHJcbiAgICAgKiB0aGUgYGNvbG9yYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBjb2xvciAgICAgICAgICAgICBSZWZlcmVuY2UgY29sb3JcclxuICAgICAqIEBwYXJhbSAgIGxpZ2h0QWx0ZXJuYXRpdmUgIExpZ2h0IGNvbG9yXHJcbiAgICAgKiBAcGFyYW0gICBkYXJrQWx0ZXJuYXRpdmUgICBEYXJrIGNvbG9yXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgICAgICAgICBBbHRlcm5hdGl2ZSBjb2xvclxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYWx0ZXJuYXRpdmUoY29sb3IsIGxpZ2h0QWx0ZXJuYXRpdmUsIGRhcmtBbHRlcm5hdGl2ZSkge1xyXG4gICAgICAgIGNvbnN0IHJnYiA9ICR1dGlscy5hbHRlcm5hdGl2ZUNvbG9yKHsgcjogY29sb3IuciwgZzogY29sb3IuZywgYjogY29sb3IuYiB9LCBsaWdodEFsdGVybmF0aXZlID8geyByOiBsaWdodEFsdGVybmF0aXZlLnIsIGc6IGxpZ2h0QWx0ZXJuYXRpdmUuZywgYjogbGlnaHRBbHRlcm5hdGl2ZS5iIH0gOiB1bmRlZmluZWQsIGRhcmtBbHRlcm5hdGl2ZSA/IHsgcjogZGFya0FsdGVybmF0aXZlLnIsIGc6IGRhcmtBbHRlcm5hdGl2ZS5nLCBiOiBkYXJrQWx0ZXJuYXRpdmUuYiB9IDogdW5kZWZpbmVkKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tUkdCKHJnYi5yLCByZ2IuZywgcmdiLmIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGludGVybWVkaWF0ZSBDb2xvciBiZXR3ZWVuIHR3byByZWZlcmVuY2UgY29sb3JzIGRlcGVuZGluZyBvblxyXG4gICAgICogdGhlIHByb2dyZXNzIChgZGlmZmApIGJldHdlZW4gdGhlIHR3by5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBkaWZmICBQcm9ncmVzc1xyXG4gICAgICogQHBhcmFtICAgZnJvbSAgU291cmNlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0gICB0byAgICBUYXJnZXQgY29sb3JcclxuICAgICAqIEBwYXJhbSAgIG1vZGUgIEludGVycG9sYXRpb24gbW9kZVxyXG4gICAgICogQHJldHVybiAgICAgICAgQ29sb3JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGludGVycG9sYXRlKGRpZmYsIGZyb20sIHRvLCBtb2RlID0gXCJyZ2JcIikge1xyXG4gICAgICAgIGlmIChtb2RlID09IFwiaHNsXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbUhTTCA9IGZyb20udG9IU0woKTtcclxuICAgICAgICAgICAgY29uc3QgdG9IU0wgPSB0by50b0hTTCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gQ29sb3IuZnJvbUhTTChyYW5nZShkaWZmLCBmcm9tSFNMLmgsIHRvSFNMLmgpLCByYW5nZShkaWZmLCBmcm9tSFNMLnMsIHRvSFNMLnMpLCByYW5nZShkaWZmLCBmcm9tSFNMLmwsIHRvSFNMLmwpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb2xvci5mcm9tUkdCKHJhbmdlKGRpZmYsIGZyb20uciwgdG8uciksIHJhbmdlKGRpZmYsIGZyb20uZywgdG8uZyksIHJhbmdlKGRpZmYsIGZyb20uYiwgdG8uYikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBbW0NvbG9yXV0gbGlnaHRlbmVkIGJ5IGBwZXJjZW50YCB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBVc2UgbmVnYXRpdmUgdmFsdWUgdG8gZGFya2VuIHRoZSBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBjb2xvciAgICBTb3VyY2UgY29sb3JcclxuICAgICAqIEBwYXJhbSAgIHBlcmNlbnQgIFBlcmNlbnRcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgIE5ldyBjb2xvclxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbGlnaHRlbihjb2xvciwgcGVyY2VudCkge1xyXG4gICAgICAgIGNvbnN0IHJnYiA9ICR1dGlscy5saWdodGVuKHsgcjogY29sb3IuciwgZzogY29sb3IuZywgYjogY29sb3IuYiB9LCBwZXJjZW50KTtcclxuICAgICAgICByZXR1cm4gQ29sb3IuZnJvbVJHQihyZ2IuciwgcmdiLmcsIHJnYi5iKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBbW0NvbG9yXV0gYnJpZ2h0ZW5lZCBieSBgcGVyY2VudGAgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogVXNlIG5lZ2F0aXZlIHZhbHVlIHRvIGRpbSB0aGUgY29sb3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgY29sb3IgICAgU291cmNlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0gICBwZXJjZW50ICBQZXJjZW50XHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICBOZXcgY29sb3JcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGJyaWdodGVuKGNvbG9yLCBwZXJjZW50KSB7XHJcbiAgICAgICAgY29uc3QgcmdiID0gJHV0aWxzLmJyaWdodGVuKHsgcjogY29sb3IuciwgZzogY29sb3IuZywgYjogY29sb3IuYiB9LCBwZXJjZW50KTtcclxuICAgICAgICByZXR1cm4gQ29sb3IuZnJvbVJHQihyZ2IuciwgcmdiLmcsIHJnYi5iKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBbW0NvbG9yXV0gc2F0dXJhdGVkIGJ5IGBwZXJjZW50YCB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBWYWx1ZSByYW5nZSBpcyBiZXR3ZWVuIGAwYCAoZnVsbHkgZGVzYXR1cmF0ZWQpLCB0byBgMWAgKGZ1bGwgY29sb3IpLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIGNvbG9yICAgIFNvdXJjZSBjb2xvclxyXG4gICAgICogQHBhcmFtICAgcGVyY2VudCAgUGVyY2VudFxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgTmV3IGNvbG9yXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzYXR1cmF0ZShjb2xvciwgcGVyY2VudCkge1xyXG4gICAgICAgIGNvbnN0IHJnYiA9ICR1dGlscy5zYXR1cmF0ZSh7IHI6IGNvbG9yLnIsIGc6IGNvbG9yLmcsIGI6IGNvbG9yLmIgfSwgcGVyY2VudCk7XHJcbiAgICAgICAgcmV0dXJuIENvbG9yLmZyb21SR0IocmdiLnIsIHJnYi5nLCByZ2IuYik7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColorSet: () => (/* binding */ ColorSet)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n\r\n\r\n/**\r\n * An object which holds list of colors and can generate new ones.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Color_sets} for more info\r\n */\r\nclass ColorSet extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    //protected _currentPass: number = 0;\r\n    _afterNew() {\r\n        // Applying themes because color set will not have parent\r\n        super._afterNewApplyThemes();\r\n        this._dirty[\"colors\"] = false;\r\n    }\r\n    _beforeChanged() {\r\n        if (this.isDirty(\"colors\")) {\r\n            this.reset();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    generateColors() {\r\n        this.setPrivate(\"currentPass\", this.getPrivate(\"currentPass\", 0) + 1);\r\n        const pass = this.getPrivate(\"currentPass\");\r\n        const colors = this.get(\"colors\", [this.get(\"baseColor\", _Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xff0000))]);\r\n        if (!this.getPrivate(\"numColors\")) {\r\n            this.setPrivate(\"numColors\", colors.length);\r\n        }\r\n        //const len = colors.length;\r\n        const len = this.getPrivate(\"numColors\");\r\n        //const start = len - this.getPrivate(\"numColors\")!;\r\n        const start = 0;\r\n        const passOptions = this.get(\"passOptions\");\r\n        const reuse = this.get(\"reuse\");\r\n        for (let i = start; i < len; i++) {\r\n            if (reuse) {\r\n                colors.push(colors[i]);\r\n            }\r\n            else {\r\n                const hsl = colors[i].toHSL();\r\n                let h = hsl.h + (passOptions.hue || 0) * pass;\r\n                while (h > 1)\r\n                    h -= 1;\r\n                let s = hsl.s + (passOptions.saturation || 0) * pass;\r\n                //if (s > 1) s -= Math.floor(s);\r\n                if (s > 1)\r\n                    s = 1;\r\n                if (s < 0)\r\n                    s = 0;\r\n                let l = hsl.l + (passOptions.lightness || 0) * pass;\r\n                //if (l > 1) l -= Math.floor(l);\r\n                while (l > 1)\r\n                    l -= 1;\r\n                colors.push(_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHSL(h, s, l));\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Returns a [[Color]] at specific index.\r\n     *\r\n     * If there's no color at this index, a new color is generated.\r\n     *\r\n     * @param   index  Index\r\n     * @return         Color\r\n     */\r\n    getIndex(index) {\r\n        const colors = this.get(\"colors\", []);\r\n        const saturation = this.get(\"saturation\");\r\n        if (index >= colors.length) {\r\n            this.generateColors();\r\n            return this.getIndex(index);\r\n        }\r\n        return saturation != null ? _Color__WEBPACK_IMPORTED_MODULE_1__.Color.saturate(colors[index], saturation) : colors[index];\r\n    }\r\n    /**\r\n     * Returns next [[Color]] in the list.\r\n     *\r\n     * If the list is out of colors, new ones are generated dynamically.\r\n     */\r\n    next() {\r\n        let currentStep = this.getPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n        this.setPrivate(\"currentStep\", currentStep + this.get(\"step\", 1));\r\n        return this.getIndex(currentStep);\r\n    }\r\n    /**\r\n     * Resets counter to the start of the list, so the next call for `next()` will\r\n     * return the first color.\r\n     */\r\n    reset() {\r\n        this.setPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n        this.setPrivate(\"currentPass\", 0);\r\n    }\r\n}\r\nObject.defineProperty(ColorSet, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ColorSet\"\r\n});\r\nObject.defineProperty(ColorSet, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([ColorSet.className])\r\n});\r\n//# sourceMappingURL=ColorSet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0NvbG9yU2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrQztBQUNGO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkZBQTJGO0FBQ3BHO0FBQ08sdUJBQXVCLDJDQUFNO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUseUNBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlDQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5Q0FBSztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkNBQU07QUFDakIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvQ29sb3JTZXQuanM/MGU0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9FbnRpdHlcIjtcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tIFwiLi9Db2xvclwiO1xyXG4vKipcclxuICogQW4gb2JqZWN0IHdoaWNoIGhvbGRzIGxpc3Qgb2YgY29sb3JzIGFuZCBjYW4gZ2VuZXJhdGUgbmV3IG9uZXMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2NvbG9ycy1ncmFkaWVudHMtYW5kLXBhdHRlcm5zLyNDb2xvcl9zZXRzfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29sb3JTZXQgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgLy9wcm90ZWN0ZWQgX2N1cnJlbnRQYXNzOiBudW1iZXIgPSAwO1xyXG4gICAgX2FmdGVyTmV3KCkge1xyXG4gICAgICAgIC8vIEFwcGx5aW5nIHRoZW1lcyBiZWNhdXNlIGNvbG9yIHNldCB3aWxsIG5vdCBoYXZlIHBhcmVudFxyXG4gICAgICAgIHN1cGVyLl9hZnRlck5ld0FwcGx5VGhlbWVzKCk7XHJcbiAgICAgICAgdGhpcy5fZGlydHlbXCJjb2xvcnNcIl0gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIF9iZWZvcmVDaGFuZ2VkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkoXCJjb2xvcnNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZUNvbG9ycygpIHtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJjdXJyZW50UGFzc1wiLCB0aGlzLmdldFByaXZhdGUoXCJjdXJyZW50UGFzc1wiLCAwKSArIDEpO1xyXG4gICAgICAgIGNvbnN0IHBhc3MgPSB0aGlzLmdldFByaXZhdGUoXCJjdXJyZW50UGFzc1wiKTtcclxuICAgICAgICBjb25zdCBjb2xvcnMgPSB0aGlzLmdldChcImNvbG9yc1wiLCBbdGhpcy5nZXQoXCJiYXNlQ29sb3JcIiwgQ29sb3IuZnJvbUhleCgweGZmMDAwMCkpXSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldFByaXZhdGUoXCJudW1Db2xvcnNcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwibnVtQ29sb3JzXCIsIGNvbG9ycy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnN0IGxlbiA9IGNvbG9ycy5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5nZXRQcml2YXRlKFwibnVtQ29sb3JzXCIpO1xyXG4gICAgICAgIC8vY29uc3Qgc3RhcnQgPSBsZW4gLSB0aGlzLmdldFByaXZhdGUoXCJudW1Db2xvcnNcIikhO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gMDtcclxuICAgICAgICBjb25zdCBwYXNzT3B0aW9ucyA9IHRoaXMuZ2V0KFwicGFzc09wdGlvbnNcIik7XHJcbiAgICAgICAgY29uc3QgcmV1c2UgPSB0aGlzLmdldChcInJldXNlXCIpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXVzZSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzLnB1c2goY29sb3JzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhzbCA9IGNvbG9yc1tpXS50b0hTTCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGggPSBoc2wuaCArIChwYXNzT3B0aW9ucy5odWUgfHwgMCkgKiBwYXNzO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGggPiAxKVxyXG4gICAgICAgICAgICAgICAgICAgIGggLT0gMTtcclxuICAgICAgICAgICAgICAgIGxldCBzID0gaHNsLnMgKyAocGFzc09wdGlvbnMuc2F0dXJhdGlvbiB8fCAwKSAqIHBhc3M7XHJcbiAgICAgICAgICAgICAgICAvL2lmIChzID4gMSkgcyAtPSBNYXRoLmZsb29yKHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHMgPiAxKVxyXG4gICAgICAgICAgICAgICAgICAgIHMgPSAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKHMgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGwgPSBoc2wubCArIChwYXNzT3B0aW9ucy5saWdodG5lc3MgfHwgMCkgKiBwYXNzO1xyXG4gICAgICAgICAgICAgICAgLy9pZiAobCA+IDEpIGwgLT0gTWF0aC5mbG9vcihsKTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChsID4gMSlcclxuICAgICAgICAgICAgICAgICAgICBsIC09IDE7XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMucHVzaChDb2xvci5mcm9tSFNMKGgsIHMsIGwpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIFtbQ29sb3JdXSBhdCBzcGVjaWZpYyBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGVyZSdzIG5vIGNvbG9yIGF0IHRoaXMgaW5kZXgsIGEgbmV3IGNvbG9yIGlzIGdlbmVyYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBpbmRleCAgSW5kZXhcclxuICAgICAqIEByZXR1cm4gICAgICAgICBDb2xvclxyXG4gICAgICovXHJcbiAgICBnZXRJbmRleChpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IHRoaXMuZ2V0KFwiY29sb3JzXCIsIFtdKTtcclxuICAgICAgICBjb25zdCBzYXR1cmF0aW9uID0gdGhpcy5nZXQoXCJzYXR1cmF0aW9uXCIpO1xyXG4gICAgICAgIGlmIChpbmRleCA+PSBjb2xvcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVDb2xvcnMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5kZXgoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2F0dXJhdGlvbiAhPSBudWxsID8gQ29sb3Iuc2F0dXJhdGUoY29sb3JzW2luZGV4XSwgc2F0dXJhdGlvbikgOiBjb2xvcnNbaW5kZXhdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIG5leHQgW1tDb2xvcl1dIGluIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZSBsaXN0IGlzIG91dCBvZiBjb2xvcnMsIG5ldyBvbmVzIGFyZSBnZW5lcmF0ZWQgZHluYW1pY2FsbHkuXHJcbiAgICAgKi9cclxuICAgIG5leHQoKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTdGVwID0gdGhpcy5nZXRQcml2YXRlKFwiY3VycmVudFN0ZXBcIiwgdGhpcy5nZXQoXCJzdGFydEluZGV4XCIsIDApKTtcclxuICAgICAgICB0aGlzLnNldFByaXZhdGUoXCJjdXJyZW50U3RlcFwiLCBjdXJyZW50U3RlcCArIHRoaXMuZ2V0KFwic3RlcFwiLCAxKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5kZXgoY3VycmVudFN0ZXApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldHMgY291bnRlciB0byB0aGUgc3RhcnQgb2YgdGhlIGxpc3QsIHNvIHRoZSBuZXh0IGNhbGwgZm9yIGBuZXh0KClgIHdpbGxcclxuICAgICAqIHJldHVybiB0aGUgZmlyc3QgY29sb3IuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcImN1cnJlbnRTdGVwXCIsIHRoaXMuZ2V0KFwic3RhcnRJbmRleFwiLCAwKSk7XHJcbiAgICAgICAgdGhpcy5zZXRQcml2YXRlKFwiY3VycmVudFBhc3NcIiwgMCk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbG9yU2V0LCBcImNsYXNzTmFtZVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogXCJDb2xvclNldFwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3JTZXQsIFwiY2xhc3NOYW1lc1wiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogRW50aXR5LmNsYXNzTmFtZXMuY29uY2F0KFtDb2xvclNldC5jbGFzc05hbWVdKVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sb3JTZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonData: () => (/* binding */ JsonData),\n/* harmony export */   ListData: () => (/* binding */ ListData)\n/* harmony export */ });\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./List */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\");\n\r\n/**\r\n * A [[List]] that holds components data.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n */\r\nclass ListData extends _List__WEBPACK_IMPORTED_MODULE_0__.List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * An optional processor for data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\r\n         */\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    incrementRef() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    decrementRef() { }\r\n    _onPush(newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onPush(newValue);\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onInsertIndex(index, newValue);\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.processor) {\r\n            this.processor.processRow(newValue);\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n}\r\n/**\r\n * @deprecated\r\n * @todo remove\r\n */\r\nclass JsonData {\r\n    constructor(value) {\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = value;\r\n    }\r\n    incrementRef() { }\r\n    decrementRef() { }\r\n}\r\n//# sourceMappingURL=Data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0RhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdURBQXVEO0FBQ2hFO0FBQ08sdUJBQXVCLHVDQUFJO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQTJFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9EYXRhLmpzPzIxMmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGlzdCB9IGZyb20gXCIuL0xpc3RcIjtcclxuLyoqXHJcbiAqIEEgW1tMaXN0XV0gdGhhdCBob2xkcyBjb21wb25lbnRzIGRhdGEuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2RhdGEvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGlzdERhdGEgZXh0ZW5kcyBMaXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW4gb3B0aW9uYWwgcHJvY2Vzc29yIGZvciBkYXRhLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZGF0YS8jUHJlX3Byb2Nlc3NpbmdfZGF0YX0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb2Nlc3NvclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBpbmNyZW1lbnRSZWYoKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBkZWNyZW1lbnRSZWYoKSB7IH1cclxuICAgIF9vblB1c2gobmV3VmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9jZXNzb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzc1JvdyhuZXdWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLl9vblB1c2gobmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgX29uSW5zZXJ0SW5kZXgoaW5kZXgsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc29yKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3NSb3cobmV3VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fb25JbnNlcnRJbmRleChpbmRleCwgbmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgX29uU2V0SW5kZXgoaW5kZXgsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3Nvcikge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzUm93KG5ld1ZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuX29uU2V0SW5kZXgoaW5kZXgsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBkZXByZWNhdGVkXHJcbiAqIEB0b2RvIHJlbW92ZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEpzb25EYXRhIHtcclxuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvY2Vzc29yXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl92YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgaW5jcmVtZW50UmVmKCkgeyB9XHJcbiAgICBkZWNyZW1lbnRSZWYoKSB7IH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXRhLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DateFormatter: () => (/* binding */ DateFormatter)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _TextFormatter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/* harmony import */ var _Timezone__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Timezone */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Date formatter class.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n * @important\r\n */\r\nclass DateFormatter extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    _setDefaults() {\r\n        // Defaults\r\n        this._setDefault(\"capitalize\", true);\r\n        this._setDefault(\"dateFormat\", \"yyyy-MM-dd\");\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats a source `Date` object into string format\r\n     * @param   source          inpout date\r\n     * @param   format          Output format\r\n     * @param   ignoreTimezone  Ignore timezone?\r\n     * @return                  Formatted date\r\n     */\r\n    format(source, format, ignoreTimezone = false) {\r\n        // Locale?\r\n        // TODO\r\n        // No format passed in or it's empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            format = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n        }\r\n        // Init return value\r\n        let formatted;\r\n        // Cast?\r\n        // TODO: decide if we need to cast\r\n        let date = source;\r\n        // Is it a built-in format or Intl.DateTimeFormat\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isObject(format)) {\r\n            try {\r\n                const locales = this.get(\"intlLocales\");\r\n                if (locales) {\r\n                    return new Intl.DateTimeFormat(locales, format).format(date);\r\n                }\r\n                else {\r\n                    return new Intl.DateTimeFormat(undefined, format).format(date);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        // get format info (it will also deal with parser caching)\r\n        let info = this.parseFormat(format);\r\n        // Should we apply custom time zone?\r\n        const timezone = this._root.timezone;\r\n        let originalDate = date;\r\n        if (timezone && !this._root.utc && !ignoreTimezone) {\r\n            date = timezone.convertLocal(date);\r\n        }\r\n        // Check if it's a valid date\r\n        if (!_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(date.getTime())) {\r\n            // TODO translation\r\n            //return this._t(\"Invalid date\");\r\n            return \"Invalid date\";\r\n        }\r\n        // Apply format\r\n        formatted = this.applyFormat(date, info, ignoreTimezone, originalDate);\r\n        // Capitalize\r\n        if (this.get(\"capitalize\")) {\r\n            formatted = formatted.replace(/^.{1}/, formatted.substr(0, 1).toUpperCase());\r\n        }\r\n        // We're done\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Applies format to Date.\r\n     *\r\n     * @param date      Date object\r\n     * @param info      Parsed format information\r\n     * @return Formatted date string\r\n     */\r\n    applyFormat(date, info, ignoreTimezone = false, originalDate) {\r\n        // Init return value\r\n        let res = info.template;\r\n        // Get values\r\n        let fullYear, month, weekday, day, hours, minutes, seconds, milliseconds, timestamp = date.getTime();\r\n        if (this._root.utc && !ignoreTimezone) {\r\n            fullYear = date.getUTCFullYear();\r\n            month = date.getUTCMonth();\r\n            weekday = date.getUTCDay();\r\n            day = date.getUTCDate();\r\n            hours = date.getUTCHours();\r\n            minutes = date.getUTCMinutes();\r\n            seconds = date.getUTCSeconds();\r\n            milliseconds = date.getUTCMilliseconds();\r\n        }\r\n        else {\r\n            fullYear = date.getFullYear();\r\n            month = date.getMonth();\r\n            weekday = date.getDay();\r\n            day = date.getDate();\r\n            hours = date.getHours();\r\n            minutes = date.getMinutes();\r\n            seconds = date.getSeconds();\r\n            milliseconds = date.getMilliseconds();\r\n        }\r\n        // Go through each part and format/replace it in template\r\n        for (let i = 0, len = info.parts.length; i < len; i++) {\r\n            let value = \"\";\r\n            switch (info.parts[i]) {\r\n                case \"G\":\r\n                    value = this._t(fullYear < 0\r\n                        ? \"_era_bc\"\r\n                        : \"_era_ad\");\r\n                    break;\r\n                case \"yyyy\":\r\n                    value = Math.abs(fullYear).toString();\r\n                    if (fullYear < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"yyy\":\r\n                case \"yy\":\r\n                case \"y\":\r\n                    value = Math.abs(fullYear).toString().substr(-info.parts[i].length);\r\n                    if (fullYear < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                    let year = _Utils__WEBPACK_IMPORTED_MODULE_2__.getWeekYear(date, this._root.utc);\r\n                    if (info.parts[i] == \"YYYY\") {\r\n                        value = Math.abs(year).toString();\r\n                    }\r\n                    else {\r\n                        value = Math.abs(year).toString().substr(-info.parts[i].length);\r\n                    }\r\n                    if (year < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"u\":\r\n                    // @todo\r\n                    break;\r\n                case \"q\":\r\n                    value = \"\" + Math.ceil((date.getMonth() + 1) / 3);\r\n                    break;\r\n                case \"MMMMM\":\r\n                    value = this._t(this._getMonth(month)).substr(0, 1);\r\n                    break;\r\n                case \"MMMM\":\r\n                    value = this._t(this._getMonth(month));\r\n                    break;\r\n                case \"MMM\":\r\n                    value = this._t(this._getShortMonth(month));\r\n                    break;\r\n                case \"MM\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(month + 1, 2, \"0\");\r\n                    break;\r\n                case \"M\":\r\n                    value = (month + 1).toString();\r\n                    break;\r\n                case \"ww\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(_Utils__WEBPACK_IMPORTED_MODULE_2__.getWeek(date, this._root.utc), 2, \"0\");\r\n                    break;\r\n                case \"w\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getWeek(date, this._root.utc).toString();\r\n                    break;\r\n                case \"W\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getMonthWeek(date, this._root.utc).toString();\r\n                    break;\r\n                case \"dd\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(day, 2, \"0\");\r\n                    break;\r\n                case \"d\":\r\n                    value = day.toString();\r\n                    break;\r\n                case \"DD\":\r\n                case \"DDD\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(_Utils__WEBPACK_IMPORTED_MODULE_2__.getYearDay(date, this._root.utc).toString(), info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"D\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getYearDay(date, this._root.utc).toString();\r\n                    break;\r\n                case \"F\":\r\n                    // @todo\r\n                    break;\r\n                case \"g\":\r\n                    // @todo\r\n                    break;\r\n                case \"t\":\r\n                    value = this._root.language.translateFunc(\"_dateOrd\").call(this, day);\r\n                    break;\r\n                case \"E\":\r\n                    value = (weekday || 7).toString();\r\n                    break;\r\n                case \"EE\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString((weekday || 7).toString(), 2, \"0\");\r\n                    break;\r\n                case \"EEE\":\r\n                case \"eee\":\r\n                    value = this._t(this._getShortWeekday(weekday));\r\n                    break;\r\n                case \"EEEE\":\r\n                case \"eeee\":\r\n                    value = this._t(this._getWeekday(weekday));\r\n                    break;\r\n                case \"EEEEE\":\r\n                case \"eeeee\":\r\n                    value = this._t(this._getShortWeekday(weekday)).substr(0, 1);\r\n                    break;\r\n                case \"e\":\r\n                case \"ee\":\r\n                    value = (weekday - (this._root.locale.firstDayOfWeek || 1) + 1).toString();\r\n                    if (info.parts[i] == \"ee\") {\r\n                        value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(value, 2, \"0\");\r\n                    }\r\n                    break;\r\n                case \"a\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"PM\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"AM\");\r\n                    }\r\n                    break;\r\n                case \"aa\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"P.M.\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"A.M.\");\r\n                    }\r\n                    break;\r\n                case \"aaa\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"P\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"A\");\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.get12Hours(hours).toString();\r\n                    break;\r\n                case \"hh\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(_Utils__WEBPACK_IMPORTED_MODULE_2__.get12Hours(hours), 2, \"0\");\r\n                    break;\r\n                case \"H\":\r\n                    value = hours.toString();\r\n                    break;\r\n                case \"HH\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(hours, 2, \"0\");\r\n                    break;\r\n                case \"K\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.get12Hours(hours, 0).toString();\r\n                    break;\r\n                case \"KK\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(_Utils__WEBPACK_IMPORTED_MODULE_2__.get12Hours(hours, 0), 2, \"0\");\r\n                    break;\r\n                case \"k\":\r\n                    value = (hours + 1).toString();\r\n                    break;\r\n                case \"kk\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(hours + 1, 2, \"0\");\r\n                    break;\r\n                case \"m\":\r\n                    value = minutes.toString();\r\n                    break;\r\n                case \"mm\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(minutes, 2, \"0\");\r\n                    break;\r\n                case \"s\":\r\n                    value = seconds.toString();\r\n                    break;\r\n                case \"ss\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(seconds, 2, \"0\");\r\n                    break;\r\n                case \"S\":\r\n                case \"SS\":\r\n                case \"SSS\":\r\n                    value = Math.round((milliseconds / 1000) * Math.pow(10, info.parts[i].length)).toString();\r\n                    break;\r\n                case \"x\":\r\n                    value = timestamp.toString();\r\n                    break;\r\n                case \"n\":\r\n                case \"nn\":\r\n                case \"nnn\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(milliseconds, info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"z\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimeZone(originalDate || date, false, false, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined).replace(/[+-]+[0-9]+$/, \"\");\r\n                    break;\r\n                case \"zz\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimeZone(originalDate || date, true, false, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined);\r\n                    break;\r\n                case \"zzz\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimeZone(originalDate || date, false, true, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined).replace(/[+-]+[0-9]+$/, \"\");\r\n                    break;\r\n                case \"zzzz\":\r\n                    value = _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimeZone(originalDate || date, true, true, this._root.utc, this._root.timezone ? this._root.timezone.name : undefined);\r\n                    break;\r\n                case \"Z\":\r\n                case \"ZZ\":\r\n                    let timezone = this._root.utc ? \"UTC\" : this._root.timezone;\r\n                    if (timezone instanceof _Timezone__WEBPACK_IMPORTED_MODULE_3__.Timezone) {\r\n                        timezone = timezone.name;\r\n                    }\r\n                    const offset = timezone ? _Utils__WEBPACK_IMPORTED_MODULE_2__.getTimezoneOffset(timezone, originalDate || date) : date.getTimezoneOffset();\r\n                    let tz = Math.abs(offset) / 60;\r\n                    let tzh = Math.floor(tz);\r\n                    let tzm = tz * 60 - tzh * 60;\r\n                    if (this._root.utc) {\r\n                        tzh = 0;\r\n                        tzm = 0;\r\n                    }\r\n                    if (info.parts[i] == \"Z\") {\r\n                        value = \"GMT\";\r\n                        value += offset > 0 ? \"-\" : \"+\";\r\n                        value += _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(tzh, 2) + \":\" + _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(tzm, 2);\r\n                    }\r\n                    else {\r\n                        value = offset > 0 ? \"-\" : \"+\";\r\n                        value += _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(tzh, 2) + _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(tzm, 2);\r\n                    }\r\n                    break;\r\n                case \"i\":\r\n                    value = date.toISOString();\r\n                    break;\r\n                case \"I\":\r\n                    value = date.toUTCString();\r\n                    break;\r\n            }\r\n            res = res.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER, value);\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Parses format into structured infromation.\r\n     *\r\n     * @param format Format template\r\n     */\r\n    parseFormat(format) {\r\n        // Check cache\r\n        // TODO: implement caching of the parsed format\r\n        // Init format parse info holder\r\n        let info = {\r\n            \"template\": \"\",\r\n            \"parts\": []\r\n        };\r\n        // Let TextFormatter split into chunks\r\n        let chunks = _TextFormatter__WEBPACK_IMPORTED_MODULE_4__.TextFormatter.chunk(format, true);\r\n        for (let i = 0; i < chunks.length; i++) {\r\n            let chunk = chunks[i];\r\n            if (chunk.type === \"value\") {\r\n                // Just \"Date\"?\r\n                if (chunk.text.match(/^date$/i)) {\r\n                    let dateFormat = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n                    if (!_Type__WEBPACK_IMPORTED_MODULE_1__.isString(dateFormat)) {\r\n                        dateFormat = \"yyyy-MM-dd\";\r\n                    }\r\n                    chunk.text = dateFormat;\r\n                }\r\n                // Find all possible parts\r\n                let matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);\r\n                // Found?\r\n                if (matches) {\r\n                    // Populate template\r\n                    for (let x = 0; x < matches.length; x++) {\r\n                        info.parts.push(matches[x]);\r\n                        chunk.text = chunk.text.replace(matches[x], _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER);\r\n                    }\r\n                }\r\n            }\r\n            // Apply to template\r\n            info.template += chunk.text;\r\n        }\r\n        // Save cache\r\n        // TODO\r\n        return info;\r\n    }\r\n    _months() {\r\n        return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    }\r\n    _getMonth(index) {\r\n        return this._months()[index];\r\n    }\r\n    _shortMonths() {\r\n        return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May(short)\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n    }\r\n    _getShortMonth(index) {\r\n        return this._shortMonths()[index];\r\n    }\r\n    _weekdays() {\r\n        return [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    }\r\n    _getWeekday(index) {\r\n        return this._weekdays()[index];\r\n    }\r\n    _shortWeekdays() {\r\n        return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    }\r\n    _getShortWeekday(index) {\r\n        return this._shortWeekdays()[index];\r\n    }\r\n    parse(source, format, utc) {\r\n        // If UTC is not supplied, use Root setting\r\n        if (typeof utc === \"undefined\") {\r\n            utc = this._root.utc;\r\n        }\r\n        // Is it already a Date\r\n        if (source instanceof Date) {\r\n            return source;\r\n        }\r\n        // Is it a numeric timestamp\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(source)) {\r\n            return new Date(source);\r\n        }\r\n        // Are we parsing a timestamp?\r\n        if (format == \"x\") {\r\n            return new Date(parseInt(source));\r\n        }\r\n        // No? Let's check if it's string, and try converting to it if nec\r\n        if (!_Type__WEBPACK_IMPORTED_MODULE_1__.isString(source)) {\r\n            source = source.toString();\r\n        }\r\n        // Init return value\r\n        let res;\r\n        // Init RegEx for parsing\r\n        let reg = \"\";\r\n        // Clean format\r\n        format = _Utils__WEBPACK_IMPORTED_MODULE_2__.cleanFormat(format);\r\n        // Clip format to length of the source string\r\n        format = format.substr(0, source.length);\r\n        // Parse format\r\n        let info = this.parseFormat(format);\r\n        // Init parsed items holder\r\n        let parsedIndexes = {\r\n            \"year\": -1,\r\n            \"year3\": -1,\r\n            \"year2\": -1,\r\n            \"year1\": -1,\r\n            \"month\": -1,\r\n            \"monthShort\": -1,\r\n            \"monthLong\": -1,\r\n            \"weekdayShort\": -1,\r\n            \"weekdayLong\": -1,\r\n            \"day\": -1,\r\n            \"yearDay\": -1,\r\n            \"week\": -1,\r\n            \"hourBase0\": -1,\r\n            \"hour12Base0\": -1,\r\n            \"hourBase1\": -1,\r\n            \"hour12Base1\": -1,\r\n            \"minute\": -1,\r\n            \"second\": -1,\r\n            \"millisecond\": -1,\r\n            \"millisecondDigits\": -1,\r\n            \"am\": -1,\r\n            \"zone\": -1,\r\n            \"timestamp\": -1,\r\n            \"iso\": -1\r\n        };\r\n        // Init values\r\n        let resValues = {\r\n            \"year\": 1970,\r\n            \"month\": 0,\r\n            \"day\": 1,\r\n            \"hour\": 0,\r\n            \"minute\": 0,\r\n            \"second\": 0,\r\n            \"millisecond\": 0,\r\n            \"timestamp\": null,\r\n            \"offset\": 0,\r\n            \"utc\": utc\r\n        };\r\n        // Index adjuster\r\n        let indexAdjust = 0;\r\n        let index = 0;\r\n        // Iterate through all of the parts\r\n        for (let i = 0; i < info.parts.length; i++) {\r\n            // Set current match index\r\n            index = i + indexAdjust + 1;\r\n            switch (info.parts[i]) {\r\n                case \"yyyy\":\r\n                case \"YYYY\":\r\n                    reg += \"([0-9]{4})\";\r\n                    parsedIndexes.year = index;\r\n                    break;\r\n                case \"yyy\":\r\n                case \"YYY\":\r\n                    reg += \"([0-9]{3})\";\r\n                    parsedIndexes.year3 = index;\r\n                    break;\r\n                case \"yy\":\r\n                case \"YY\":\r\n                    reg += \"([0-9]{2})\";\r\n                    parsedIndexes.year2 = index;\r\n                    break;\r\n                case \"y\":\r\n                case \"Y\":\r\n                    reg += \"([0-9]{1})\";\r\n                    parsedIndexes.year1 = index;\r\n                    break;\r\n                case \"MMMM\":\r\n                    reg += \"(\" + this.getStringList(this._months()).join(\"|\") + \")\";\r\n                    parsedIndexes.monthLong = index;\r\n                    break;\r\n                case \"MMM\":\r\n                    reg += \"(\" + this.getStringList(this._shortMonths()).join(\"|\") + \")\";\r\n                    parsedIndexes.monthShort = index;\r\n                    break;\r\n                case \"MM\":\r\n                case \"M\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.month = index;\r\n                    break;\r\n                case \"ww\":\r\n                case \"w\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.week = index;\r\n                    break;\r\n                case \"dd\":\r\n                case \"d\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.day = index;\r\n                    break;\r\n                case \"DDD\":\r\n                case \"DD\":\r\n                case \"D\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.yearDay = index;\r\n                    break;\r\n                case \"dddd\":\r\n                    reg += \"(\" + this.getStringList(this._weekdays()).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayLong = index;\r\n                    break;\r\n                case \"ddd\":\r\n                    reg += \"(\" + this.getStringList(this._shortWeekdays()).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayShort = index;\r\n                    break;\r\n                case \"aaa\":\r\n                case \"aa\":\r\n                case \"a\":\r\n                    // TODO: fix (escape regex)\r\n                    reg += \"(\" + this.getStringList([\"AM\", \"PM\", \"A\\.M\\.\", \"P\\.M\\.\", \"A\", \"P\"]).join(\"|\") + \")\";\r\n                    parsedIndexes.am = index;\r\n                    break;\r\n                case \"hh\":\r\n                case \"h\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base1 = index;\r\n                    break;\r\n                case \"HH\":\r\n                case \"H\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase0 = index;\r\n                    break;\r\n                case \"KK\":\r\n                case \"K\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base0 = index;\r\n                    break;\r\n                case \"kk\":\r\n                case \"k\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase1 = index;\r\n                    break;\r\n                case \"mm\":\r\n                case \"m\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.minute = index;\r\n                    break;\r\n                case \"ss\":\r\n                case \"s\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.second = index;\r\n                    break;\r\n                case \"SSS\":\r\n                case \"SS\":\r\n                case \"S\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    parsedIndexes.millisecondDigits = info.parts[i].length;\r\n                    break;\r\n                case \"nnn\":\r\n                case \"nn\":\r\n                case \"n\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    break;\r\n                case \"x\":\r\n                    reg += \"([0-9]{1,})\";\r\n                    parsedIndexes.timestamp = index;\r\n                    break;\r\n                case \"Z\":\r\n                    reg += \"GMT([-+]+[0-9]{2}:[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"ZZ\":\r\n                    reg += \"([\\\\-+]+[0-9]{2}[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"i\":\r\n                    reg += \"([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\\\.?([0-9]{0,3})([zZ]|[+\\\\-][0-9]{2}:?[0-9]{2}|$)\";\r\n                    parsedIndexes.iso = index;\r\n                    indexAdjust += 7;\r\n                    break;\r\n                case \"G\":\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                case \"MMMMM\":\r\n                case \"W\":\r\n                case \"EEEEE\":\r\n                case \"EEEE\":\r\n                case \"EEE\":\r\n                case \"EE\":\r\n                case \"E\":\r\n                case \"eeeee\":\r\n                case \"eeee\":\r\n                case \"eee\":\r\n                case \"ee\":\r\n                case \"e\":\r\n                case \"zzzz\":\r\n                case \"zzz\":\r\n                case \"zz\":\r\n                case \"z\":\r\n                case \"t\":\r\n                    // Ignore\r\n                    indexAdjust--;\r\n                    break;\r\n            }\r\n            reg += \"[^0-9]*\";\r\n        }\r\n        // Try matching\r\n        let regex = new RegExp(reg);\r\n        let matches = source.match(regex);\r\n        if (matches) {\r\n            // Populate the date object\r\n            // Full year\r\n            if (parsedIndexes.year > -1) {\r\n                resValues.year = parseInt(matches[parsedIndexes.year]);\r\n            }\r\n            // 3-digit year\r\n            if (parsedIndexes.year3 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year3]);\r\n                val += 1000;\r\n                resValues.year = val;\r\n            }\r\n            // 2-digit year\r\n            if (parsedIndexes.year2 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year2]);\r\n                if (val > 50) {\r\n                    val += 1000;\r\n                }\r\n                else {\r\n                    val += 2000;\r\n                }\r\n                resValues.year = val;\r\n            }\r\n            // 1-digit year\r\n            if (parsedIndexes.year1 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year1]);\r\n                val = Math.floor((new Date().getFullYear()) / 10) * 10 + val;\r\n                resValues.year = val;\r\n            }\r\n            // Full month\r\n            if (parsedIndexes.monthLong > -1) {\r\n                resValues.month = this.resolveMonth(matches[parsedIndexes.monthLong]);\r\n            }\r\n            // Short month\r\n            if (parsedIndexes.monthShort > -1) {\r\n                resValues.month = this.resolveShortMonth(matches[parsedIndexes.monthShort]);\r\n            }\r\n            // Numeric month\r\n            if (parsedIndexes.month > -1) {\r\n                resValues.month = parseInt(matches[parsedIndexes.month]) - 1;\r\n            }\r\n            // Weekday\r\n            // @todo\r\n            // Week\r\n            if ((parsedIndexes.week > -1) && (parsedIndexes.day === -1)) {\r\n                // We parse weeks ONLY if day is not explicitly set\r\n                // TODO: this needs work\r\n                // (but maybe later - I can hardly imagine anyone passing their dates in weeks)\r\n                resValues.month = 0;\r\n                resValues.day = _Utils__WEBPACK_IMPORTED_MODULE_2__.getDayFromWeek(parseInt(matches[parsedIndexes.week]), resValues.year, 1, utc);\r\n            }\r\n            // Day\r\n            if (parsedIndexes.day > -1) {\r\n                resValues.day = parseInt(matches[parsedIndexes.day]);\r\n            }\r\n            // Year day\r\n            if (parsedIndexes.yearDay > -1) {\r\n                resValues.month = 0;\r\n                resValues.day = parseInt(matches[parsedIndexes.yearDay]);\r\n            }\r\n            // 24 Hour (0-23)\r\n            if (parsedIndexes.hourBase0 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase0]);\r\n            }\r\n            // 24 Hour (1-24)\r\n            if (parsedIndexes.hourBase1 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase1]) - 1;\r\n            }\r\n            // 12 Hour (0-11)\r\n            if (parsedIndexes.hour12Base0 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.hour12Base0]);\r\n                if (val == 11) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // 12 Hour (1-12)\r\n            if (parsedIndexes.hour12Base1 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.hour12Base1]);\r\n                if (val == 12) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // Minute\r\n            if (parsedIndexes.minute > -1) {\r\n                resValues.minute = parseInt(matches[parsedIndexes.minute]);\r\n            }\r\n            // Second\r\n            if (parsedIndexes.second > -1) {\r\n                resValues.second = parseInt(matches[parsedIndexes.second]);\r\n            }\r\n            // Millisecond\r\n            if (parsedIndexes.millisecond > -1) {\r\n                let val = parseInt(matches[parsedIndexes.millisecond]);\r\n                if (parsedIndexes.millisecondDigits == 2) {\r\n                    val *= 10;\r\n                }\r\n                else if (parsedIndexes.millisecondDigits == 1) {\r\n                    val *= 100;\r\n                }\r\n                resValues.millisecond = val;\r\n            }\r\n            // Timestamp\r\n            if (parsedIndexes.timestamp > -1) {\r\n                resValues.timestamp = parseInt(matches[parsedIndexes.timestamp]);\r\n                const ts = new Date(resValues.timestamp);\r\n                resValues.year = ts.getUTCFullYear();\r\n                resValues.month = ts.getUTCMonth();\r\n                resValues.day = ts.getUTCDate();\r\n                resValues.hour = ts.getUTCHours();\r\n                resValues.minute = ts.getUTCMinutes();\r\n                resValues.second = ts.getUTCSeconds();\r\n                resValues.millisecond = ts.getUTCMilliseconds();\r\n            }\r\n            // Adjust time zone\r\n            if (parsedIndexes.zone > -1) {\r\n                resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.zone]);\r\n            }\r\n            // ISO\r\n            if (parsedIndexes.iso > -1) {\r\n                resValues.year = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 0]);\r\n                resValues.month = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 1]) - 1;\r\n                resValues.day = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 2]);\r\n                resValues.hour = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 3]);\r\n                resValues.minute = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 4]);\r\n                resValues.second = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 5]);\r\n                resValues.millisecond = _Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(matches[parsedIndexes.iso + 6]);\r\n                if (matches[parsedIndexes.iso + 7] == \"Z\" || matches[parsedIndexes.iso + 7] == \"z\") {\r\n                    resValues.utc = true;\r\n                }\r\n                else if (matches[parsedIndexes.iso + 7] != \"\") {\r\n                    resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.iso + 7]);\r\n                }\r\n            }\r\n            // Create Date object\r\n            if (resValues.utc) {\r\n                res = new Date(Date.UTC(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute, resValues.second, resValues.millisecond));\r\n            }\r\n            else {\r\n                res = new Date(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute + resValues.offset, resValues.second, resValues.millisecond);\r\n            }\r\n        }\r\n        else {\r\n            // Didn't match anything\r\n            // Let's try dropping it into Date constructor and hope for the best\r\n            res = new Date(source);\r\n        }\r\n        return res;\r\n    }\r\n    resolveTimezoneOffset(date, zone) {\r\n        let value = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n        if (value) {\r\n            let match = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n            let dir = match[1];\r\n            let hour = match[2];\r\n            let minute = match[3];\r\n            let offset = parseInt(hour) * 60 + parseInt(minute);\r\n            // Adjust offset\r\n            // Making it negative does not seem to make sense, but it's right\r\n            // because of how JavaScript calculates GMT offsets\r\n            if (dir == \"+\") {\r\n                offset *= -1;\r\n            }\r\n            // Check the difference in offset\r\n            let originalOffset = (date || new Date()).getTimezoneOffset();\r\n            let diff = offset - originalOffset;\r\n            return diff;\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Resolves month name (i.e. \"December\") into a month number (11).\r\n     *\r\n     * @param value  Month name\r\n     * @return Month number\r\n     */\r\n    resolveMonth(value) {\r\n        // Let's try English first\r\n        let month = this._months().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (!this._root.language.isDefault()) {\r\n            month = this._root.language.translateAll(this._months()).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Resolves short month name (i.e. \"Dec\") into a month number.\r\n     *\r\n     * @param value  Short month name\r\n     * @return Month number\r\n     */\r\n    resolveShortMonth(value) {\r\n        // Let's try English first\r\n        let month = this._shortMonths().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Maybe long month (workaround for May)\r\n        month = this._months().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (this._root.language && !this._root.language.isDefault()) {\r\n            month = this._root.language.translateAll(this._shortMonths()).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Checks if passed in string represents AM/PM notation in many of its\r\n     * versions.\r\n     *\r\n     * @param value  Source string\r\n     * @return Is it AM/PM?\r\n     */\r\n    isAm(value) {\r\n        let list = this.getStringList([\"AM\", \"A.M.\", \"A\"]);\r\n        return list.indexOf(value.toUpperCase()) > -1;\r\n    }\r\n    /**\r\n     * Translates list of strings.\r\n     *\r\n     * @param list  Source strings\r\n     * @return Translated strings\r\n     */\r\n    getStringList(list) {\r\n        let res = [];\r\n        for (let i = 0; i < list.length; i++) {\r\n            // translate?\r\n            if (this._root.language) {\r\n                res.push(_Utils__WEBPACK_IMPORTED_MODULE_2__.escapeForRgex(this._t(list[i])));\r\n            }\r\n            else {\r\n                res.push(_Utils__WEBPACK_IMPORTED_MODULE_2__.escapeForRgex(list[i]));\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n}\r\n//# sourceMappingURL=DateFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0RhdGVGb3JtYXR0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWtDO0FBQ2M7QUFDVjtBQUNOO0FBQ0U7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4RUFBOEU7QUFDdkY7QUFDQTtBQUNPLDRCQUE0QiwyQ0FBTTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQ0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxFQUFFO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFNBQVM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0NBQWtCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCLENBQUMsMkNBQWM7QUFDM0Q7QUFDQTtBQUNBLDRCQUE0QiwyQ0FBYztBQUMxQztBQUNBO0FBQ0EsNEJBQTRCLGdEQUFtQjtBQUMvQztBQUNBO0FBQ0EsNEJBQTRCLDZDQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCLENBQUMsOENBQWlCO0FBQzlEO0FBQ0E7QUFDQSw0QkFBNEIsOENBQWlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNkNBQWdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBaUI7QUFDN0M7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBZ0IsQ0FBQyw4Q0FBaUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBZ0I7QUFDNUM7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBaUI7QUFDN0M7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBZ0IsQ0FBQyw4Q0FBaUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFnQjtBQUM1QztBQUNBO0FBQ0EsNEJBQTRCLCtDQUFrQjtBQUM5QztBQUNBO0FBQ0EsNEJBQTRCLCtDQUFrQjtBQUM5QztBQUNBO0FBQ0EsNEJBQTRCLCtDQUFrQjtBQUM5QztBQUNBO0FBQ0EsNEJBQTRCLCtDQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywrQ0FBUTtBQUNwRDtBQUNBO0FBQ0EsOENBQThDLHFEQUF3QjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw2Q0FBZ0IsaUJBQWlCLDZDQUFnQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNkNBQWdCLFdBQVcsNkNBQWdCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBaUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBYTtBQUNsQyx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBLG9FQUFvRSw4Q0FBaUI7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJDQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtDQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEVBQUU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxPQUFPLEVBQUU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsR0FBRztBQUN0QztBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsRUFBRSxPQUFPLEVBQUU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLEVBQUUsTUFBTSxFQUFFO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsWUFBWSxJQUFJLG1CQUFtQixFQUFFLFFBQVEsRUFBRTtBQUNoSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtEQUFxQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDJDQUFjO0FBQy9DLGtDQUFrQywyQ0FBYztBQUNoRCxnQ0FBZ0MsMkNBQWM7QUFDOUMsaUNBQWlDLDJDQUFjO0FBQy9DLG1DQUFtQywyQ0FBYztBQUNqRCxtQ0FBbUMsMkNBQWM7QUFDakQsd0NBQXdDLDJDQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsRUFBRSxVQUFVLEVBQUU7QUFDN0Q7QUFDQSxtREFBbUQsRUFBRSxVQUFVLEVBQUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBLHlCQUF5QixpREFBb0I7QUFDN0M7QUFDQTtBQUNBLHlCQUF5QixpREFBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvRGF0ZUZvcm1hdHRlci5qcz80MjMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL0VudGl0eVwiO1xyXG5pbXBvcnQgeyBUZXh0Rm9ybWF0dGVyIH0gZnJvbSBcIi4vVGV4dEZvcm1hdHRlclwiO1xyXG5pbXBvcnQgeyBUaW1lem9uZSB9IGZyb20gXCIuL1RpbWV6b25lXCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcbi8qKlxyXG4gKiBEYXRlIGZvcm1hdHRlciBjbGFzcy5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZm9ybWF0dGVycy9mb3JtYXR0aW5nLWRhdGVzL30gZm9yIG1vcmUgaW5mb1xyXG4gKiBAaW1wb3J0YW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRGF0ZUZvcm1hdHRlciBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBfc2V0RGVmYXVsdHMoKSB7XHJcbiAgICAgICAgLy8gRGVmYXVsdHNcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0KFwiY2FwaXRhbGl6ZVwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0KFwiZGF0ZUZvcm1hdFwiLCBcInl5eXktTU0tZGRcIik7XHJcbiAgICAgICAgc3VwZXIuX3NldERlZmF1bHRzKCk7XHJcbiAgICB9XHJcbiAgICBfYmVmb3JlQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYmVmb3JlQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGb3JtYXRzIGEgc291cmNlIGBEYXRlYCBvYmplY3QgaW50byBzdHJpbmcgZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gICBzb3VyY2UgICAgICAgICAgaW5wb3V0IGRhdGVcclxuICAgICAqIEBwYXJhbSAgIGZvcm1hdCAgICAgICAgICBPdXRwdXQgZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gICBpZ25vcmVUaW1lem9uZSAgSWdub3JlIHRpbWV6b25lP1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICAgICAgIEZvcm1hdHRlZCBkYXRlXHJcbiAgICAgKi9cclxuICAgIGZvcm1hdChzb3VyY2UsIGZvcm1hdCwgaWdub3JlVGltZXpvbmUgPSBmYWxzZSkge1xyXG4gICAgICAgIC8vIExvY2FsZT9cclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gTm8gZm9ybWF0IHBhc3NlZCBpbiBvciBpdCdzIGVtcHR5XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09IFwidW5kZWZpbmVkXCIgfHwgZm9ybWF0ID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdCA9IHRoaXMuZ2V0KFwiZGF0ZUZvcm1hdFwiLCBcInl5eXktTU0tZGRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEluaXQgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZDtcclxuICAgICAgICAvLyBDYXN0P1xyXG4gICAgICAgIC8vIFRPRE86IGRlY2lkZSBpZiB3ZSBuZWVkIHRvIGNhc3RcclxuICAgICAgICBsZXQgZGF0ZSA9IHNvdXJjZTtcclxuICAgICAgICAvLyBJcyBpdCBhIGJ1aWx0LWluIGZvcm1hdCBvciBJbnRsLkRhdGVUaW1lRm9ybWF0XHJcbiAgICAgICAgaWYgKCR0eXBlLmlzT2JqZWN0KGZvcm1hdCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsZXMgPSB0aGlzLmdldChcImludGxMb2NhbGVzXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlcywgZm9ybWF0KS5mb3JtYXQoZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodW5kZWZpbmVkLCBmb3JtYXQpLmZvcm1hdChkYXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSW52YWxpZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGdldCBmb3JtYXQgaW5mbyAoaXQgd2lsbCBhbHNvIGRlYWwgd2l0aCBwYXJzZXIgY2FjaGluZylcclxuICAgICAgICBsZXQgaW5mbyA9IHRoaXMucGFyc2VGb3JtYXQoZm9ybWF0KTtcclxuICAgICAgICAvLyBTaG91bGQgd2UgYXBwbHkgY3VzdG9tIHRpbWUgem9uZT9cclxuICAgICAgICBjb25zdCB0aW1lem9uZSA9IHRoaXMuX3Jvb3QudGltZXpvbmU7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsRGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgaWYgKHRpbWV6b25lICYmICF0aGlzLl9yb290LnV0YyAmJiAhaWdub3JlVGltZXpvbmUpIHtcclxuICAgICAgICAgICAgZGF0ZSA9IHRpbWV6b25lLmNvbnZlcnRMb2NhbChkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIHZhbGlkIGRhdGVcclxuICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGRhdGUuZ2V0VGltZSgpKSkge1xyXG4gICAgICAgICAgICAvLyBUT0RPIHRyYW5zbGF0aW9uXHJcbiAgICAgICAgICAgIC8vcmV0dXJuIHRoaXMuX3QoXCJJbnZhbGlkIGRhdGVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkludmFsaWQgZGF0ZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBcHBseSBmb3JtYXRcclxuICAgICAgICBmb3JtYXR0ZWQgPSB0aGlzLmFwcGx5Rm9ybWF0KGRhdGUsIGluZm8sIGlnbm9yZVRpbWV6b25lLCBvcmlnaW5hbERhdGUpO1xyXG4gICAgICAgIC8vIENhcGl0YWxpemVcclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJjYXBpdGFsaXplXCIpKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9eLnsxfS8sIGZvcm1hdHRlZC5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFdlJ3JlIGRvbmVcclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBsaWVzIGZvcm1hdCB0byBEYXRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRlICAgICAgRGF0ZSBvYmplY3RcclxuICAgICAqIEBwYXJhbSBpbmZvICAgICAgUGFyc2VkIGZvcm1hdCBpbmZvcm1hdGlvblxyXG4gICAgICogQHJldHVybiBGb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgYXBwbHlGb3JtYXQoZGF0ZSwgaW5mbywgaWdub3JlVGltZXpvbmUgPSBmYWxzZSwgb3JpZ2luYWxEYXRlKSB7XHJcbiAgICAgICAgLy8gSW5pdCByZXR1cm4gdmFsdWVcclxuICAgICAgICBsZXQgcmVzID0gaW5mby50ZW1wbGF0ZTtcclxuICAgICAgICAvLyBHZXQgdmFsdWVzXHJcbiAgICAgICAgbGV0IGZ1bGxZZWFyLCBtb250aCwgd2Vla2RheSwgZGF5LCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzLCB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcclxuICAgICAgICBpZiAodGhpcy5fcm9vdC51dGMgJiYgIWlnbm9yZVRpbWV6b25lKSB7XHJcbiAgICAgICAgICAgIGZ1bGxZZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcclxuICAgICAgICAgICAgd2Vla2RheSA9IGRhdGUuZ2V0VVRDRGF5KCk7XHJcbiAgICAgICAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xyXG4gICAgICAgICAgICBob3VycyA9IGRhdGUuZ2V0VVRDSG91cnMoKTtcclxuICAgICAgICAgICAgbWludXRlcyA9IGRhdGUuZ2V0VVRDTWludXRlcygpO1xyXG4gICAgICAgICAgICBzZWNvbmRzID0gZGF0ZS5nZXRVVENTZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmdWxsWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkYXRlLmdldERheSgpO1xyXG4gICAgICAgICAgICBkYXkgPSBkYXRlLmdldERhdGUoKTtcclxuICAgICAgICAgICAgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKTtcclxuICAgICAgICAgICAgc2Vjb25kcyA9IGRhdGUuZ2V0U2Vjb25kcygpO1xyXG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgPSBkYXRlLmdldE1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHbyB0aHJvdWdoIGVhY2ggcGFydCBhbmQgZm9ybWF0L3JlcGxhY2UgaXQgaW4gdGVtcGxhdGVcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5mby5wYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGluZm8ucGFydHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJHXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90KGZ1bGxZZWFyIDwgMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiX2VyYV9iY1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJfZXJhX2FkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInl5eXlcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguYWJzKGZ1bGxZZWFyKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdWxsWWVhciA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy5fdChcIl9lcmFfYmNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInl5eVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInl5XCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5hYnMoZnVsbFllYXIpLnRvU3RyaW5nKCkuc3Vic3RyKC1pbmZvLnBhcnRzW2ldLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bGxZZWFyIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLl90KFwiX2VyYV9iY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVlZWVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIllZWVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIllZXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB5ZWFyID0gJHV0aWxzLmdldFdlZWtZZWFyKGRhdGUsIHRoaXMuX3Jvb3QudXRjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5wYXJ0c1tpXSA9PSBcIllZWVlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguYWJzKHllYXIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguYWJzKHllYXIpLnRvU3RyaW5nKCkuc3Vic3RyKC1pbmZvLnBhcnRzW2ldLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh5ZWFyIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLl90KFwiX2VyYV9iY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwicVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXCJcIiArIE1hdGguY2VpbCgoZGF0ZS5nZXRNb250aCgpICsgMSkgLyAzKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJNTU1NTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdCh0aGlzLl9nZXRNb250aChtb250aCkpLnN1YnN0cigwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJNTU1NXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90KHRoaXMuX2dldE1vbnRoKG1vbnRoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1NXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90KHRoaXMuX2dldFNob3J0TW9udGgobW9udGgpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJNTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLnBhZFN0cmluZyhtb250aCArIDEsIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJNXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAobW9udGggKyAxKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInd3XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKCR1dGlscy5nZXRXZWVrKGRhdGUsIHRoaXMuX3Jvb3QudXRjKSwgMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIndcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5nZXRXZWVrKGRhdGUsIHRoaXMuX3Jvb3QudXRjKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIldcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5nZXRNb250aFdlZWsoZGF0ZSwgdGhpcy5fcm9vdC51dGMpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGRcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcoZGF5LCAyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGF5LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRERcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJERERcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcoJHV0aWxzLmdldFllYXJEYXkoZGF0ZSwgdGhpcy5fcm9vdC51dGMpLnRvU3RyaW5nKCksIGluZm8ucGFydHNbaV0ubGVuZ3RoLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLmdldFllYXJEYXkoZGF0ZSwgdGhpcy5fcm9vdC51dGMpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0b2RvXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGVGdW5jKFwiX2RhdGVPcmRcIikuY2FsbCh0aGlzLCBkYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkVcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICh3ZWVrZGF5IHx8IDcpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcoKHdlZWtkYXkgfHwgNykudG9TdHJpbmcoKSwgMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkVFRVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVlZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdCh0aGlzLl9nZXRTaG9ydFdlZWtkYXkod2Vla2RheSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkVFRUVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZWVlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90KHRoaXMuX2dldFdlZWtkYXkod2Vla2RheSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkVFRUVFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWVlZWVcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3QodGhpcy5fZ2V0U2hvcnRXZWVrZGF5KHdlZWtkYXkpKS5zdWJzdHIoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAod2Vla2RheSAtICh0aGlzLl9yb290LmxvY2FsZS5maXJzdERheU9mV2VlayB8fCAxKSArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8ucGFydHNbaV0gPT0gXCJlZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLnBhZFN0cmluZyh2YWx1ZSwgMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXJzID49IDEyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdChcIlBNXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90KFwiQU1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFhXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXJzID49IDEyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdChcIlAuTS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3QoXCJBLk0uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhYWFcIjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaG91cnMgPj0gMTIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90KFwiUFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdChcIkFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImhcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5nZXQxMkhvdXJzKGhvdXJzKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImhoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKCR1dGlscy5nZXQxMkhvdXJzKGhvdXJzKSwgMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGhvdXJzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSEhcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcoaG91cnMsIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJLXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMuZ2V0MTJIb3Vycyhob3VycywgMCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJLS1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLnBhZFN0cmluZygkdXRpbHMuZ2V0MTJIb3Vycyhob3VycywgMCksIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAoaG91cnMgKyAxKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImtrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKGhvdXJzICsgMSwgMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1cIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1pbnV0ZXMudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtbVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJHV0aWxzLnBhZFN0cmluZyhtaW51dGVzLCAyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gc2Vjb25kcy50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMucGFkU3RyaW5nKHNlY29uZHMsIDIsIFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJTXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1NcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJTU1NcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQoKG1pbGxpc2Vjb25kcyAvIDEwMDApICogTWF0aC5wb3coMTAsIGluZm8ucGFydHNbaV0ubGVuZ3RoKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aW1lc3RhbXAudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJuXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibm5cIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJubm5cIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5wYWRTdHJpbmcobWlsbGlzZWNvbmRzLCBpbmZvLnBhcnRzW2ldLmxlbmd0aCwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInpcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5nZXRUaW1lWm9uZShvcmlnaW5hbERhdGUgfHwgZGF0ZSwgZmFsc2UsIGZhbHNlLCB0aGlzLl9yb290LnV0YywgdGhpcy5fcm9vdC50aW1lem9uZSA/IHRoaXMuX3Jvb3QudGltZXpvbmUubmFtZSA6IHVuZGVmaW5lZCkucmVwbGFjZSgvWystXStbMC05XSskLywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwienpcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5nZXRUaW1lWm9uZShvcmlnaW5hbERhdGUgfHwgZGF0ZSwgdHJ1ZSwgZmFsc2UsIHRoaXMuX3Jvb3QudXRjLCB0aGlzLl9yb290LnRpbWV6b25lID8gdGhpcy5fcm9vdC50aW1lem9uZS5uYW1lIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ6enpcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICR1dGlscy5nZXRUaW1lWm9uZShvcmlnaW5hbERhdGUgfHwgZGF0ZSwgZmFsc2UsIHRydWUsIHRoaXMuX3Jvb3QudXRjLCB0aGlzLl9yb290LnRpbWV6b25lID8gdGhpcy5fcm9vdC50aW1lem9uZS5uYW1lIDogdW5kZWZpbmVkKS5yZXBsYWNlKC9bKy1dK1swLTldKyQvLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ6enp6XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkdXRpbHMuZ2V0VGltZVpvbmUob3JpZ2luYWxEYXRlIHx8IGRhdGUsIHRydWUsIHRydWUsIHRoaXMuX3Jvb3QudXRjLCB0aGlzLl9yb290LnRpbWV6b25lID8gdGhpcy5fcm9vdC50aW1lem9uZS5uYW1lIDogdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWlpcIjpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGltZXpvbmUgPSB0aGlzLl9yb290LnV0YyA/IFwiVVRDXCIgOiB0aGlzLl9yb290LnRpbWV6b25lO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lem9uZSBpbnN0YW5jZW9mIFRpbWV6b25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWV6b25lID0gdGltZXpvbmUubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGltZXpvbmUgPyAkdXRpbHMuZ2V0VGltZXpvbmVPZmZzZXQodGltZXpvbmUsIG9yaWdpbmFsRGF0ZSB8fCBkYXRlKSA6IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHogPSBNYXRoLmFicyhvZmZzZXQpIC8gNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR6aCA9IE1hdGguZmxvb3IodHopO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0em0gPSB0eiAqIDYwIC0gdHpoICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Jvb3QudXRjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR6aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR6bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZvLnBhcnRzW2ldID09IFwiWlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXCJHTVRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9ICR1dGlscy5wYWRTdHJpbmcodHpoLCAyKSArIFwiOlwiICsgJHV0aWxzLnBhZFN0cmluZyh0em0sIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gJHV0aWxzLnBhZFN0cmluZyh0emgsIDIpICsgJHV0aWxzLnBhZFN0cmluZyh0em0sIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJpXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBkYXRlLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGF0ZS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcyA9IHJlcy5yZXBsYWNlKCR0eXBlLlBMQUNFSE9MREVSLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyBmb3JtYXQgaW50byBzdHJ1Y3R1cmVkIGluZnJvbWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmb3JtYXQgRm9ybWF0IHRlbXBsYXRlXHJcbiAgICAgKi9cclxuICAgIHBhcnNlRm9ybWF0KGZvcm1hdCkge1xyXG4gICAgICAgIC8vIENoZWNrIGNhY2hlXHJcbiAgICAgICAgLy8gVE9ETzogaW1wbGVtZW50IGNhY2hpbmcgb2YgdGhlIHBhcnNlZCBmb3JtYXRcclxuICAgICAgICAvLyBJbml0IGZvcm1hdCBwYXJzZSBpbmZvIGhvbGRlclxyXG4gICAgICAgIGxldCBpbmZvID0ge1xyXG4gICAgICAgICAgICBcInRlbXBsYXRlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgIFwicGFydHNcIjogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIExldCBUZXh0Rm9ybWF0dGVyIHNwbGl0IGludG8gY2h1bmtzXHJcbiAgICAgICAgbGV0IGNodW5rcyA9IFRleHRGb3JtYXR0ZXIuY2h1bmsoZm9ybWF0LCB0cnVlKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY2h1bmsgPSBjaHVua3NbaV07XHJcbiAgICAgICAgICAgIGlmIChjaHVuay50eXBlID09PSBcInZhbHVlXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIEp1c3QgXCJEYXRlXCI/XHJcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmsudGV4dC5tYXRjaCgvXmRhdGUkL2kpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGVGb3JtYXQgPSB0aGlzLmdldChcImRhdGVGb3JtYXRcIiwgXCJ5eXl5LU1NLWRkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghJHR5cGUuaXNTdHJpbmcoZGF0ZUZvcm1hdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IFwieXl5eS1NTS1kZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjaHVuay50ZXh0ID0gZGF0ZUZvcm1hdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEZpbmQgYWxsIHBvc3NpYmxlIHBhcnRzXHJcbiAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlcyA9IGNodW5rLnRleHQubWF0Y2goL0d8eXl5eXx5eXl8eXl8eXxZWVlZfFlZWXxZWXxZfHV8cXxNTU1NTXxNTU1NfE1NTXxNTXxNfHd3fHd8V3xkZHxkfERERHxERHxEfEZ8Z3xFRUVFRXxFRUVFfEVFRXxFRXxFfGVlZWVlfGVlZWV8ZWVlfGVlfGV8YWFhfGFhfGF8aGh8aHxISHxIfEtLfEt8a2t8a3xtbXxtfHNzfHN8U1NTfFNTfFN8QXx6enp6fHp6enx6enx6fFpafFp8dHx4fG5ubnxubnxufGl8SS9nKTtcclxuICAgICAgICAgICAgICAgIC8vIEZvdW5kP1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQb3B1bGF0ZSB0ZW1wbGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgbWF0Y2hlcy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnBhcnRzLnB1c2gobWF0Y2hlc1t4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLnRleHQgPSBjaHVuay50ZXh0LnJlcGxhY2UobWF0Y2hlc1t4XSwgJHR5cGUuUExBQ0VIT0xERVIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBcHBseSB0byB0ZW1wbGF0ZVxyXG4gICAgICAgICAgICBpbmZvLnRlbXBsYXRlICs9IGNodW5rLnRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNhdmUgY2FjaGVcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgcmV0dXJuIGluZm87XHJcbiAgICB9XHJcbiAgICBfbW9udGhzKCkge1xyXG4gICAgICAgIHJldHVybiBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXTtcclxuICAgIH1cclxuICAgIF9nZXRNb250aChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHMoKVtpbmRleF07XHJcbiAgICB9XHJcbiAgICBfc2hvcnRNb250aHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heShzaG9ydClcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICB9XHJcbiAgICBfZ2V0U2hvcnRNb250aChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaG9ydE1vbnRocygpW2luZGV4XTtcclxuICAgIH1cclxuICAgIF93ZWVrZGF5cygpIHtcclxuICAgICAgICByZXR1cm4gW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl07XHJcbiAgICB9XHJcbiAgICBfZ2V0V2Vla2RheShpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5cygpW2luZGV4XTtcclxuICAgIH1cclxuICAgIF9zaG9ydFdlZWtkYXlzKCkge1xyXG4gICAgICAgIHJldHVybiBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl07XHJcbiAgICB9XHJcbiAgICBfZ2V0U2hvcnRXZWVrZGF5KGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3J0V2Vla2RheXMoKVtpbmRleF07XHJcbiAgICB9XHJcbiAgICBwYXJzZShzb3VyY2UsIGZvcm1hdCwgdXRjKSB7XHJcbiAgICAgICAgLy8gSWYgVVRDIGlzIG5vdCBzdXBwbGllZCwgdXNlIFJvb3Qgc2V0dGluZ1xyXG4gICAgICAgIGlmICh0eXBlb2YgdXRjID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHV0YyA9IHRoaXMuX3Jvb3QudXRjO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJcyBpdCBhbHJlYWR5IGEgRGF0ZVxyXG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElzIGl0IGEgbnVtZXJpYyB0aW1lc3RhbXBcclxuICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoc291cmNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoc291cmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXJlIHdlIHBhcnNpbmcgYSB0aW1lc3RhbXA/XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PSBcInhcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUocGFyc2VJbnQoc291cmNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vPyBMZXQncyBjaGVjayBpZiBpdCdzIHN0cmluZywgYW5kIHRyeSBjb252ZXJ0aW5nIHRvIGl0IGlmIG5lY1xyXG4gICAgICAgIGlmICghJHR5cGUuaXNTdHJpbmcoc291cmNlKSkge1xyXG4gICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5pdCByZXR1cm4gdmFsdWVcclxuICAgICAgICBsZXQgcmVzO1xyXG4gICAgICAgIC8vIEluaXQgUmVnRXggZm9yIHBhcnNpbmdcclxuICAgICAgICBsZXQgcmVnID0gXCJcIjtcclxuICAgICAgICAvLyBDbGVhbiBmb3JtYXRcclxuICAgICAgICBmb3JtYXQgPSAkdXRpbHMuY2xlYW5Gb3JtYXQoZm9ybWF0KTtcclxuICAgICAgICAvLyBDbGlwIGZvcm1hdCB0byBsZW5ndGggb2YgdGhlIHNvdXJjZSBzdHJpbmdcclxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQuc3Vic3RyKDAsIHNvdXJjZS5sZW5ndGgpO1xyXG4gICAgICAgIC8vIFBhcnNlIGZvcm1hdFxyXG4gICAgICAgIGxldCBpbmZvID0gdGhpcy5wYXJzZUZvcm1hdChmb3JtYXQpO1xyXG4gICAgICAgIC8vIEluaXQgcGFyc2VkIGl0ZW1zIGhvbGRlclxyXG4gICAgICAgIGxldCBwYXJzZWRJbmRleGVzID0ge1xyXG4gICAgICAgICAgICBcInllYXJcIjogLTEsXHJcbiAgICAgICAgICAgIFwieWVhcjNcIjogLTEsXHJcbiAgICAgICAgICAgIFwieWVhcjJcIjogLTEsXHJcbiAgICAgICAgICAgIFwieWVhcjFcIjogLTEsXHJcbiAgICAgICAgICAgIFwibW9udGhcIjogLTEsXHJcbiAgICAgICAgICAgIFwibW9udGhTaG9ydFwiOiAtMSxcclxuICAgICAgICAgICAgXCJtb250aExvbmdcIjogLTEsXHJcbiAgICAgICAgICAgIFwid2Vla2RheVNob3J0XCI6IC0xLFxyXG4gICAgICAgICAgICBcIndlZWtkYXlMb25nXCI6IC0xLFxyXG4gICAgICAgICAgICBcImRheVwiOiAtMSxcclxuICAgICAgICAgICAgXCJ5ZWFyRGF5XCI6IC0xLFxyXG4gICAgICAgICAgICBcIndlZWtcIjogLTEsXHJcbiAgICAgICAgICAgIFwiaG91ckJhc2UwXCI6IC0xLFxyXG4gICAgICAgICAgICBcImhvdXIxMkJhc2UwXCI6IC0xLFxyXG4gICAgICAgICAgICBcImhvdXJCYXNlMVwiOiAtMSxcclxuICAgICAgICAgICAgXCJob3VyMTJCYXNlMVwiOiAtMSxcclxuICAgICAgICAgICAgXCJtaW51dGVcIjogLTEsXHJcbiAgICAgICAgICAgIFwic2Vjb25kXCI6IC0xLFxyXG4gICAgICAgICAgICBcIm1pbGxpc2Vjb25kXCI6IC0xLFxyXG4gICAgICAgICAgICBcIm1pbGxpc2Vjb25kRGlnaXRzXCI6IC0xLFxyXG4gICAgICAgICAgICBcImFtXCI6IC0xLFxyXG4gICAgICAgICAgICBcInpvbmVcIjogLTEsXHJcbiAgICAgICAgICAgIFwidGltZXN0YW1wXCI6IC0xLFxyXG4gICAgICAgICAgICBcImlzb1wiOiAtMVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gSW5pdCB2YWx1ZXNcclxuICAgICAgICBsZXQgcmVzVmFsdWVzID0ge1xyXG4gICAgICAgICAgICBcInllYXJcIjogMTk3MCxcclxuICAgICAgICAgICAgXCJtb250aFwiOiAwLFxyXG4gICAgICAgICAgICBcImRheVwiOiAxLFxyXG4gICAgICAgICAgICBcImhvdXJcIjogMCxcclxuICAgICAgICAgICAgXCJtaW51dGVcIjogMCxcclxuICAgICAgICAgICAgXCJzZWNvbmRcIjogMCxcclxuICAgICAgICAgICAgXCJtaWxsaXNlY29uZFwiOiAwLFxyXG4gICAgICAgICAgICBcInRpbWVzdGFtcFwiOiBudWxsLFxyXG4gICAgICAgICAgICBcIm9mZnNldFwiOiAwLFxyXG4gICAgICAgICAgICBcInV0Y1wiOiB1dGNcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEluZGV4IGFkanVzdGVyXHJcbiAgICAgICAgbGV0IGluZGV4QWRqdXN0ID0gMDtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIHBhcnRzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmZvLnBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCBjdXJyZW50IG1hdGNoIGluZGV4XHJcbiAgICAgICAgICAgIGluZGV4ID0gaSArIGluZGV4QWRqdXN0ICsgMTtcclxuICAgICAgICAgICAgc3dpdGNoIChpbmZvLnBhcnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieXl5eVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIllZWVlcIjpcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoWzAtOV17NH0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy55ZWFyID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieXl5XCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVlZXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezN9KVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMueWVhcjMgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5eVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIllZXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezJ9KVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMueWVhcjIgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLnllYXIxID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1NTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihcIiArIHRoaXMuZ2V0U3RyaW5nTGlzdCh0aGlzLl9tb250aHMoKSkuam9pbihcInxcIikgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1vbnRoTG9uZyA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1NTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihcIiArIHRoaXMuZ2V0U3RyaW5nTGlzdCh0aGlzLl9zaG9ydE1vbnRocygpKS5qb2luKFwifFwiKSArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMubW9udGhTaG9ydCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1NXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1vbnRoID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwid3dcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ3XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezJ9fFswLTldezF9KVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMud2VlayA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRkXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLmRheSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRERFwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkREXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXszfXxbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLnllYXJEYXkgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZGRkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFwiICsgdGhpcy5nZXRTdHJpbmdMaXN0KHRoaXMuX3dlZWtkYXlzKCkpLmpvaW4oXCJ8XCIpICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy53ZWVrZGF5TG9uZyA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRkZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihcIiArIHRoaXMuZ2V0U3RyaW5nTGlzdCh0aGlzLl9zaG9ydFdlZWtkYXlzKCkpLmpvaW4oXCJ8XCIpICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy53ZWVrZGF5U2hvcnQgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhYWFcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJhYVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBmaXggKGVzY2FwZSByZWdleClcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoXCIgKyB0aGlzLmdldFN0cmluZ0xpc3QoW1wiQU1cIiwgXCJQTVwiLCBcIkFcXC5NXFwuXCIsIFwiUFxcLk1cXC5cIiwgXCJBXCIsIFwiUFwiXSkuam9pbihcInxcIikgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLmFtID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaGhcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezJ9fFswLTldezF9KVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEluZGV4ZXMuaG91cjEyQmFzZTEgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJISFwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoWzAtOV17Mn18WzAtOV17MX0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy5ob3VyQmFzZTAgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJLS1wiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIktcIjpcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoWzAtOV17Mn18WzAtOV17MX0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy5ob3VyMTJCYXNlMCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImtrXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwia1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLmhvdXJCYXNlMSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1tXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1pbnV0ZSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNzXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLnNlY29uZCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNTU1wiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNTXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXszfXxbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1pbGxpc2Vjb25kID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy5taWxsaXNlY29uZERpZ2l0cyA9IGluZm8ucGFydHNbaV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm5ublwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm5uXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXszfXxbMC05XXsyfXxbMC05XXsxfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLm1pbGxpc2Vjb25kID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZyArPSBcIihbMC05XXsxLH0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy50aW1lc3RhbXAgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiR01UKFstK10rWzAtOV17Mn06WzAtOV17Mn0pXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy56b25lID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWlpcIjpcclxuICAgICAgICAgICAgICAgICAgICByZWcgKz0gXCIoW1xcXFwtK10rWzAtOV17Mn1bMC05XXsyfSlcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbmRleGVzLnpvbmUgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJpXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnICs9IFwiKFswLTldezR9KS0/KFswLTldezJ9KS0/KFswLTldezJ9KVQ/KFswLTldezJ9KTo/KFswLTldezJ9KTo/KFswLTldezJ9KVxcXFwuPyhbMC05XXswLDN9KShbelpdfFsrXFxcXC1dWzAtOV17Mn06P1swLTldezJ9fCQpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5kZXhlcy5pc28gPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleEFkanVzdCArPSA3O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkdcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJZWVlZXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVlZXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWVlcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJZXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1NTU1cIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJXXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVFRUVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFRUVFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWVlZWVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlZWVlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWVlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZWVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwienp6elwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInp6elwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInp6XCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwielwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRcIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBpbmRleEFkanVzdC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlZyArPSBcIlteMC05XSpcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVHJ5IG1hdGNoaW5nXHJcbiAgICAgICAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWcpO1xyXG4gICAgICAgIGxldCBtYXRjaGVzID0gc291cmNlLm1hdGNoKHJlZ2V4KTtcclxuICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgZGF0ZSBvYmplY3RcclxuICAgICAgICAgICAgLy8gRnVsbCB5ZWFyXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLnllYXIgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLnllYXIgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMueWVhcl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDMtZGlnaXQgeWVhclxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy55ZWFyMyA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLnllYXIzXSk7XHJcbiAgICAgICAgICAgICAgICB2YWwgKz0gMTAwMDtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy55ZWFyID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDItZGlnaXQgeWVhclxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy55ZWFyMiA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLnllYXIyXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsID4gNTApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgKz0gMTAwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCArPSAyMDAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLnllYXIgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gMS1kaWdpdCB5ZWFyXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLnllYXIxID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMueWVhcjFdKTtcclxuICAgICAgICAgICAgICAgIHZhbCA9IE1hdGguZmxvb3IoKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSkgLyAxMCkgKiAxMCArIHZhbDtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy55ZWFyID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZ1bGwgbW9udGhcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMubW9udGhMb25nID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9IHRoaXMucmVzb2x2ZU1vbnRoKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5tb250aExvbmddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTaG9ydCBtb250aFxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy5tb250aFNob3J0ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9IHRoaXMucmVzb2x2ZVNob3J0TW9udGgobWF0Y2hlc1twYXJzZWRJbmRleGVzLm1vbnRoU2hvcnRdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBOdW1lcmljIG1vbnRoXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLm1vbnRoID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5tb250aF0pIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZWVrZGF5XHJcbiAgICAgICAgICAgIC8vIEB0b2RvXHJcbiAgICAgICAgICAgIC8vIFdlZWtcclxuICAgICAgICAgICAgaWYgKChwYXJzZWRJbmRleGVzLndlZWsgPiAtMSkgJiYgKHBhcnNlZEluZGV4ZXMuZGF5ID09PSAtMSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIHBhcnNlIHdlZWtzIE9OTFkgaWYgZGF5IGlzIG5vdCBleHBsaWNpdGx5IHNldFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBuZWVkcyB3b3JrXHJcbiAgICAgICAgICAgICAgICAvLyAoYnV0IG1heWJlIGxhdGVyIC0gSSBjYW4gaGFyZGx5IGltYWdpbmUgYW55b25lIHBhc3NpbmcgdGhlaXIgZGF0ZXMgaW4gd2Vla3MpXHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMubW9udGggPSAwO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmRheSA9ICR1dGlscy5nZXREYXlGcm9tV2VlayhwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMud2Vla10pLCByZXNWYWx1ZXMueWVhciwgMSwgdXRjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEYXlcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMuZGF5ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5kYXkgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMuZGF5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gWWVhciBkYXlcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMueWVhckRheSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMubW9udGggPSAwO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmRheSA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy55ZWFyRGF5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gMjQgSG91ciAoMC0yMylcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMuaG91ckJhc2UwID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5ob3VyID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLmhvdXJCYXNlMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDI0IEhvdXIgKDEtMjQpXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLmhvdXJCYXNlMSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMuaG91ciA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5ob3VyQmFzZTFdKSAtIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gMTIgSG91ciAoMC0xMSlcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMuaG91cjEyQmFzZTAgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5ob3VyMTJCYXNlMF0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PSAxMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHBhcnNlZEluZGV4ZXMuYW0gPiAtMSkgJiYgIXRoaXMuaXNBbShtYXRjaGVzW3BhcnNlZEluZGV4ZXMuYW1dKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCArPSAxMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5ob3VyID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDEyIEhvdXIgKDEtMTIpXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLmhvdXIxMkJhc2UxID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaG91cjEyQmFzZTFdKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT0gMTIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwYXJzZWRJbmRleGVzLmFtID4gLTEpICYmICF0aGlzLmlzQW0obWF0Y2hlc1twYXJzZWRJbmRleGVzLmFtXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgKz0gMTI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMuaG91ciA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBNaW51dGVcclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMubWludXRlID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5taW51dGUgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMubWludXRlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2Vjb25kXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLnNlY29uZCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMuc2Vjb25kID0gcGFyc2VJbnQobWF0Y2hlc1twYXJzZWRJbmRleGVzLnNlY29uZF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE1pbGxpc2Vjb25kXHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLm1pbGxpc2Vjb25kID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBwYXJzZUludChtYXRjaGVzW3BhcnNlZEluZGV4ZXMubWlsbGlzZWNvbmRdKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRJbmRleGVzLm1pbGxpc2Vjb25kRGlnaXRzID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgKj0gMTA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJzZWRJbmRleGVzLm1pbGxpc2Vjb25kRGlnaXRzID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgKj0gMTAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLm1pbGxpc2Vjb25kID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRpbWVzdGFtcFxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy50aW1lc3RhbXAgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLnRpbWVzdGFtcCA9IHBhcnNlSW50KG1hdGNoZXNbcGFyc2VkSW5kZXhlcy50aW1lc3RhbXBdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRzID0gbmV3IERhdGUocmVzVmFsdWVzLnRpbWVzdGFtcCk7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMueWVhciA9IHRzLmdldFVUQ0Z1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMubW9udGggPSB0cy5nZXRVVENNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmRheSA9IHRzLmdldFVUQ0RhdGUoKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5ob3VyID0gdHMuZ2V0VVRDSG91cnMoKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5taW51dGUgPSB0cy5nZXRVVENNaW51dGVzKCk7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMuc2Vjb25kID0gdHMuZ2V0VVRDU2Vjb25kcygpO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLm1pbGxpc2Vjb25kID0gdHMuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQWRqdXN0IHRpbWUgem9uZVxyXG4gICAgICAgICAgICBpZiAocGFyc2VkSW5kZXhlcy56b25lID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5vZmZzZXQgPSB0aGlzLnJlc29sdmVUaW1lem9uZU9mZnNldChuZXcgRGF0ZShyZXNWYWx1ZXMueWVhciwgcmVzVmFsdWVzLm1vbnRoLCByZXNWYWx1ZXMuZGF5KSwgbWF0Y2hlc1twYXJzZWRJbmRleGVzLnpvbmVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJU09cclxuICAgICAgICAgICAgaWYgKHBhcnNlZEluZGV4ZXMuaXNvID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy55ZWFyID0gJHR5cGUudG9OdW1iZXIobWF0Y2hlc1twYXJzZWRJbmRleGVzLmlzbyArIDBdKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5tb250aCA9ICR0eXBlLnRvTnVtYmVyKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5pc28gKyAxXSkgLSAxO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLmRheSA9ICR0eXBlLnRvTnVtYmVyKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5pc28gKyAyXSk7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMuaG91ciA9ICR0eXBlLnRvTnVtYmVyKG1hdGNoZXNbcGFyc2VkSW5kZXhlcy5pc28gKyAzXSk7XHJcbiAgICAgICAgICAgICAgICByZXNWYWx1ZXMubWludXRlID0gJHR5cGUudG9OdW1iZXIobWF0Y2hlc1twYXJzZWRJbmRleGVzLmlzbyArIDRdKTtcclxuICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5zZWNvbmQgPSAkdHlwZS50b051bWJlcihtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaXNvICsgNV0pO1xyXG4gICAgICAgICAgICAgICAgcmVzVmFsdWVzLm1pbGxpc2Vjb25kID0gJHR5cGUudG9OdW1iZXIobWF0Y2hlc1twYXJzZWRJbmRleGVzLmlzbyArIDZdKTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaXNvICsgN10gPT0gXCJaXCIgfHwgbWF0Y2hlc1twYXJzZWRJbmRleGVzLmlzbyArIDddID09IFwielwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzVmFsdWVzLnV0YyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaGVzW3BhcnNlZEluZGV4ZXMuaXNvICsgN10gIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc1ZhbHVlcy5vZmZzZXQgPSB0aGlzLnJlc29sdmVUaW1lem9uZU9mZnNldChuZXcgRGF0ZShyZXNWYWx1ZXMueWVhciwgcmVzVmFsdWVzLm1vbnRoLCByZXNWYWx1ZXMuZGF5KSwgbWF0Y2hlc1twYXJzZWRJbmRleGVzLmlzbyArIDddKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgRGF0ZSBvYmplY3RcclxuICAgICAgICAgICAgaWYgKHJlc1ZhbHVlcy51dGMpIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBEYXRlKERhdGUuVVRDKHJlc1ZhbHVlcy55ZWFyLCByZXNWYWx1ZXMubW9udGgsIHJlc1ZhbHVlcy5kYXksIHJlc1ZhbHVlcy5ob3VyLCByZXNWYWx1ZXMubWludXRlLCByZXNWYWx1ZXMuc2Vjb25kLCByZXNWYWx1ZXMubWlsbGlzZWNvbmQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IG5ldyBEYXRlKHJlc1ZhbHVlcy55ZWFyLCByZXNWYWx1ZXMubW9udGgsIHJlc1ZhbHVlcy5kYXksIHJlc1ZhbHVlcy5ob3VyLCByZXNWYWx1ZXMubWludXRlICsgcmVzVmFsdWVzLm9mZnNldCwgcmVzVmFsdWVzLnNlY29uZCwgcmVzVmFsdWVzLm1pbGxpc2Vjb25kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGlkbid0IG1hdGNoIGFueXRoaW5nXHJcbiAgICAgICAgICAgIC8vIExldCdzIHRyeSBkcm9wcGluZyBpdCBpbnRvIERhdGUgY29uc3RydWN0b3IgYW5kIGhvcGUgZm9yIHRoZSBiZXN0XHJcbiAgICAgICAgICAgIHJlcyA9IG5ldyBEYXRlKHNvdXJjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICByZXNvbHZlVGltZXpvbmVPZmZzZXQoZGF0ZSwgem9uZSkge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHpvbmUubWF0Y2goLyhbK1xcLV0/KShbMC05XXsyfSk6PyhbMC05XXsyfSkvKTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IG1hdGNoID0gem9uZS5tYXRjaCgvKFsrXFwtXT8pKFswLTldezJ9KTo/KFswLTldezJ9KS8pO1xyXG4gICAgICAgICAgICBsZXQgZGlyID0gbWF0Y2hbMV07XHJcbiAgICAgICAgICAgIGxldCBob3VyID0gbWF0Y2hbMl07XHJcbiAgICAgICAgICAgIGxldCBtaW51dGUgPSBtYXRjaFszXTtcclxuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHBhcnNlSW50KGhvdXIpICogNjAgKyBwYXJzZUludChtaW51dGUpO1xyXG4gICAgICAgICAgICAvLyBBZGp1c3Qgb2Zmc2V0XHJcbiAgICAgICAgICAgIC8vIE1ha2luZyBpdCBuZWdhdGl2ZSBkb2VzIG5vdCBzZWVtIHRvIG1ha2Ugc2Vuc2UsIGJ1dCBpdCdzIHJpZ2h0XHJcbiAgICAgICAgICAgIC8vIGJlY2F1c2Ugb2YgaG93IEphdmFTY3JpcHQgY2FsY3VsYXRlcyBHTVQgb2Zmc2V0c1xyXG4gICAgICAgICAgICBpZiAoZGlyID09IFwiK1wiKSB7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKj0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIGRpZmZlcmVuY2UgaW4gb2Zmc2V0XHJcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbE9mZnNldCA9IChkYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgICAgIGxldCBkaWZmID0gb2Zmc2V0IC0gb3JpZ2luYWxPZmZzZXQ7XHJcbiAgICAgICAgICAgIHJldHVybiBkaWZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzb2x2ZXMgbW9udGggbmFtZSAoaS5lLiBcIkRlY2VtYmVyXCIpIGludG8gYSBtb250aCBudW1iZXIgKDExKS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgIE1vbnRoIG5hbWVcclxuICAgICAqIEByZXR1cm4gTW9udGggbnVtYmVyXHJcbiAgICAgKi9cclxuICAgIHJlc29sdmVNb250aCh2YWx1ZSkge1xyXG4gICAgICAgIC8vIExldCdzIHRyeSBFbmdsaXNoIGZpcnN0XHJcbiAgICAgICAgbGV0IG1vbnRoID0gdGhpcy5fbW9udGhzKCkuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKG1vbnRoID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcnkgdGhlIHRyYW5zbGF0aW9uXHJcbiAgICAgICAgaWYgKCF0aGlzLl9yb290Lmxhbmd1YWdlLmlzRGVmYXVsdCgpKSB7XHJcbiAgICAgICAgICAgIG1vbnRoID0gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGVBbGwodGhpcy5fbW9udGhzKCkpLmluZGV4T2YodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAobW9udGggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNvbHZlcyBzaG9ydCBtb250aCBuYW1lIChpLmUuIFwiRGVjXCIpIGludG8gYSBtb250aCBudW1iZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICBTaG9ydCBtb250aCBuYW1lXHJcbiAgICAgKiBAcmV0dXJuIE1vbnRoIG51bWJlclxyXG4gICAgICovXHJcbiAgICByZXNvbHZlU2hvcnRNb250aCh2YWx1ZSkge1xyXG4gICAgICAgIC8vIExldCdzIHRyeSBFbmdsaXNoIGZpcnN0XHJcbiAgICAgICAgbGV0IG1vbnRoID0gdGhpcy5fc2hvcnRNb250aHMoKS5pbmRleE9mKHZhbHVlKTtcclxuICAgICAgICBpZiAobW9udGggPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9udGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1heWJlIGxvbmcgbW9udGggKHdvcmthcm91bmQgZm9yIE1heSlcclxuICAgICAgICBtb250aCA9IHRoaXMuX21vbnRocygpLmluZGV4T2YodmFsdWUpO1xyXG4gICAgICAgIGlmIChtb250aCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb250aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVHJ5IHRoZSB0cmFuc2xhdGlvblxyXG4gICAgICAgIGlmICh0aGlzLl9yb290Lmxhbmd1YWdlICYmICF0aGlzLl9yb290Lmxhbmd1YWdlLmlzRGVmYXVsdCgpKSB7XHJcbiAgICAgICAgICAgIG1vbnRoID0gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGVBbGwodGhpcy5fc2hvcnRNb250aHMoKSkuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChtb250aCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9udGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBwYXNzZWQgaW4gc3RyaW5nIHJlcHJlc2VudHMgQU0vUE0gbm90YXRpb24gaW4gbWFueSBvZiBpdHNcclxuICAgICAqIHZlcnNpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgU291cmNlIHN0cmluZ1xyXG4gICAgICogQHJldHVybiBJcyBpdCBBTS9QTT9cclxuICAgICAqL1xyXG4gICAgaXNBbSh2YWx1ZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5nZXRTdHJpbmdMaXN0KFtcIkFNXCIsIFwiQS5NLlwiLCBcIkFcIl0pO1xyXG4gICAgICAgIHJldHVybiBsaXN0LmluZGV4T2YodmFsdWUudG9VcHBlckNhc2UoKSkgPiAtMTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNsYXRlcyBsaXN0IG9mIHN0cmluZ3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3QgIFNvdXJjZSBzdHJpbmdzXHJcbiAgICAgKiBAcmV0dXJuIFRyYW5zbGF0ZWQgc3RyaW5nc1xyXG4gICAgICovXHJcbiAgICBnZXRTdHJpbmdMaXN0KGxpc3QpIHtcclxuICAgICAgICBsZXQgcmVzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIHRyYW5zbGF0ZT9cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Jvb3QubGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKCR1dGlscy5lc2NhcGVGb3JSZ2V4KHRoaXMuX3QobGlzdFtpXSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKCR1dGlscy5lc2NhcGVGb3JSZ2V4KGxpc3RbaV0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURhdGVGb3JtYXR0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArrayDisposer: () => (/* binding */ ArrayDisposer),\n/* harmony export */   CounterDisposer: () => (/* binding */ CounterDisposer),\n/* harmony export */   Disposer: () => (/* binding */ Disposer),\n/* harmony export */   DisposerClass: () => (/* binding */ DisposerClass),\n/* harmony export */   MultiDisposer: () => (/* binding */ MultiDisposer),\n/* harmony export */   MutableValueDisposer: () => (/* binding */ MutableValueDisposer)\n/* harmony export */ });\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * A base class for disposable objects.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nclass DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * A class for creating an IDisposer.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nclass Disposer {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param dispose  Function that disposes object\r\n     */\r\n    constructor(dispose) {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Method that disposes the object.\r\n         */\r\n        Object.defineProperty(this, \"_dispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n        this._dispose = dispose;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * This can be extended by other classes to add a `_disposers` property.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nclass ArrayDisposer extends DisposerClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    _dispose() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._disposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n}\r\n/**\r\n * A collection of related disposers that can be disposed in one go.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nclass MultiDisposer extends DisposerClass {\r\n    constructor(disposers) {\r\n        super();\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposers = disposers;\r\n    }\r\n    _dispose() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._disposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n    get disposers() {\r\n        return this._disposers;\r\n    }\r\n}\r\n/**\r\n * A special kind of Disposer that has attached value set.\r\n *\r\n * If a new value is set using `set()` method, the old disposer value is\r\n * disposed.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nclass MutableValueDisposer extends DisposerClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Current disposer.\r\n         */\r\n        Object.defineProperty(this, \"_disposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Current value.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _dispose() {\r\n        if (this._disposer != null) {\r\n            this._disposer.dispose();\r\n            this._disposer = undefined;\r\n        }\r\n    }\r\n    /**\r\n     * Returns current value.\r\n     *\r\n     * @return Value\r\n     */\r\n    get() {\r\n        return this._value;\r\n    }\r\n    /**\r\n     * Sets value and disposes previous disposer if it was set.\r\n     *\r\n     * @param value     New value\r\n     * @param disposer  Disposer\r\n     */\r\n    set(value, disposer) {\r\n        if (this._disposer != null) {\r\n            this._disposer.dispose();\r\n        }\r\n        this._disposer = disposer;\r\n        this._value = value;\r\n    }\r\n    /**\r\n     * Resets the disposer value.\r\n     */\r\n    reset() {\r\n        this.set(undefined, undefined);\r\n    }\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nclass CounterDisposer extends Disposer {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * [_counter description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        Object.defineProperty(this, \"_counter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    /**\r\n     * [increment description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    increment() {\r\n        // TODO throw an error if it is disposed\r\n        ++this._counter;\r\n        // TODO make this more efficient\r\n        return new Disposer(() => {\r\n            --this._counter;\r\n            if (this._counter === 0) {\r\n                this.dispose();\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Disposer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0Rpc3Bvc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvRGlzcG9zZXIuanM/ZjM0MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBJTVBPUlRTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuL0FycmF5XCI7XHJcbi8qKlxyXG4gKiBBIGJhc2UgY2xhc3MgZm9yIGRpc3Bvc2FibGUgb2JqZWN0cy5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERpc3Bvc2VyQ2xhc3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSXMgb2JqZWN0IGRpc3Bvc2VkP1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGlzIGRpc3Bvc2VkLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gRGlzcG9zZWQ/XHJcbiAgICAgKi9cclxuICAgIGlzRGlzcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlcyB0aGUgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIGNsYXNzIGZvciBjcmVhdGluZyBhbiBJRGlzcG9zZXIuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICovXHJcbmV4cG9ydCBjbGFzcyBEaXNwb3NlciB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkaXNwb3NlICBGdW5jdGlvbiB0aGF0IGRpc3Bvc2VzIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihkaXNwb3NlKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSXMgb2JqZWN0IGRpc3Bvc2VkP1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNZXRob2QgdGhhdCBkaXNwb3NlcyB0aGUgb2JqZWN0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZSA9IGRpc3Bvc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBvYmplY3QgaXMgZGlzcG9zZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBEaXNwb3NlZD9cclxuICAgICAqL1xyXG4gICAgaXNEaXNwb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIHRoZSBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9kaXNwb3NlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgY2FuIGJlIGV4dGVuZGVkIGJ5IG90aGVyIGNsYXNzZXMgdG8gYWRkIGEgYF9kaXNwb3NlcnNgIHByb3BlcnR5LlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXJyYXlEaXNwb3NlciBleHRlbmRzIERpc3Bvc2VyQ2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9kaXNwb3NlcnMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgIHguZGlzcG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIGNvbGxlY3Rpb24gb2YgcmVsYXRlZCBkaXNwb3NlcnMgdGhhdCBjYW4gYmUgZGlzcG9zZWQgaW4gb25lIGdvLlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTXVsdGlEaXNwb3NlciBleHRlbmRzIERpc3Bvc2VyQ2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoZGlzcG9zZXJzKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VycyA9IGRpc3Bvc2VycztcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2Rpc3Bvc2VycywgKHgpID0+IHtcclxuICAgICAgICAgICAgeC5kaXNwb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXQgZGlzcG9zZXJzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwb3NlcnM7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgc3BlY2lhbCBraW5kIG9mIERpc3Bvc2VyIHRoYXQgaGFzIGF0dGFjaGVkIHZhbHVlIHNldC5cclxuICpcclxuICogSWYgYSBuZXcgdmFsdWUgaXMgc2V0IHVzaW5nIGBzZXQoKWAgbWV0aG9kLCB0aGUgb2xkIGRpc3Bvc2VyIHZhbHVlIGlzXHJcbiAqIGRpc3Bvc2VkLlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEB0b2RvIERlc2NyaXB0aW9uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTXV0YWJsZVZhbHVlRGlzcG9zZXIgZXh0ZW5kcyBEaXNwb3NlckNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBkaXNwb3Nlci5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCB2YWx1ZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdmFsdWVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzcG9zZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBjdXJyZW50IHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gVmFsdWVcclxuICAgICAqL1xyXG4gICAgZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB2YWx1ZSBhbmQgZGlzcG9zZXMgcHJldmlvdXMgZGlzcG9zZXIgaWYgaXQgd2FzIHNldC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgICAgIE5ldyB2YWx1ZVxyXG4gICAgICogQHBhcmFtIGRpc3Bvc2VyICBEaXNwb3NlclxyXG4gICAgICovXHJcbiAgICBzZXQodmFsdWUsIGRpc3Bvc2VyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VyICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9kaXNwb3NlciA9IGRpc3Bvc2VyO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgZGlzcG9zZXIgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuc2V0KHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAdG9kbyBEZXNjcmlwdGlvblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvdW50ZXJEaXNwb3NlciBleHRlbmRzIERpc3Bvc2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogW19jb3VudGVyIGRlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHRvZG8gRGVzY3JpcHRpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY291bnRlclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFtpbmNyZW1lbnQgZGVzY3JpcHRpb25dXHJcbiAgICAgKlxyXG4gICAgICogQHRvZG8gRGVzY3JpcHRpb25cclxuICAgICAqL1xyXG4gICAgaW5jcmVtZW50KCkge1xyXG4gICAgICAgIC8vIFRPRE8gdGhyb3cgYW4gZXJyb3IgaWYgaXQgaXMgZGlzcG9zZWRcclxuICAgICAgICArK3RoaXMuX2NvdW50ZXI7XHJcbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoaXMgbW9yZSBlZmZpY2llbnRcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgLS10aGlzLl9jb3VudGVyO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY291bnRlciA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwb3Nlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DurationFormatter: () => (/* binding */ DurationFormatter)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _TextFormatter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * A class used to format numberic values as time duration.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-durations/} for more info\r\n */\r\nclass DurationFormatter extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Collection of aliases for units.\r\n         */\r\n        Object.defineProperty(this, \"_unitAliases\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                \"Y\": \"y\",\r\n                \"D\": \"d\",\r\n                \"H\": \"h\",\r\n                \"K\": \"h\",\r\n                \"k\": \"h\",\r\n                \"n\": \"S\"\r\n            }\r\n        });\r\n    }\r\n    _setDefaults() {\r\n        const dmillisecond = \"_duration_millisecond\";\r\n        const dsecond = \"_duration_second\";\r\n        const dminute = \"_duration_minute\";\r\n        const dhour = \"_duration_hour\";\r\n        const dday = \"_duration_day\";\r\n        const dweek = \"_duration_week\";\r\n        const dmonth = \"_duration_month\";\r\n        const dyear = \"_duration_year\";\r\n        const asecond = \"_second\";\r\n        const aminute = \"_minute\";\r\n        const ahour = \"_hour\";\r\n        const aday = \"_day\";\r\n        const aweek = \"_week\";\r\n        const amonth = \"_week\";\r\n        const ayear = \"_year\";\r\n        // Defaults\r\n        this._setDefault(\"negativeBase\", 0);\r\n        this._setDefault(\"baseUnit\", \"second\");\r\n        this._setDefault(\"durationFormats\", {\r\n            \"millisecond\": {\r\n                \"millisecond\": this._t(dmillisecond),\r\n                \"second\": this._t((dmillisecond + asecond)),\r\n                \"minute\": this._t((dmillisecond + aminute)),\r\n                \"hour\": this._t((dmillisecond + ahour)),\r\n                \"day\": this._t((dmillisecond + aday)),\r\n                \"week\": this._t((dmillisecond + aweek)),\r\n                \"month\": this._t((dmillisecond + amonth)),\r\n                \"year\": this._t((dmillisecond + ayear))\r\n            },\r\n            \"second\": {\r\n                \"second\": this._t((dsecond)),\r\n                \"minute\": this._t((dsecond + aminute)),\r\n                \"hour\": this._t((dsecond + ahour)),\r\n                \"day\": this._t((dsecond + aday)),\r\n                \"week\": this._t((dsecond + aweek)),\r\n                \"month\": this._t((dsecond + amonth)),\r\n                \"year\": this._t((dsecond + ayear))\r\n            },\r\n            \"minute\": {\r\n                \"minute\": this._t((dminute)),\r\n                \"hour\": this._t((dminute + ahour)),\r\n                \"day\": this._t((dminute + aday)),\r\n                \"week\": this._t((dminute + aweek)),\r\n                \"month\": this._t((dminute + amonth)),\r\n                \"year\": this._t((dminute + ayear))\r\n            },\r\n            \"hour\": {\r\n                \"hour\": this._t((dhour)),\r\n                \"day\": this._t((dhour + aday)),\r\n                \"week\": this._t((dhour + aweek)),\r\n                \"month\": this._t((dhour + amonth)),\r\n                \"year\": this._t((dhour + ayear))\r\n            },\r\n            \"day\": {\r\n                \"day\": this._t((dday)),\r\n                \"week\": this._t((dday + aweek)),\r\n                \"month\": this._t((dday + amonth)),\r\n                \"year\": this._t((dday + ayear))\r\n            },\r\n            \"week\": {\r\n                \"week\": this._t((dweek)),\r\n                \"month\": this._t((dweek + amonth)),\r\n                \"year\": this._t((dweek + ayear))\r\n            },\r\n            \"month\": {\r\n                \"month\": this._t((dmonth)),\r\n                \"year\": this._t((dmonth + ayear))\r\n            },\r\n            \"year\": {\r\n                \"year\": this._t(dyear)\r\n            }\r\n        });\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats the number as duration.\r\n     *\r\n     * For example `1000` (base unit seconds) would be converted to `16:40` as in\r\n     * 16 minutes and 40 seconds.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @param base    Override base unit\r\n     * @return Formatted number\r\n     */\r\n    format(value, format, base) {\r\n        // no base unit?\r\n        let baseUnit = base || this.get(\"baseUnit\");\r\n        // no format passed in or empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            if (this.get(\"durationFormat\") != null) {\r\n                format = this.get(\"durationFormat\");\r\n            }\r\n            else {\r\n                format = this.getFormat(_Type__WEBPACK_IMPORTED_MODULE_1__.toNumber(value), undefined, baseUnit);\r\n            }\r\n        }\r\n        // Clean format\r\n        format = _Utils__WEBPACK_IMPORTED_MODULE_2__.cleanFormat(format);\r\n        // get format info (it will also deal with parser caching)\r\n        let info = this.parseFormat(format, baseUnit);\r\n        // cast to number just in case\r\n        // TODO: maybe use better casting\r\n        let source = Number(value);\r\n        // format and replace the number\r\n        let details;\r\n        if (source > this.get(\"negativeBase\")) {\r\n            details = info.positive;\r\n        }\r\n        else if (source < this.get(\"negativeBase\")) {\r\n            details = info.negative;\r\n        }\r\n        else {\r\n            details = info.zero;\r\n        }\r\n        // Format\r\n        let formatted = this.applyFormat(source, details);\r\n        // Apply color?\r\n        if (details.color !== \"\") {\r\n            formatted = \"[\" + details.color + \"]\" + formatted + \"[/]\";\r\n        }\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format  Format string, i.e. \"#,###.00\"\r\n     * @param base    Override base unit\r\n     * @return Parsed information\r\n     */\r\n    parseFormat(format, base) {\r\n        // Check cache\r\n        // TODO\r\n        // let cached = this.getCache(format);\r\n        // if (cached != null) {\r\n        // \treturn cached;\r\n        // }\r\n        // no base unit?\r\n        let baseUnit = base || this.get(\"baseUnit\");\r\n        // Initialize duration parsing info\r\n        let info = {\r\n            \"positive\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"negative\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"zero\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        let parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        _Object__WEBPACK_IMPORTED_MODULE_3__.each(info, (_part, item) => {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            // TODO\r\n            // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n            // \tinfo[part] = this.getCache(item.source);\r\n            // \treturn;\r\n            // }\r\n            // Begin parsing\r\n            let partFormat = item.source;\r\n            // Check for [] directives\r\n            let dirs = [];\r\n            dirs = item.source.match(/^\\[([^\\]]*)\\]/);\r\n            if (dirs && dirs.length && dirs[0] !== \"\") {\r\n                partFormat = item.source.substr(dirs[0].length);\r\n                item.color = dirs[1];\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            let chunks = _TextFormatter__WEBPACK_IMPORTED_MODULE_4__.TextFormatter.chunk(partFormat, true);\r\n            for (let i = 0; i < chunks.length; i++) {\r\n                let chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Just \"Duration\"?\r\n                    // if (chunk.text.toLowerCase() === \"duration\") {\r\n                    // \tchunk.text = durationFormat;\r\n                    // }\r\n                    // Check for \"a\" (absolute) modifier\r\n                    if (chunk.text.match(/[yYMdDwhHKkmsSn]+a/)) {\r\n                        item.absolute = true;\r\n                        chunk.text = chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/, \"$1\");\r\n                    }\r\n                    // Find all possible parts\r\n                    let matches = chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);\r\n                    if (matches) {\r\n                        // Populate template\r\n                        for (let x = 0; x < matches.length; x++) {\r\n                            // Is it an alias?\r\n                            if (matches[x] == null) {\r\n                                matches[x] = this._unitAliases[matches[x]];\r\n                            }\r\n                            item.parts.push(matches[x]);\r\n                            chunk.text = chunk.text.replace(matches[x], _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                // Apply to template\r\n                item.template += chunk.text;\r\n            }\r\n            // Apply style formatting\r\n            //item.template = TextFormatter.format(item.template, this.outputFormat);\r\n            // Save cache\r\n            // TODO\r\n            //this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        // TODO\r\n        //this.setCache(format, info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by {parseFormat}\r\n     * @return Formatted duration\r\n     */\r\n    applyFormat(value, details) {\r\n        // Use absolute values\r\n        let negative = !details.absolute && (value < this.get(\"negativeBase\"));\r\n        value = Math.abs(value);\r\n        // Recalculate to milliseconds\r\n        let tstamp = this.toTimeStamp(value, details.baseUnit);\r\n        // Init return value\r\n        let res = details.template;\r\n        const values = {\r\n            millisecond: 0,\r\n            second: 0,\r\n            minute: 0,\r\n            hour: 0,\r\n            day: 0,\r\n            week: 0,\r\n            month: 0,\r\n            year: 0\r\n        };\r\n        // Iterate through duration parts\r\n        for (let i = 0, len = details.parts.length; i < len; i++) {\r\n            // Gather the part\r\n            let part = details.parts[i];\r\n            let unit = this._toTimeUnit(part.substr(0, 1));\r\n            // Calculate current unit value\r\n            let ints;\r\n            const unitValue = this._getUnitValue(unit);\r\n            if (i < (len - 1)) {\r\n                ints = Math.floor(tstamp / unitValue);\r\n            }\r\n            else {\r\n                ints = Math.round(tstamp / unitValue);\r\n            }\r\n            values[unit] += ints;\r\n            // Reduce timestamp\r\n            tstamp -= ints * unitValue;\r\n        }\r\n        // Check if we have full unit that we need to bump up to higher unit\r\n        _Object__WEBPACK_IMPORTED_MODULE_3__.each(values, (unit, value) => {\r\n            if (unit == \"millisecond\" && value == 1000) {\r\n                values[\"second\"]++;\r\n                values[\"millisecond\"] = 0;\r\n            }\r\n            else if (unit == \"second\" && value == 60) {\r\n                values[\"minute\"]++;\r\n                values[\"second\"] = 0;\r\n            }\r\n            else if (unit == \"minute\" && value == 60) {\r\n                values[\"hour\"]++;\r\n                values[\"minute\"] = 0;\r\n            }\r\n            else if (unit == \"hour\" && value == 24) {\r\n                values[\"day\"]++;\r\n                values[\"hour\"] = 0;\r\n            }\r\n            else if (unit == \"day\" && value == 7 && details.parts.indexOf(\"w\") !== -1) {\r\n                values[\"week\"]++;\r\n                values[\"day\"] = 0;\r\n            }\r\n            else if (unit == \"day\" && value == 30) {\r\n                values[\"month\"]++;\r\n                values[\"day\"] = 0;\r\n            }\r\n            else if (unit == \"month\" && value == 12) {\r\n                values[\"year\"]++;\r\n                values[\"month\"] = 0;\r\n            }\r\n            // if (val > 0) {\r\n            // \tres = res.replace($type.PLACEHOLDER, $utils.padString(val, 2, \"0\"));\r\n            // }\r\n            // else {\r\n            // \tres = res.replace($type.PLACEHOLDER, \"\");\r\n            // }\r\n        });\r\n        // Iterate again\r\n        for (let i = 0, len = details.parts.length; i < len; i++) {\r\n            // Gather the part\r\n            let part = details.parts[i];\r\n            let unit = this._toTimeUnit(part.substr(0, 1));\r\n            let digits = part.length;\r\n            // Calculate current unit value\r\n            res = res.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER, _Utils__WEBPACK_IMPORTED_MODULE_2__.padString(values[unit], digits, \"0\"));\r\n        }\r\n        // Reapply negative sign\r\n        if (negative) {\r\n            res = \"-\" + res;\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Converts numeric value to timestamp in milliseconds.\r\n     *\r\n     * @param value     A source value\r\n     * @param baseUnit  Base unit the source value is in: \"q\", \"s\", \"i\", \"h\", \"d\", \"w\", \"m\", \"y\"\r\n     * @return Value representation as a timestamp in milliseconds\r\n     */\r\n    toTimeStamp(value, baseUnit) {\r\n        return value * this._getUnitValue(baseUnit);\r\n    }\r\n    _toTimeUnit(code) {\r\n        switch (code) {\r\n            case \"S\":\r\n                return \"millisecond\";\r\n            case \"s\":\r\n                return \"second\";\r\n            case \"m\":\r\n                return \"minute\";\r\n            case \"h\":\r\n                return \"hour\";\r\n            case \"d\":\r\n                return \"day\";\r\n            case \"w\":\r\n                return \"week\";\r\n            case \"M\":\r\n                return \"month\";\r\n            case \"y\":\r\n                return \"year\";\r\n        }\r\n        ;\r\n    }\r\n    /**\r\n     * Returns appropriate default format for the value.\r\n     *\r\n     * If `maxValue` is sepcified, it will use that value to determine the time\r\n     * unit for the format.\r\n     *\r\n     * For example if your `baseUnit` is `\"second\"` and you pass in `10`, you\r\n     * will get `\"10\"`.\r\n     *\r\n     * However, you might want it to be formatted in the context of bigger scale,\r\n     * say 10 minutes (600 seconds). If you pass in `600` as `maxValue`, all\r\n     * values, including small ones will use format with minutes, e.g.:\r\n     * `00:10`, `00:50`, `12: 30`, etc.\r\n     *\r\n     * @param value     Value to format\r\n     * @param maxValue  Maximum value to be used to determine format\r\n     * @param baseUnit  Base unit of the value\r\n     * @return Format\r\n     */\r\n    getFormat(value, maxValue, baseUnit) {\r\n        // Is format override set?\r\n        if (this.get(\"durationFormat\") != null) {\r\n            return this.get(\"durationFormat\");\r\n        }\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        if (maxValue != null && value != maxValue) {\r\n            value = Math.abs(value);\r\n            maxValue = Math.abs(maxValue);\r\n            let maxUnit = this.getValueUnit(Math.max(value, maxValue), baseUnit);\r\n            return this.get(\"durationFormats\")[baseUnit][maxUnit];\r\n        }\r\n        else {\r\n            let unit = this.getValueUnit(value, baseUnit);\r\n            return this.get(\"durationFormats\")[baseUnit][unit];\r\n        }\r\n    }\r\n    /**\r\n     * Returns value's closest denominator time unit, e.g 100 seconds is\r\n     * `\"minute\"`, while 59 seconds would still be `second`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Denominator\r\n     */\r\n    getValueUnit(value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        // Convert to milliseconds\r\n        let currentUnit;\r\n        let ms = this.getMilliseconds(value, baseUnit);\r\n        _Object__WEBPACK_IMPORTED_MODULE_3__.eachContinue(this._getUnitValues(), (key, val) => {\r\n            if (key == baseUnit || currentUnit) {\r\n                let num = ms / val;\r\n                if (num <= 1) {\r\n                    if (!currentUnit) {\r\n                        currentUnit = key;\r\n                    }\r\n                    return false;\r\n                }\r\n                currentUnit = key;\r\n            }\r\n            return true;\r\n        });\r\n        return currentUnit;\r\n    }\r\n    /**\r\n     * Converts value to milliseconds according to `baseUnit`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Value in milliseconds\r\n     */\r\n    getMilliseconds(value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        return value * this._getUnitValue(baseUnit);\r\n    }\r\n    _getUnitValue(timeUnit) {\r\n        return this._getUnitValues()[timeUnit];\r\n    }\r\n    _getUnitValues() {\r\n        return {\r\n            \"millisecond\": 1,\r\n            \"second\": 1000,\r\n            \"minute\": 60000,\r\n            \"hour\": 3600000,\r\n            \"day\": 86400000,\r\n            \"week\": 604800000,\r\n            \"month\": 2592000000,\r\n            \"year\": 31536000000,\r\n        };\r\n    }\r\n}\r\n//# sourceMappingURL=DurationFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0R1cmF0aW9uRm9ybWF0dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrQztBQUNjO0FBQ1o7QUFDRjtBQUNGO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0ZBQWtGO0FBQzNGO0FBQ08sZ0NBQWdDLDJDQUFNO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywyQ0FBYztBQUN0RDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0NBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0NBQWtCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlEQUFhO0FBQ3RDLDRCQUE0QixtQkFBbUI7QUFDL0M7QUFDQTtBQUNBLGdEQUFnRCwrQ0FBa0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxvQkFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSw4Q0FBaUI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxTQUFTO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esb0RBQW9ELFNBQVM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBaUIsRUFBRSw2Q0FBZ0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpREFBb0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9EdXJhdGlvbkZvcm1hdHRlci5qcz83ZDBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL0VudGl0eVwiO1xyXG5pbXBvcnQgeyBUZXh0Rm9ybWF0dGVyIH0gZnJvbSBcIi4vVGV4dEZvcm1hdHRlclwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogQSBjbGFzcyB1c2VkIHRvIGZvcm1hdCBudW1iZXJpYyB2YWx1ZXMgYXMgdGltZSBkdXJhdGlvbi5cclxuICpcclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZm9ybWF0dGVycy9mb3JtYXR0aW5nLWR1cmF0aW9ucy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEdXJhdGlvbkZvcm1hdHRlciBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWxpYXNlcyBmb3IgdW5pdHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VuaXRBbGlhc2VzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgICAgICAgIFwiWVwiOiBcInlcIixcclxuICAgICAgICAgICAgICAgIFwiRFwiOiBcImRcIixcclxuICAgICAgICAgICAgICAgIFwiSFwiOiBcImhcIixcclxuICAgICAgICAgICAgICAgIFwiS1wiOiBcImhcIixcclxuICAgICAgICAgICAgICAgIFwia1wiOiBcImhcIixcclxuICAgICAgICAgICAgICAgIFwiblwiOiBcIlNcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfc2V0RGVmYXVsdHMoKSB7XHJcbiAgICAgICAgY29uc3QgZG1pbGxpc2Vjb25kID0gXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRcIjtcclxuICAgICAgICBjb25zdCBkc2Vjb25kID0gXCJfZHVyYXRpb25fc2Vjb25kXCI7XHJcbiAgICAgICAgY29uc3QgZG1pbnV0ZSA9IFwiX2R1cmF0aW9uX21pbnV0ZVwiO1xyXG4gICAgICAgIGNvbnN0IGRob3VyID0gXCJfZHVyYXRpb25faG91clwiO1xyXG4gICAgICAgIGNvbnN0IGRkYXkgPSBcIl9kdXJhdGlvbl9kYXlcIjtcclxuICAgICAgICBjb25zdCBkd2VlayA9IFwiX2R1cmF0aW9uX3dlZWtcIjtcclxuICAgICAgICBjb25zdCBkbW9udGggPSBcIl9kdXJhdGlvbl9tb250aFwiO1xyXG4gICAgICAgIGNvbnN0IGR5ZWFyID0gXCJfZHVyYXRpb25feWVhclwiO1xyXG4gICAgICAgIGNvbnN0IGFzZWNvbmQgPSBcIl9zZWNvbmRcIjtcclxuICAgICAgICBjb25zdCBhbWludXRlID0gXCJfbWludXRlXCI7XHJcbiAgICAgICAgY29uc3QgYWhvdXIgPSBcIl9ob3VyXCI7XHJcbiAgICAgICAgY29uc3QgYWRheSA9IFwiX2RheVwiO1xyXG4gICAgICAgIGNvbnN0IGF3ZWVrID0gXCJfd2Vla1wiO1xyXG4gICAgICAgIGNvbnN0IGFtb250aCA9IFwiX3dlZWtcIjtcclxuICAgICAgICBjb25zdCBheWVhciA9IFwiX3llYXJcIjtcclxuICAgICAgICAvLyBEZWZhdWx0c1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJuZWdhdGl2ZUJhc2VcIiwgMCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RGVmYXVsdChcImJhc2VVbml0XCIsIFwic2Vjb25kXCIpO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJkdXJhdGlvbkZvcm1hdHNcIiwge1xyXG4gICAgICAgICAgICBcIm1pbGxpc2Vjb25kXCI6IHtcclxuICAgICAgICAgICAgICAgIFwibWlsbGlzZWNvbmRcIjogdGhpcy5fdChkbWlsbGlzZWNvbmQpLFxyXG4gICAgICAgICAgICAgICAgXCJzZWNvbmRcIjogdGhpcy5fdCgoZG1pbGxpc2Vjb25kICsgYXNlY29uZCkpLFxyXG4gICAgICAgICAgICAgICAgXCJtaW51dGVcIjogdGhpcy5fdCgoZG1pbGxpc2Vjb25kICsgYW1pbnV0ZSkpLFxyXG4gICAgICAgICAgICAgICAgXCJob3VyXCI6IHRoaXMuX3QoKGRtaWxsaXNlY29uZCArIGFob3VyKSksXHJcbiAgICAgICAgICAgICAgICBcImRheVwiOiB0aGlzLl90KChkbWlsbGlzZWNvbmQgKyBhZGF5KSksXHJcbiAgICAgICAgICAgICAgICBcIndlZWtcIjogdGhpcy5fdCgoZG1pbGxpc2Vjb25kICsgYXdlZWspKSxcclxuICAgICAgICAgICAgICAgIFwibW9udGhcIjogdGhpcy5fdCgoZG1pbGxpc2Vjb25kICsgYW1vbnRoKSksXHJcbiAgICAgICAgICAgICAgICBcInllYXJcIjogdGhpcy5fdCgoZG1pbGxpc2Vjb25kICsgYXllYXIpKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInNlY29uZFwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInNlY29uZFwiOiB0aGlzLl90KChkc2Vjb25kKSksXHJcbiAgICAgICAgICAgICAgICBcIm1pbnV0ZVwiOiB0aGlzLl90KChkc2Vjb25kICsgYW1pbnV0ZSkpLFxyXG4gICAgICAgICAgICAgICAgXCJob3VyXCI6IHRoaXMuX3QoKGRzZWNvbmQgKyBhaG91cikpLFxyXG4gICAgICAgICAgICAgICAgXCJkYXlcIjogdGhpcy5fdCgoZHNlY29uZCArIGFkYXkpKSxcclxuICAgICAgICAgICAgICAgIFwid2Vla1wiOiB0aGlzLl90KChkc2Vjb25kICsgYXdlZWspKSxcclxuICAgICAgICAgICAgICAgIFwibW9udGhcIjogdGhpcy5fdCgoZHNlY29uZCArIGFtb250aCkpLFxyXG4gICAgICAgICAgICAgICAgXCJ5ZWFyXCI6IHRoaXMuX3QoKGRzZWNvbmQgKyBheWVhcikpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibWludXRlXCI6IHtcclxuICAgICAgICAgICAgICAgIFwibWludXRlXCI6IHRoaXMuX3QoKGRtaW51dGUpKSxcclxuICAgICAgICAgICAgICAgIFwiaG91clwiOiB0aGlzLl90KChkbWludXRlICsgYWhvdXIpKSxcclxuICAgICAgICAgICAgICAgIFwiZGF5XCI6IHRoaXMuX3QoKGRtaW51dGUgKyBhZGF5KSksXHJcbiAgICAgICAgICAgICAgICBcIndlZWtcIjogdGhpcy5fdCgoZG1pbnV0ZSArIGF3ZWVrKSksXHJcbiAgICAgICAgICAgICAgICBcIm1vbnRoXCI6IHRoaXMuX3QoKGRtaW51dGUgKyBhbW9udGgpKSxcclxuICAgICAgICAgICAgICAgIFwieWVhclwiOiB0aGlzLl90KChkbWludXRlICsgYXllYXIpKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImhvdXJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJob3VyXCI6IHRoaXMuX3QoKGRob3VyKSksXHJcbiAgICAgICAgICAgICAgICBcImRheVwiOiB0aGlzLl90KChkaG91ciArIGFkYXkpKSxcclxuICAgICAgICAgICAgICAgIFwid2Vla1wiOiB0aGlzLl90KChkaG91ciArIGF3ZWVrKSksXHJcbiAgICAgICAgICAgICAgICBcIm1vbnRoXCI6IHRoaXMuX3QoKGRob3VyICsgYW1vbnRoKSksXHJcbiAgICAgICAgICAgICAgICBcInllYXJcIjogdGhpcy5fdCgoZGhvdXIgKyBheWVhcikpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiZGF5XCI6IHtcclxuICAgICAgICAgICAgICAgIFwiZGF5XCI6IHRoaXMuX3QoKGRkYXkpKSxcclxuICAgICAgICAgICAgICAgIFwid2Vla1wiOiB0aGlzLl90KChkZGF5ICsgYXdlZWspKSxcclxuICAgICAgICAgICAgICAgIFwibW9udGhcIjogdGhpcy5fdCgoZGRheSArIGFtb250aCkpLFxyXG4gICAgICAgICAgICAgICAgXCJ5ZWFyXCI6IHRoaXMuX3QoKGRkYXkgKyBheWVhcikpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwid2Vla1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcIndlZWtcIjogdGhpcy5fdCgoZHdlZWspKSxcclxuICAgICAgICAgICAgICAgIFwibW9udGhcIjogdGhpcy5fdCgoZHdlZWsgKyBhbW9udGgpKSxcclxuICAgICAgICAgICAgICAgIFwieWVhclwiOiB0aGlzLl90KChkd2VlayArIGF5ZWFyKSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJtb250aFwiOiB7XHJcbiAgICAgICAgICAgICAgICBcIm1vbnRoXCI6IHRoaXMuX3QoKGRtb250aCkpLFxyXG4gICAgICAgICAgICAgICAgXCJ5ZWFyXCI6IHRoaXMuX3QoKGRtb250aCArIGF5ZWFyKSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJ5ZWFyXCI6IHtcclxuICAgICAgICAgICAgICAgIFwieWVhclwiOiB0aGlzLl90KGR5ZWFyKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3VwZXIuX3NldERlZmF1bHRzKCk7XHJcbiAgICB9XHJcbiAgICBfYmVmb3JlQ2hhbmdlZCgpIHtcclxuICAgICAgICBzdXBlci5fYmVmb3JlQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGb3JtYXRzIHRoZSBudW1iZXIgYXMgZHVyYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogRm9yIGV4YW1wbGUgYDEwMDBgIChiYXNlIHVuaXQgc2Vjb25kcykgd291bGQgYmUgY29udmVydGVkIHRvIGAxNjo0MGAgYXMgaW5cclxuICAgICAqIDE2IG1pbnV0ZXMgYW5kIDQwIHNlY29uZHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICAgVmFsdWUgdG8gZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gZm9ybWF0ICBGb3JtYXQgdG8gYXBwbHlcclxuICAgICAqIEBwYXJhbSBiYXNlICAgIE92ZXJyaWRlIGJhc2UgdW5pdFxyXG4gICAgICogQHJldHVybiBGb3JtYXR0ZWQgbnVtYmVyXHJcbiAgICAgKi9cclxuICAgIGZvcm1hdCh2YWx1ZSwgZm9ybWF0LCBiYXNlKSB7XHJcbiAgICAgICAgLy8gbm8gYmFzZSB1bml0P1xyXG4gICAgICAgIGxldCBiYXNlVW5pdCA9IGJhc2UgfHwgdGhpcy5nZXQoXCJiYXNlVW5pdFwiKTtcclxuICAgICAgICAvLyBubyBmb3JtYXQgcGFzc2VkIGluIG9yIGVtcHR5XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09IFwidW5kZWZpbmVkXCIgfHwgZm9ybWF0ID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldChcImR1cmF0aW9uRm9ybWF0XCIpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHRoaXMuZ2V0KFwiZHVyYXRpb25Gb3JtYXRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSB0aGlzLmdldEZvcm1hdCgkdHlwZS50b051bWJlcih2YWx1ZSksIHVuZGVmaW5lZCwgYmFzZVVuaXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENsZWFuIGZvcm1hdFxyXG4gICAgICAgIGZvcm1hdCA9ICR1dGlscy5jbGVhbkZvcm1hdChmb3JtYXQpO1xyXG4gICAgICAgIC8vIGdldCBmb3JtYXQgaW5mbyAoaXQgd2lsbCBhbHNvIGRlYWwgd2l0aCBwYXJzZXIgY2FjaGluZylcclxuICAgICAgICBsZXQgaW5mbyA9IHRoaXMucGFyc2VGb3JtYXQoZm9ybWF0LCBiYXNlVW5pdCk7XHJcbiAgICAgICAgLy8gY2FzdCB0byBudW1iZXIganVzdCBpbiBjYXNlXHJcbiAgICAgICAgLy8gVE9ETzogbWF5YmUgdXNlIGJldHRlciBjYXN0aW5nXHJcbiAgICAgICAgbGV0IHNvdXJjZSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgLy8gZm9ybWF0IGFuZCByZXBsYWNlIHRoZSBudW1iZXJcclxuICAgICAgICBsZXQgZGV0YWlscztcclxuICAgICAgICBpZiAoc291cmNlID4gdGhpcy5nZXQoXCJuZWdhdGl2ZUJhc2VcIikpIHtcclxuICAgICAgICAgICAgZGV0YWlscyA9IGluZm8ucG9zaXRpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNvdXJjZSA8IHRoaXMuZ2V0KFwibmVnYXRpdmVCYXNlXCIpKSB7XHJcbiAgICAgICAgICAgIGRldGFpbHMgPSBpbmZvLm5lZ2F0aXZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGV0YWlscyA9IGluZm8uemVybztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRm9ybWF0XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZCA9IHRoaXMuYXBwbHlGb3JtYXQoc291cmNlLCBkZXRhaWxzKTtcclxuICAgICAgICAvLyBBcHBseSBjb2xvcj9cclxuICAgICAgICBpZiAoZGV0YWlscy5jb2xvciAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICBmb3JtYXR0ZWQgPSBcIltcIiArIGRldGFpbHMuY29sb3IgKyBcIl1cIiArIGZvcm1hdHRlZCArIFwiWy9dXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyBzdXBwbGllZCBmb3JtYXQgaW50byBzdHJ1Y3R1cmVkIG9iamVjdCB3aGljaCBjYW4gYmUgdXNlZCB0byBmb3JtYXRcclxuICAgICAqIHRoZSBudW1iZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZvcm1hdCAgRm9ybWF0IHN0cmluZywgaS5lLiBcIiMsIyMjLjAwXCJcclxuICAgICAqIEBwYXJhbSBiYXNlICAgIE92ZXJyaWRlIGJhc2UgdW5pdFxyXG4gICAgICogQHJldHVybiBQYXJzZWQgaW5mb3JtYXRpb25cclxuICAgICAqL1xyXG4gICAgcGFyc2VGb3JtYXQoZm9ybWF0LCBiYXNlKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgY2FjaGVcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gbGV0IGNhY2hlZCA9IHRoaXMuZ2V0Q2FjaGUoZm9ybWF0KTtcclxuICAgICAgICAvLyBpZiAoY2FjaGVkICE9IG51bGwpIHtcclxuICAgICAgICAvLyBcdHJldHVybiBjYWNoZWQ7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIG5vIGJhc2UgdW5pdD9cclxuICAgICAgICBsZXQgYmFzZVVuaXQgPSBiYXNlIHx8IHRoaXMuZ2V0KFwiYmFzZVVuaXRcIik7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBkdXJhdGlvbiBwYXJzaW5nIGluZm9cclxuICAgICAgICBsZXQgaW5mbyA9IHtcclxuICAgICAgICAgICAgXCJwb3NpdGl2ZVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInRlbXBsYXRlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhcnRzXCI6IFtdLFxyXG4gICAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwiYmFzZVVuaXRcIjogYmFzZVVuaXQsXHJcbiAgICAgICAgICAgICAgICBcInBhcnNlZFwiOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIFwiYWJzb2x1dGVcIjogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJuZWdhdGl2ZVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInRlbXBsYXRlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhcnRzXCI6IFtdLFxyXG4gICAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwiYmFzZVVuaXRcIjogYmFzZVVuaXQsXHJcbiAgICAgICAgICAgICAgICBcInBhcnNlZFwiOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIFwiYWJzb2x1dGVcIjogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJ6ZXJvXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwicGFydHNcIjogW10sXHJcbiAgICAgICAgICAgICAgICBcInNvdXJjZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgXCJiYXNlVW5pdFwiOiBiYXNlVW5pdCxcclxuICAgICAgICAgICAgICAgIFwicGFyc2VkXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgXCJhYnNvbHV0ZVwiOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBFc2NhcGUgZG91YmxlIHZlcnRpY2FsIGJhcnMgKHRoYXQgbWVhbiBkaXNwbGF5IG9uZSB2ZXJ0aWNhbCBiYXIpXHJcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoXCJ8fFwiLCAkdHlwZS5QTEFDRUhPTERFUjIpO1xyXG4gICAgICAgIC8vIFNwbGl0IGl0IHVwIGFuZCBkZWFsIHdpdGggZGlmZmVyZW50IGZvcm1hdHNcclxuICAgICAgICBsZXQgcGFydHMgPSBmb3JtYXQuc3BsaXQoXCJ8XCIpO1xyXG4gICAgICAgIGluZm8ucG9zaXRpdmUuc291cmNlID0gcGFydHNbMF07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0c1syXSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBpbmZvLnplcm8gPSBpbmZvLnBvc2l0aXZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5mby56ZXJvLnNvdXJjZSA9IHBhcnRzWzJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHBhcnRzWzFdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIGluZm8ubmVnYXRpdmUgPSBpbmZvLnBvc2l0aXZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5mby5uZWdhdGl2ZS5zb3VyY2UgPSBwYXJ0c1sxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGFyc2UgZWFjaFxyXG4gICAgICAgICRvYmplY3QuZWFjaChpbmZvLCAoX3BhcnQsIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgLy8gQWxyZWFkeSBwYXJzZWRcclxuICAgICAgICAgICAgaWYgKGl0ZW0ucGFyc2VkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ2hlY2sgY2FjaGVkXHJcbiAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiB0aGlzLmdldENhY2hlKGl0ZW0uc291cmNlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAvLyBcdGluZm9bcGFydF0gPSB0aGlzLmdldENhY2hlKGl0ZW0uc291cmNlKTtcclxuICAgICAgICAgICAgLy8gXHRyZXR1cm47XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gQmVnaW4gcGFyc2luZ1xyXG4gICAgICAgICAgICBsZXQgcGFydEZvcm1hdCA9IGl0ZW0uc291cmNlO1xyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgW10gZGlyZWN0aXZlc1xyXG4gICAgICAgICAgICBsZXQgZGlycyA9IFtdO1xyXG4gICAgICAgICAgICBkaXJzID0gaXRlbS5zb3VyY2UubWF0Y2goL15cXFsoW15cXF1dKilcXF0vKTtcclxuICAgICAgICAgICAgaWYgKGRpcnMgJiYgZGlycy5sZW5ndGggJiYgZGlyc1swXSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgcGFydEZvcm1hdCA9IGl0ZW0uc291cmNlLnN1YnN0cihkaXJzWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmNvbG9yID0gZGlyc1sxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBMZXQgVGV4dEZvcm1hdHRlciBzcGxpdCBpbnRvIGNodW5rc1xyXG4gICAgICAgICAgICBsZXQgY2h1bmtzID0gVGV4dEZvcm1hdHRlci5jaHVuayhwYXJ0Rm9ybWF0LCB0cnVlKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjaHVuayA9IGNodW5rc1tpXTtcclxuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgYmFjayBkb3VibGUgdmVydGljYWwgYmFyXHJcbiAgICAgICAgICAgICAgICBjaHVuay50ZXh0ID0gY2h1bmsudGV4dC5yZXBsYWNlKCR0eXBlLlBMQUNFSE9MREVSMiwgXCJ8XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09IFwidmFsdWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEp1c3QgXCJEdXJhdGlvblwiP1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChjaHVuay50ZXh0LnRvTG93ZXJDYXNlKCkgPT09IFwiZHVyYXRpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFx0Y2h1bmsudGV4dCA9IGR1cmF0aW9uRm9ybWF0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgXCJhXCIgKGFic29sdXRlKSBtb2RpZmllclxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay50ZXh0Lm1hdGNoKC9beVlNZER3aEhLa21zU25dK2EvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFic29sdXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsudGV4dCA9IGNodW5rLnRleHQucmVwbGFjZSgvKFt5WU1kRHdoSEtrbXNTbl0rKWEvLCBcIiQxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIGFsbCBwb3NzaWJsZSBwYXJ0c1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzID0gY2h1bmsudGV4dC5tYXRjaCgveSt8WSt8TSt8ZCt8RCt8dyt8aCt8SCt8Syt8ayt8bSt8cyt8Uyt8bisvZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUG9wdWxhdGUgdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBtYXRjaGVzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJcyBpdCBhbiBhbGlhcz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzW3hdID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzW3hdID0gdGhpcy5fdW5pdEFsaWFzZXNbbWF0Y2hlc1t4XV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnBhcnRzLnB1c2gobWF0Y2hlc1t4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuay50ZXh0ID0gY2h1bmsudGV4dC5yZXBsYWNlKG1hdGNoZXNbeF0sICR0eXBlLlBMQUNFSE9MREVSKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHRvIHRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgICBpdGVtLnRlbXBsYXRlICs9IGNodW5rLnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXBwbHkgc3R5bGUgZm9ybWF0dGluZ1xyXG4gICAgICAgICAgICAvL2l0ZW0udGVtcGxhdGUgPSBUZXh0Rm9ybWF0dGVyLmZvcm1hdChpdGVtLnRlbXBsYXRlLCB0aGlzLm91dHB1dEZvcm1hdCk7XHJcbiAgICAgICAgICAgIC8vIFNhdmUgY2FjaGVcclxuICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICAvL3RoaXMuc2V0Q2FjaGUoaXRlbS5zb3VyY2UsIGl0ZW0pO1xyXG4gICAgICAgICAgICAvLyBNYXJrIHRoaXMgYXMgcGFyc2VkXHJcbiAgICAgICAgICAgIGl0ZW0ucGFyc2VkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTYXZlIGNhY2hlICh0aGUgd2hvbGUgdGhpbmcpXHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIC8vdGhpcy5zZXRDYWNoZShmb3JtYXQsIGluZm8pO1xyXG4gICAgICAgIHJldHVybiBpbmZvO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBsaWVzIHBhcnNlZCBmb3JtYXQgdG8gYSBudW1lcmljIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgICBWYWx1ZVxyXG4gICAgICogQHBhcmFtIGRldGFpbHMgIFBhcnNlZCBmb3JtYXQgYXMgcmV0dXJuZWQgYnkge3BhcnNlRm9ybWF0fVxyXG4gICAgICogQHJldHVybiBGb3JtYXR0ZWQgZHVyYXRpb25cclxuICAgICAqL1xyXG4gICAgYXBwbHlGb3JtYXQodmFsdWUsIGRldGFpbHMpIHtcclxuICAgICAgICAvLyBVc2UgYWJzb2x1dGUgdmFsdWVzXHJcbiAgICAgICAgbGV0IG5lZ2F0aXZlID0gIWRldGFpbHMuYWJzb2x1dGUgJiYgKHZhbHVlIDwgdGhpcy5nZXQoXCJuZWdhdGl2ZUJhc2VcIikpO1xyXG4gICAgICAgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xyXG4gICAgICAgIC8vIFJlY2FsY3VsYXRlIHRvIG1pbGxpc2Vjb25kc1xyXG4gICAgICAgIGxldCB0c3RhbXAgPSB0aGlzLnRvVGltZVN0YW1wKHZhbHVlLCBkZXRhaWxzLmJhc2VVbml0KTtcclxuICAgICAgICAvLyBJbml0IHJldHVybiB2YWx1ZVxyXG4gICAgICAgIGxldCByZXMgPSBkZXRhaWxzLnRlbXBsYXRlO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHtcclxuICAgICAgICAgICAgbWlsbGlzZWNvbmQ6IDAsXHJcbiAgICAgICAgICAgIHNlY29uZDogMCxcclxuICAgICAgICAgICAgbWludXRlOiAwLFxyXG4gICAgICAgICAgICBob3VyOiAwLFxyXG4gICAgICAgICAgICBkYXk6IDAsXHJcbiAgICAgICAgICAgIHdlZWs6IDAsXHJcbiAgICAgICAgICAgIG1vbnRoOiAwLFxyXG4gICAgICAgICAgICB5ZWFyOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZHVyYXRpb24gcGFydHNcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZGV0YWlscy5wYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAvLyBHYXRoZXIgdGhlIHBhcnRcclxuICAgICAgICAgICAgbGV0IHBhcnQgPSBkZXRhaWxzLnBhcnRzW2ldO1xyXG4gICAgICAgICAgICBsZXQgdW5pdCA9IHRoaXMuX3RvVGltZVVuaXQocGFydC5zdWJzdHIoMCwgMSkpO1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgY3VycmVudCB1bml0IHZhbHVlXHJcbiAgICAgICAgICAgIGxldCBpbnRzO1xyXG4gICAgICAgICAgICBjb25zdCB1bml0VmFsdWUgPSB0aGlzLl9nZXRVbml0VmFsdWUodW5pdCk7XHJcbiAgICAgICAgICAgIGlmIChpIDwgKGxlbiAtIDEpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnRzID0gTWF0aC5mbG9vcih0c3RhbXAgLyB1bml0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW50cyA9IE1hdGgucm91bmQodHN0YW1wIC8gdW5pdFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YWx1ZXNbdW5pdF0gKz0gaW50cztcclxuICAgICAgICAgICAgLy8gUmVkdWNlIHRpbWVzdGFtcFxyXG4gICAgICAgICAgICB0c3RhbXAgLT0gaW50cyAqIHVuaXRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBmdWxsIHVuaXQgdGhhdCB3ZSBuZWVkIHRvIGJ1bXAgdXAgdG8gaGlnaGVyIHVuaXRcclxuICAgICAgICAkb2JqZWN0LmVhY2godmFsdWVzLCAodW5pdCwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHVuaXQgPT0gXCJtaWxsaXNlY29uZFwiICYmIHZhbHVlID09IDEwMDApIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tcInNlY29uZFwiXSsrO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW1wibWlsbGlzZWNvbmRcIl0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHVuaXQgPT0gXCJzZWNvbmRcIiAmJiB2YWx1ZSA9PSA2MCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW1wibWludXRlXCJdKys7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNbXCJzZWNvbmRcIl0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHVuaXQgPT0gXCJtaW51dGVcIiAmJiB2YWx1ZSA9PSA2MCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW1wiaG91clwiXSsrO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW1wibWludXRlXCJdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh1bml0ID09IFwiaG91clwiICYmIHZhbHVlID09IDI0KSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNbXCJkYXlcIl0rKztcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tcImhvdXJcIl0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHVuaXQgPT0gXCJkYXlcIiAmJiB2YWx1ZSA9PSA3ICYmIGRldGFpbHMucGFydHMuaW5kZXhPZihcIndcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNbXCJ3ZWVrXCJdKys7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNbXCJkYXlcIl0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHVuaXQgPT0gXCJkYXlcIiAmJiB2YWx1ZSA9PSAzMCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzW1wibW9udGhcIl0rKztcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tcImRheVwiXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodW5pdCA9PSBcIm1vbnRoXCIgJiYgdmFsdWUgPT0gMTIpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tcInllYXJcIl0rKztcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tcIm1vbnRoXCJdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiAodmFsID4gMCkge1xyXG4gICAgICAgICAgICAvLyBcdHJlcyA9IHJlcy5yZXBsYWNlKCR0eXBlLlBMQUNFSE9MREVSLCAkdXRpbHMucGFkU3RyaW5nKHZhbCwgMiwgXCIwXCIpKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAgICAgLy8gXHRyZXMgPSByZXMucmVwbGFjZSgkdHlwZS5QTEFDRUhPTERFUiwgXCJcIik7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJdGVyYXRlIGFnYWluXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRldGFpbHMucGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gR2F0aGVyIHRoZSBwYXJ0XHJcbiAgICAgICAgICAgIGxldCBwYXJ0ID0gZGV0YWlscy5wYXJ0c1tpXTtcclxuICAgICAgICAgICAgbGV0IHVuaXQgPSB0aGlzLl90b1RpbWVVbml0KHBhcnQuc3Vic3RyKDAsIDEpKTtcclxuICAgICAgICAgICAgbGV0IGRpZ2l0cyA9IHBhcnQubGVuZ3RoO1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgY3VycmVudCB1bml0IHZhbHVlXHJcbiAgICAgICAgICAgIHJlcyA9IHJlcy5yZXBsYWNlKCR0eXBlLlBMQUNFSE9MREVSLCAkdXRpbHMucGFkU3RyaW5nKHZhbHVlc1t1bml0XSwgZGlnaXRzLCBcIjBcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZWFwcGx5IG5lZ2F0aXZlIHNpZ25cclxuICAgICAgICBpZiAobmVnYXRpdmUpIHtcclxuICAgICAgICAgICAgcmVzID0gXCItXCIgKyByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIG51bWVyaWMgdmFsdWUgdG8gdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgICAgIEEgc291cmNlIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gYmFzZVVuaXQgIEJhc2UgdW5pdCB0aGUgc291cmNlIHZhbHVlIGlzIGluOiBcInFcIiwgXCJzXCIsIFwiaVwiLCBcImhcIiwgXCJkXCIsIFwid1wiLCBcIm1cIiwgXCJ5XCJcclxuICAgICAqIEByZXR1cm4gVmFsdWUgcmVwcmVzZW50YXRpb24gYXMgYSB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKi9cclxuICAgIHRvVGltZVN0YW1wKHZhbHVlLCBiYXNlVW5pdCkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSAqIHRoaXMuX2dldFVuaXRWYWx1ZShiYXNlVW5pdCk7XHJcbiAgICB9XHJcbiAgICBfdG9UaW1lVW5pdChjb2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJTXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtaWxsaXNlY29uZFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwic1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic2Vjb25kXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtaW51dGVcIjtcclxuICAgICAgICAgICAgY2FzZSBcImhcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImhvdXJcIjtcclxuICAgICAgICAgICAgY2FzZSBcImRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImRheVwiO1xyXG4gICAgICAgICAgICBjYXNlIFwid1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwid2Vla1wiO1xyXG4gICAgICAgICAgICBjYXNlIFwiTVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibW9udGhcIjtcclxuICAgICAgICAgICAgY2FzZSBcInlcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInllYXJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFwcHJvcHJpYXRlIGRlZmF1bHQgZm9ybWF0IGZvciB0aGUgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogSWYgYG1heFZhbHVlYCBpcyBzZXBjaWZpZWQsIGl0IHdpbGwgdXNlIHRoYXQgdmFsdWUgdG8gZGV0ZXJtaW5lIHRoZSB0aW1lXHJcbiAgICAgKiB1bml0IGZvciB0aGUgZm9ybWF0LlxyXG4gICAgICpcclxuICAgICAqIEZvciBleGFtcGxlIGlmIHlvdXIgYGJhc2VVbml0YCBpcyBgXCJzZWNvbmRcImAgYW5kIHlvdSBwYXNzIGluIGAxMGAsIHlvdVxyXG4gICAgICogd2lsbCBnZXQgYFwiMTBcImAuXHJcbiAgICAgKlxyXG4gICAgICogSG93ZXZlciwgeW91IG1pZ2h0IHdhbnQgaXQgdG8gYmUgZm9ybWF0dGVkIGluIHRoZSBjb250ZXh0IG9mIGJpZ2dlciBzY2FsZSxcclxuICAgICAqIHNheSAxMCBtaW51dGVzICg2MDAgc2Vjb25kcykuIElmIHlvdSBwYXNzIGluIGA2MDBgIGFzIGBtYXhWYWx1ZWAsIGFsbFxyXG4gICAgICogdmFsdWVzLCBpbmNsdWRpbmcgc21hbGwgb25lcyB3aWxsIHVzZSBmb3JtYXQgd2l0aCBtaW51dGVzLCBlLmcuOlxyXG4gICAgICogYDAwOjEwYCwgYDAwOjUwYCwgYDEyOiAzMGAsIGV0Yy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgICAgIFZhbHVlIHRvIGZvcm1hdFxyXG4gICAgICogQHBhcmFtIG1heFZhbHVlICBNYXhpbXVtIHZhbHVlIHRvIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGZvcm1hdFxyXG4gICAgICogQHBhcmFtIGJhc2VVbml0ICBCYXNlIHVuaXQgb2YgdGhlIHZhbHVlXHJcbiAgICAgKiBAcmV0dXJuIEZvcm1hdFxyXG4gICAgICovXHJcbiAgICBnZXRGb3JtYXQodmFsdWUsIG1heFZhbHVlLCBiYXNlVW5pdCkge1xyXG4gICAgICAgIC8vIElzIGZvcm1hdCBvdmVycmlkZSBzZXQ/XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0KFwiZHVyYXRpb25Gb3JtYXRcIikgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJkdXJhdGlvbkZvcm1hdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gR2V0IGJhc2UgdW5pdFxyXG4gICAgICAgIGlmICghYmFzZVVuaXQpIHtcclxuICAgICAgICAgICAgYmFzZVVuaXQgPSB0aGlzLmdldChcImJhc2VVbml0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWF4VmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPSBtYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKTtcclxuICAgICAgICAgICAgbWF4VmFsdWUgPSBNYXRoLmFicyhtYXhWYWx1ZSk7XHJcbiAgICAgICAgICAgIGxldCBtYXhVbml0ID0gdGhpcy5nZXRWYWx1ZVVuaXQoTWF0aC5tYXgodmFsdWUsIG1heFZhbHVlKSwgYmFzZVVuaXQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJkdXJhdGlvbkZvcm1hdHNcIilbYmFzZVVuaXRdW21heFVuaXRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHVuaXQgPSB0aGlzLmdldFZhbHVlVW5pdCh2YWx1ZSwgYmFzZVVuaXQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJkdXJhdGlvbkZvcm1hdHNcIilbYmFzZVVuaXRdW3VuaXRdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB2YWx1ZSdzIGNsb3Nlc3QgZGVub21pbmF0b3IgdGltZSB1bml0LCBlLmcgMTAwIHNlY29uZHMgaXNcclxuICAgICAqIGBcIm1pbnV0ZVwiYCwgd2hpbGUgNTkgc2Vjb25kcyB3b3VsZCBzdGlsbCBiZSBgc2Vjb25kYC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgICAgIFNvdXJjZSBkdXJhdGlvbiB2YWx1ZVxyXG4gICAgICogQHBhcmFtIGJhc2VVbml0ICBCYXNlIHVuaXRcclxuICAgICAqIEByZXR1cm4gRGVub21pbmF0b3JcclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWVVbml0KHZhbHVlLCBiYXNlVW5pdCkge1xyXG4gICAgICAgIC8vIEdldCBiYXNlIHVuaXRcclxuICAgICAgICBpZiAoIWJhc2VVbml0KSB7XHJcbiAgICAgICAgICAgIGJhc2VVbml0ID0gdGhpcy5nZXQoXCJiYXNlVW5pdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ29udmVydCB0byBtaWxsaXNlY29uZHNcclxuICAgICAgICBsZXQgY3VycmVudFVuaXQ7XHJcbiAgICAgICAgbGV0IG1zID0gdGhpcy5nZXRNaWxsaXNlY29uZHModmFsdWUsIGJhc2VVbml0KTtcclxuICAgICAgICAkb2JqZWN0LmVhY2hDb250aW51ZSh0aGlzLl9nZXRVbml0VmFsdWVzKCksIChrZXksIHZhbCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09IGJhc2VVbml0IHx8IGN1cnJlbnRVbml0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbnVtID0gbXMgLyB2YWw7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRVbml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRVbml0ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VW5pdCA9IGtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY3VycmVudFVuaXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIHZhbHVlIHRvIG1pbGxpc2Vjb25kcyBhY2NvcmRpbmcgdG8gYGJhc2VVbml0YC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgICAgIFNvdXJjZSBkdXJhdGlvbiB2YWx1ZVxyXG4gICAgICogQHBhcmFtIGJhc2VVbml0ICBCYXNlIHVuaXRcclxuICAgICAqIEByZXR1cm4gVmFsdWUgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgKi9cclxuICAgIGdldE1pbGxpc2Vjb25kcyh2YWx1ZSwgYmFzZVVuaXQpIHtcclxuICAgICAgICAvLyBHZXQgYmFzZSB1bml0XHJcbiAgICAgICAgaWYgKCFiYXNlVW5pdCkge1xyXG4gICAgICAgICAgICBiYXNlVW5pdCA9IHRoaXMuZ2V0KFwiYmFzZVVuaXRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZSAqIHRoaXMuX2dldFVuaXRWYWx1ZShiYXNlVW5pdCk7XHJcbiAgICB9XHJcbiAgICBfZ2V0VW5pdFZhbHVlKHRpbWVVbml0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFVuaXRWYWx1ZXMoKVt0aW1lVW5pdF07XHJcbiAgICB9XHJcbiAgICBfZ2V0VW5pdFZhbHVlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBcIm1pbGxpc2Vjb25kXCI6IDEsXHJcbiAgICAgICAgICAgIFwic2Vjb25kXCI6IDEwMDAsXHJcbiAgICAgICAgICAgIFwibWludXRlXCI6IDYwMDAwLFxyXG4gICAgICAgICAgICBcImhvdXJcIjogMzYwMDAwMCxcclxuICAgICAgICAgICAgXCJkYXlcIjogODY0MDAwMDAsXHJcbiAgICAgICAgICAgIFwid2Vla1wiOiA2MDQ4MDAwMDAsXHJcbiAgICAgICAgICAgIFwibW9udGhcIjogMjU5MjAwMDAwMCxcclxuICAgICAgICAgICAgXCJ5ZWFyXCI6IDMxNTM2MDAwMDAwLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHVyYXRpb25Gb3JtYXR0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bounce: () => (/* binding */ bounce),\n/* harmony export */   circle: () => (/* binding */ circle),\n/* harmony export */   cubic: () => (/* binding */ cubic),\n/* harmony export */   elastic: () => (/* binding */ elastic),\n/* harmony export */   exp: () => (/* binding */ exp),\n/* harmony export */   inOut: () => (/* binding */ inOut),\n/* harmony export */   linear: () => (/* binding */ linear),\n/* harmony export */   out: () => (/* binding */ out),\n/* harmony export */   pow: () => (/* binding */ pow),\n/* harmony export */   quad: () => (/* binding */ quad),\n/* harmony export */   sine: () => (/* binding */ sine),\n/* harmony export */   yoyo: () => (/* binding */ yoyo)\n/* harmony export */ });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Math */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\");\n/**\r\n * A collection of easing functions\r\n *\r\n * Parts of this collection are taken from D3.js library (https://d3js.org/)\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * The functions below are from D3.js library (https://d3js.org/)\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Copyright 2017 Mike Bostock\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer in the documentation\r\n *\tand/or other materials provided with the distribution.\r\n *\r\n * 3. Neither the name of the copyright holder nor the names of its\r\n *\tcontributors may be used to endorse or promote products derived from this\r\n *\tsoftware without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n * ----------------------------------------------------------------------------\r\n * @hidden\r\n */\r\n/**\r\n */\r\nfunction linear(t) {\r\n    return t;\r\n}\r\nfunction quad(t) {\r\n    return t * t;\r\n}\r\nfunction cubic(t) {\r\n    return t * t * t;\r\n}\r\nfunction pow(t, e) {\r\n    return Math.pow(t, e);\r\n}\r\nfunction exp(t) {\r\n    return Math.pow(2, 10 * t - 10);\r\n}\r\nfunction sine(t) {\r\n    return 1 - Math.cos(t * _Math__WEBPACK_IMPORTED_MODULE_0__.HALFPI);\r\n}\r\nfunction circle(t) {\r\n    return 1 - Math.sqrt(1 - t * t);\r\n}\r\n/**\r\n * ============================================================================\r\n * TRANSFORMERS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n */\r\nfunction yoyo(ease) {\r\n    return function (t) {\r\n        if (t < 0.5) {\r\n            return ease(t * 2.0);\r\n        }\r\n        else {\r\n            return ease((1.0 - t) * 2.0);\r\n        }\r\n    };\r\n}\r\nfunction out(ease) {\r\n    return function (t) {\r\n        return 1.0 - ease(1.0 - t);\r\n    };\r\n}\r\nfunction inOut(ease) {\r\n    return function (t) {\r\n        if (t <= 0.5) {\r\n            return ease(t * 2.0) / 2.0;\r\n        }\r\n        else {\r\n            return 1.0 - (ease((1.0 - t) * 2.0) / 2.0);\r\n        }\r\n    };\r\n}\r\n/**\r\n * ============================================================================\r\n * BOUNCE\r\n * ============================================================================\r\n * @hidden\r\n */\r\nlet b1 = 4 / 11, b2 = 6 / 11, b3 = 8 / 11, b4 = 3 / 4, b5 = 9 / 11, b6 = 10 / 11, b7 = 15 / 16, b8 = 21 / 22, b9 = 63 / 64, b0 = 1 / b1 / b1;\r\nfunction bounce(t) {\r\n    return 1 - bounceOut(1 - t);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction bounceOut(t) {\r\n    t = t;\r\n    if (t < b1) {\r\n        return b0 * t * t;\r\n    }\r\n    else if (t < b3) {\r\n        return b0 * (t -= b2) * t + b4;\r\n    }\r\n    else if (t < b6) {\r\n        return b0 * (t -= b5) * t + b7;\r\n    }\r\n    else {\r\n        return b0 * (t -= b8) * t + b9;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * ELASTIC\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore\r\n */\r\nlet tau = 2 * Math.PI;\r\n/**\r\n * @ignore\r\n */\r\nlet amplitude = 1;\r\n/**\r\n * @ignore\r\n */\r\nlet period = 0.3 / tau;\r\n/**\r\n * @ignore\r\n */\r\nlet s = Math.asin(1 / amplitude) * period;\r\nfunction elastic(t) {\r\n    let v = t;\r\n    return amplitude * Math.pow(2, 10 * --v) * Math.sin((s - v) / period);\r\n}\r\n//# sourceMappingURL=Ease.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0Vhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrQkFBK0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCw0QkFBNEIseUNBQVk7QUFDeEM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0Vhc2UuanM/ZmE2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQSBjb2xsZWN0aW9uIG9mIGVhc2luZyBmdW5jdGlvbnNcclxuICpcclxuICogUGFydHMgb2YgdGhpcyBjb2xsZWN0aW9uIGFyZSB0YWtlbiBmcm9tIEQzLmpzIGxpYnJhcnkgKGh0dHBzOi8vZDNqcy5vcmcvKVxyXG4gKi9cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogSU1QT1JUU1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmltcG9ydCAqIGFzICRtYXRoIGZyb20gXCIuL01hdGhcIjtcclxuLyoqXHJcbiAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgYXJlIGZyb20gRDMuanMgbGlicmFyeSAoaHR0cHM6Ly9kM2pzLm9yZy8pXHJcbiAqXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQ29weXJpZ2h0IDIwMTcgTWlrZSBCb3N0b2NrXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxyXG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICpcclxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKlx0dGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICpcclxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKlx0dGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxyXG4gKlx0YW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqXHJcbiAqIDMuIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGNvcHlyaWdodCBob2xkZXIgbm9yIHRoZSBuYW1lcyBvZiBpdHNcclxuICpcdGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXNcclxuICpcdHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4gKlxyXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxyXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXHJcbiAqIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXHJcbiAqIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkVcclxuICogTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxyXG4gKiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxyXG4gKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1NcclxuICogSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU5cclxuICogQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyKHQpIHtcclxuICAgIHJldHVybiB0O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBxdWFkKHQpIHtcclxuICAgIHJldHVybiB0ICogdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3ViaWModCkge1xyXG4gICAgcmV0dXJuIHQgKiB0ICogdDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcG93KHQsIGUpIHtcclxuICAgIHJldHVybiBNYXRoLnBvdyh0LCBlKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZXhwKHQpIHtcclxuICAgIHJldHVybiBNYXRoLnBvdygyLCAxMCAqIHQgLSAxMCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbmUodCkge1xyXG4gICAgcmV0dXJuIDEgLSBNYXRoLmNvcyh0ICogJG1hdGguSEFMRlBJKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2lyY2xlKHQpIHtcclxuICAgIHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogVFJBTlNGT1JNRVJTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24geW95byhlYXNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICBpZiAodCA8IDAuNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWFzZSh0ICogMi4wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlYXNlKCgxLjAgLSB0KSAqIDIuMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gb3V0KGVhc2UpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHJldHVybiAxLjAgLSBlYXNlKDEuMCAtIHQpO1xyXG4gICAgfTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5PdXQoZWFzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgaWYgKHQgPD0gMC41KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlYXNlKHQgKiAyLjApIC8gMi4wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDEuMCAtIChlYXNlKCgxLjAgLSB0KSAqIDIuMCkgLyAyLjApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQk9VTkNFXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxubGV0IGIxID0gNCAvIDExLCBiMiA9IDYgLyAxMSwgYjMgPSA4IC8gMTEsIGI0ID0gMyAvIDQsIGI1ID0gOSAvIDExLCBiNiA9IDEwIC8gMTEsIGI3ID0gMTUgLyAxNiwgYjggPSAyMSAvIDIyLCBiOSA9IDYzIC8gNjQsIGIwID0gMSAvIGIxIC8gYjE7XHJcbmV4cG9ydCBmdW5jdGlvbiBib3VuY2UodCkge1xyXG4gICAgcmV0dXJuIDEgLSBib3VuY2VPdXQoMSAtIHQpO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBib3VuY2VPdXQodCkge1xyXG4gICAgdCA9IHQ7XHJcbiAgICBpZiAodCA8IGIxKSB7XHJcbiAgICAgICAgcmV0dXJuIGIwICogdCAqIHQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0IDwgYjMpIHtcclxuICAgICAgICByZXR1cm4gYjAgKiAodCAtPSBiMikgKiB0ICsgYjQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0IDwgYjYpIHtcclxuICAgICAgICByZXR1cm4gYjAgKiAodCAtPSBiNSkgKiB0ICsgYjc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYjAgKiAodCAtPSBiOCkgKiB0ICsgYjk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogRUxBU1RJQ1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5sZXQgdGF1ID0gMiAqIE1hdGguUEk7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5sZXQgYW1wbGl0dWRlID0gMTtcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmxldCBwZXJpb2QgPSAwLjMgLyB0YXU7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5sZXQgcyA9IE1hdGguYXNpbigxIC8gYW1wbGl0dWRlKSAqIHBlcmlvZDtcclxuZXhwb3J0IGZ1bmN0aW9uIGVsYXN0aWModCkge1xyXG4gICAgbGV0IHYgPSB0O1xyXG4gICAgcmV0dXJuIGFtcGxpdHVkZSAqIE1hdGgucG93KDIsIDEwICogLS12KSAqIE1hdGguc2luKChzIC0gdikgLyBwZXJpb2QpO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Adapters: () => (/* binding */ Adapters),\n/* harmony export */   Animation: () => (/* binding */ Animation),\n/* harmony export */   Entity: () => (/* binding */ Entity),\n/* harmony export */   Settings: () => (/* binding */ Settings)\n/* harmony export */ });\n/* harmony import */ var _Disposer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Animation */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js\");\n/* harmony import */ var _States__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./States */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/States.js\");\n/* harmony import */ var _Registry__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Registry */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Ease__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Ease */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Order__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Order */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Allows to dynamically modify setting value of its target element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n */\r\nclass Adapters {\r\n    constructor(entity) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Add a function (`callback`) that will modify value for setting `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n     */\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        this._entity._markDirtyKey(key);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n            if (_Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(callbacks, callback)) {\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Removes all adapters for the specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n            if (callbacks.length !== 0) {\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Enables (previously disabled) adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    enable(key) {\r\n        if (this._disabled[key]) {\r\n            delete this._disabled[key];\r\n            this._entity._markDirtyKey(key);\r\n        }\r\n    }\r\n    /**\r\n     * Disables all adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    disable(key) {\r\n        if (!this._disabled[key]) {\r\n            this._disabled[key] = true;\r\n            this._entity._markDirtyKey(key);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fold(key, value) {\r\n        if (!this._disabled[key]) {\r\n            const callbacks = this._callbacks[key];\r\n            if (callbacks !== undefined) {\r\n                for (let i = 0, len = callbacks.length; i < len; ++i) {\r\n                    value = callbacks[i](value, this._entity, key);\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n}\r\n/**\r\n * Animation object.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/} for more info\r\n */\r\nclass Animation {\r\n    constructor(animation, from, to, duration, easing, loops, startingTime) {\r\n        Object.defineProperty(this, \"_animation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_loops\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_interpolate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_oldTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_time\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_stopped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_playing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _EventDispatcher__WEBPACK_IMPORTED_MODULE_2__.EventDispatcher()\r\n        });\r\n        this._animation = animation;\r\n        this._from = from;\r\n        this._to = to;\r\n        this._duration = duration;\r\n        this._easing = easing;\r\n        this._loops = loops;\r\n        this._interpolate = (0,_Animation__WEBPACK_IMPORTED_MODULE_3__.getInterpolate)(from, to);\r\n        this._oldTime = startingTime;\r\n    }\r\n    get to() {\r\n        return this._to;\r\n    }\r\n    get from() {\r\n        return this._from;\r\n    }\r\n    get playing() {\r\n        return this._playing;\r\n    }\r\n    get stopped() {\r\n        return this._stopped;\r\n    }\r\n    stop() {\r\n        if (!this._stopped) {\r\n            this._stopped = true;\r\n            this._playing = false;\r\n            if (this.events.isEnabled(\"stopped\")) {\r\n                this.events.dispatch(\"stopped\", {\r\n                    type: \"stopped\",\r\n                    target: this,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    pause() {\r\n        this._playing = false;\r\n        this._oldTime = null;\r\n    }\r\n    play() {\r\n        if (!this._stopped && !this._playing) {\r\n            this._playing = true;\r\n            this._animation._startAnimation();\r\n        }\r\n    }\r\n    get percentage() {\r\n        return this._time / this._duration;\r\n    }\r\n    waitForStop() {\r\n        return new Promise((resolve, _reject) => {\r\n            if (this._stopped) {\r\n                resolve();\r\n            }\r\n            else {\r\n                const listener = () => {\r\n                    stopped.dispose();\r\n                    resolve();\r\n                };\r\n                const stopped = this.events.on(\"stopped\", listener);\r\n            }\r\n        });\r\n    }\r\n    _checkEnded() {\r\n        if (this._loops > 1) {\r\n            --this._loops;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    _run(currentTime) {\r\n        if (this._oldTime !== null) {\r\n            this._time += currentTime - this._oldTime;\r\n            if (this._time > this._duration) {\r\n                this._time = this._duration;\r\n            }\r\n        }\r\n        this._oldTime = currentTime;\r\n    }\r\n    _reset(currentTime) {\r\n        this._oldTime = currentTime;\r\n        this._time = 0;\r\n    }\r\n    _value(diff) {\r\n        return this._interpolate(this._easing(diff), this._from, this._to);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nlet counter = 0;\r\n/**\r\n * Base class for [[Entity]] objects that support Settings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n */\r\nclass Settings {\r\n    constructor(settings) {\r\n        /**\r\n         * Unique ID.\r\n         */\r\n        Object.defineProperty(this, \"uid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: ++counter\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO move this into Entity\r\n        Object.defineProperty(this, \"_userProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * If this is set to `false` then disposing does nothing, it's a no-op.\r\n         */\r\n        Object.defineProperty(this, \"enableDispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        this._settings = settings;\r\n    }\r\n    _checkDirty() {\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.keys(this._settings).forEach((key) => {\r\n            this._userProperties[key] = true;\r\n            this._markDirtyKey(key);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    resetUserSettings() {\r\n        this._userProperties = {};\r\n    }\r\n    _runAnimation(currentTime) {\r\n        let state = _Animation__WEBPACK_IMPORTED_MODULE_3__.AnimationState.Stopped;\r\n        if (!this.isDisposed()) {\r\n            let playing = false;\r\n            let paused = false;\r\n            _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._animatingSettings, (key, animation) => {\r\n                if (animation.stopped) {\r\n                    this._stopAnimation(key);\r\n                }\r\n                else if (animation.playing) {\r\n                    animation._run(currentTime);\r\n                    const diff = animation.percentage;\r\n                    if (diff >= 1) {\r\n                        if (animation._checkEnded()) {\r\n                            this.set(key, animation._value(1));\r\n                        }\r\n                        else {\r\n                            playing = true;\r\n                            animation._reset(currentTime);\r\n                            this._set(key, animation._value(1));\r\n                        }\r\n                    }\r\n                    else {\r\n                        playing = true;\r\n                        this._set(key, animation._value(diff));\r\n                    }\r\n                }\r\n                else {\r\n                    paused = true;\r\n                }\r\n            });\r\n            _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._animatingPrivateSettings, (key, animation) => {\r\n                if (animation.stopped) {\r\n                    this._stopAnimationPrivate(key);\r\n                }\r\n                else if (animation.playing) {\r\n                    animation._run(currentTime);\r\n                    const diff = animation.percentage;\r\n                    if (diff >= 1) {\r\n                        if (animation._checkEnded()) {\r\n                            this.setPrivate(key, animation._value(1));\r\n                        }\r\n                        else {\r\n                            playing = true;\r\n                            animation._reset(currentTime);\r\n                            this._setPrivate(key, animation._value(1));\r\n                        }\r\n                    }\r\n                    else {\r\n                        playing = true;\r\n                        this._setPrivate(key, animation._value(diff));\r\n                    }\r\n                }\r\n                else {\r\n                    paused = true;\r\n                }\r\n            });\r\n            if (playing) {\r\n                state = _Animation__WEBPACK_IMPORTED_MODULE_3__.AnimationState.Playing;\r\n            }\r\n            else if (paused) {\r\n                state = _Animation__WEBPACK_IMPORTED_MODULE_3__.AnimationState.Paused;\r\n            }\r\n        }\r\n        return state;\r\n    }\r\n    _markDirtyKey(_key) {\r\n        this.markDirty();\r\n    }\r\n    _markDirtyPrivateKey(_key) {\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * Sets a callback function to invoke when specific key of settings changes\r\n     * or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    on(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Removes a callback for when value of a setting changes.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @since 5.9.2\r\n     */\r\n    off(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events !== undefined && callback !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(events, callback);\r\n        }\r\n        else {\r\n            delete this._settingEvents[key];\r\n        }\r\n    }\r\n    /**\r\n     * Sets a callback function to invoke when specific key of private settings\r\n     * changes or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    onPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Removes a callback for when value of a private setting changes.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @since 5.9.2\r\n     */\r\n    offPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events !== undefined && callback !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeFirst(events, callback);\r\n        }\r\n        else {\r\n            delete this._privateSettingEvents[key];\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getRaw(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if the setting exists.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key        Settings key\r\n     * @return  {boolean}  Key exists\r\n     */\r\n    has(key) {\r\n        return key in this._settings;\r\n    }\r\n    get(key, fallback) {\r\n        return this.getRaw(key, fallback);\r\n    }\r\n    _sendKeyEvent(key, value) {\r\n        const events = this._settingEvents[key];\r\n        if (events !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(events, (callback) => {\r\n                callback(value, this, key);\r\n            });\r\n        }\r\n    }\r\n    _sendPrivateKeyEvent(key, value) {\r\n        const events = this._privateSettingEvents[key];\r\n        if (events !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(events, (callback) => {\r\n                callback(value, this, key);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setRaw(key, old, value) {\r\n        this._prevSettings[key] = old;\r\n        this._sendKeyEvent(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        const old = this._settings[key];\r\n        this._settings[key] = value;\r\n        if (old !== value) {\r\n            this._setRaw(key, old, value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _set(key, value) {\r\n        const old = this._settings[key];\r\n        this._settings[key] = value;\r\n        if (old !== value) {\r\n            this._setRaw(key, old, value);\r\n            this._markDirtyKey(key);\r\n        }\r\n    }\r\n    _stopAnimation(key) {\r\n        const animation = this._animatingSettings[key];\r\n        if (animation) {\r\n            delete this._animatingSettings[key];\r\n            animation.stop();\r\n        }\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._set(key, value);\r\n        this._stopAnimation(key);\r\n        return value;\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        if (key in this._settings) {\r\n            this._prevSettings[key] = this._settings[key];\r\n            delete this._settings[key];\r\n            this._sendKeyEvent(key, undefined);\r\n            this._markDirtyKey(key);\r\n        }\r\n        this._stopAnimation(key);\r\n    }\r\n    /**\r\n     * Removes all keys;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     */\r\n    removeAll() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(_Object__WEBPACK_IMPORTED_MODULE_4__.keys(this._settings), (key) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    /**\r\n     * Returns a value of a private setting.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/#Private_settings} for more info\r\n     */\r\n    getPrivate(key, fallback) {\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setPrivateRaw(key, old, value) {\r\n        this._prevPrivateSettings[key] = old;\r\n        this._sendPrivateKeyEvent(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivateRaw(key, value) {\r\n        const old = this._privateSettings[key];\r\n        this._privateSettings[key] = value;\r\n        if (old !== value) {\r\n            this._setPrivateRaw(key, old, value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setPrivate(key, value) {\r\n        const old = this._privateSettings[key];\r\n        this._privateSettings[key] = value;\r\n        if (old !== value) {\r\n            this._setPrivateRaw(key, old, value);\r\n            this._markDirtyPrivateKey(key);\r\n        }\r\n    }\r\n    _stopAnimationPrivate(key) {\r\n        const animation = this._animatingPrivateSettings[key];\r\n        if (animation) {\r\n            animation.stop();\r\n            delete this._animatingPrivateSettings[key];\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivate(key, value) {\r\n        this._setPrivate(key, value);\r\n        this._stopAnimationPrivate(key);\r\n        return value;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removePrivate(key) {\r\n        if (key in this._privateSettings) {\r\n            this._prevPrivateSettings[key] = this._privateSettings[key];\r\n            delete this._privateSettings[key];\r\n            this._markDirtyPrivateKey(key);\r\n        }\r\n        this._stopAnimationPrivate(key);\r\n    }\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    setAll(settings) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(settings, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    /**\r\n     * Animates setting values from current/start values to new ones.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_settings} for more info\r\n     * @param   options  Animation options\r\n     * @return           Animation object\r\n     */\r\n    animate(options) {\r\n        const key = options.key;\r\n        const to = options.to;\r\n        const duration = options.duration || 0;\r\n        const loops = options.loops || 1;\r\n        const from = (options.from === undefined ? this.get(key) : options.from);\r\n        const easing = (options.easing === undefined ? _Ease__WEBPACK_IMPORTED_MODULE_5__.linear : options.easing);\r\n        if (duration === 0) {\r\n            this.set(key, to);\r\n        }\r\n        else {\r\n            if (from === undefined || from === to) {\r\n                this.set(key, to);\r\n            }\r\n            else {\r\n                this.set(key, from);\r\n                const animation = this._animatingSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                this._startAnimation();\r\n                return animation;\r\n            }\r\n        }\r\n        const animation = new Animation(this, from, to, duration, easing, loops, null);\r\n        animation.stop();\r\n        return animation;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    animatePrivate(options) {\r\n        const key = options.key;\r\n        const to = options.to;\r\n        const duration = options.duration || 0;\r\n        const loops = options.loops || 1;\r\n        const from = (options.from === undefined ? this.getPrivate(key) : options.from);\r\n        const easing = (options.easing === undefined ? _Ease__WEBPACK_IMPORTED_MODULE_5__.linear : options.easing);\r\n        if (duration === 0) {\r\n            this.setPrivate(key, to);\r\n        }\r\n        else {\r\n            if (from === undefined || from === to) {\r\n                this.setPrivate(key, to);\r\n            }\r\n            else {\r\n                this.setPrivate(key, from);\r\n                const animation = this._animatingPrivateSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                this._startAnimation();\r\n                return animation;\r\n            }\r\n        }\r\n        const animation = new Animation(this, from, to, duration, easing, loops, null);\r\n        animation.stop();\r\n        return animation;\r\n    }\r\n    _dispose() { }\r\n    /**\r\n     * Returns `true` if this element is disposed.\r\n     *\r\n     * @return Disposed\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes this object.\r\n     */\r\n    dispose() {\r\n        if (this.enableDispose && !this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * Base class.\r\n *\r\n * @important\r\n */\r\nclass Entity extends Settings {\r\n    /**\r\n     * IMPORTANT! Do not instantiate this class via `new Class()` syntax.\r\n     *\r\n     * Use static method `Class.new()` instead.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @ignore\r\n     */\r\n    constructor(root, settings, isReal, templates = []) {\r\n        super(settings);\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_user_id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        }); // for testing purposes\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _States__WEBPACK_IMPORTED_MODULE_6__.States(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Adapters(this)\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._createEvents()\r\n        });\r\n        Object.defineProperty(this, \"_userPrivateProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPrivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Templates for the themes\r\n        Object.defineProperty(this, \"_templates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Internal templates which can be overridden by the user's templates\r\n        Object.defineProperty(this, \"_internalTemplates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Default themes which can be overridden by the user's themes\r\n        Object.defineProperty(this, \"_defaultThemes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Disposers for all of the templates\r\n        Object.defineProperty(this, \"_templateDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Whether the template setup function should be run\r\n        Object.defineProperty(this, \"_runSetup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_disposerProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._root = root;\r\n        this._internalTemplates = templates;\r\n        if (settings.id) {\r\n            this._registerId(settings.id);\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root, settings, template) {\r\n        const x = (new this(root, settings, true));\r\n        x._template = template;\r\n        x._afterNew();\r\n        return x;\r\n    }\r\n    static _new(root, settings, templates = []) {\r\n        const x = (new this(root, settings, true, templates));\r\n        x._afterNew();\r\n        return x;\r\n    }\r\n    _afterNew() {\r\n        this._checkDirty();\r\n        let shouldApply = false;\r\n        const template = this._template;\r\n        if (template) {\r\n            shouldApply = true;\r\n            template._setObjectTemplate(this);\r\n        }\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._internalTemplates, (template) => {\r\n            shouldApply = true;\r\n            template._setObjectTemplate(this);\r\n        });\r\n        if (shouldApply) {\r\n            this._applyTemplates(false);\r\n        }\r\n        this.states.create(\"default\", {});\r\n        this._setDefaults();\r\n    }\r\n    // This is the same as _afterNew, except it also applies the themes.\r\n    // This should only be used for classes which don't have a parent (because they extend from Entity and not Sprite).\r\n    _afterNewApplyThemes() {\r\n        this._checkDirty();\r\n        const template = this._template;\r\n        if (template) {\r\n            template._setObjectTemplate(this);\r\n        }\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._internalTemplates, (template) => {\r\n            template._setObjectTemplate(this);\r\n        });\r\n        this.states.create(\"default\", {});\r\n        this._setDefaults();\r\n        this._applyThemes();\r\n    }\r\n    _createEvents() {\r\n        return new _EventDispatcher__WEBPACK_IMPORTED_MODULE_2__.EventDispatcher();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get classNames() {\r\n        return this.constructor.classNames;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get className() {\r\n        return this.constructor.className;\r\n    }\r\n    _setDefaults() {\r\n    }\r\n    _setDefaultFn(key, f) {\r\n        const value = this.get(key);\r\n        if (value) {\r\n            return value;\r\n        }\r\n        else {\r\n            const value = f();\r\n            this.set(key, value);\r\n            return value;\r\n        }\r\n    }\r\n    _setDefault(key, value) {\r\n        if (!this.has(key)) {\r\n            super.set(key, value);\r\n        }\r\n    }\r\n    _setRawDefault(key, value) {\r\n        if (!this.has(key)) {\r\n            super.setRaw(key, value);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.keys(this._dirty).forEach((key) => {\r\n            this._dirty[key] = false;\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.keys(this._dirtyPrivate).forEach((key) => {\r\n            this._dirtyPrivate[key] = false;\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isDirty(key) {\r\n        return !!this._dirty[key];\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isPrivateDirty(key) {\r\n        return !!this._dirtyPrivate[key];\r\n    }\r\n    _markDirtyKey(key) {\r\n        this._dirty[key] = true;\r\n        super._markDirtyKey(key);\r\n    }\r\n    _markDirtyPrivateKey(key) {\r\n        this._dirtyPrivate[key] = true;\r\n        super._markDirtyKey(key);\r\n    }\r\n    /**\r\n     * Checks if element is of certain class (or inherits one).\r\n     *\r\n     * @param   type  Class name to check\r\n     * @return {boolean} Is of class?\r\n     */\r\n    isType(type) {\r\n        return this.classNames.indexOf(type) !== -1;\r\n    }\r\n    _pushPropertyDisposer(key, disposer) {\r\n        let disposers = this._disposerProperties[key];\r\n        if (disposers === undefined) {\r\n            disposers = this._disposerProperties[key] = [];\r\n        }\r\n        disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _disposeProperty(key) {\r\n        const disposers = this._disposerProperties[key];\r\n        if (disposers !== undefined) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(disposers, (disposer) => {\r\n                disposer.dispose();\r\n            });\r\n            delete this._disposerProperties[key];\r\n        }\r\n    }\r\n    /**\r\n     * @todo needs description\r\n     * @param  value  Template\r\n     */\r\n    set template(value) {\r\n        const template = this._template;\r\n        if (template !== value) {\r\n            this._template = value;\r\n            if (template) {\r\n                template._removeObjectTemplate(this);\r\n            }\r\n            if (value) {\r\n                value._setObjectTemplate(this);\r\n            }\r\n            this._applyTemplates();\r\n        }\r\n    }\r\n    get template() {\r\n        return this._template;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this._root._addDirtyEntity(this);\r\n    }\r\n    _startAnimation() {\r\n        this._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this._root.animationTime;\r\n    }\r\n    _applyState(_name) { }\r\n    _applyStateAnimated(_name, _duration) { }\r\n    get(key, fallback) {\r\n        const value = this.adapters.fold(key, this._settings[key]);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isUserSetting(key) {\r\n        return this._userProperties[key] || false;\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._userProperties[key] = true;\r\n        return super.set(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        this._userProperties[key] = true;\r\n        super.setRaw(key, value);\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key` only if the value for this key was not set previously using set method, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    _setSoft(key, value) {\r\n        if (!this._userProperties[key]) {\r\n            return super.set(key, value);\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        delete this._userProperties[key];\r\n        this._removeTemplateProperty(key);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivate(key, value) {\r\n        this._userPrivateProperties[key] = true;\r\n        return super.setPrivate(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivateRaw(key, value) {\r\n        this._userPrivateProperties[key] = true;\r\n        super.setPrivateRaw(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removePrivate(key) {\r\n        delete this._userPrivateProperties[key];\r\n        this._removeTemplatePrivateProperty(key);\r\n    }\r\n    _setTemplateProperty(template, key, value) {\r\n        if (!this._userProperties[key]) {\r\n            const match = this._findTemplateByKey(key);\r\n            if (template === match) {\r\n                super.set(key, value);\r\n            }\r\n        }\r\n    }\r\n    _setTemplatePrivateProperty(template, key, value) {\r\n        if (!this._userPrivateProperties[key]) {\r\n            const match = this._findTemplateByPrivateKey(key);\r\n            if (template === match) {\r\n                super.setPrivate(key, value);\r\n            }\r\n        }\r\n    }\r\n    _removeTemplateProperty(key) {\r\n        if (!this._userProperties[key]) {\r\n            const match = this._findTemplateByKey(key);\r\n            if (match) {\r\n                // TODO don't stop the animation if the property didn't change\r\n                super.set(key, match._settings[key]);\r\n            }\r\n            else {\r\n                super.remove(key);\r\n            }\r\n        }\r\n    }\r\n    _removeTemplatePrivateProperty(key) {\r\n        if (!this._userPrivateProperties[key]) {\r\n            const match = this._findTemplateByPrivateKey(key);\r\n            if (match) {\r\n                // TODO don't stop the animation if the property didn't change\r\n                super.setPrivate(key, match._privateSettings[key]);\r\n            }\r\n            else {\r\n                super.removePrivate(key);\r\n            }\r\n        }\r\n    }\r\n    _walkParents(f) {\r\n        f(this._root._rootContainer);\r\n        f(this);\r\n    }\r\n    // TODO faster version of this method which is specialized to just 1 key\r\n    _applyStateByKey(name) {\r\n        const other = this.states.create(name, {});\r\n        const seen = {};\r\n        this._eachTemplate((template) => {\r\n            const state = template.states.lookup(name);\r\n            if (state) {\r\n                state._apply(other, seen);\r\n            }\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(other._settings, (key) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                other.remove(key);\r\n            }\r\n        });\r\n    }\r\n    _applyTemplate(template, state) {\r\n        this._templateDisposers.push(template._apply(this, state));\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(template._settings, (key, value) => {\r\n            if (!state.settings[key] && !this._userProperties[key]) {\r\n                state.settings[key] = true;\r\n                super.set(key, value);\r\n            }\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(template._privateSettings, (key, value) => {\r\n            if (!state.privateSettings[key] && !this._userPrivateProperties[key]) {\r\n                state.privateSettings[key] = true;\r\n                super.setPrivate(key, value);\r\n            }\r\n        });\r\n        if (this._runSetup && template.setup) {\r\n            this._runSetup = false;\r\n            template.setup(this);\r\n        }\r\n    }\r\n    /**\r\n     * Calls the closure with each template and returns the first template which is true\r\n     */\r\n    _findStaticTemplate(f) {\r\n        if (this._template) {\r\n            if (f(this._template)) {\r\n                return this._template;\r\n            }\r\n        }\r\n    }\r\n    _eachTemplate(f) {\r\n        this._findStaticTemplate((template) => {\r\n            f(template);\r\n            return false;\r\n        });\r\n        // _internalTemplates is sorted with most specific to the right\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.eachReverse(this._internalTemplates, f);\r\n        // _templates is sorted with most specific to the left\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._templates, f);\r\n    }\r\n    _applyTemplates(remove = true) {\r\n        if (remove) {\r\n            this._disposeTemplates();\r\n        }\r\n        const state = {\r\n            settings: {},\r\n            privateSettings: {},\r\n            states: {},\r\n        };\r\n        this._eachTemplate((template) => {\r\n            this._applyTemplate(template, state);\r\n        });\r\n        if (remove) {\r\n            _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._settings, (key) => {\r\n                if (!this._userProperties[key] && !state.settings[key]) {\r\n                    super.remove(key);\r\n                }\r\n            });\r\n            _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._privateSettings, (key) => {\r\n                if (!this._userPrivateProperties[key] && !state.privateSettings[key]) {\r\n                    super.removePrivate(key);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _findTemplate(f) {\r\n        const value = this._findStaticTemplate(f);\r\n        if (value === undefined) {\r\n            // _internalTemplates is sorted with most specific to the right\r\n            const value = _Array__WEBPACK_IMPORTED_MODULE_1__.findReverse(this._internalTemplates, f);\r\n            if (value === undefined) {\r\n                // _templates is sorted with most specific to the left\r\n                return _Array__WEBPACK_IMPORTED_MODULE_1__.find(this._templates, f);\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    _findTemplateByKey(key) {\r\n        return this._findTemplate((template) => {\r\n            return key in template._settings;\r\n        });\r\n    }\r\n    _findTemplateByPrivateKey(key) {\r\n        return this._findTemplate((template) => {\r\n            return key in template._privateSettings;\r\n        });\r\n    }\r\n    _disposeTemplates() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._templateDisposers, (disposer) => {\r\n            disposer.dispose();\r\n        });\r\n        this._templateDisposers.length = 0;\r\n    }\r\n    _removeTemplates() {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._templates, (template) => {\r\n            template._removeObjectTemplate(this);\r\n        });\r\n        this._templates.length = 0;\r\n    }\r\n    _applyThemes(force = false) {\r\n        let isConnected = false;\r\n        const defaults = [];\r\n        let themes = [];\r\n        const themeTags = new Set();\r\n        const tags = this.get(\"themeTagsSelf\");\r\n        if (tags) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(tags, (tag) => {\r\n                themeTags.add(tag);\r\n            });\r\n        }\r\n        this._walkParents((entity) => {\r\n            if (entity === this._root._rootContainer) {\r\n                isConnected = true;\r\n            }\r\n            if (entity._defaultThemes.length > 0) {\r\n                defaults.push(entity._defaultThemes);\r\n            }\r\n            const theme = entity.get(\"themes\");\r\n            if (theme) {\r\n                themes.push(theme);\r\n            }\r\n            const tags = entity.get(\"themeTags\");\r\n            if (tags) {\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(tags, (tag) => {\r\n                    themeTags.add(tag);\r\n                });\r\n            }\r\n        });\r\n        themes = defaults.concat(themes);\r\n        this._removeTemplates();\r\n        if (isConnected || force) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.eachReverse(this.classNames, (name) => {\r\n                const allRules = [];\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(themes, (themes) => {\r\n                    _Array__WEBPACK_IMPORTED_MODULE_1__.each(themes, (theme) => {\r\n                        const rules = theme._lookupRules(name);\r\n                        if (rules) {\r\n                            _Array__WEBPACK_IMPORTED_MODULE_1__.eachReverse(rules, (rule) => {\r\n                                const matches = rule.tags.every((tag) => {\r\n                                    return themeTags.has(tag);\r\n                                });\r\n                                if (matches) {\r\n                                    const result = _Array__WEBPACK_IMPORTED_MODULE_1__.getFirstSortedIndex(allRules, (x) => {\r\n                                        const order = _Order__WEBPACK_IMPORTED_MODULE_7__.compare(rule.tags.length, x.tags.length);\r\n                                        if (order === 0) {\r\n                                            return _Order__WEBPACK_IMPORTED_MODULE_7__.compareArray(rule.tags, x.tags, _Order__WEBPACK_IMPORTED_MODULE_7__.compare);\r\n                                        }\r\n                                        else {\r\n                                            return order;\r\n                                        }\r\n                                    });\r\n                                    allRules.splice(result.index, 0, rule);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.each(allRules, (rule) => {\r\n                    this._templates.push(rule.template);\r\n                    rule.template._setObjectTemplate(this);\r\n                });\r\n            });\r\n        }\r\n        this._applyTemplates();\r\n        if (isConnected || force) {\r\n            // This causes it to only run the setup function the first time that the themes are applied\r\n            this._runSetup = false;\r\n        }\r\n        return isConnected || force;\r\n    }\r\n    _changed() { }\r\n    _beforeChanged() {\r\n        if (this.isDirty(\"id\")) {\r\n            const id = this.get(\"id\");\r\n            if (id) {\r\n                this._registerId(id);\r\n            }\r\n            const prevId = this._prevSettings.id;\r\n            if (prevId) {\r\n                delete this._root.entitiesById[prevId];\r\n                delete _Registry__WEBPACK_IMPORTED_MODULE_8__.registry.entitiesById[prevId];\r\n            }\r\n        }\r\n    }\r\n    _registerId(id) {\r\n        if (this._root.entitiesById[id] && this._root.entitiesById[id] !== this) {\r\n            throw new Error(\"An entity with id \\\"\" + id + \"\\\" already exists.\");\r\n        }\r\n        this._root.entitiesById[id] = this;\r\n        _Registry__WEBPACK_IMPORTED_MODULE_8__.registry.entitiesById[id] = this;\r\n    }\r\n    _afterChanged() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addDisposer(disposer) {\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        const template = this._template;\r\n        if (template) {\r\n            template._removeObjectTemplate(this);\r\n        }\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._internalTemplates, (template) => {\r\n            template._removeObjectTemplate(this);\r\n        });\r\n        this._removeTemplates();\r\n        this._disposeTemplates();\r\n        this.events.dispose();\r\n        this._disposers.forEach((x) => {\r\n            x.dispose();\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_4__.each(this._disposerProperties, (_, disposers) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(disposers, (disposer) => {\r\n                disposer.dispose();\r\n            });\r\n        });\r\n        const id = this.get(\"id\");\r\n        if (id) {\r\n            delete this._root.entitiesById[id];\r\n            delete _Registry__WEBPACK_IMPORTED_MODULE_8__.registry.entitiesById[id];\r\n        }\r\n    }\r\n    /**\r\n     * Creates and returns a \"disposable\" timeout.\r\n     *\r\n     * @param   fn     Callback\r\n     * @param   delay  Delay in milliseconds\r\n     * @return         Timeout disposer\r\n     */\r\n    setTimeout(fn, delay) {\r\n        const id = setTimeout(() => {\r\n            this.removeDispose(disposer);\r\n            fn();\r\n        }, delay);\r\n        const disposer = new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n            clearTimeout(id);\r\n        });\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removeDispose(target) {\r\n        if (!this.isDisposed()) {\r\n            let index = _Array__WEBPACK_IMPORTED_MODULE_1__.indexOf(this._disposers, target);\r\n            if (index > -1) {\r\n                this._disposers.splice(index, 1);\r\n            }\r\n        }\r\n        target.dispose();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hasTag(tag) {\r\n        return _Array__WEBPACK_IMPORTED_MODULE_1__.indexOf(this.get(\"themeTags\", []), tag) !== -1;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addTag(tag) {\r\n        if (!this.hasTag(tag)) {\r\n            const tags = this.get(\"themeTags\", []);\r\n            tags.push(tag);\r\n            this.set(\"themeTags\", tags);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removeTag(tag) {\r\n        if (this.hasTag(tag)) {\r\n            const tags = this.get(\"themeTags\", []);\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.remove(tags, tag);\r\n            this.set(\"themeTags\", tags);\r\n        }\r\n    }\r\n    _t(text, locale, ...rest) {\r\n        return this._root.language.translate(text, locale, ...rest);\r\n    }\r\n    /**\r\n     * An instance of [[Root]] object.\r\n     *\r\n     * @readonly\r\n     * @since 5.0.6\r\n     * @return Root object\r\n     */\r\n    get root() {\r\n        return this._root;\r\n    }\r\n}\r\nObject.defineProperty(Entity, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Entity\"\r\n});\r\nObject.defineProperty(Entity, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: [\"Entity\"]\r\n});\r\n//# sourceMappingURL=Entity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0VudGl0eS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ2M7QUFDUztBQUMzQjtBQUNLO0FBQ0g7QUFDSjtBQUNFO0FBQ0E7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvRUFBb0U7QUFDN0U7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsb0VBQW9FO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0NBQVE7QUFDM0IsZ0JBQWdCLCtDQUFrQjtBQUNsQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsU0FBUztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkRBQTZEO0FBQ3RFO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBZTtBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywyREFBMkQ7QUFDcEU7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBYztBQUNsQztBQUNBO0FBQ0E7QUFDQSxZQUFZLHlDQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLHlDQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHdCQUF3QixzREFBYztBQUN0QztBQUNBO0FBQ0Esd0JBQXdCLHNEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtFQUErRTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQixZQUFZLCtDQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtFQUErRTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQWtCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0VBQStFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtDQUFRO0FBQzNCLFlBQVksK0NBQWtCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0VBQStFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQTJEO0FBQ3hFO0FBQ0EsaUJBQWlCLFVBQVU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBMkQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBMkQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQTJEO0FBQ3hFO0FBQ0E7QUFDQSxRQUFRLHdDQUFXLENBQUMseUNBQVk7QUFDaEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRFQUE0RTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUEyRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnRkFBZ0Y7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHlDQUFZO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx5Q0FBWTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRFQUE0RTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsR0FBRztBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJDQUFNO0FBQzdCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRFQUE0RTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdDQUFXO0FBQ25CO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBLFNBQVM7QUFDVCx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkRBQWU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNULFFBQVEseUNBQVk7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBMkQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBMkQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUEyRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsUUFBUSwrQ0FBa0I7QUFDMUI7QUFDQSxRQUFRLHdDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiwrQkFBK0I7QUFDL0Isc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFlBQVkseUNBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVkseUNBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrQ0FBa0I7QUFDNUM7QUFDQTtBQUNBLHVCQUF1Qix3Q0FBVztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0NBQVc7QUFDM0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBa0I7QUFDOUI7QUFDQSxnQkFBZ0Isd0NBQVc7QUFDM0Isb0JBQW9CLHdDQUFXO0FBQy9CO0FBQ0E7QUFDQSw0QkFBNEIsK0NBQWtCO0FBQzlDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSxtREFBbUQsdURBQTBCO0FBQzdFLHNEQUFzRCwyQ0FBYztBQUNwRTtBQUNBLG1EQUFtRCxnREFBbUIsb0JBQW9CLDJDQUFjO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGdCQUFnQix3Q0FBVztBQUMzQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsK0NBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0NBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEseUNBQVk7QUFDcEIsWUFBWSx3Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtDQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDZCQUE2QiwrQ0FBUTtBQUNyQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJDQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwyQ0FBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwQ0FBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvRW50aXR5LmpzPzZhZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlzcG9zZXIgfSBmcm9tIFwiLi9EaXNwb3NlclwiO1xyXG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tIFwiLi9FdmVudERpc3BhdGNoZXJcIjtcclxuaW1wb3J0IHsgQW5pbWF0aW9uU3RhdGUsIGdldEludGVycG9sYXRlIH0gZnJvbSBcIi4vQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFN0YXRlcyB9IGZyb20gXCIuL1N0YXRlc1wiO1xyXG5pbXBvcnQgeyByZWdpc3RyeSB9IGZyb20gXCIuLi9SZWdpc3RyeVwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkZWFzZSBmcm9tIFwiLi9FYXNlXCI7XHJcbmltcG9ydCAqIGFzICRhcnJheSBmcm9tIFwiLi9BcnJheVwiO1xyXG5pbXBvcnQgKiBhcyAkb3JkZXIgZnJvbSBcIi4vT3JkZXJcIjtcclxuLyoqXHJcbiAqIEFsbG93cyB0byBkeW5hbWljYWxseSBtb2RpZnkgc2V0dGluZyB2YWx1ZSBvZiBpdHMgdGFyZ2V0IGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL2FkYXB0ZXJzL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFkYXB0ZXJzIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9lbnRpdHlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NhbGxiYWNrc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNhYmxlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgZnVuY3Rpb24gKGBjYWxsYmFja2ApIHRoYXQgd2lsbCBtb2RpZnkgdmFsdWUgZm9yIHNldHRpbmcgYGtleWAuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvYWRhcHRlcnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKi9cclxuICAgIGFkZChrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1trZXldO1xyXG4gICAgICAgIGlmIChjYWxsYmFja3MgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3Nba2V5XSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5fZW50aXR5Ll9tYXJrRGlydHlLZXkoa2V5KTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCRhcnJheS5yZW1vdmVGaXJzdChjYWxsYmFja3MsIGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5Ll9tYXJrRGlydHlLZXkoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBhZGFwdGVycyBmb3IgdGhlIHNwZWNpZmljIGtleS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgNS4xLjBcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlKGtleSkge1xyXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1trZXldO1xyXG4gICAgICAgIGlmIChjYWxsYmFja3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW2tleV07XHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFja3MubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGVzIChwcmV2aW91c2x5IGRpc2FibGVkKSBhZGFwdGVycyBmb3Igc3BlY2lmaWMga2V5LlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSA1LjEuMFxyXG4gICAgICovXHJcbiAgICBlbmFibGUoa2V5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkW2tleV0pIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2Rpc2FibGVkW2tleV07XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eS5fbWFya0RpcnR5S2V5KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlcyBhbGwgYWRhcHRlcnMgZm9yIHNwZWNpZmljIGtleS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgNS4xLjBcclxuICAgICAqL1xyXG4gICAgZGlzYWJsZShrZXkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2Rpc2FibGVkW2tleV0pIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZWRba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eS5fbWFya0RpcnR5S2V5KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGZvbGQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzYWJsZWRba2V5XSkge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3Nba2V5XTtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjYWxsYmFja3NbaV0odmFsdWUsIHRoaXMuX2VudGl0eSwga2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFuaW1hdGlvbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2FuaW1hdGlvbnMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKGFuaW1hdGlvbiwgZnJvbSwgdG8sIGR1cmF0aW9uLCBlYXNpbmcsIGxvb3BzLCBzdGFydGluZ1RpbWUpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYW5pbWF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9mcm9tXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90b1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZHVyYXRpb25cIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Vhc2luZ1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbG9vcHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ludGVycG9sYXRlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9vbGRUaW1lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90aW1lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RvcHBlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wbGF5aW5nXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJldmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IEV2ZW50RGlzcGF0Y2hlcigpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xyXG4gICAgICAgIHRoaXMuX2Zyb20gPSBmcm9tO1xyXG4gICAgICAgIHRoaXMuX3RvID0gdG87XHJcbiAgICAgICAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICB0aGlzLl9lYXNpbmcgPSBlYXNpbmc7XHJcbiAgICAgICAgdGhpcy5fbG9vcHMgPSBsb29wcztcclxuICAgICAgICB0aGlzLl9pbnRlcnBvbGF0ZSA9IGdldEludGVycG9sYXRlKGZyb20sIHRvKTtcclxuICAgICAgICB0aGlzLl9vbGRUaW1lID0gc3RhcnRpbmdUaW1lO1xyXG4gICAgfVxyXG4gICAgZ2V0IHRvKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90bztcclxuICAgIH1cclxuICAgIGdldCBmcm9tKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mcm9tO1xyXG4gICAgfVxyXG4gICAgZ2V0IHBsYXlpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXlpbmc7XHJcbiAgICB9XHJcbiAgICBnZXQgc3RvcHBlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcHBlZDtcclxuICAgIH1cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdG9wcGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0b3BwZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9wbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJzdG9wcGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcInN0b3BwZWRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RvcHBlZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX29sZFRpbWUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgcGxheSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N0b3BwZWQgJiYgIXRoaXMuX3BsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbi5fc3RhcnRBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgcGVyY2VudGFnZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGltZSAvIHRoaXMuX2R1cmF0aW9uO1xyXG4gICAgfVxyXG4gICAgd2FpdEZvclN0b3AoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdG9wcGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcHBlZCA9IHRoaXMuZXZlbnRzLm9uKFwic3RvcHBlZFwiLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9jaGVja0VuZGVkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9sb29wcyA+IDEpIHtcclxuICAgICAgICAgICAgLS10aGlzLl9sb29wcztcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3J1bihjdXJyZW50VGltZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9vbGRUaW1lICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgKz0gY3VycmVudFRpbWUgLSB0aGlzLl9vbGRUaW1lO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZSA+IHRoaXMuX2R1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lID0gdGhpcy5fZHVyYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fb2xkVGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgfVxyXG4gICAgX3Jlc2V0KGN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgdGhpcy5fb2xkVGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgIHRoaXMuX3RpbWUgPSAwO1xyXG4gICAgfVxyXG4gICAgX3ZhbHVlKGRpZmYpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJwb2xhdGUodGhpcy5fZWFzaW5nKGRpZmYpLCB0aGlzLl9mcm9tLCB0aGlzLl90byk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmxldCBjb3VudGVyID0gMDtcclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIFtbRW50aXR5XV0gb2JqZWN0cyB0aGF0IHN1cHBvcnQgU2V0dGluZ3MuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzIHtcclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVW5pcXVlIElELlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVpZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiArK2NvdW50ZXJcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dGluZ3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByaXZhdGVTZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXR0aW5nRXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByaXZhdGVTZXR0aW5nRXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByZXZTZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wcmV2UHJpdmF0ZVNldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2FuaW1hdGluZ1NldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2FuaW1hdGluZ1ByaXZhdGVTZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzIGludG8gRW50aXR5XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VzZXJQcm9wZXJ0aWVzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSWYgdGhpcyBpcyBzZXQgdG8gYGZhbHNlYCB0aGVuIGRpc3Bvc2luZyBkb2VzIG5vdGhpbmcsIGl0J3MgYSBuby1vcC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbmFibGVEaXNwb3NlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgfVxyXG4gICAgX2NoZWNrRGlydHkoKSB7XHJcbiAgICAgICAgJG9iamVjdC5rZXlzKHRoaXMuX3NldHRpbmdzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHJlc2V0VXNlclNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJQcm9wZXJ0aWVzID0ge307XHJcbiAgICB9XHJcbiAgICBfcnVuQW5pbWF0aW9uKGN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgbGV0IHN0YXRlID0gQW5pbWF0aW9uU3RhdGUuU3RvcHBlZDtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBwbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBwYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJG9iamVjdC5lYWNoKHRoaXMuX2FuaW1hdGluZ1NldHRpbmdzLCAoa2V5LCBhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uc3RvcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BBbmltYXRpb24oa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFuaW1hdGlvbi5wbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLl9ydW4oY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBhbmltYXRpb24ucGVyY2VudGFnZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uX2NoZWNrRW5kZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCBhbmltYXRpb24uX3ZhbHVlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLl9yZXNldChjdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXQoa2V5LCBhbmltYXRpb24uX3ZhbHVlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldChrZXksIGFuaW1hdGlvbi5fdmFsdWUoZGlmZikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fYW5pbWF0aW5nUHJpdmF0ZVNldHRpbmdzLCAoa2V5LCBhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uc3RvcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BBbmltYXRpb25Qcml2YXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhbmltYXRpb24ucGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5fcnVuKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gYW5pbWF0aW9uLnBlcmNlbnRhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLl9jaGVja0VuZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJpdmF0ZShrZXksIGFuaW1hdGlvbi5fdmFsdWUoMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uX3Jlc2V0KGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFByaXZhdGUoa2V5LCBhbmltYXRpb24uX3ZhbHVlKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFByaXZhdGUoa2V5LCBhbmltYXRpb24uX3ZhbHVlKGRpZmYpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHBsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gQW5pbWF0aW9uU3RhdGUuUGxheWluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gQW5pbWF0aW9uU3RhdGUuUGF1c2VkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxuICAgIF9tYXJrRGlydHlLZXkoX2tleSkge1xyXG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XHJcbiAgICB9XHJcbiAgICBfbWFya0RpcnR5UHJpdmF0ZUtleShfa2V5KSB7XHJcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHNwZWNpZmljIGtleSBvZiBzZXR0aW5ncyBjaGFuZ2VzXHJcbiAgICAgKiBvciBpcyBzZXQuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZXZlbnRzLyNTZXR0aW5nc192YWx1ZV9jaGFuZ2V9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBTZXR0aW5ncyBrZXlcclxuICAgICAqIEBwYXJhbSAgIGNhbGxiYWNrICBDYWxsYmFja1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIERpc3Bvc2VyIGZvciBldmVudFxyXG4gICAgICovXHJcbiAgICBvbihrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMuX3NldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXZlbnRzID0gdGhpcy5fc2V0dGluZ0V2ZW50c1trZXldID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50cy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KGV2ZW50cywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3NldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgY2FsbGJhY2sgZm9yIHdoZW4gdmFsdWUgb2YgYSBzZXR0aW5nIGNoYW5nZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZXZlbnRzLyNTZXR0aW5nc192YWx1ZV9jaGFuZ2V9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBQcml2YXRlIHNldHRpbmdzIGtleVxyXG4gICAgICogQHBhcmFtICAgY2FsbGJhY2sgIENhbGxiYWNrXHJcbiAgICAgKiBAc2luY2UgNS45LjJcclxuICAgICAqL1xyXG4gICAgb2ZmKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fc2V0dGluZ0V2ZW50c1trZXldO1xyXG4gICAgICAgIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCAmJiBjYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChldmVudHMsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zZXR0aW5nRXZlbnRzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gaW52b2tlIHdoZW4gc3BlY2lmaWMga2V5IG9mIHByaXZhdGUgc2V0dGluZ3NcclxuICAgICAqIGNoYW5nZXMgb3IgaXMgc2V0LlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2V2ZW50cy8jU2V0dGluZ3NfdmFsdWVfY2hhbmdlfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgUHJpdmF0ZSBzZXR0aW5ncyBrZXlcclxuICAgICAqIEBwYXJhbSAgIGNhbGxiYWNrICBDYWxsYmFja1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIERpc3Bvc2VyIGZvciBldmVudFxyXG4gICAgICovXHJcbiAgICBvblByaXZhdGUoa2V5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBldmVudHMgPSB0aGlzLl9wcml2YXRlU2V0dGluZ0V2ZW50c1trZXldO1xyXG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBldmVudHMgPSB0aGlzLl9wcml2YXRlU2V0dGluZ0V2ZW50c1trZXldID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50cy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KGV2ZW50cywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ByaXZhdGVTZXR0aW5nRXZlbnRzW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhIGNhbGxiYWNrIGZvciB3aGVuIHZhbHVlIG9mIGEgcHJpdmF0ZSBzZXR0aW5nIGNoYW5nZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvZXZlbnRzLyNTZXR0aW5nc192YWx1ZV9jaGFuZ2V9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBQcml2YXRlIHNldHRpbmdzIGtleVxyXG4gICAgICogQHBhcmFtICAgY2FsbGJhY2sgIENhbGxiYWNrXHJcbiAgICAgKiBAc2luY2UgNS45LjJcclxuICAgICAqL1xyXG4gICAgb2ZmUHJpdmF0ZShrZXksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IHRoaXMuX3ByaXZhdGVTZXR0aW5nRXZlbnRzW2tleV07XHJcbiAgICAgICAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkICYmIGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KGV2ZW50cywgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ByaXZhdGVTZXR0aW5nRXZlbnRzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldFJhdyhrZXksIGZhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBzZXR0aW5nIGV4aXN0cy5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICAgU2V0dGluZ3Mga2V5XHJcbiAgICAgKiBAcmV0dXJuICB7Ym9vbGVhbn0gIEtleSBleGlzdHNcclxuICAgICAqL1xyXG4gICAgaGFzKGtleSkge1xyXG4gICAgICAgIHJldHVybiBrZXkgaW4gdGhpcy5fc2V0dGluZ3M7XHJcbiAgICB9XHJcbiAgICBnZXQoa2V5LCBmYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJhdyhrZXksIGZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIF9zZW5kS2V5RXZlbnQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuX3NldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCB0aGlzLCBrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2VuZFByaXZhdGVLZXlFdmVudChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5fcHJpdmF0ZVNldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZXZlbnRzLCAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCB0aGlzLCBrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgX3NldFJhdyhrZXksIG9sZCwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9wcmV2U2V0dGluZ3Nba2V5XSA9IG9sZDtcclxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgc2V0UmF3KGtleSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCBvbGQgPSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRSYXcoa2V5LCBvbGQsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgX3NldChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkID0gdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5nc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0UmF3KGtleSwgb2xkLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zdG9wQW5pbWF0aW9uKGtleSkge1xyXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuX2FuaW1hdGluZ1NldHRpbmdzW2tleV07XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fYW5pbWF0aW5nU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYSBzZXR0aW5nIGB2YWx1ZWAgZm9yIHRoZSBzcGVjaWZpZWQgYGtleWAsIGFuZCByZXR1cm5zIHRoZSBzYW1lIGB2YWx1ZWAuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgU2V0dGluZyBrZXlcclxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgICBTZXR0aW5nIHZhbHVlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgU2V0dGluZyB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldChrZXksIHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9zdG9wQW5pbWF0aW9uKGtleSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgc2V0dGluZyB2YWx1ZSBmb3IgdGhlIHNwZWNpZmllZCBga2V5YDtcclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBTZXR0aW5nIGtleVxyXG4gICAgICovXHJcbiAgICByZW1vdmUoa2V5KSB7XHJcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9zZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aGlzLl9wcmV2U2V0dGluZ3Nba2V5XSA9IHRoaXMuX3NldHRpbmdzW2tleV07XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5LCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlLZXkoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RvcEFuaW1hdGlvbihrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXlzO1xyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICovXHJcbiAgICByZW1vdmVBbGwoKSB7XHJcbiAgICAgICAgJGFycmF5LmVhY2goJG9iamVjdC5rZXlzKHRoaXMuX3NldHRpbmdzKSwgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZShrZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdmFsdWUgb2YgYSBwcml2YXRlIHNldHRpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvI1ByaXZhdGVfc2V0dGluZ3N9IGZvciBtb3JlIGluZm9cclxuICAgICAqL1xyXG4gICAgZ2V0UHJpdmF0ZShrZXksIGZhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9wcml2YXRlU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIF9zZXRQcml2YXRlUmF3KGtleSwgb2xkLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3ByZXZQcml2YXRlU2V0dGluZ3Nba2V5XSA9IG9sZDtcclxuICAgICAgICB0aGlzLl9zZW5kUHJpdmF0ZUtleUV2ZW50KGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldFByaXZhdGVSYXcoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IG9sZCA9IHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldO1xyXG4gICAgICAgIHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0UHJpdmF0ZVJhdyhrZXksIG9sZCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBfc2V0UHJpdmF0ZShrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkID0gdGhpcy5fcHJpdmF0ZVNldHRpbmdzW2tleV07XHJcbiAgICAgICAgdGhpcy5fcHJpdmF0ZVNldHRpbmdzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRQcml2YXRlUmF3KGtleSwgb2xkLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcmtEaXJ0eVByaXZhdGVLZXkoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc3RvcEFuaW1hdGlvblByaXZhdGUoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5fYW5pbWF0aW5nUHJpdmF0ZVNldHRpbmdzW2tleV07XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICBhbmltYXRpb24uc3RvcCgpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fYW5pbWF0aW5nUHJpdmF0ZVNldHRpbmdzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldFByaXZhdGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldFByaXZhdGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5fc3RvcEFuaW1hdGlvblByaXZhdGUoa2V5KTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlUHJpdmF0ZShrZXkpIHtcclxuICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3ByaXZhdGVTZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aGlzLl9wcmV2UHJpdmF0ZVNldHRpbmdzW2tleV0gPSB0aGlzLl9wcml2YXRlU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXJrRGlydHlQcml2YXRlS2V5KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3N0b3BBbmltYXRpb25Qcml2YXRlKGtleSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgbXVsdGlwbGUgc2V0dGluZ3MgYXQgb25jZS5cclxuICAgICAqXHJcbiAgICAgKiBgc2V0dGluZ3NgIG11c3QgYmUgYW4gb2JqZWN0IHdpdGgga2V5OiB2YWx1ZSBwYWlycy5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSBzZXR0aW5ncyBTZXR0aW5nc1xyXG4gICAgICovXHJcbiAgICBzZXRBbGwoc2V0dGluZ3MpIHtcclxuICAgICAgICAkb2JqZWN0LmVhY2goc2V0dGluZ3MsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBbmltYXRlcyBzZXR0aW5nIHZhbHVlcyBmcm9tIGN1cnJlbnQvc3RhcnQgdmFsdWVzIHRvIG5ldyBvbmVzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2FuaW1hdGlvbnMvI0FuaW1hdGluZ19zZXR0aW5nc30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAgb3B0aW9ucyAgQW5pbWF0aW9uIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgIEFuaW1hdGlvbiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgYW5pbWF0ZShvcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gb3B0aW9ucy5rZXk7XHJcbiAgICAgICAgY29uc3QgdG8gPSBvcHRpb25zLnRvO1xyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIGNvbnN0IGxvb3BzID0gb3B0aW9ucy5sb29wcyB8fCAxO1xyXG4gICAgICAgIGNvbnN0IGZyb20gPSAob3B0aW9ucy5mcm9tID09PSB1bmRlZmluZWQgPyB0aGlzLmdldChrZXkpIDogb3B0aW9ucy5mcm9tKTtcclxuICAgICAgICBjb25zdCBlYXNpbmcgPSAob3B0aW9ucy5lYXNpbmcgPT09IHVuZGVmaW5lZCA/ICRlYXNlLmxpbmVhciA6IG9wdGlvbnMuZWFzaW5nKTtcclxuICAgICAgICBpZiAoZHVyYXRpb24gPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB0byk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZnJvbSA9PT0gdW5kZWZpbmVkIHx8IGZyb20gPT09IHRvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHRvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgZnJvbSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLl9hbmltYXRpbmdTZXR0aW5nc1trZXldID0gbmV3IEFuaW1hdGlvbih0aGlzLCBmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgbG9vcHMsIHRoaXMuX2FuaW1hdGlvblRpbWUoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydEFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKHRoaXMsIGZyb20sIHRvLCBkdXJhdGlvbiwgZWFzaW5nLCBsb29wcywgbnVsbCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcclxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGFuaW1hdGVQcml2YXRlKG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBvcHRpb25zLmtleTtcclxuICAgICAgICBjb25zdCB0byA9IG9wdGlvbnMudG87XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uIHx8IDA7XHJcbiAgICAgICAgY29uc3QgbG9vcHMgPSBvcHRpb25zLmxvb3BzIHx8IDE7XHJcbiAgICAgICAgY29uc3QgZnJvbSA9IChvcHRpb25zLmZyb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuZ2V0UHJpdmF0ZShrZXkpIDogb3B0aW9ucy5mcm9tKTtcclxuICAgICAgICBjb25zdCBlYXNpbmcgPSAob3B0aW9ucy5lYXNpbmcgPT09IHVuZGVmaW5lZCA/ICRlYXNlLmxpbmVhciA6IG9wdGlvbnMuZWFzaW5nKTtcclxuICAgICAgICBpZiAoZHVyYXRpb24gPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKGtleSwgdG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCB8fCBmcm9tID09PSB0bykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKGtleSwgdG8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcml2YXRlKGtleSwgZnJvbSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLl9hbmltYXRpbmdQcml2YXRlU2V0dGluZ3Nba2V5XSA9IG5ldyBBbmltYXRpb24odGhpcywgZnJvbSwgdG8sIGR1cmF0aW9uLCBlYXNpbmcsIGxvb3BzLCB0aGlzLl9hbmltYXRpb25UaW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbih0aGlzLCBmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgbG9vcHMsIG51bGwpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5zdG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkgeyB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgZWxlbWVudCBpcyBkaXNwb3NlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIERpc3Bvc2VkXHJcbiAgICAgKi9cclxuICAgIGlzRGlzcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlcyB0aGlzIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmFibGVEaXNwb3NlICYmICF0aGlzLl9kaXNwb3NlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MuXHJcbiAqXHJcbiAqIEBpbXBvcnRhbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHkgZXh0ZW5kcyBTZXR0aW5ncyB7XHJcbiAgICAvKipcclxuICAgICAqIElNUE9SVEFOVCEgRG8gbm90IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgdmlhIGBuZXcgQ2xhc3MoKWAgc3ludGF4LlxyXG4gICAgICpcclxuICAgICAqIFVzZSBzdGF0aWMgbWV0aG9kIGBDbGFzcy5uZXcoKWAgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9nZXR0aW5nLXN0YXJ0ZWQvI05ld19lbGVtZW50X3N5bnRheH0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihyb290LCBzZXR0aW5ncywgaXNSZWFsLCB0ZW1wbGF0ZXMgPSBbXSkge1xyXG4gICAgICAgIHN1cGVyKHNldHRpbmdzKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcm9vdFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXNlcl9pZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTsgLy8gZm9yIHRlc3RpbmcgcHVycG9zZXNcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGF0ZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IFN0YXRlcyh0aGlzKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFkYXB0ZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBBZGFwdGVycyh0aGlzKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9jcmVhdGVFdmVudHMoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91c2VyUHJpdmF0ZVByb3BlcnRpZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlydHlcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlydHlQcml2YXRlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHt9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RlbXBsYXRlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRlbXBsYXRlcyBmb3IgdGhlIHRoZW1lc1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90ZW1wbGF0ZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbnRlcm5hbCB0ZW1wbGF0ZXMgd2hpY2ggY2FuIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHVzZXIncyB0ZW1wbGF0ZXNcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW50ZXJuYWxUZW1wbGF0ZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGVmYXVsdCB0aGVtZXMgd2hpY2ggY2FuIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHVzZXIncyB0aGVtZXNcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGVmYXVsdFRoZW1lc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERpc3Bvc2VycyBmb3IgYWxsIG9mIHRoZSB0ZW1wbGF0ZXNcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVtcGxhdGVEaXNwb3NlcnNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gV2hldGhlciB0aGUgdGVtcGxhdGUgc2V0dXAgZnVuY3Rpb24gc2hvdWxkIGJlIHJ1blxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ydW5TZXR1cFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3Bvc2VyUHJvcGVydGllc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghaXNSZWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgdXNlIGBuZXcgQ2xhc3MoKWAsIGluc3RlYWQgdXNlIGBDbGFzcy5uZXcoKWBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jvb3QgPSByb290O1xyXG4gICAgICAgIHRoaXMuX2ludGVybmFsVGVtcGxhdGVzID0gdGVtcGxhdGVzO1xyXG4gICAgICAgIGlmIChzZXR0aW5ncy5pZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZWdpc3RlcklkKHNldHRpbmdzLmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9nZXR0aW5nLXN0YXJ0ZWQvI05ld19lbGVtZW50X3N5bnRheH0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAgcm9vdCAgICAgIFJvb3QgZWxlbWVudFxyXG4gICAgICogQHBhcmFtICAgc2V0dGluZ3MgIFNldHRpbmdzXHJcbiAgICAgKiBAcGFyYW0gICB0ZW1wbGF0ZSAgVGVtcGxhdGVcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBJbnN0YW50aWF0ZWQgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBuZXcocm9vdCwgc2V0dGluZ3MsIHRlbXBsYXRlKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IChuZXcgdGhpcyhyb290LCBzZXR0aW5ncywgdHJ1ZSkpO1xyXG4gICAgICAgIHguX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICAgICAgeC5fYWZ0ZXJOZXcoKTtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgIH1cclxuICAgIHN0YXRpYyBfbmV3KHJvb3QsIHNldHRpbmdzLCB0ZW1wbGF0ZXMgPSBbXSkge1xyXG4gICAgICAgIGNvbnN0IHggPSAobmV3IHRoaXMocm9vdCwgc2V0dGluZ3MsIHRydWUsIHRlbXBsYXRlcykpO1xyXG4gICAgICAgIHguX2FmdGVyTmV3KCk7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcbiAgICBfYWZ0ZXJOZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tEaXJ0eSgpO1xyXG4gICAgICAgIGxldCBzaG91bGRBcHBseSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEFwcGx5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGVtcGxhdGUuX3NldE9iamVjdFRlbXBsYXRlKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl9pbnRlcm5hbFRlbXBsYXRlcywgKHRlbXBsYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHNob3VsZEFwcGx5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGVtcGxhdGUuX3NldE9iamVjdFRlbXBsYXRlKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzaG91bGRBcHBseSkge1xyXG4gICAgICAgICAgICB0aGlzLl9hcHBseVRlbXBsYXRlcyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGVzLmNyZWF0ZShcImRlZmF1bHRcIiwge30pO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHRzKCk7XHJcbiAgICB9XHJcbiAgICAvLyBUaGlzIGlzIHRoZSBzYW1lIGFzIF9hZnRlck5ldywgZXhjZXB0IGl0IGFsc28gYXBwbGllcyB0aGUgdGhlbWVzLlxyXG4gICAgLy8gVGhpcyBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjbGFzc2VzIHdoaWNoIGRvbid0IGhhdmUgYSBwYXJlbnQgKGJlY2F1c2UgdGhleSBleHRlbmQgZnJvbSBFbnRpdHkgYW5kIG5vdCBTcHJpdGUpLlxyXG4gICAgX2FmdGVyTmV3QXBwbHlUaGVtZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tEaXJ0eSgpO1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlLl9zZXRPYmplY3RUZW1wbGF0ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5faW50ZXJuYWxUZW1wbGF0ZXMsICh0ZW1wbGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5fc2V0T2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMuY3JlYXRlKFwiZGVmYXVsdFwiLCB7fSk7XHJcbiAgICAgICAgdGhpcy5fc2V0RGVmYXVsdHMoKTtcclxuICAgICAgICB0aGlzLl9hcHBseVRoZW1lcygpO1xyXG4gICAgfVxyXG4gICAgX2NyZWF0ZUV2ZW50cygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEV2ZW50RGlzcGF0Y2hlcigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGdldCBjbGFzc05hbWVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgZ2V0IGNsYXNzTmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5jbGFzc05hbWU7XHJcbiAgICB9XHJcbiAgICBfc2V0RGVmYXVsdHMoKSB7XHJcbiAgICB9XHJcbiAgICBfc2V0RGVmYXVsdEZuKGtleSwgZikge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXQoa2V5KTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldERlZmF1bHQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldFJhd0RlZmF1bHQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICBzdXBlci5zZXRSYXcoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2NsZWFyRGlydHkoKSB7XHJcbiAgICAgICAgJG9iamVjdC5rZXlzKHRoaXMuX2RpcnR5KS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fZGlydHlba2V5XSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRvYmplY3Qua2V5cyh0aGlzLl9kaXJ0eVByaXZhdGUpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eVByaXZhdGVba2V5XSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGlzRGlydHkoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGlydHlba2V5XTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBpc1ByaXZhdGVEaXJ0eShrZXkpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9kaXJ0eVByaXZhdGVba2V5XTtcclxuICAgIH1cclxuICAgIF9tYXJrRGlydHlLZXkoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5fZGlydHlba2V5XSA9IHRydWU7XHJcbiAgICAgICAgc3VwZXIuX21hcmtEaXJ0eUtleShrZXkpO1xyXG4gICAgfVxyXG4gICAgX21hcmtEaXJ0eVByaXZhdGVLZXkoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5fZGlydHlQcml2YXRlW2tleV0gPSB0cnVlO1xyXG4gICAgICAgIHN1cGVyLl9tYXJrRGlydHlLZXkoa2V5KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGVsZW1lbnQgaXMgb2YgY2VydGFpbiBjbGFzcyAob3IgaW5oZXJpdHMgb25lKS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICB0eXBlICBDbGFzcyBuYW1lIHRvIGNoZWNrXHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBvZiBjbGFzcz9cclxuICAgICAqL1xyXG4gICAgaXNUeXBlKHR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbGFzc05hbWVzLmluZGV4T2YodHlwZSkgIT09IC0xO1xyXG4gICAgfVxyXG4gICAgX3B1c2hQcm9wZXJ0eURpc3Bvc2VyKGtleSwgZGlzcG9zZXIpIHtcclxuICAgICAgICBsZXQgZGlzcG9zZXJzID0gdGhpcy5fZGlzcG9zZXJQcm9wZXJ0aWVzW2tleV07XHJcbiAgICAgICAgaWYgKGRpc3Bvc2VycyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2VycyA9IHRoaXMuX2Rpc3Bvc2VyUHJvcGVydGllc1trZXldID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3Bvc2Vycy5wdXNoKGRpc3Bvc2VyKTtcclxuICAgICAgICByZXR1cm4gZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZVByb3BlcnR5KGtleSkge1xyXG4gICAgICAgIGNvbnN0IGRpc3Bvc2VycyA9IHRoaXMuX2Rpc3Bvc2VyUHJvcGVydGllc1trZXldO1xyXG4gICAgICAgIGlmIChkaXNwb3NlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChkaXNwb3NlcnMsIChkaXNwb3NlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2Rpc3Bvc2VyUHJvcGVydGllc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHRvZG8gbmVlZHMgZGVzY3JpcHRpb25cclxuICAgICAqIEBwYXJhbSAgdmFsdWUgIFRlbXBsYXRlXHJcbiAgICAgKi9cclxuICAgIHNldCB0ZW1wbGF0ZSh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKHRlbXBsYXRlICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBpZiAodGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlLl9yZW1vdmVPYmplY3RUZW1wbGF0ZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlLl9zZXRPYmplY3RUZW1wbGF0ZSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9hcHBseVRlbXBsYXRlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgbWFya0RpcnR5KCkge1xyXG4gICAgICAgIHRoaXMuX3Jvb3QuX2FkZERpcnR5RW50aXR5KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgX3N0YXJ0QW5pbWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3Jvb3QuX2FkZEFuaW1hdGlvbih0aGlzKTtcclxuICAgIH1cclxuICAgIF9hbmltYXRpb25UaW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yb290LmFuaW1hdGlvblRpbWU7XHJcbiAgICB9XHJcbiAgICBfYXBwbHlTdGF0ZShfbmFtZSkgeyB9XHJcbiAgICBfYXBwbHlTdGF0ZUFuaW1hdGVkKF9uYW1lLCBfZHVyYXRpb24pIHsgfVxyXG4gICAgZ2V0KGtleSwgZmFsbGJhY2spIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuYWRhcHRlcnMuZm9sZChrZXksIHRoaXMuX3NldHRpbmdzW2tleV0pO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgaXNVc2VyU2V0dGluZyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSB8fCBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHNldHRpbmcgYHZhbHVlYCBmb3IgdGhlIHNwZWNpZmllZCBga2V5YCwgYW5kIHJldHVybnMgdGhlIHNhbWUgYHZhbHVlYC5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy99IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgICBTZXR0aW5nIGtleVxyXG4gICAgICogQHBhcmFtICAgdmFsdWUgICAgIFNldHRpbmcgdmFsdWVcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBTZXR0aW5nIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHNldChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldChrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBzZXRSYXcoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJQcm9wZXJ0aWVzW2tleV0gPSB0cnVlO1xyXG4gICAgICAgIHN1cGVyLnNldFJhdyhrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHNldHRpbmcgYHZhbHVlYCBmb3IgdGhlIHNwZWNpZmllZCBga2V5YCBvbmx5IGlmIHRoZSB2YWx1ZSBmb3IgdGhpcyBrZXkgd2FzIG5vdCBzZXQgcHJldmlvdXNseSB1c2luZyBzZXQgbWV0aG9kLCBhbmQgcmV0dXJucyB0aGUgc2FtZSBgdmFsdWVgLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAga2V5ICAgICAgIFNldHRpbmcga2V5XHJcbiAgICAgKiBAcGFyYW0gICB2YWx1ZSAgICAgU2V0dGluZyB2YWx1ZVxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIFNldHRpbmcgdmFsdWVcclxuICAgICAqL1xyXG4gICAgX3NldFNvZnQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSBzZXR0aW5nIHZhbHVlIGZvciB0aGUgc3BlY2lmaWVkIGBrZXlgLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAga2V5ICAgICAgIFNldHRpbmcga2V5XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZShrZXkpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICB0aGlzLl9yZW1vdmVUZW1wbGF0ZVByb3BlcnR5KGtleSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgc2V0UHJpdmF0ZShrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlclByaXZhdGVQcm9wZXJ0aWVzW2tleV0gPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiBzdXBlci5zZXRQcml2YXRlKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldFByaXZhdGVSYXcoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJQcml2YXRlUHJvcGVydGllc1trZXldID0gdHJ1ZTtcclxuICAgICAgICBzdXBlci5zZXRQcml2YXRlUmF3KGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVByaXZhdGUoa2V5KSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX3VzZXJQcml2YXRlUHJvcGVydGllc1trZXldO1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZVRlbXBsYXRlUHJpdmF0ZVByb3BlcnR5KGtleSk7XHJcbiAgICB9XHJcbiAgICBfc2V0VGVtcGxhdGVQcm9wZXJ0eSh0ZW1wbGF0ZSwga2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMuX2ZpbmRUZW1wbGF0ZUJ5S2V5KGtleSk7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZSA9PT0gbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyLnNldChrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zZXRUZW1wbGF0ZVByaXZhdGVQcm9wZXJ0eSh0ZW1wbGF0ZSwga2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdXNlclByaXZhdGVQcm9wZXJ0aWVzW2tleV0pIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLl9maW5kVGVtcGxhdGVCeVByaXZhdGVLZXkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlID09PSBtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgc3VwZXIuc2V0UHJpdmF0ZShrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9yZW1vdmVUZW1wbGF0ZVByb3BlcnR5KGtleSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMuX2ZpbmRUZW1wbGF0ZUJ5S2V5KGtleSk7XHJcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBkb24ndCBzdG9wIHRoZSBhbmltYXRpb24gaWYgdGhlIHByb3BlcnR5IGRpZG4ndCBjaGFuZ2VcclxuICAgICAgICAgICAgICAgIHN1cGVyLnNldChrZXksIG1hdGNoLl9zZXR0aW5nc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyLnJlbW92ZShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3JlbW92ZVRlbXBsYXRlUHJpdmF0ZVByb3BlcnR5KGtleSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdXNlclByaXZhdGVQcm9wZXJ0aWVzW2tleV0pIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLl9maW5kVGVtcGxhdGVCeVByaXZhdGVLZXkoa2V5KTtcclxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGRvbid0IHN0b3AgdGhlIGFuaW1hdGlvbiBpZiB0aGUgcHJvcGVydHkgZGlkbid0IGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgc3VwZXIuc2V0UHJpdmF0ZShrZXksIG1hdGNoLl9wcml2YXRlU2V0dGluZ3Nba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlci5yZW1vdmVQcml2YXRlKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfd2Fsa1BhcmVudHMoZikge1xyXG4gICAgICAgIGYodGhpcy5fcm9vdC5fcm9vdENvbnRhaW5lcik7XHJcbiAgICAgICAgZih0aGlzKTtcclxuICAgIH1cclxuICAgIC8vIFRPRE8gZmFzdGVyIHZlcnNpb24gb2YgdGhpcyBtZXRob2Qgd2hpY2ggaXMgc3BlY2lhbGl6ZWQgdG8ganVzdCAxIGtleVxyXG4gICAgX2FwcGx5U3RhdGVCeUtleShuYW1lKSB7XHJcbiAgICAgICAgY29uc3Qgb3RoZXIgPSB0aGlzLnN0YXRlcy5jcmVhdGUobmFtZSwge30pO1xyXG4gICAgICAgIGNvbnN0IHNlZW4gPSB7fTtcclxuICAgICAgICB0aGlzLl9lYWNoVGVtcGxhdGUoKHRlbXBsYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGVtcGxhdGUuc3RhdGVzLmxvb2t1cChuYW1lKTtcclxuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5fYXBwbHkob3RoZXIsIHNlZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJG9iamVjdC5lYWNoKG90aGVyLl9zZXR0aW5ncywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlZW5ba2V5XSAmJiAhb3RoZXIuX3VzZXJTZXR0aW5nc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICBvdGhlci5yZW1vdmUoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2FwcGx5VGVtcGxhdGUodGVtcGxhdGUsIHN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVEaXNwb3NlcnMucHVzaCh0ZW1wbGF0ZS5fYXBwbHkodGhpcywgc3RhdGUpKTtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGVtcGxhdGUuX3NldHRpbmdzLCAoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXN0YXRlLnNldHRpbmdzW2tleV0gJiYgIXRoaXMuX3VzZXJQcm9wZXJ0aWVzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnNldHRpbmdzW2tleV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJG9iamVjdC5lYWNoKHRlbXBsYXRlLl9wcml2YXRlU2V0dGluZ3MsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc3RhdGUucHJpdmF0ZVNldHRpbmdzW2tleV0gJiYgIXRoaXMuX3VzZXJQcml2YXRlUHJvcGVydGllc1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcml2YXRlU2V0dGluZ3Nba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzdXBlci5zZXRQcml2YXRlKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3J1blNldHVwICYmIHRlbXBsYXRlLnNldHVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3J1blNldHVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlLnNldHVwKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbHMgdGhlIGNsb3N1cmUgd2l0aCBlYWNoIHRlbXBsYXRlIGFuZCByZXR1cm5zIHRoZSBmaXJzdCB0ZW1wbGF0ZSB3aGljaCBpcyB0cnVlXHJcbiAgICAgKi9cclxuICAgIF9maW5kU3RhdGljVGVtcGxhdGUoZikge1xyXG4gICAgICAgIGlmICh0aGlzLl90ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoZih0aGlzLl90ZW1wbGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9lYWNoVGVtcGxhdGUoZikge1xyXG4gICAgICAgIHRoaXMuX2ZpbmRTdGF0aWNUZW1wbGF0ZSgodGVtcGxhdGUpID0+IHtcclxuICAgICAgICAgICAgZih0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBfaW50ZXJuYWxUZW1wbGF0ZXMgaXMgc29ydGVkIHdpdGggbW9zdCBzcGVjaWZpYyB0byB0aGUgcmlnaHRcclxuICAgICAgICAkYXJyYXkuZWFjaFJldmVyc2UodGhpcy5faW50ZXJuYWxUZW1wbGF0ZXMsIGYpO1xyXG4gICAgICAgIC8vIF90ZW1wbGF0ZXMgaXMgc29ydGVkIHdpdGggbW9zdCBzcGVjaWZpYyB0byB0aGUgbGVmdFxyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RlbXBsYXRlcywgZik7XHJcbiAgICB9XHJcbiAgICBfYXBwbHlUZW1wbGF0ZXMocmVtb3ZlID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmIChyZW1vdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZVRlbXBsYXRlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHt9LFxyXG4gICAgICAgICAgICBwcml2YXRlU2V0dGluZ3M6IHt9LFxyXG4gICAgICAgICAgICBzdGF0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fZWFjaFRlbXBsYXRlKCh0ZW1wbGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9hcHBseVRlbXBsYXRlKHRlbXBsYXRlLCBzdGF0ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlbW92ZSkge1xyXG4gICAgICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fc2V0dGluZ3MsIChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fdXNlclByb3BlcnRpZXNba2V5XSAmJiAhc3RhdGUuc2V0dGluZ3Nba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLnJlbW92ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJG9iamVjdC5lYWNoKHRoaXMuX3ByaXZhdGVTZXR0aW5ncywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl91c2VyUHJpdmF0ZVByb3BlcnRpZXNba2V5XSAmJiAhc3RhdGUucHJpdmF0ZVNldHRpbmdzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXBlci5yZW1vdmVQcml2YXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9maW5kVGVtcGxhdGUoZikge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZmluZFN0YXRpY1RlbXBsYXRlKGYpO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIF9pbnRlcm5hbFRlbXBsYXRlcyBpcyBzb3J0ZWQgd2l0aCBtb3N0IHNwZWNpZmljIHRvIHRoZSByaWdodFxyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICRhcnJheS5maW5kUmV2ZXJzZSh0aGlzLl9pbnRlcm5hbFRlbXBsYXRlcywgZik7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBfdGVtcGxhdGVzIGlzIHNvcnRlZCB3aXRoIG1vc3Qgc3BlY2lmaWMgdG8gdGhlIGxlZnRcclxuICAgICAgICAgICAgICAgIHJldHVybiAkYXJyYXkuZmluZCh0aGlzLl90ZW1wbGF0ZXMsIGYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2ZpbmRUZW1wbGF0ZUJ5S2V5KGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maW5kVGVtcGxhdGUoKHRlbXBsYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXkgaW4gdGVtcGxhdGUuX3NldHRpbmdzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2ZpbmRUZW1wbGF0ZUJ5UHJpdmF0ZUtleShrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmluZFRlbXBsYXRlKCh0ZW1wbGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5IGluIHRlbXBsYXRlLl9wcml2YXRlU2V0dGluZ3M7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZVRlbXBsYXRlcygpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90ZW1wbGF0ZURpc3Bvc2VycywgKGRpc3Bvc2VyKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZURpc3Bvc2Vycy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gICAgX3JlbW92ZVRlbXBsYXRlcygpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90ZW1wbGF0ZXMsICh0ZW1wbGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5fcmVtb3ZlT2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVzLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbiAgICBfYXBwbHlUaGVtZXMoZm9yY2UgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gW107XHJcbiAgICAgICAgbGV0IHRoZW1lcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHRoZW1lVGFncyA9IG5ldyBTZXQoKTtcclxuICAgICAgICBjb25zdCB0YWdzID0gdGhpcy5nZXQoXCJ0aGVtZVRhZ3NTZWxmXCIpO1xyXG4gICAgICAgIGlmICh0YWdzKSB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKHRhZ3MsICh0YWcpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoZW1lVGFncy5hZGQodGFnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3dhbGtQYXJlbnRzKChlbnRpdHkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVudGl0eSA9PT0gdGhpcy5fcm9vdC5fcm9vdENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbnRpdHkuX2RlZmF1bHRUaGVtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdHMucHVzaChlbnRpdHkuX2RlZmF1bHRUaGVtZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gZW50aXR5LmdldChcInRoZW1lc1wiKTtcclxuICAgICAgICAgICAgaWYgKHRoZW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZXMucHVzaCh0aGVtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdGFncyA9IGVudGl0eS5nZXQoXCJ0aGVtZVRhZ3NcIik7XHJcbiAgICAgICAgICAgIGlmICh0YWdzKSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0YWdzLCAodGFnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlbWVUYWdzLmFkZCh0YWcpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGVtZXMgPSBkZWZhdWx0cy5jb25jYXQodGhlbWVzKTtcclxuICAgICAgICB0aGlzLl9yZW1vdmVUZW1wbGF0ZXMoKTtcclxuICAgICAgICBpZiAoaXNDb25uZWN0ZWQgfHwgZm9yY2UpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2hSZXZlcnNlKHRoaXMuY2xhc3NOYW1lcywgKG5hbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFJ1bGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGVtZXMsICh0aGVtZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGVtZXMsICh0aGVtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBydWxlcyA9IHRoZW1lLl9sb29rdXBSdWxlcyhuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaFJldmVyc2UocnVsZXMsIChydWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHJ1bGUudGFncy5ldmVyeSgodGFnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGVtZVRhZ3MuaGFzKHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gJGFycmF5LmdldEZpcnN0U29ydGVkSW5kZXgoYWxsUnVsZXMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmRlciA9ICRvcmRlci5jb21wYXJlKHJ1bGUudGFncy5sZW5ndGgsIHgudGFncy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRvcmRlci5jb21wYXJlQXJyYXkocnVsZS50YWdzLCB4LnRhZ3MsICRvcmRlci5jb21wYXJlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFJ1bGVzLnNwbGljZShyZXN1bHQuaW5kZXgsIDAsIHJ1bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKGFsbFJ1bGVzLCAocnVsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5wdXNoKHJ1bGUudGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ1bGUudGVtcGxhdGUuX3NldE9iamVjdFRlbXBsYXRlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9hcHBseVRlbXBsYXRlcygpO1xyXG4gICAgICAgIGlmIChpc0Nvbm5lY3RlZCB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICAvLyBUaGlzIGNhdXNlcyBpdCB0byBvbmx5IHJ1biB0aGUgc2V0dXAgZnVuY3Rpb24gdGhlIGZpcnN0IHRpbWUgdGhhdCB0aGUgdGhlbWVzIGFyZSBhcHBsaWVkXHJcbiAgICAgICAgICAgIHRoaXMuX3J1blNldHVwID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc0Nvbm5lY3RlZCB8fCBmb3JjZTtcclxuICAgIH1cclxuICAgIF9jaGFuZ2VkKCkgeyB9XHJcbiAgICBfYmVmb3JlQ2hhbmdlZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KFwiaWRcIikpIHtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldChcImlkXCIpO1xyXG4gICAgICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVySWQoaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZJZCA9IHRoaXMuX3ByZXZTZXR0aW5ncy5pZDtcclxuICAgICAgICAgICAgaWYgKHByZXZJZCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Jvb3QuZW50aXRpZXNCeUlkW3ByZXZJZF07XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVnaXN0cnkuZW50aXRpZXNCeUlkW3ByZXZJZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVnaXN0ZXJJZChpZCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9yb290LmVudGl0aWVzQnlJZFtpZF0gJiYgdGhpcy5fcm9vdC5lbnRpdGllc0J5SWRbaWRdICE9PSB0aGlzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFuIGVudGl0eSB3aXRoIGlkIFxcXCJcIiArIGlkICsgXCJcXFwiIGFscmVhZHkgZXhpc3RzLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcm9vdC5lbnRpdGllc0J5SWRbaWRdID0gdGhpcztcclxuICAgICAgICByZWdpc3RyeS5lbnRpdGllc0J5SWRbaWRdID0gdGhpcztcclxuICAgIH1cclxuICAgIF9hZnRlckNoYW5nZWQoKSB7IH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBhZGREaXNwb3NlcihkaXNwb3Nlcikge1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGRpc3Bvc2VyKTtcclxuICAgICAgICByZXR1cm4gZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBzdXBlci5fZGlzcG9zZSgpO1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGU7XHJcbiAgICAgICAgaWYgKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlLl9yZW1vdmVPYmplY3RUZW1wbGF0ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGFycmF5LmVhY2godGhpcy5faW50ZXJuYWxUZW1wbGF0ZXMsICh0ZW1wbGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZS5fcmVtb3ZlT2JqZWN0VGVtcGxhdGUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlVGVtcGxhdGVzKCk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zZVRlbXBsYXRlcygpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlcnMuZm9yRWFjaCgoeCkgPT4ge1xyXG4gICAgICAgICAgICB4LmRpc3Bvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fZGlzcG9zZXJQcm9wZXJ0aWVzLCAoXywgZGlzcG9zZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGRpc3Bvc2VycywgKGRpc3Bvc2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXQoXCJpZFwiKTtcclxuICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Jvb3QuZW50aXRpZXNCeUlkW2lkXTtcclxuICAgICAgICAgICAgZGVsZXRlIHJlZ2lzdHJ5LmVudGl0aWVzQnlJZFtpZF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgXCJkaXNwb3NhYmxlXCIgdGltZW91dC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBmbiAgICAgQ2FsbGJhY2tcclxuICAgICAqIEBwYXJhbSAgIGRlbGF5ICBEZWxheSBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqIEByZXR1cm4gICAgICAgICBUaW1lb3V0IGRpc3Bvc2VyXHJcbiAgICAgKi9cclxuICAgIHNldFRpbWVvdXQoZm4sIGRlbGF5KSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVEaXNwb3NlKGRpc3Bvc2VyKTtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgY29uc3QgZGlzcG9zZXIgPSBuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5wdXNoKGRpc3Bvc2VyKTtcclxuICAgICAgICByZXR1cm4gZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlRGlzcG9zZSh0YXJnZXQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9ICRhcnJheS5pbmRleE9mKHRoaXMuX2Rpc3Bvc2VycywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldC5kaXNwb3NlKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgaGFzVGFnKHRhZykge1xyXG4gICAgICAgIHJldHVybiAkYXJyYXkuaW5kZXhPZih0aGlzLmdldChcInRoZW1lVGFnc1wiLCBbXSksIHRhZykgIT09IC0xO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGFkZFRhZyh0YWcpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzVGFnKHRhZykpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFncyA9IHRoaXMuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKTtcclxuICAgICAgICAgICAgdGFncy5wdXNoKHRhZyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KFwidGhlbWVUYWdzXCIsIHRhZ3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICByZW1vdmVUYWcodGFnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzVGFnKHRhZykpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFncyA9IHRoaXMuZ2V0KFwidGhlbWVUYWdzXCIsIFtdKTtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZSh0YWdzLCB0YWcpO1xyXG4gICAgICAgICAgICB0aGlzLnNldChcInRoZW1lVGFnc1wiLCB0YWdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfdCh0ZXh0LCBsb2NhbGUsIC4uLnJlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGUodGV4dCwgbG9jYWxlLCAuLi5yZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQW4gaW5zdGFuY2Ugb2YgW1tSb290XV0gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQHNpbmNlIDUuMC42XHJcbiAgICAgKiBAcmV0dXJuIFJvb3Qgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIGdldCByb290KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yb290O1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnRpdHksIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkVudGl0eVwiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRW50aXR5LCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IFtcIkVudGl0eVwiXVxyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW50aXR5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventDispatcher: () => (/* binding */ EventDispatcher),\n/* harmony export */   TargetedEventDispatcher: () => (/* binding */ TargetedEventDispatcher)\n/* harmony export */ });\n/* harmony import */ var _Disposer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n\r\n\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nclass EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_killed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_iterating\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_enabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            const a = this._listeners;\r\n            this._iterating = 1;\r\n            this._listeners = null;\r\n            this._disabled = null;\r\n            try {\r\n                _Array__WEBPACK_IMPORTED_MODULE_0__.each(a, (x) => {\r\n                    x.disposer.dispose();\r\n                });\r\n            }\r\n            finally {\r\n                this._killed = null;\r\n                this._iterating = null;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    hasListeners() {\r\n        return this._listeners.length !== 0;\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    hasListenersByType(type) {\r\n        return _Array__WEBPACK_IMPORTED_MODULE_0__.any(this._listeners, (x) => (x.type === null || x.type === type) && !x.killed);\r\n    }\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    enable() {\r\n        this._enabled = true;\r\n    }\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    disable() {\r\n        this._enabled = false;\r\n    }\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    enableType(type) {\r\n        delete this._disabled[type];\r\n    }\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    disableType(type, amount = Infinity) {\r\n        this._disabled[type] = amount;\r\n    }\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    _removeListener(listener) {\r\n        if (this._iterating === 0) {\r\n            const index = this._listeners.indexOf(listener);\r\n            if (index === -1) {\r\n                throw new Error(\"Invalid state: could not remove listener\");\r\n            }\r\n            this._listeners.splice(index, 1);\r\n        }\r\n        else {\r\n            this._killed.push(listener);\r\n        }\r\n    }\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    _removeExistingListener(once, type, callback, context) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.once === once && // TODO is this correct ?\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    isEnabled(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        // TODO is this check correct ?\r\n        return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] === undefined;\r\n    }\r\n    /**\r\n     * Removes all listeners of a particular event type\r\n     *\r\n     * @param type  Listener's type\r\n     */\r\n    removeType(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.type === type) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    has(type, callback, context) {\r\n        const index = _Array__WEBPACK_IMPORTED_MODULE_0__.findIndex(this._listeners, (info) => {\r\n            return info.once !== true && // Ignoring \"once\" listeners\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context;\r\n        });\r\n        return index !== -1;\r\n    }\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    _shouldDispatch(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        const count = this._disabled[type];\r\n        if (!_Type__WEBPACK_IMPORTED_MODULE_1__.isNumber(count)) {\r\n            return this._enabled;\r\n        }\r\n        else {\r\n            if (count <= 1) {\r\n                delete this._disabled[type];\r\n            }\r\n            else {\r\n                --this._disabled[type];\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    _eachListener(fn) {\r\n        ++this._iterating;\r\n        try {\r\n            _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._listeners, fn);\r\n        }\r\n        finally {\r\n            --this._iterating;\r\n            // TODO should this be inside or outside the finally ?\r\n            if (this._iterating === 0 && this._killed.length !== 0) {\r\n                // Remove killed listeners\r\n                _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._killed, (killed) => {\r\n                    this._removeListener(killed);\r\n                });\r\n                this._killed.length = 0;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    dispatch(type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            // TODO check if it's faster to use an object of listeners rather than a single big array\r\n            // TODO if the function throws, maybe it should keep going ?\r\n            this._eachListener((listener) => {\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    listener.dispatch(type, event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    /*public dispatchLater<Key extends keyof T>(type: Key, event: T[Key]): void {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener((listener) => {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(() => {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }*/\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    _on(once, type, callback, context, shouldClone, dispatch) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._removeExistingListener(once, type, callback, context);\r\n        const info = {\r\n            type: type,\r\n            callback: callback,\r\n            context: context,\r\n            shouldClone: shouldClone,\r\n            dispatch: dispatch,\r\n            killed: false,\r\n            once: once,\r\n            disposer: new _Disposer__WEBPACK_IMPORTED_MODULE_2__.Disposer(() => {\r\n                info.killed = true;\r\n                this._removeListener(info);\r\n            })\r\n        };\r\n        this._listeners.push(info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    onAll(callback, context, shouldClone = true) {\r\n        return this._on(false, null, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    on(type, callback, context, shouldClone = true) {\r\n        return this._on(false, type, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    once(type, callback, context, shouldClone = true) {\r\n        const x = this._on(true, type, callback, context, shouldClone, (_type, event) => {\r\n            x.disposer.dispose();\r\n            callback.call(context, event);\r\n        });\r\n        // TODO maybe this should return a different Disposer ?\r\n        return x.disposer;\r\n    }\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    off(type, callback, context) {\r\n        this._removeExistingListener(false, type, callback, context);\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.each(source._listeners, (x) => {\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.MultiDisposer(disposers);\r\n    }\r\n}\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @ignore\r\n */\r\nclass TargetedEventDispatcher extends EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    constructor(target) {\r\n        super();\r\n        /**\r\n         * A target object which is originating events using this dispatcher.\r\n         */\r\n        Object.defineProperty(this, \"target\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.each(source._listeners, (x) => {\r\n            // TODO very hacky\r\n            if (x.context === source.target) {\r\n                return;\r\n            }\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.MultiDisposer(disposers);\r\n    }\r\n}\r\n//# sourceMappingURL=EventDispatcher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0V2ZW50RGlzcGF0Y2hlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3FEO0FBQ25CO0FBQ0Y7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5REFBeUQ7QUFDbEU7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3Q0FBVztBQUMzQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVDQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2Q0FBZ0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJDQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3Q0FBVztBQUMzQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0NBQVE7QUFDbEM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUJBQW1CLG9EQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3Q0FBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxtQkFBbUIsb0RBQWE7QUFDaEM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvRXZlbnREaXNwYXRjaGVyLmpzPzQ0ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEV2ZW50IERpc3BhdGNoZXIgbW9kdWxlIGlzIHVzZWQgZm9yIHJlZ2lzdGVyaW5nIGxpc3RlbmVycyBhbmQgZGlzcGF0Y2hpbmdcclxuICogZXZlbnRzIGFjcm9zcyBhbUNoYXJ0cyBzeXN0ZW0uXHJcbiAqL1xyXG4vKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBJTVBPUlRTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuaW1wb3J0IHsgRGlzcG9zZXIsIE11bHRpRGlzcG9zZXIgfSBmcm9tIFwiLi9EaXNwb3NlclwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogVW5pdmVyc2FsIEV2ZW50IERpc3BhdGNoZXIuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL2V2ZW50cy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFdmVudERpc3BhdGNoZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGlzdGVuZXJzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9raWxsZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc2FibGVkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pdGVyYXRpbmdcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2VuYWJsZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3Bvc2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2tpbGxlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0ge307XHJcbiAgICAgICAgdGhpcy5faXRlcmF0aW5nID0gMDtcclxuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGlmIHRoaXMgb2JqZWN0IGhhcyBiZWVuIGFscmVhZHkgZGlzcG9zZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBEaXNwb3NlZD9cclxuICAgICAqL1xyXG4gICAgaXNEaXNwb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2UgKGRlc3Ryb3kpIHRoaXMgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBhID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpbmcgPSAxO1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaChhLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHguZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9raWxsZWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXRlcmF0aW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgcGFydGljdWxhciBldmVudCBkaXNwYXRjaGVyIGhhcyBhbnkgbGlzdGVuZXJzIHNldC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIEhhcyBsaXN0ZW5lcnM/XHJcbiAgICAgKi9cclxuICAgIGhhc0xpc3RlbmVycygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzLmxlbmd0aCAhPT0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgcGFydGljdWxhciBldmVudCBkaXNwYXRjaGVyIGhhcyBhbnkgcGFydGljdWxhciBsaXN0ZW5lcnMgc2V0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSGFzIHBhcnRpY3VsYXIgZXZlbnQgbGlzdGVuZXJzP1xyXG4gICAgICovXHJcbiAgICBoYXNMaXN0ZW5lcnNCeVR5cGUodHlwZSkge1xyXG4gICAgICAgIHJldHVybiAkYXJyYXkuYW55KHRoaXMuX2xpc3RlbmVycywgKHgpID0+ICh4LnR5cGUgPT09IG51bGwgfHwgeC50eXBlID09PSB0eXBlKSAmJiAheC5raWxsZWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGUgZGlzcGF0Y2hpbmcgb2YgZXZlbnRzIGlmIHRoZXkgd2VyZSBwcmV2aW91c2x5IGRpc2FibGVkIGJ5XHJcbiAgICAgKiBgZGlzYWJsZSgpYC5cclxuICAgICAqL1xyXG4gICAgZW5hYmxlKCkge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlIGRpc3BhdGNoaW5nIG9mIGV2ZW50cyB1bnRpbCByZS1lbmFibGVkIGJ5IGBlbmFibGUoKWAuXHJcbiAgICAgKi9cclxuICAgIGRpc2FibGUoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGUgZGlzcGF0Y2hpbmcgcGFydGljdWxhciBldmVudCwgaWYgaXQgd2FzIGRpc2FibGVkIGJlZm9yZSBieVxyXG4gICAgICogYGRpc2FibGVUeXBlKClgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlIEV2ZW50IHR5cGVcclxuICAgICAqL1xyXG4gICAgZW5hYmxlVHlwZSh0eXBlKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2Rpc2FibGVkW3R5cGVdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlIGRpc3BhdGNoaW5nIG9mIGV2ZW50cyBmb3IgYSBjZXJ0YWluIGV2ZW50IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogT3B0aW9uYWxseSwgY2FuIHNldCBob3cgbWFueSBkaXNwYXRjaGVzIHRvIHNraXAgYmVmb3JlIGF1dG9tYXRpY2FsbHlcclxuICAgICAqIHJlLWVuYWJsaW5nIHRoZSBkaXNwYXRjaGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSAgICBFdmVudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gYW1vdW50ICBOdW1iZXIgb2YgZXZlbnQgZGlzcGF0Y2hlcyB0byBza2lwXHJcbiAgICAgKi9cclxuICAgIGRpc2FibGVUeXBlKHR5cGUsIGFtb3VudCA9IEluZmluaXR5KSB7XHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRbdHlwZV0gPSBhbW91bnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgbGlzdGVuZXIgZnJvbSBkaXNwYXRjaGVyLlxyXG4gICAgICpcclxuICAgICAqIFdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIHN1Y2ggbGlzdGVuZXIgZG9lcyBub3QgZXhpc3RzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBMaXN0ZW5lciB0byByZW1vdmVcclxuICAgICAqL1xyXG4gICAgX3JlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2l0ZXJhdGluZyA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZTogY291bGQgbm90IHJlbW92ZSBsaXN0ZW5lclwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2tpbGxlZC5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgZXhpc3RpbmcgbGlzdGVuZXIgYnkgY2VydGFpbiBwYXJhbWV0ZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvbmNlICAgICAgICAgTGlzdGVuZXIncyBvbmNlIHNldHRpbmdcclxuICAgICAqIEBwYXJhbSB0eXBlICAgICAgICAgTGlzdGVuZXIncyB0eXBlXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqL1xyXG4gICAgX3JlbW92ZUV4aXN0aW5nTGlzdGVuZXIob25jZSwgdHlwZSwgY2FsbGJhY2ssIGNvbnRleHQpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXZlbnREaXNwYXRjaGVyIGlzIGRpc3Bvc2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lYWNoTGlzdGVuZXIoKGluZm8pID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZm8ub25jZSA9PT0gb25jZSAmJiAvLyBUT0RPIGlzIHRoaXMgY29ycmVjdCA/XHJcbiAgICAgICAgICAgICAgICBpbmZvLnR5cGUgPT09IHR5cGUgJiZcclxuICAgICAgICAgICAgICAgIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkIHx8IGluZm8uY2FsbGJhY2sgPT09IGNhbGxiYWNrKSAmJlxyXG4gICAgICAgICAgICAgICAgaW5mby5jb250ZXh0ID09PSBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpbmZvLmRpc3Bvc2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgZGlzcGF0Y2hpbmcgZm9yIHBhcnRpY3VsYXIgZXZlbnQgdHlwZSBpcyBlbmFibGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlICBFdmVudCB0eXBlXHJcbiAgICAgKiBAcmV0dXJuIEVuYWJsZWQ/XHJcbiAgICAgKi9cclxuICAgIGlzRW5hYmxlZCh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETyBpcyB0aGlzIGNoZWNrIGNvcnJlY3QgP1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkICYmIHRoaXMuX2xpc3RlbmVycy5sZW5ndGggPiAwICYmIHRoaXMuaGFzTGlzdGVuZXJzQnlUeXBlKHR5cGUpICYmIHRoaXMuX2Rpc2FibGVkW3R5cGVdID09PSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBvZiBhIHBhcnRpY3VsYXIgZXZlbnQgdHlwZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlICBMaXN0ZW5lcidzIHR5cGVcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlVHlwZSh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZWFjaExpc3RlbmVyKChpbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmZvLnR5cGUgPT09IHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGluZm8uZGlzcG9zZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGVyZSdzIGFscmVhZHkgYSBsaXN0ZW5lciB3aXRoIHNwZWNpZmljIHBhcmFtZXRlcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHR5cGUgICAgICBMaXN0ZW5lcidzIHR5cGVcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICAgICAqIEBwYXJhbSBjb250ZXh0ICAgQ2FsbGJhY2sgY29udGV4dFxyXG4gICAgICogQHJldHVybiBIYXMgbGlzdGVuZXI/XHJcbiAgICAgKi9cclxuICAgIGhhcyh0eXBlLCBjYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gJGFycmF5LmZpbmRJbmRleCh0aGlzLl9saXN0ZW5lcnMsIChpbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmZvLm9uY2UgIT09IHRydWUgJiYgLy8gSWdub3JpbmcgXCJvbmNlXCIgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgICAgICBpbmZvLnR5cGUgPT09IHR5cGUgJiZcclxuICAgICAgICAgICAgICAgIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkIHx8IGluZm8uY2FsbGJhY2sgPT09IGNhbGxiYWNrKSAmJlxyXG4gICAgICAgICAgICAgICAgaW5mby5jb250ZXh0ID09PSBjb250ZXh0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBpbmRleCAhPT0gLTE7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIGV2ZW50IG9mIHRoZSBwYXJ0aWN1bGFyIHR5cGUgc2hvdWxkIGJlIGRpc3BhdGNoZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHR5cGUgIEV2ZW50IHR5cGVcclxuICAgICAqIEByZXR1cm4gRGlzcGF0Y2g/XHJcbiAgICAgKi9cclxuICAgIF9zaG91bGREaXNwYXRjaCh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9kaXNhYmxlZFt0eXBlXTtcclxuICAgICAgICBpZiAoISR0eXBlLmlzTnVtYmVyKGNvdW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZGlzYWJsZWRbdHlwZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAtLXRoaXMuX2Rpc2FibGVkW3R5cGVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFtfZWFjaExpc3RlbmVyIGRlc2NyaXB0aW9uXVxyXG4gICAgICpcclxuICAgICAqIEFsbCBvZiB0aGlzIGV4dHJhIGNvZGUgaXMgbmVlZGVkIHdoZW4gYSBsaXN0ZW5lciBpcyByZW1vdmVkIHdoaWxlIGl0ZXJhdGluZ1xyXG4gICAgICpcclxuICAgICAqIEB0b2RvIERlc2NyaXB0aW9uXHJcbiAgICAgKiBAcGFyYW0gZm4gW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICBfZWFjaExpc3RlbmVyKGZuKSB7XHJcbiAgICAgICAgKyt0aGlzLl9pdGVyYXRpbmc7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fbGlzdGVuZXJzLCBmbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAtLXRoaXMuX2l0ZXJhdGluZztcclxuICAgICAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyBiZSBpbnNpZGUgb3Igb3V0c2lkZSB0aGUgZmluYWxseSA/XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pdGVyYXRpbmcgPT09IDAgJiYgdGhpcy5fa2lsbGVkLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGtpbGxlZCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX2tpbGxlZCwgKGtpbGxlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyKGtpbGxlZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2tpbGxlZC5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGltbWVkaWF0ZWx5IHdpdGhvdXQgd2FpdGluZyBmb3IgbmV4dCBjeWNsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSAgIEV2ZW50IHR5cGVcclxuICAgICAqIEBwYXJhbSBldmVudCAgRXZlbnQgb2JqZWN0XHJcbiAgICAgKiBAdG9kbyBhdXRvbWF0aWNhbGx5IGFkZCBpbiB0eXBlIGFuZCB0YXJnZXQgcHJvcGVydGllcyBpZiB0aGV5IGFyZSBtaXNzaW5nXHJcbiAgICAgKi9cclxuICAgIGRpc3BhdGNoKHR5cGUsIGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZERpc3BhdGNoKHR5cGUpKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgaXQncyBmYXN0ZXIgdG8gdXNlIGFuIG9iamVjdCBvZiBsaXN0ZW5lcnMgcmF0aGVyIHRoYW4gYSBzaW5nbGUgYmlnIGFycmF5XHJcbiAgICAgICAgICAgIC8vIFRPRE8gaWYgdGhlIGZ1bmN0aW9uIHRocm93cywgbWF5YmUgaXQgc2hvdWxkIGtlZXAgZ29pbmcgP1xyXG4gICAgICAgICAgICB0aGlzLl9lYWNoTGlzdGVuZXIoKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RlbmVyLmtpbGxlZCAmJiAobGlzdGVuZXIudHlwZSA9PT0gbnVsbCB8fCBsaXN0ZW5lci50eXBlID09PSB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmRpc3BhdGNoKHR5cGUsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTaGVsdmVzIHRoZSBldmVudCB0byBiZSBkaXNwYXRjaGVkIHdpdGhpbiBuZXh0IHVwZGF0ZSBjeWNsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSAgIEV2ZW50IHR5cGVcclxuICAgICAqIEBwYXJhbSBldmVudCAgRXZlbnQgb2JqZWN0XHJcbiAgICAgKiBAdG9kbyBhdXRvbWF0aWNhbGx5IGFkZCBpbiB0eXBlIGFuZCB0YXJnZXQgcHJvcGVydGllcyBpZiB0aGV5IGFyZSBtaXNzaW5nXHJcbiAgICAgKi9cclxuICAgIC8qcHVibGljIGRpc3BhdGNoTGF0ZXI8S2V5IGV4dGVuZHMga2V5b2YgVD4odHlwZTogS2V5LCBldmVudDogVFtLZXldKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZERpc3BhdGNoKHR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VhY2hMaXN0ZW5lcigobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgaXQncyBmYXN0ZXIgdG8gdXNlIGFuIG9iamVjdCBvZiBsaXN0ZW5lcnMgcmF0aGVyIHRoYW4gYSBzaW5nbGUgYmlnIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RlbmVyLmtpbGxlZCAmJiAobGlzdGVuZXIudHlwZSA9PT0gbnVsbCB8fCBsaXN0ZW5lci50eXBlID09PSB0eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gaWYgdGhlIGZ1bmN0aW9uIHRocm93cywgbWF5YmUgaXQgc2hvdWxkIGtlZXAgZ29pbmcgP1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gZGlzcGF0Y2ggZHVyaW5nIHRoZSB1cGRhdGUgY3ljbGUsIHJhdGhlciB0aGFuIHVzaW5nIHdoZW5JZGxlXHJcbiAgICAgICAgICAgICAgICAgICAgJGFzeW5jLndoZW5JZGxlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5raWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmRpc3BhdGNoKHR5cGUsIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9Ki9cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcywgY2F0YWxvZ3MgYW5kIHJldHVybnMgYW4gW1tFdmVudExpc3RlbmVyXV0uXHJcbiAgICAgKlxyXG4gICAgICogRXZlbnQgbGlzdGVuZXIgY2FuIGJlIGRpc3Bvc2VkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvbmNlICAgICAgICAgTGlzdGVuZXIncyBvbmNlIHNldHRpbmdcclxuICAgICAqIEBwYXJhbSB0eXBlICAgICAgICAgTGlzdGVuZXIncyB0eXBlXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqIEBwYXJhbSBzaG91bGRDbG9uZSAgV2hldGhlciB0aGUgbGlzdGVuZXIgc2hvdWxkIGJlIGNvcGllZCB3aGVuIHRoZSBFdmVudERpc3BhdGNoZXIgaXMgY29waWVkXHJcbiAgICAgKiBAcGFyYW0gZGlzcGF0Y2hcclxuICAgICAqIEByZXR1cm5zIEFuIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKi9cclxuICAgIF9vbihvbmNlLCB0eXBlLCBjYWxsYmFjaywgY29udGV4dCwgc2hvdWxkQ2xvbmUsIGRpc3BhdGNoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXhpc3RpbmdMaXN0ZW5lcihvbmNlLCB0eXBlLCBjYWxsYmFjaywgY29udGV4dCk7XHJcbiAgICAgICAgY29uc3QgaW5mbyA9IHtcclxuICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxyXG4gICAgICAgICAgICBzaG91bGRDbG9uZTogc2hvdWxkQ2xvbmUsXHJcbiAgICAgICAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcclxuICAgICAgICAgICAga2lsbGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgb25jZTogb25jZSxcclxuICAgICAgICAgICAgZGlzcG9zZXI6IG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbmZvLmtpbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcihpbmZvKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGluZm8pO1xyXG4gICAgICAgIHJldHVybiBpbmZvO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGJlIGludm9rZWQgb24gKiphbnkqKiBldmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqIEBwYXJhbSBzaG91bGRDbG9uZSAgV2hldGhlciB0aGUgbGlzdGVuZXIgc2hvdWxkIGJlIGNvcGllZCB3aGVuIHRoZSBFdmVudERpc3BhdGNoZXIgaXMgY29waWVkXHJcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgZXZlbnQgbGlzdGVuZXJcclxuICAgICAqL1xyXG4gICAgb25BbGwoY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lID0gdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vbihmYWxzZSwgbnVsbCwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lLCAoX3R5cGUsIGV2ZW50KSA9PiBjYWxsYmFjay5jYWxsKGNvbnRleHQsIGV2ZW50KSkuZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgaW52b2tlZCBvbiBhIHNwZWNpZmljIGV2ZW50IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogYGBgVHlwZVNjcmlwdFxyXG4gICAgICogYnV0dG9uLmV2ZW50cy5vbmNlKFwiY2xpY2tcIiwgKGV2KSA9PiB7XHJcbiAgICAgKiAgIGNvbnNvbGUubG9nKFwiQnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgKiB9LCB0aGlzKTtcclxuICAgICAqIGBgYFxyXG4gICAgICogYGBgSmF2YVNjcmlwdFxyXG4gICAgICogYnV0dG9uLmV2ZW50cy5vbmNlKFwiY2xpY2tcIiwgKGV2KSA9PiB7XHJcbiAgICAgKiAgIGNvbnNvbGUubG9nKFwiQnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgKiB9LCB0aGlzKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZSBhYm92ZSB3aWxsIGludm9rZSBvdXIgY3VzdG9tIGV2ZW50IGhhbmRsZXIgd2hlbmV2ZXIgc2VyaWVzIHdlIHB1dFxyXG4gICAgICogZXZlbnQgb24gaXMgaGlkZGVuLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlICAgICAgICAgTGlzdGVuZXIncyB0eXBlXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqIEBwYXJhbSBzaG91bGRDbG9uZSAgV2hldGhlciB0aGUgbGlzdGVuZXIgc2hvdWxkIGJlIGNvcGllZCB3aGVuIHRoZSBFdmVudERpc3BhdGNoZXIgaXMgY29waWVkXHJcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgZXZlbnQgbGlzdGVuZXJcclxuICAgICAqL1xyXG4gICAgb24odHlwZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lID0gdHJ1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vbihmYWxzZSwgdHlwZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lLCAoX3R5cGUsIGV2ZW50KSA9PiBjYWxsYmFjay5jYWxsKGNvbnRleHQsIGV2ZW50KSkuZGlzcG9zZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgaW52b2tlZCBvbiBhIHNwZWNpZmljIGV2ZW50IHR5cGUgb25jZS5cclxuICAgICAqXHJcbiAgICAgKiBPbmNlIHRoZSBldmVudCBsaXN0ZW5lciBpcyBpbnZva2VkLCBpdCBpcyBhdXRvbWF0aWNhbGx5IGRpc3Bvc2VkLlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIGJ1dHRvbi5ldmVudHMub25jZShcImNsaWNrXCIsIChldikgPT4ge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhcIkJ1dHRvbiBjbGlja2VkXCIpO1xyXG4gICAgICogfSwgdGhpcyk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIGJ1dHRvbi5ldmVudHMub25jZShcImNsaWNrXCIsIChldikgPT4ge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhcIkJ1dHRvbiBjbGlja2VkXCIpO1xyXG4gICAgICogfSwgdGhpcyk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGUgYWJvdmUgd2lsbCBpbnZva2Ugb3VyIGN1c3RvbSBldmVudCBoYW5kbGVyIHRoZSBmaXJzdCB0aW1lIHNlcmllcyB3ZVxyXG4gICAgICogcHV0IGV2ZW50IG9uIGlzIGhpZGRlbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSAgICAgICAgIExpc3RlbmVyJ3MgdHlwZVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrICAgICBDYWxsYmFjayBmdW5jdGlvblxyXG4gICAgICogQHBhcmFtIGNvbnRleHQgICAgICBDYWxsYmFjayBjb250ZXh0XHJcbiAgICAgKiBAcGFyYW0gc2hvdWxkQ2xvbmUgIFdoZXRoZXIgdGhlIGxpc3RlbmVyIHNob3VsZCBiZSBjb3BpZWQgd2hlbiB0aGUgRXZlbnREaXNwYXRjaGVyIGlzIGNvcGllZFxyXG4gICAgICogQHJldHVybnMgQSBkaXNwb3NhYmxlIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgKi9cclxuICAgIG9uY2UodHlwZSwgY2FsbGJhY2ssIGNvbnRleHQsIHNob3VsZENsb25lID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLl9vbih0cnVlLCB0eXBlLCBjYWxsYmFjaywgY29udGV4dCwgc2hvdWxkQ2xvbmUsIChfdHlwZSwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgeC5kaXNwb3Nlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRPRE8gbWF5YmUgdGhpcyBzaG91bGQgcmV0dXJuIGEgZGlmZmVyZW50IERpc3Bvc2VyID9cclxuICAgICAgICByZXR1cm4geC5kaXNwb3NlcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXIgd2l0aCBzcGVjaWZpYyBwYXJhbWV0ZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlICAgICAgICAgTGlzdGVuZXIncyB0eXBlXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgIENhbGxiYWNrIGNvbnRleHRcclxuICAgICAqL1xyXG4gICAgb2ZmKHR5cGUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXhpc3RpbmdMaXN0ZW5lcihmYWxzZSwgdHlwZSwgY2FsbGJhY2ssIGNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3BpZXMgYWxsIGRpc3BhdGNoZXIgcGFyYW1ldGVycywgaW5jbHVkaW5nIGxpc3RlbmVycywgZnJvbSBhbm90aGVyIGV2ZW50XHJcbiAgICAgKiBkaXNwYXRjaGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzb3VyY2UgU291cmNlIGV2ZW50IGRpc3BhdGNoZXJcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgY29weUZyb20oc291cmNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50RGlzcGF0Y2hlciBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gdGhpcykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29weUZyb20gdGhlIHNhbWUgVGFyZ2V0ZWRFdmVudERpc3BhdGNoZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpc3Bvc2VycyA9IFtdO1xyXG4gICAgICAgICRhcnJheS5lYWNoKHNvdXJjZS5fbGlzdGVuZXJzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBUT0RPIGlzIHRoaXMgY29ycmVjdCA/XHJcbiAgICAgICAgICAgIGlmICgheC5raWxsZWQgJiYgeC5zaG91bGRDbG9uZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHgudHlwZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2Vycy5wdXNoKHRoaXMub25BbGwoeC5jYWxsYmFjaywgeC5jb250ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh4Lm9uY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaCh0aGlzLm9uY2UoeC50eXBlLCB4LmNhbGxiYWNrLCB4LmNvbnRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2Vycy5wdXNoKHRoaXMub24oeC50eXBlLCB4LmNhbGxiYWNrLCB4LmNvbnRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgTXVsdGlEaXNwb3NlcihkaXNwb3NlcnMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBIHZlcnNpb24gb2YgdGhlIFtbRXZlbnREaXNwYXRjaGVyXV0gdGhhdCBkaXNwYXRjaGVzIGV2ZW50cyBmb3IgYSBzcGVjaWZpY1xyXG4gKiB0YXJnZXQgb2JqZWN0LlxyXG4gKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGFyZ2V0ZWRFdmVudERpc3BhdGNoZXIgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgRXZlbnQgZGlzcGF0Y2hlciB0YXJnZXRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGFyZ2V0KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHRhcmdldCBvYmplY3Qgd2hpY2ggaXMgb3JpZ2luYXRpbmcgZXZlbnRzIHVzaW5nIHRoaXMgZGlzcGF0Y2hlci5cclxuICAgICAgICAgKi9cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0YXJnZXRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvcGllcyBhbGwgZGlzcGF0Y2hlciBwYXJhbWV0ZXJzLCBpbmNsdWRpbmcgbGlzdGVuZXJzLCBmcm9tIGFub3RoZXIgZXZlbnRcclxuICAgICAqIGRpc3BhdGNoZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNvdXJjZSBTb3VyY2UgZXZlbnQgZGlzcGF0Y2hlclxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBjb3B5RnJvbShzb3VyY2UpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXZlbnREaXNwYXRjaGVyIGlzIGRpc3Bvc2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc291cmNlID09PSB0aGlzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb3B5RnJvbSB0aGUgc2FtZSBUYXJnZXRlZEV2ZW50RGlzcGF0Y2hlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGlzcG9zZXJzID0gW107XHJcbiAgICAgICAgJGFycmF5LmVhY2goc291cmNlLl9saXN0ZW5lcnMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gdmVyeSBoYWNreVxyXG4gICAgICAgICAgICBpZiAoeC5jb250ZXh0ID09PSBzb3VyY2UudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVE9ETyBpcyB0aGlzIGNvcnJlY3QgP1xyXG4gICAgICAgICAgICBpZiAoIXgua2lsbGVkICYmIHguc2hvdWxkQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4LnR5cGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaCh0aGlzLm9uQWxsKHguY2FsbGJhY2ssIHguY29udGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeC5vbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zZXJzLnB1c2godGhpcy5vbmNlKHgudHlwZSwgeC5jYWxsYmFjaywgeC5jb250ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaCh0aGlzLm9uKHgudHlwZSwgeC5jYWxsYmFjaywgeC5jb250ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IE11bHRpRGlzcG9zZXIoZGlzcG9zZXJzKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudERpc3BhdGNoZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InterfaceColors: () => (/* binding */ InterfaceColors)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n\r\n/**\r\n * Presets for common UI elements.\r\n */\r\nclass InterfaceColors extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n}\r\nObject.defineProperty(InterfaceColors, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"InterfaceColors\"\r\n});\r\nObject.defineProperty(InterfaceColors, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity.classNames.concat([InterfaceColors.className])\r\n});\r\n//# sourceMappingURL=InterfaceColors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0ludGVyZmFjZUNvbG9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsMkNBQU07QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBTTtBQUNqQixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9JbnRlcmZhY2VDb2xvcnMuanM/MzFmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9FbnRpdHlcIjtcclxuLyoqXHJcbiAqIFByZXNldHMgZm9yIGNvbW1vbiBVSSBlbGVtZW50cy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbnRlcmZhY2VDb2xvcnMgZXh0ZW5kcyBFbnRpdHkge1xyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmZhY2VDb2xvcnMsIFwiY2xhc3NOYW1lXCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIkludGVyZmFjZUNvbG9yc1wiXHJcbn0pO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJmYWNlQ29sb3JzLCBcImNsYXNzTmFtZXNcIiwge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgdmFsdWU6IEVudGl0eS5jbGFzc05hbWVzLmNvbmNhdChbSW50ZXJmYWNlQ29sb3JzLmNsYXNzTmFtZV0pXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmZhY2VDb2xvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Language: () => (/* binding */ Language)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _locales_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../locales/en */ \"(ssr)/./node_modules/@amcharts/amcharts5/locales/en.js\");\n\r\n\r\n\r\n\r\n;\r\n/**\r\n * Add localization functionality.\r\n */\r\nclass Language extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    _setDefaults() {\r\n        this.setPrivate(\"defaultLocale\", _locales_en__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n        super._setDefaults();\r\n    }\r\n    /**\r\n     * Returns a prompt translation.\r\n     *\r\n     * @param   prompt   Prompt to translate\r\n     * @param   locale   Target locale\r\n     * @param   ...rest  Parameters\r\n     * @return           Translation\r\n     */\r\n    translate(prompt, locale, ...rest) {\r\n        // Get langauge\r\n        if (!locale) {\r\n            locale = this._root.locale || this.getPrivate(\"defaultLocale\");\r\n        }\r\n        // Init translation\r\n        let translation = prompt;\r\n        let value = locale[prompt];\r\n        // Try to look for the translation\r\n        if (value === null) {\r\n            translation = \"\";\r\n        }\r\n        else if (value != null) {\r\n            // It might be an empty string\r\n            if (value) {\r\n                translation = value;\r\n            }\r\n        }\r\n        else if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n            // Try to look in default language\r\n            return this.translate(prompt, this.getPrivate(\"defaultLocale\"), ...rest);\r\n        }\r\n        // Replace %1, %2, etc params\r\n        if (rest.length) {\r\n            for (let len = rest.length, i = 0; i < len; ++i) {\r\n                translation = translation.split(\"%\" + (i + 1)).join(rest[i]);\r\n            }\r\n        }\r\n        // Return the translation\r\n        return translation;\r\n    }\r\n    /**\r\n     * Returns a prompt translation, including custom prompts.\r\n     *\r\n     * @param   prompt   Prompt to translate\r\n     * @param   locale   Target locale\r\n     * @param   ...rest  Parameters\r\n     * @return           Translation\r\n     */\r\n    translateAny(prompt, locale, ...rest) {\r\n        return this.translate(prompt, locale, ...rest);\r\n    }\r\n    /**\r\n     * Add a custom prompt to locale.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/creating-translations/#Extending_locale_with_custom_prompts}\r\n     * @param  prompt       Source prompt\r\n     * @param  translation  Tanslation\r\n     * @param  locale       Target locale\r\n     */\r\n    setTranslationAny(prompt, translation, locale) {\r\n        const localeTarget = locale || this._root.locale;\r\n        localeTarget[prompt] = translation;\r\n    }\r\n    /**\r\n     * Add a batch of custom prompts.\r\n     *\r\n     * @since 5.3.3\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/creating-translations/#Extending_locale_with_custom_prompts}\r\n     * @param  translations  Translations\r\n     * @param  locale        Target locale\r\n     */\r\n    setTranslationsAny(translations, locale) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_2__.each(translations, (key, val) => {\r\n            this.setTranslationAny(key, val, locale);\r\n        });\r\n    }\r\n    translateEmpty(prompt, locale, ...rest) {\r\n        let translation = this.translate(prompt, locale, ...rest);\r\n        return translation == prompt ? \"\" : translation;\r\n    }\r\n    translateFunc(prompt, locale) {\r\n        if (this._root.locale[prompt]) {\r\n            return this._root.locale[prompt];\r\n        }\r\n        // Try to look in default language\r\n        if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n            return this.translateFunc(prompt, this.getPrivate(\"defaultLocale\"));\r\n        }\r\n        // Fail - return empty function\r\n        return () => {\r\n            return \"\";\r\n        };\r\n    }\r\n    /**\r\n     * Translates a btach of prompts.\r\n     *\r\n     * @param  list    Array of prompts to translate\r\n     * @param  locale  Target locale\r\n     * @return         Array of translations\r\n     */\r\n    translateAll(list, locale) {\r\n        // Translate all items in the list\r\n        if (!this.isDefault()) {\r\n            return _Array__WEBPACK_IMPORTED_MODULE_3__.map(list, (x) => this.translate(x, locale));\r\n        }\r\n        else {\r\n            return list;\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if the currently selected locale is a default locale.\r\n     *\r\n     * @return `true` if locale is default; `false` if it is not.\r\n     */\r\n    isDefault() {\r\n        return this.getPrivate(\"defaultLocale\") === this._root.locale;\r\n    }\r\n}\r\n//# sourceMappingURL=Language.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0xhbmd1YWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtDO0FBQ0E7QUFDRTtBQUNDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLDJDQUFNO0FBQ3BDO0FBQ0EseUNBQXlDLG1EQUFFO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVDQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvTGFuZ3VhZ2UuanM/N2E2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9FbnRpdHlcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4vT2JqZWN0XCI7XHJcbmltcG9ydCBlbiBmcm9tIFwiLi4vLi4vLi4vbG9jYWxlcy9lblwiO1xyXG47XHJcbi8qKlxyXG4gKiBBZGQgbG9jYWxpemF0aW9uIGZ1bmN0aW9uYWxpdHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGFuZ3VhZ2UgZXh0ZW5kcyBFbnRpdHkge1xyXG4gICAgX3NldERlZmF1bHRzKCkge1xyXG4gICAgICAgIHRoaXMuc2V0UHJpdmF0ZShcImRlZmF1bHRMb2NhbGVcIiwgZW4pO1xyXG4gICAgICAgIHN1cGVyLl9zZXREZWZhdWx0cygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgcHJvbXB0IHRyYW5zbGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHByb21wdCAgIFByb21wdCB0byB0cmFuc2xhdGVcclxuICAgICAqIEBwYXJhbSAgIGxvY2FsZSAgIFRhcmdldCBsb2NhbGVcclxuICAgICAqIEBwYXJhbSAgIC4uLnJlc3QgIFBhcmFtZXRlcnNcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgIFRyYW5zbGF0aW9uXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZShwcm9tcHQsIGxvY2FsZSwgLi4ucmVzdCkge1xyXG4gICAgICAgIC8vIEdldCBsYW5nYXVnZVxyXG4gICAgICAgIGlmICghbG9jYWxlKSB7XHJcbiAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMuX3Jvb3QubG9jYWxlIHx8IHRoaXMuZ2V0UHJpdmF0ZShcImRlZmF1bHRMb2NhbGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEluaXQgdHJhbnNsYXRpb25cclxuICAgICAgICBsZXQgdHJhbnNsYXRpb24gPSBwcm9tcHQ7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gbG9jYWxlW3Byb21wdF07XHJcbiAgICAgICAgLy8gVHJ5IHRvIGxvb2sgZm9yIHRoZSB0cmFuc2xhdGlvblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0cmFuc2xhdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gSXQgbWlnaHQgYmUgYW4gZW1wdHkgc3RyaW5nXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsb2NhbGUgIT09IHRoaXMuZ2V0UHJpdmF0ZShcImRlZmF1bHRMb2NhbGVcIikpIHtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGxvb2sgaW4gZGVmYXVsdCBsYW5ndWFnZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGUocHJvbXB0LCB0aGlzLmdldFByaXZhdGUoXCJkZWZhdWx0TG9jYWxlXCIpLCAuLi5yZXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVwbGFjZSAlMSwgJTIsIGV0YyBwYXJhbXNcclxuICAgICAgICBpZiAocmVzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgbGVuID0gcmVzdC5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb24uc3BsaXQoXCIlXCIgKyAoaSArIDEpKS5qb2luKHJlc3RbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgdHJhbnNsYXRpb25cclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBwcm9tcHQgdHJhbnNsYXRpb24sIGluY2x1ZGluZyBjdXN0b20gcHJvbXB0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBwcm9tcHQgICBQcm9tcHQgdG8gdHJhbnNsYXRlXHJcbiAgICAgKiBAcGFyYW0gICBsb2NhbGUgICBUYXJnZXQgbG9jYWxlXHJcbiAgICAgKiBAcGFyYW0gICAuLi5yZXN0ICBQYXJhbWV0ZXJzXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICBUcmFuc2xhdGlvblxyXG4gICAgICovXHJcbiAgICB0cmFuc2xhdGVBbnkocHJvbXB0LCBsb2NhbGUsIC4uLnJlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGUocHJvbXB0LCBsb2NhbGUsIC4uLnJlc3QpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBjdXN0b20gcHJvbXB0IHRvIGxvY2FsZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9sb2NhbGVzL2NyZWF0aW5nLXRyYW5zbGF0aW9ucy8jRXh0ZW5kaW5nX2xvY2FsZV93aXRoX2N1c3RvbV9wcm9tcHRzfVxyXG4gICAgICogQHBhcmFtICBwcm9tcHQgICAgICAgU291cmNlIHByb21wdFxyXG4gICAgICogQHBhcmFtICB0cmFuc2xhdGlvbiAgVGFuc2xhdGlvblxyXG4gICAgICogQHBhcmFtICBsb2NhbGUgICAgICAgVGFyZ2V0IGxvY2FsZVxyXG4gICAgICovXHJcbiAgICBzZXRUcmFuc2xhdGlvbkFueShwcm9tcHQsIHRyYW5zbGF0aW9uLCBsb2NhbGUpIHtcclxuICAgICAgICBjb25zdCBsb2NhbGVUYXJnZXQgPSBsb2NhbGUgfHwgdGhpcy5fcm9vdC5sb2NhbGU7XHJcbiAgICAgICAgbG9jYWxlVGFyZ2V0W3Byb21wdF0gPSB0cmFuc2xhdGlvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgYmF0Y2ggb2YgY3VzdG9tIHByb21wdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDUuMy4zXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9sb2NhbGVzL2NyZWF0aW5nLXRyYW5zbGF0aW9ucy8jRXh0ZW5kaW5nX2xvY2FsZV93aXRoX2N1c3RvbV9wcm9tcHRzfVxyXG4gICAgICogQHBhcmFtICB0cmFuc2xhdGlvbnMgIFRyYW5zbGF0aW9uc1xyXG4gICAgICogQHBhcmFtICBsb2NhbGUgICAgICAgIFRhcmdldCBsb2NhbGVcclxuICAgICAqL1xyXG4gICAgc2V0VHJhbnNsYXRpb25zQW55KHRyYW5zbGF0aW9ucywgbG9jYWxlKSB7XHJcbiAgICAgICAgJG9iamVjdC5lYWNoKHRyYW5zbGF0aW9ucywgKGtleSwgdmFsKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNsYXRpb25Bbnkoa2V5LCB2YWwsIGxvY2FsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0cmFuc2xhdGVFbXB0eShwcm9tcHQsIGxvY2FsZSwgLi4ucmVzdCkge1xyXG4gICAgICAgIGxldCB0cmFuc2xhdGlvbiA9IHRoaXMudHJhbnNsYXRlKHByb21wdCwgbG9jYWxlLCAuLi5yZXN0KTtcclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb24gPT0gcHJvbXB0ID8gXCJcIiA6IHRyYW5zbGF0aW9uO1xyXG4gICAgfVxyXG4gICAgdHJhbnNsYXRlRnVuYyhwcm9tcHQsIGxvY2FsZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9yb290LmxvY2FsZVtwcm9tcHRdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb290LmxvY2FsZVtwcm9tcHRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcnkgdG8gbG9vayBpbiBkZWZhdWx0IGxhbmd1YWdlXHJcbiAgICAgICAgaWYgKGxvY2FsZSAhPT0gdGhpcy5nZXRQcml2YXRlKFwiZGVmYXVsdExvY2FsZVwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVGdW5jKHByb21wdCwgdGhpcy5nZXRQcml2YXRlKFwiZGVmYXVsdExvY2FsZVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZhaWwgLSByZXR1cm4gZW1wdHkgZnVuY3Rpb25cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2xhdGVzIGEgYnRhY2ggb2YgcHJvbXB0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIGxpc3QgICAgQXJyYXkgb2YgcHJvbXB0cyB0byB0cmFuc2xhdGVcclxuICAgICAqIEBwYXJhbSAgbG9jYWxlICBUYXJnZXQgbG9jYWxlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgQXJyYXkgb2YgdHJhbnNsYXRpb25zXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZUFsbChsaXN0LCBsb2NhbGUpIHtcclxuICAgICAgICAvLyBUcmFuc2xhdGUgYWxsIGl0ZW1zIGluIHRoZSBsaXN0XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRGVmYXVsdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkYXJyYXkubWFwKGxpc3QsICh4KSA9PiB0aGlzLnRyYW5zbGF0ZSh4LCBsb2NhbGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBsb2NhbGUgaXMgYSBkZWZhdWx0IGxvY2FsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIGB0cnVlYCBpZiBsb2NhbGUgaXMgZGVmYXVsdDsgYGZhbHNlYCBpZiBpdCBpcyBub3QuXHJcbiAgICAgKi9cclxuICAgIGlzRGVmYXVsdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcml2YXRlKFwiZGVmYXVsdExvY2FsZVwiKSA9PT0gdGhpcy5fcm9vdC5sb2NhbGU7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGFuZ3VhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/List.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   List: () => (/* binding */ List),\n/* harmony export */   ListAutoDispose: () => (/* binding */ ListAutoDispose),\n/* harmony export */   ListTemplate: () => (/* binding */ ListTemplate)\n/* harmony export */ });\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\n\r\n/**\r\n * Checks if specific index fits into length.\r\n *\r\n * @param index  Index\r\n * @param len    Length\r\n * @ignore\r\n */\r\nfunction checkBounds(index, len) {\r\n    if (!(index >= 0 && index < len)) {\r\n        throw new Error(\"Index out of bounds: \" + index);\r\n    }\r\n}\r\n/**\r\n * A List class is used to hold a number of indexed items of the same type.\r\n */\r\nclass List {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param initial  Inital list of values to add to list\r\n     */\r\n    constructor(initial = []) {\r\n        /**\r\n         * List values.\r\n         */\r\n        Object.defineProperty(this, \"_values\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _EventDispatcher__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher()\r\n        });\r\n        this._values = initial;\r\n    }\r\n    /**\r\n     * An array of values in the list.\r\n     *\r\n     * Do not use this property to add values. Rather use dedicated methods, like\r\n     * `push()`, `removeIndex()`, etc.\r\n     *\r\n     * @readonly\r\n     * @return List values\r\n     */\r\n    get values() {\r\n        return this._values;\r\n    }\r\n    /**\r\n     * Checks if list contains specific item reference.\r\n     *\r\n     * @param item  Item to search for\r\n     * @return `true` if found, `false` if not found\r\n     */\r\n    contains(value) {\r\n        return this._values.indexOf(value) !== -1;\r\n    }\r\n    /**\r\n     * Removes specific item from the list.\r\n     *\r\n     * @param item An item to remove\r\n     */\r\n    removeValue(value) {\r\n        let i = 0;\r\n        let length = this._values.length;\r\n        while (i < length) {\r\n            // TODO handle NaN\r\n            if (this._values[i] === value) {\r\n                this.removeIndex(i);\r\n                --length;\r\n            }\r\n            else {\r\n                ++i;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Searches the list for specific item and returns its index.\r\n     *\r\n     * @param item  An item to search for\r\n     * @return Index or -1 if not found\r\n     */\r\n    indexOf(value) {\r\n        return _Array__WEBPACK_IMPORTED_MODULE_1__.indexOf(this._values, value);\r\n    }\r\n    /**\r\n     * Number of items in list.\r\n     *\r\n     * @readonly\r\n     * @return Number of items\r\n     */\r\n    get length() {\r\n        return this._values.length;\r\n    }\r\n    /**\r\n     * Checks if there's a value at specific index.\r\n     *\r\n     * @param index  Index\r\n     * @return Value exists?\r\n     */\r\n    hasIndex(index) {\r\n        return index >= 0 && index < this._values.length;\r\n    }\r\n    /**\r\n     * Returns an item at specified index.\r\n     *\r\n     * @param index  Index\r\n     * @return List item\r\n     */\r\n    getIndex(index) {\r\n        return this._values[index];\r\n    }\r\n    _onPush(newValue) {\r\n        if (this.events.isEnabled(\"push\")) {\r\n            this.events.dispatch(\"push\", {\r\n                type: \"push\",\r\n                target: this,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.events.isEnabled(\"insertIndex\")) {\r\n            this.events.dispatch(\"insertIndex\", {\r\n                type: \"insertIndex\",\r\n                target: this,\r\n                index,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.events.isEnabled(\"setIndex\")) {\r\n            this.events.dispatch(\"setIndex\", {\r\n                type: \"setIndex\",\r\n                target: this,\r\n                index,\r\n                oldValue,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onSwap(a, b) {\r\n        if (this.events.isEnabled(\"swap\")) {\r\n            this.events.dispatch(\"swap\", {\r\n                type: \"swap\",\r\n                target: this,\r\n                a,\r\n                b\r\n            });\r\n        }\r\n    }\r\n    _onRemoveIndex(index, oldValue) {\r\n        if (this.events.isEnabled(\"removeIndex\")) {\r\n            this.events.dispatch(\"removeIndex\", {\r\n                type: \"removeIndex\",\r\n                target: this,\r\n                index,\r\n                oldValue\r\n            });\r\n        }\r\n    }\r\n    _onMoveIndex(oldIndex, newIndex, value) {\r\n        if (this.events.isEnabled(\"moveIndex\")) {\r\n            this.events.dispatch(\"moveIndex\", {\r\n                type: \"moveIndex\",\r\n                target: this,\r\n                oldIndex,\r\n                newIndex,\r\n                value,\r\n            });\r\n        }\r\n    }\r\n    _onClear(oldValues) {\r\n        if (this.events.isEnabled(\"clear\")) {\r\n            this.events.dispatch(\"clear\", {\r\n                type: \"clear\",\r\n                target: this,\r\n                oldValues\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Sets value at specific index.\r\n     *\r\n     * If there's already a value at the index, it is overwritten.\r\n     *\r\n     * @param index  Index\r\n     * @param value  New value\r\n     * @return New value\r\n     */\r\n    setIndex(index, value) {\r\n        checkBounds(index, this._values.length);\r\n        const oldValue = this._values[index];\r\n        // Do nothing if the old value and the new value are the same\r\n        if (oldValue !== value) {\r\n            this._values[index] = value;\r\n            this._onSetIndex(index, oldValue, value);\r\n        }\r\n        return oldValue;\r\n    }\r\n    /**\r\n     * Adds an item to the list at a specific index, which pushes all the other\r\n     * items further down the list.\r\n     *\r\n     * @param index Index\r\n     * @param item  An item to add\r\n     */\r\n    insertIndex(index, value) {\r\n        checkBounds(index, this._values.length + 1);\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.insertIndex(this._values, index, value);\r\n        this._onInsertIndex(index, value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Swaps indexes of two items in the list.\r\n     *\r\n     * @param a  Item 1\r\n     * @param b  Item 2\r\n     */\r\n    swap(a, b) {\r\n        const len = this._values.length;\r\n        checkBounds(a, len);\r\n        checkBounds(b, len);\r\n        if (a !== b) {\r\n            const value_a = this._values[a];\r\n            const value_b = this._values[b];\r\n            this._values[a] = value_b;\r\n            this._values[b] = value_a;\r\n            this._onSwap(value_a, value_b);\r\n        }\r\n    }\r\n    /**\r\n     * Removes a value at specific index.\r\n     *\r\n     * @param index  Index of value to remove\r\n     * @return Removed value\r\n     */\r\n    removeIndex(index) {\r\n        checkBounds(index, this._values.length);\r\n        const oldValue = this._values[index];\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.removeIndex(this._values, index);\r\n        this._onRemoveIndex(index, oldValue);\r\n        return oldValue;\r\n    }\r\n    /**\r\n     * Moves an item to a specific index within the list.\r\n     *\r\n     * If the index is not specified it will move the item to the end of the\r\n     * list.\r\n     *\r\n     * @param value  Item to move\r\n     * @param index  Index to place item at\r\n     */\r\n    moveValue(value, toIndex) {\r\n        // TODO don't do anything if the desired index is the same as the current index\r\n        let index = this.indexOf(value);\r\n        // TODO remove all old values rather than only the first ?\r\n        if (index !== -1) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.removeIndex(this._values, index);\r\n            if (toIndex == null) {\r\n                const toIndex = this._values.length;\r\n                this._values.push(value);\r\n                this._onMoveIndex(index, toIndex, value);\r\n            }\r\n            else {\r\n                _Array__WEBPACK_IMPORTED_MODULE_1__.insertIndex(this._values, toIndex, value);\r\n                this._onMoveIndex(index, toIndex, value);\r\n            }\r\n        }\r\n        else if (toIndex == null) {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n        }\r\n        else {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.insertIndex(this._values, toIndex, value);\r\n            this._onInsertIndex(toIndex, value);\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds an item to the end of the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    push(value) {\r\n        this._values.push(value);\r\n        this._onPush(value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds an item as a first item in the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    unshift(value) {\r\n        this.insertIndex(0, value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds multiple items to the list.\r\n     *\r\n     * @param items  An Array of items to add\r\n     */\r\n    pushAll(values) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(values, (value) => {\r\n            this.push(value);\r\n        });\r\n    }\r\n    /**\r\n     * Copies and adds items from abother list.\r\n     *\r\n     * @param source  A list top copy items from\r\n     */\r\n    copyFrom(source) {\r\n        this.pushAll(source._values);\r\n    }\r\n    /**\r\n     * Returns the last item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    pop() {\r\n        let index = this._values.length - 1;\r\n        return index < 0 ? undefined : this.removeIndex(this._values.length - 1);\r\n    }\r\n    /**\r\n     * Returns the first item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    shift() {\r\n        return this._values.length ? this.removeIndex(0) : undefined;\r\n    }\r\n    /**\r\n     * Sets multiple items to the list.\r\n     *\r\n     * All current items are removed.\r\n     *\r\n     * @param newArray  New items\r\n     */\r\n    setAll(newArray) {\r\n        const old = this._values;\r\n        this._values = [];\r\n        this._onClear(old);\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(newArray, (value) => {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n        });\r\n    }\r\n    /**\r\n     * Removes all items from the list.\r\n     */\r\n    clear() {\r\n        this.setAll([]);\r\n    }\r\n    /**\r\n     * Returns an ES6 iterator for the list.\r\n     */\r\n    *[Symbol.iterator]() {\r\n        const length = this._values.length;\r\n        for (let i = 0; i < length; ++i) {\r\n            yield this._values[i];\r\n        }\r\n    }\r\n    /**\r\n     * Calls `f` for each element in the list.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    each(f) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._values, f);\r\n    }\r\n    /**\r\n     * Calls `f` for each element in the list, from right to left.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    eachReverse(f) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_1__.eachReverse(this._values, f);\r\n    }\r\n}\r\n/**\r\n * A version of a [[List]] where the elements are disposed automatically when\r\n * removed from the list, unless `autoDispose` is set to `false`.\r\n */\r\nclass ListAutoDispose extends List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Automatically disposes elements that are removed from the list.\r\n         *\r\n         * @default true\r\n         */\r\n        Object.defineProperty(this, \"autoDispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    /**\r\n     * Swaps indexes of two items in the list.\r\n     *\r\n     * @param a  Item 1\r\n     * @param b  Item 2\r\n     */\r\n    swap(a, b) {\r\n        const currentAutoDispose = this.autoDispose;\r\n        this.autoDispose = false;\r\n        super.swap(a, b);\r\n        this.autoDispose = currentAutoDispose;\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.autoDispose) {\r\n            oldValue.dispose();\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n    _onRemoveIndex(index, oldValue) {\r\n        if (this.autoDispose) {\r\n            oldValue.dispose();\r\n        }\r\n        super._onRemoveIndex(index, oldValue);\r\n    }\r\n    _onClear(oldValues) {\r\n        if (this.autoDispose) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(oldValues, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n        super._onClear(oldValues);\r\n    }\r\n    _dispose() {\r\n        if (this.autoDispose) {\r\n            _Array__WEBPACK_IMPORTED_MODULE_1__.each(this._values, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n    }\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * A version of a [[List]] that is able to create new elements as well as\r\n * apply additional settings to newly created items.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/list-templates/} for more info\r\n */\r\nclass ListTemplate extends ListAutoDispose {\r\n    constructor(template, make) {\r\n        super();\r\n        Object.defineProperty(this, \"template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"make\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.template = template;\r\n        this.make = make;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this.autoDispose) {\r\n            this.template.dispose();\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=List.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL0xpc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0Q7QUFDbEI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFlO0FBQ3RDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtDQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtDQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtDQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0NBQVc7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdDQUFXO0FBQ25CO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdDQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtDQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0NBQVc7QUFDdkI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0NBQVc7QUFDdkI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBFQUEwRTtBQUNuRjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvTGlzdC5qcz80MmI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCIuL0V2ZW50RGlzcGF0Y2hlclwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuLyoqXHJcbiAqIENoZWNrcyBpZiBzcGVjaWZpYyBpbmRleCBmaXRzIGludG8gbGVuZ3RoLlxyXG4gKlxyXG4gKiBAcGFyYW0gaW5kZXggIEluZGV4XHJcbiAqIEBwYXJhbSBsZW4gICAgTGVuZ3RoXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrQm91bmRzKGluZGV4LCBsZW4pIHtcclxuICAgIGlmICghKGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW4pKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggb3V0IG9mIGJvdW5kczogXCIgKyBpbmRleCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEEgTGlzdCBjbGFzcyBpcyB1c2VkIHRvIGhvbGQgYSBudW1iZXIgb2YgaW5kZXhlZCBpdGVtcyBvZiB0aGUgc2FtZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExpc3Qge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbml0aWFsICBJbml0YWwgbGlzdCBvZiB2YWx1ZXMgdG8gYWRkIHRvIGxpc3RcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoaW5pdGlhbCA9IFtdKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdCB2YWx1ZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ZhbHVlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJldmVudHNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IEV2ZW50RGlzcGF0Y2hlcigpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzID0gaW5pdGlhbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQW4gYXJyYXkgb2YgdmFsdWVzIGluIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIERvIG5vdCB1c2UgdGhpcyBwcm9wZXJ0eSB0byBhZGQgdmFsdWVzLiBSYXRoZXIgdXNlIGRlZGljYXRlZCBtZXRob2RzLCBsaWtlXHJcbiAgICAgKiBgcHVzaCgpYCwgYHJlbW92ZUluZGV4KClgLCBldGMuXHJcbiAgICAgKlxyXG4gICAgICogQHJlYWRvbmx5XHJcbiAgICAgKiBAcmV0dXJuIExpc3QgdmFsdWVzXHJcbiAgICAgKi9cclxuICAgIGdldCB2YWx1ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGxpc3QgY29udGFpbnMgc3BlY2lmaWMgaXRlbSByZWZlcmVuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGl0ZW0gIEl0ZW0gdG8gc2VhcmNoIGZvclxyXG4gICAgICogQHJldHVybiBgdHJ1ZWAgaWYgZm91bmQsIGBmYWxzZWAgaWYgbm90IGZvdW5kXHJcbiAgICAgKi9cclxuICAgIGNvbnRhaW5zKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgc3BlY2lmaWMgaXRlbSBmcm9tIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpdGVtIEFuIGl0ZW0gdG8gcmVtb3ZlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLl92YWx1ZXMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIE5hTlxyXG4gICAgICAgICAgICBpZiAodGhpcy5fdmFsdWVzW2ldID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVJbmRleChpKTtcclxuICAgICAgICAgICAgICAgIC0tbGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWFyY2hlcyB0aGUgbGlzdCBmb3Igc3BlY2lmaWMgaXRlbSBhbmQgcmV0dXJucyBpdHMgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGl0ZW0gIEFuIGl0ZW0gdG8gc2VhcmNoIGZvclxyXG4gICAgICogQHJldHVybiBJbmRleCBvciAtMSBpZiBub3QgZm91bmRcclxuICAgICAqL1xyXG4gICAgaW5kZXhPZih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAkYXJyYXkuaW5kZXhPZih0aGlzLl92YWx1ZXMsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTnVtYmVyIG9mIGl0ZW1zIGluIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJlYWRvbmx5XHJcbiAgICAgKiBAcmV0dXJuIE51bWJlciBvZiBpdGVtc1xyXG4gICAgICovXHJcbiAgICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlcmUncyBhIHZhbHVlIGF0IHNwZWNpZmljIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCAgSW5kZXhcclxuICAgICAqIEByZXR1cm4gVmFsdWUgZXhpc3RzP1xyXG4gICAgICovXHJcbiAgICBoYXNJbmRleChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fdmFsdWVzLmxlbmd0aDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBpdGVtIGF0IHNwZWNpZmllZCBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggIEluZGV4XHJcbiAgICAgKiBAcmV0dXJuIExpc3QgaXRlbVxyXG4gICAgICovXHJcbiAgICBnZXRJbmRleChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNbaW5kZXhdO1xyXG4gICAgfVxyXG4gICAgX29uUHVzaChuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJwdXNoXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKFwicHVzaFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInB1c2hcIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9vbkluc2VydEluZGV4KGluZGV4LCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJpbnNlcnRJbmRleFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcImluc2VydEluZGV4XCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiaW5zZXJ0SW5kZXhcIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX29uU2V0SW5kZXgoaW5kZXgsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pc0VuYWJsZWQoXCJzZXRJbmRleFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcInNldEluZGV4XCIsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0SW5kZXhcIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfb25Td2FwKGEsIGIpIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKFwic3dhcFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcInN3YXBcIiwge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzd2FwXCIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICAgICAgYlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfb25SZW1vdmVJbmRleChpbmRleCwgb2xkVmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKFwicmVtb3ZlSW5kZXhcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goXCJyZW1vdmVJbmRleFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlbW92ZUluZGV4XCIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBpbmRleCxcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9vbk1vdmVJbmRleChvbGRJbmRleCwgbmV3SW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmlzRW5hYmxlZChcIm1vdmVJbmRleFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChcIm1vdmVJbmRleFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1vdmVJbmRleFwiLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgb2xkSW5kZXgsXHJcbiAgICAgICAgICAgICAgICBuZXdJbmRleCxcclxuICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfb25DbGVhcihvbGRWYWx1ZXMpIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHMuaXNFbmFibGVkKFwiY2xlYXJcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goXCJjbGVhclwiLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNsZWFyXCIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHZhbHVlIGF0IHNwZWNpZmljIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZXJlJ3MgYWxyZWFkeSBhIHZhbHVlIGF0IHRoZSBpbmRleCwgaXQgaXMgb3ZlcndyaXR0ZW4uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGluZGV4ICBJbmRleFxyXG4gICAgICogQHBhcmFtIHZhbHVlICBOZXcgdmFsdWVcclxuICAgICAqIEByZXR1cm4gTmV3IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHNldEluZGV4KGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgIGNoZWNrQm91bmRzKGluZGV4LCB0aGlzLl92YWx1ZXMubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuX3ZhbHVlc1tpbmRleF07XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGUgb2xkIHZhbHVlIGFuZCB0aGUgbmV3IHZhbHVlIGFyZSB0aGUgc2FtZVxyXG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLl9vblNldEluZGV4KGluZGV4LCBvbGRWYWx1ZSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2xkVmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGUgbGlzdCBhdCBhIHNwZWNpZmljIGluZGV4LCB3aGljaCBwdXNoZXMgYWxsIHRoZSBvdGhlclxyXG4gICAgICogaXRlbXMgZnVydGhlciBkb3duIHRoZSBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleFxyXG4gICAgICogQHBhcmFtIGl0ZW0gIEFuIGl0ZW0gdG8gYWRkXHJcbiAgICAgKi9cclxuICAgIGluc2VydEluZGV4KGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgIGNoZWNrQm91bmRzKGluZGV4LCB0aGlzLl92YWx1ZXMubGVuZ3RoICsgMSk7XHJcbiAgICAgICAgJGFycmF5Lmluc2VydEluZGV4KHRoaXMuX3ZhbHVlcywgaW5kZXgsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9vbkluc2VydEluZGV4KGluZGV4LCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2FwcyBpbmRleGVzIG9mIHR3byBpdGVtcyBpbiB0aGUgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYSAgSXRlbSAxXHJcbiAgICAgKiBAcGFyYW0gYiAgSXRlbSAyXHJcbiAgICAgKi9cclxuICAgIHN3YXAoYSwgYikge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuX3ZhbHVlcy5sZW5ndGg7XHJcbiAgICAgICAgY2hlY2tCb3VuZHMoYSwgbGVuKTtcclxuICAgICAgICBjaGVja0JvdW5kcyhiLCBsZW4pO1xyXG4gICAgICAgIGlmIChhICE9PSBiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlX2EgPSB0aGlzLl92YWx1ZXNbYV07XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlX2IgPSB0aGlzLl92YWx1ZXNbYl07XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1thXSA9IHZhbHVlX2I7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tiXSA9IHZhbHVlX2E7XHJcbiAgICAgICAgICAgIHRoaXMuX29uU3dhcCh2YWx1ZV9hLCB2YWx1ZV9iKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSB2YWx1ZSBhdCBzcGVjaWZpYyBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggIEluZGV4IG9mIHZhbHVlIHRvIHJlbW92ZVxyXG4gICAgICogQHJldHVybiBSZW1vdmVkIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUluZGV4KGluZGV4KSB7XHJcbiAgICAgICAgY2hlY2tCb3VuZHMoaW5kZXgsIHRoaXMuX3ZhbHVlcy5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5fdmFsdWVzW2luZGV4XTtcclxuICAgICAgICAkYXJyYXkucmVtb3ZlSW5kZXgodGhpcy5fdmFsdWVzLCBpbmRleCk7XHJcbiAgICAgICAgdGhpcy5fb25SZW1vdmVJbmRleChpbmRleCwgb2xkVmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBvbGRWYWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTW92ZXMgYW4gaXRlbSB0byBhIHNwZWNpZmljIGluZGV4IHdpdGhpbiB0aGUgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgaW5kZXggaXMgbm90IHNwZWNpZmllZCBpdCB3aWxsIG1vdmUgdGhlIGl0ZW0gdG8gdGhlIGVuZCBvZiB0aGVcclxuICAgICAqIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICBJdGVtIHRvIG1vdmVcclxuICAgICAqIEBwYXJhbSBpbmRleCAgSW5kZXggdG8gcGxhY2UgaXRlbSBhdFxyXG4gICAgICovXHJcbiAgICBtb3ZlVmFsdWUodmFsdWUsIHRvSW5kZXgpIHtcclxuICAgICAgICAvLyBUT0RPIGRvbid0IGRvIGFueXRoaW5nIGlmIHRoZSBkZXNpcmVkIGluZGV4IGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IGluZGV4XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5pbmRleE9mKHZhbHVlKTtcclxuICAgICAgICAvLyBUT0RPIHJlbW92ZSBhbGwgb2xkIHZhbHVlcyByYXRoZXIgdGhhbiBvbmx5IHRoZSBmaXJzdCA/XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAkYXJyYXkucmVtb3ZlSW5kZXgodGhpcy5fdmFsdWVzLCBpbmRleCk7XHJcbiAgICAgICAgICAgIGlmICh0b0luZGV4ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvSW5kZXggPSB0aGlzLl92YWx1ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb25Nb3ZlSW5kZXgoaW5kZXgsIHRvSW5kZXgsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRhcnJheS5pbnNlcnRJbmRleCh0aGlzLl92YWx1ZXMsIHRvSW5kZXgsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uTW92ZUluZGV4KGluZGV4LCB0b0luZGV4LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodG9JbmRleCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5fb25QdXNoKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICRhcnJheS5pbnNlcnRJbmRleCh0aGlzLl92YWx1ZXMsIHRvSW5kZXgsIHZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5fb25JbnNlcnRJbmRleCh0b0luZGV4LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhbiBpdGVtIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGl0ZW0gIEFuIGl0ZW0gdG8gYWRkXHJcbiAgICAgKi9cclxuICAgIHB1c2godmFsdWUpIHtcclxuICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5fb25QdXNoKHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbSBhcyBhIGZpcnN0IGl0ZW0gaW4gdGhlIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGl0ZW0gIEFuIGl0ZW0gdG8gYWRkXHJcbiAgICAgKi9cclxuICAgIHVuc2hpZnQodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmluc2VydEluZGV4KDAsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgbXVsdGlwbGUgaXRlbXMgdG8gdGhlIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGl0ZW1zICBBbiBBcnJheSBvZiBpdGVtcyB0byBhZGRcclxuICAgICAqL1xyXG4gICAgcHVzaEFsbCh2YWx1ZXMpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaCh2YWx1ZXMsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnB1c2godmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3BpZXMgYW5kIGFkZHMgaXRlbXMgZnJvbSBhYm90aGVyIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNvdXJjZSAgQSBsaXN0IHRvcCBjb3B5IGl0ZW1zIGZyb21cclxuICAgICAqL1xyXG4gICAgY29weUZyb20oc291cmNlKSB7XHJcbiAgICAgICAgdGhpcy5wdXNoQWxsKHNvdXJjZS5fdmFsdWVzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGFzdCBpdGVtIGZyb20gdGhlIGxpc3QsIGFuZCByZW1vdmVzIGl0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSXRlbVxyXG4gICAgICovXHJcbiAgICBwb3AoKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fdmFsdWVzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IHRoaXMucmVtb3ZlSW5kZXgodGhpcy5fdmFsdWVzLmxlbmd0aCAtIDEpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBpdGVtIGZyb20gdGhlIGxpc3QsIGFuZCByZW1vdmVzIGl0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gSXRlbVxyXG4gICAgICovXHJcbiAgICBzaGlmdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aCA/IHRoaXMucmVtb3ZlSW5kZXgoMCkgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgbXVsdGlwbGUgaXRlbXMgdG8gdGhlIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogQWxsIGN1cnJlbnQgaXRlbXMgYXJlIHJlbW92ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5ld0FycmF5ICBOZXcgaXRlbXNcclxuICAgICAqL1xyXG4gICAgc2V0QWxsKG5ld0FycmF5KSB7XHJcbiAgICAgICAgY29uc3Qgb2xkID0gdGhpcy5fdmFsdWVzO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX29uQ2xlYXIob2xkKTtcclxuICAgICAgICAkYXJyYXkuZWFjaChuZXdBcnJheSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5fb25QdXNoKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgaXRlbXMgZnJvbSB0aGUgbGlzdC5cclxuICAgICAqL1xyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBbGwoW10pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIEVTNiBpdGVyYXRvciBmb3IgdGhlIGxpc3QuXHJcbiAgICAgKi9cclxuICAgICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLl92YWx1ZXMubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgeWllbGQgdGhpcy5fdmFsdWVzW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbHMgYGZgIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogYGZgIHNob3VsZCBoYXZlIGF0IGxlYXN0IG9uZSBwYXJhbWV0ZXIgZGVmaW5lZCB3aGljaCB3aWxsIGdldCBhIGN1cnJlbnRcclxuICAgICAqIGl0ZW0sIHdpdGggb3B0aW9uYWwgc2Vjb25kIGFyZ3VtZW50IC0gaW5kZXguXHJcbiAgICAgKi9cclxuICAgIGVhY2goZikge1xyXG4gICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3ZhbHVlcywgZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxzIGBmYCBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBsaXN0LCBmcm9tIHJpZ2h0IHRvIGxlZnQuXHJcbiAgICAgKlxyXG4gICAgICogYGZgIHNob3VsZCBoYXZlIGF0IGxlYXN0IG9uZSBwYXJhbWV0ZXIgZGVmaW5lZCB3aGljaCB3aWxsIGdldCBhIGN1cnJlbnRcclxuICAgICAqIGl0ZW0sIHdpdGggb3B0aW9uYWwgc2Vjb25kIGFyZ3VtZW50IC0gaW5kZXguXHJcbiAgICAgKi9cclxuICAgIGVhY2hSZXZlcnNlKGYpIHtcclxuICAgICAgICAkYXJyYXkuZWFjaFJldmVyc2UodGhpcy5fdmFsdWVzLCBmKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQSB2ZXJzaW9uIG9mIGEgW1tMaXN0XV0gd2hlcmUgdGhlIGVsZW1lbnRzIGFyZSBkaXNwb3NlZCBhdXRvbWF0aWNhbGx5IHdoZW5cclxuICogcmVtb3ZlZCBmcm9tIHRoZSBsaXN0LCB1bmxlc3MgYGF1dG9EaXNwb3NlYCBpcyBzZXQgdG8gYGZhbHNlYC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMaXN0QXV0b0Rpc3Bvc2UgZXh0ZW5kcyBMaXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQXV0b21hdGljYWxseSBkaXNwb3NlcyBlbGVtZW50cyB0aGF0IGFyZSByZW1vdmVkIGZyb20gdGhlIGxpc3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXV0b0Rpc3Bvc2VcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlZFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2FwcyBpbmRleGVzIG9mIHR3byBpdGVtcyBpbiB0aGUgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYSAgSXRlbSAxXHJcbiAgICAgKiBAcGFyYW0gYiAgSXRlbSAyXHJcbiAgICAgKi9cclxuICAgIHN3YXAoYSwgYikge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBdXRvRGlzcG9zZSA9IHRoaXMuYXV0b0Rpc3Bvc2U7XHJcbiAgICAgICAgdGhpcy5hdXRvRGlzcG9zZSA9IGZhbHNlO1xyXG4gICAgICAgIHN1cGVyLnN3YXAoYSwgYik7XHJcbiAgICAgICAgdGhpcy5hdXRvRGlzcG9zZSA9IGN1cnJlbnRBdXRvRGlzcG9zZTtcclxuICAgIH1cclxuICAgIF9vblNldEluZGV4KGluZGV4LCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5hdXRvRGlzcG9zZSkge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLl9vblNldEluZGV4KGluZGV4LCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgX29uUmVtb3ZlSW5kZXgoaW5kZXgsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b0Rpc3Bvc2UpIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fb25SZW1vdmVJbmRleChpbmRleCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgX29uQ2xlYXIob2xkVmFsdWVzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b0Rpc3Bvc2UpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2gob2xkVmFsdWVzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgeC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5fb25DbGVhcihvbGRWYWx1ZXMpO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b0Rpc3Bvc2UpIHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2godGhpcy5fdmFsdWVzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgeC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlzRGlzcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQSB2ZXJzaW9uIG9mIGEgW1tMaXN0XV0gdGhhdCBpcyBhYmxlIHRvIGNyZWF0ZSBuZXcgZWxlbWVudHMgYXMgd2VsbCBhc1xyXG4gKiBhcHBseSBhZGRpdGlvbmFsIHNldHRpbmdzIHRvIG5ld2x5IGNyZWF0ZWQgaXRlbXMuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL2xpc3QtdGVtcGxhdGVzL30gZm9yIG1vcmUgaW5mb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExpc3RUZW1wbGF0ZSBleHRlbmRzIExpc3RBdXRvRGlzcG9zZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgbWFrZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGxhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWFrZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy5tYWtlID0gbWFrZTtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLl9kaXNwb3NlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b0Rpc3Bvc2UpIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpc3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEGREES: () => (/* binding */ DEGREES),\n/* harmony export */   HALFPI: () => (/* binding */ HALFPI),\n/* harmony export */   PI: () => (/* binding */ PI),\n/* harmony export */   RADIANS: () => (/* binding */ RADIANS),\n/* harmony export */   boundsOverlap: () => (/* binding */ boundsOverlap),\n/* harmony export */   ceil: () => (/* binding */ ceil),\n/* harmony export */   circlesOverlap: () => (/* binding */ circlesOverlap),\n/* harmony export */   closest: () => (/* binding */ closest),\n/* harmony export */   cos: () => (/* binding */ cos),\n/* harmony export */   fitAngleToRange: () => (/* binding */ fitAngleToRange),\n/* harmony export */   fitToRange: () => (/* binding */ fitToRange),\n/* harmony export */   getAngle: () => (/* binding */ getAngle),\n/* harmony export */   getArcBounds: () => (/* binding */ getArcBounds),\n/* harmony export */   getArcPoint: () => (/* binding */ getArcPoint),\n/* harmony export */   getCubicControlPointA: () => (/* binding */ getCubicControlPointA),\n/* harmony export */   getCubicControlPointB: () => (/* binding */ getCubicControlPointB),\n/* harmony export */   getPointOnLine: () => (/* binding */ getPointOnLine),\n/* harmony export */   getPointOnQuadraticCurve: () => (/* binding */ getPointOnQuadraticCurve),\n/* harmony export */   inBounds: () => (/* binding */ inBounds),\n/* harmony export */   mergeBounds: () => (/* binding */ mergeBounds),\n/* harmony export */   normalizeAngle: () => (/* binding */ normalizeAngle),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   sin: () => (/* binding */ sin),\n/* harmony export */   spiralPoints: () => (/* binding */ spiralPoints),\n/* harmony export */   tan: () => (/* binding */ tan)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n/**\r\n * ============================================================================\r\n * CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nconst PI = Math.PI;\r\nconst HALFPI = PI / 2;\r\nconst RADIANS = PI / 180;\r\nconst DEGREES = 180 / PI;\r\n/**\r\n * Rounds the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @param floor  In case value ends with 0.5 and precision is 0, we might need to floor the value instead of ceiling it.\r\n * @return Rounded value\r\n */\r\nfunction round(value, precision, floor) {\r\n    if (!(0,_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber)(precision) || precision <= 0) {\r\n        let rounded = Math.round(value);\r\n        if (floor) {\r\n            if (rounded - value == 0.5) {\r\n                rounded--;\r\n            }\r\n        }\r\n        return rounded;\r\n    }\r\n    else {\r\n        let d = Math.pow(10, precision);\r\n        return Math.round(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Ceils the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @return Rounded value\r\n */\r\nfunction ceil(value, precision) {\r\n    if (!(0,_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber)(precision) || precision <= 0) {\r\n        return Math.ceil(value);\r\n    }\r\n    else {\r\n        let d = Math.pow(10, precision);\r\n        return Math.ceil(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * [getCubicControlPointA description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nfunction getCubicControlPointA(p0, p1, p2, tensionX, tensionY) {\r\n    return { x: ((-p0.x + p1.x / tensionX + p2.x) * tensionX), y: ((-p0.y + p1.y / tensionY + p2.y) * tensionY) };\r\n}\r\n/**\r\n * [getCubicControlPointB description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nfunction getCubicControlPointB(p1, p2, p3, tensionX, tensionY) {\r\n    return { x: ((p1.x + p2.x / tensionX - p3.x) * tensionX), y: ((p1.y + p2.y / tensionY - p3.y) * tensionY) };\r\n}\r\nfunction fitToRange(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n/**\r\n * Returns sine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nfunction sin(angle) {\r\n    return Math.sin(RADIANS * angle);\r\n}\r\n/**\r\n * Returns tan of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nfunction tan(angle) {\r\n    return Math.tan(RADIANS * angle);\r\n}\r\n/**\r\n * Returns cosine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Cosine\r\n */\r\nfunction cos(angle) {\r\n    return Math.cos(RADIANS * angle);\r\n}\r\n// 0 to 360\r\nfunction normalizeAngle(value) {\r\n    value = value % 360;\r\n    if (value < 0) {\r\n        value += 360;\r\n    }\r\n    return value;\r\n}\r\n// TODO this doesn't work properly for skewing, and it's probably broken for rotation too\r\nfunction getArcBounds(cx, cy, startAngle, endAngle, radius) {\r\n    let minX = Number.MAX_VALUE;\r\n    let minY = Number.MAX_VALUE;\r\n    let maxX = -Number.MAX_VALUE;\r\n    let maxY = -Number.MAX_VALUE;\r\n    let bpoints = [];\r\n    bpoints.push(getArcPoint(radius, startAngle));\r\n    bpoints.push(getArcPoint(radius, endAngle));\r\n    let fromAngle = Math.min(Math.floor(startAngle / 90) * 90, Math.floor(endAngle / 90) * 90);\r\n    let toAngle = Math.max(Math.ceil(startAngle / 90) * 90, Math.ceil(endAngle / 90) * 90);\r\n    for (let angle = fromAngle; angle <= toAngle; angle += 90) {\r\n        if (angle >= startAngle && angle <= endAngle) {\r\n            bpoints.push(getArcPoint(radius, angle));\r\n        }\r\n    }\r\n    for (let i = 0; i < bpoints.length; i++) {\r\n        let pt = bpoints[i];\r\n        if (pt.x < minX) {\r\n            minX = pt.x;\r\n        }\r\n        if (pt.y < minY) {\r\n            minY = pt.y;\r\n        }\r\n        if (pt.x > maxX) {\r\n            maxX = pt.x;\r\n        }\r\n        if (pt.y > maxY) {\r\n            maxY = pt.y;\r\n        }\r\n    }\r\n    return ({ left: cx + minX, top: cy + minY, right: cx + maxX, bottom: cy + maxY });\r\n}\r\n/**\r\n * Returns point on arc\r\n *\r\n * @param center point\r\n * @param radius\r\n * @param arc\r\n * @return {boolean}\r\n */\r\nfunction getArcPoint(radius, arc) {\r\n    return ({ x: radius * cos(arc), y: radius * sin(arc) });\r\n}\r\nfunction mergeBounds(bounds) {\r\n    const len = bounds.length;\r\n    if (len > 0) {\r\n        let bound = bounds[0];\r\n        let left = bound.left;\r\n        let top = bound.top;\r\n        let right = bound.right;\r\n        let bottom = bound.bottom;\r\n        if (len > 1) {\r\n            for (let i = 1; i < len; i++) {\r\n                bound = bounds[i];\r\n                left = Math.min(bound.left, left);\r\n                right = Math.max(bound.right, right);\r\n                top = Math.min(bound.top, top);\r\n                bottom = Math.max(bound.bottom, bottom);\r\n            }\r\n        }\r\n        return { left, right, top, bottom };\r\n    }\r\n    return { left: 0, right: 0, top: 0, bottom: 0 };\r\n}\r\nfunction fitAngleToRange(value, startAngle, endAngle) {\r\n    if (startAngle > endAngle) {\r\n        let temp = startAngle;\r\n        startAngle = endAngle;\r\n        endAngle = temp;\r\n    }\r\n    value = normalizeAngle(value);\r\n    let count = (startAngle - normalizeAngle(startAngle)) / 360;\r\n    if (value < startAngle) {\r\n        value += 360 * (count + 1);\r\n    }\r\n    let maxEnd = startAngle + (endAngle - startAngle) / 2 + 180;\r\n    let maxStart = startAngle + (endAngle - startAngle) / 2 - 180;\r\n    if (value > endAngle) {\r\n        if (value - 360 > startAngle) {\r\n            value -= 360;\r\n        }\r\n        else {\r\n            if (value < maxEnd) {\r\n                value = endAngle;\r\n            }\r\n            else {\r\n                value = startAngle;\r\n            }\r\n        }\r\n    }\r\n    if (value < startAngle) {\r\n        if (value > maxStart) {\r\n            value = startAngle;\r\n        }\r\n        else {\r\n            value = endAngle;\r\n        }\r\n    }\r\n    return value;\r\n}\r\nfunction inBounds(point, bounds) {\r\n    if (point.x >= bounds.left && point.y >= bounds.top && point.x <= bounds.right && point.y <= bounds.bottom) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction getAngle(point1, point2) {\r\n    if (!point2) {\r\n        point2 = { x: point1.x * 2, y: point1.y * 2 };\r\n    }\r\n    let diffX = point2.x - point1.x;\r\n    let diffY = point2.y - point1.y;\r\n    let angle = Math.atan2(diffY, diffX) * DEGREES;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    return normalizeAngle(angle);\r\n}\r\n/**\r\n * [getPointOnQuadraticCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA        [description]\r\n * @param pointB        [description]\r\n * @param controlPoint  [description]\r\n * @param position      [description]\r\n * @return [description]\r\n */\r\nfunction getPointOnQuadraticCurve(pointA, pointB, controlPoint, position) {\r\n    let x = (1 - position) * (1 - position) * pointA.x + 2 * (1 - position) * position * controlPoint.x + position * position * pointB.x;\r\n    let y = (1 - position) * (1 - position) * pointA.y + 2 * (1 - position) * position * controlPoint.y + position * position * pointB.y;\r\n    return { x: x, y: y };\r\n}\r\nfunction getPointOnLine(pointA, pointB, position) {\r\n    return { x: pointA.x + (pointB.x - pointA.x) * position, y: pointA.y + (pointB.y - pointA.y) * position };\r\n}\r\n/**\r\n * Returns the closest value from the array of values to the reference value.\r\n *\r\n * @param values  Array of values\r\n * @param value   Reference value\r\n * @return Closes value from the array\r\n */\r\nfunction closest(values, referenceValue) {\r\n    return values.reduce(function (prev, curr) {\r\n        return (Math.abs(curr - referenceValue) < Math.abs(prev - referenceValue) ? curr : prev);\r\n    });\r\n}\r\n/**\r\n * Returns true if bounds overlap\r\n * @param bounds1 IBounds\r\n * @param bounds2 IBounds\r\n * @returns boolean\r\n */\r\nfunction boundsOverlap(bounds1, bounds2) {\r\n    const horizontalOverlap = bounds1.left < bounds2.right && bounds1.right > bounds2.left;\r\n    const verticalOverlap = bounds1.top < bounds2.bottom && bounds1.bottom > bounds2.top;\r\n    return horizontalOverlap && verticalOverlap;\r\n}\r\n/**\r\n * Generates points of a spiral\r\n * @param cx\r\n * @param cy\r\n * @param radius\r\n * @param radiusY\r\n * @param innerRadius\r\n * @param step\r\n * @param radiusStep\r\n * @param startAngle\r\n * @param endAngle\r\n * @returns IPoint[]\r\n */\r\nfunction spiralPoints(cx, cy, radius, radiusY, innerRadius, step, radiusStep, startAngle, endAngle) {\r\n    let r = innerRadius + 0.01;\r\n    startAngle = normalizeAngle(startAngle);\r\n    endAngle = normalizeAngle(endAngle);\r\n    let angle = startAngle * RADIANS;\r\n    if (endAngle < startAngle) {\r\n        endAngle += 360;\r\n    }\r\n    let points = [];\r\n    while (r < radius + radiusStep) {\r\n        let stepSize = step;\r\n        if (stepSize / 2 > r) {\r\n            stepSize = 2 * r;\r\n        }\r\n        let c = Math.max(0.01, Math.min(1, r / 200));\r\n        stepSize = stepSize * c;\r\n        let degrees = angle * DEGREES;\r\n        let point = { x: cx + r * Math.cos(angle), y: cy + r * radiusY / radius * Math.sin(angle) };\r\n        points.push(point);\r\n        r = innerRadius + 0.01 + (degrees - startAngle) / 360 * radiusStep;\r\n        angle += 2 * Math.asin(stepSize / 2 / r);\r\n        if (angle * DEGREES > endAngle + 360 * Math.ceil((radius - innerRadius) / radiusStep)) {\r\n            break;\r\n        }\r\n    }\r\n    points.shift();\r\n    return points;\r\n}\r\n/**\r\n * Returns true if circles overlap\r\n * @param circle1\r\n * @param circle2\r\n * @returns boolean\r\n */\r\nfunction circlesOverlap(circle1, circle2) {\r\n    return Math.hypot(circle1.x - circle2.x, circle1.y - circle2.y) <= circle1.radius + circle2.radius;\r\n}\r\n//# sourceMappingURL=Math.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL01hdGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxTQUFTLCtDQUFRO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFNBQVMsK0NBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtCQUFrQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0VBQXNFO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxjQUFjLDRDQUE0QztBQUMxRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL01hdGguanM/MGU1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc051bWJlciB9IGZyb20gXCIuL1R5cGVcIjtcclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQ09OU1RBTlRTXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFBJID0gTWF0aC5QSTtcclxuZXhwb3J0IGNvbnN0IEhBTEZQSSA9IFBJIC8gMjtcclxuZXhwb3J0IGNvbnN0IFJBRElBTlMgPSBQSSAvIDE4MDtcclxuZXhwb3J0IGNvbnN0IERFR1JFRVMgPSAxODAgLyBQSTtcclxuLyoqXHJcbiAqIFJvdW5kcyB0aGUgbnVtZXJpYyB2YWx1ZSB0byB3aG9sZSBudW1iZXIgb3Igc3BlY2lmaWMgcHJlY2lzaW9uIG9mIHNldC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICAgICAgVmFsdWVcclxuICogQHBhcmFtIHByZWNpc2lvbiAgUHJlY2lzaW9uIChudW1iZXIgb2YgZGVjaW1hbCBwb2ludHMpXHJcbiAqIEBwYXJhbSBmbG9vciAgSW4gY2FzZSB2YWx1ZSBlbmRzIHdpdGggMC41IGFuZCBwcmVjaXNpb24gaXMgMCwgd2UgbWlnaHQgbmVlZCB0byBmbG9vciB0aGUgdmFsdWUgaW5zdGVhZCBvZiBjZWlsaW5nIGl0LlxyXG4gKiBAcmV0dXJuIFJvdW5kZWQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuZCh2YWx1ZSwgcHJlY2lzaW9uLCBmbG9vcikge1xyXG4gICAgaWYgKCFpc051bWJlcihwcmVjaXNpb24pIHx8IHByZWNpc2lvbiA8PSAwKSB7XHJcbiAgICAgICAgbGV0IHJvdW5kZWQgPSBNYXRoLnJvdW5kKHZhbHVlKTtcclxuICAgICAgICBpZiAoZmxvb3IpIHtcclxuICAgICAgICAgICAgaWYgKHJvdW5kZWQgLSB2YWx1ZSA9PSAwLjUpIHtcclxuICAgICAgICAgICAgICAgIHJvdW5kZWQtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm91bmRlZDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBkID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBkKSAvIGQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENlaWxzIHRoZSBudW1lcmljIHZhbHVlIHRvIHdob2xlIG51bWJlciBvciBzcGVjaWZpYyBwcmVjaXNpb24gb2Ygc2V0LlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgICAgICBWYWx1ZVxyXG4gKiBAcGFyYW0gcHJlY2lzaW9uICBQcmVjaXNpb24gKG51bWJlciBvZiBkZWNpbWFsIHBvaW50cylcclxuICogQHJldHVybiBSb3VuZGVkIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2VpbCh2YWx1ZSwgcHJlY2lzaW9uKSB7XHJcbiAgICBpZiAoIWlzTnVtYmVyKHByZWNpc2lvbikgfHwgcHJlY2lzaW9uIDw9IDApIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBkID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh2YWx1ZSAqIGQpIC8gZDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogW2dldEN1YmljQ29udHJvbFBvaW50QSBkZXNjcmlwdGlvbl1cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAdG9kbyBEZXNjcmlwdGlvblxyXG4gKiBAcGFyYW0gcDAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHAxICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSBwMiAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gcDMgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHRlbnNpb25YICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSB0ZW5zaW9uWSAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDdWJpY0NvbnRyb2xQb2ludEEocDAsIHAxLCBwMiwgdGVuc2lvblgsIHRlbnNpb25ZKSB7XHJcbiAgICByZXR1cm4geyB4OiAoKC1wMC54ICsgcDEueCAvIHRlbnNpb25YICsgcDIueCkgKiB0ZW5zaW9uWCksIHk6ICgoLXAwLnkgKyBwMS55IC8gdGVuc2lvblkgKyBwMi55KSAqIHRlbnNpb25ZKSB9O1xyXG59XHJcbi8qKlxyXG4gKiBbZ2V0Q3ViaWNDb250cm9sUG9pbnRCIGRlc2NyaXB0aW9uXVxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEB0b2RvIERlc2NyaXB0aW9uXHJcbiAqIEBwYXJhbSBwMCAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gcDEgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHAyICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSBwMyAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gdGVuc2lvblggIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHRlbnNpb25ZICBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1YmljQ29udHJvbFBvaW50QihwMSwgcDIsIHAzLCB0ZW5zaW9uWCwgdGVuc2lvblkpIHtcclxuICAgIHJldHVybiB7IHg6ICgocDEueCArIHAyLnggLyB0ZW5zaW9uWCAtIHAzLngpICogdGVuc2lvblgpLCB5OiAoKHAxLnkgKyBwMi55IC8gdGVuc2lvblkgLSBwMy55KSAqIHRlbnNpb25ZKSB9O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmaXRUb1JhbmdlKHZhbHVlLCBtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHNpbmUgb2YgYW4gYW5nbGUgc3BlY2lmaWVkIGluIGRlZ3JlZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgVmFsdWVcclxuICogQHJldHVybiBTaW5lXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2luKGFuZ2xlKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zaW4oUkFESUFOUyAqIGFuZ2xlKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0YW4gb2YgYW4gYW5nbGUgc3BlY2lmaWVkIGluIGRlZ3JlZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgVmFsdWVcclxuICogQHJldHVybiBTaW5lXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdGFuKGFuZ2xlKSB7XHJcbiAgICByZXR1cm4gTWF0aC50YW4oUkFESUFOUyAqIGFuZ2xlKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBjb3NpbmUgb2YgYW4gYW5nbGUgc3BlY2lmaWVkIGluIGRlZ3JlZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgVmFsdWVcclxuICogQHJldHVybiBDb3NpbmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3MoYW5nbGUpIHtcclxuICAgIHJldHVybiBNYXRoLmNvcyhSQURJQU5TICogYW5nbGUpO1xyXG59XHJcbi8vIDAgdG8gMzYwXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVBbmdsZSh2YWx1ZSkge1xyXG4gICAgdmFsdWUgPSB2YWx1ZSAlIDM2MDtcclxuICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgICB2YWx1ZSArPSAzNjA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuLy8gVE9ETyB0aGlzIGRvZXNuJ3Qgd29yayBwcm9wZXJseSBmb3Igc2tld2luZywgYW5kIGl0J3MgcHJvYmFibHkgYnJva2VuIGZvciByb3RhdGlvbiB0b29cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFyY0JvdW5kcyhjeCwgY3ksIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCByYWRpdXMpIHtcclxuICAgIGxldCBtaW5YID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgIGxldCBtaW5ZID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgIGxldCBtYXhYID0gLU51bWJlci5NQVhfVkFMVUU7XHJcbiAgICBsZXQgbWF4WSA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgbGV0IGJwb2ludHMgPSBbXTtcclxuICAgIGJwb2ludHMucHVzaChnZXRBcmNQb2ludChyYWRpdXMsIHN0YXJ0QW5nbGUpKTtcclxuICAgIGJwb2ludHMucHVzaChnZXRBcmNQb2ludChyYWRpdXMsIGVuZEFuZ2xlKSk7XHJcbiAgICBsZXQgZnJvbUFuZ2xlID0gTWF0aC5taW4oTWF0aC5mbG9vcihzdGFydEFuZ2xlIC8gOTApICogOTAsIE1hdGguZmxvb3IoZW5kQW5nbGUgLyA5MCkgKiA5MCk7XHJcbiAgICBsZXQgdG9BbmdsZSA9IE1hdGgubWF4KE1hdGguY2VpbChzdGFydEFuZ2xlIC8gOTApICogOTAsIE1hdGguY2VpbChlbmRBbmdsZSAvIDkwKSAqIDkwKTtcclxuICAgIGZvciAobGV0IGFuZ2xlID0gZnJvbUFuZ2xlOyBhbmdsZSA8PSB0b0FuZ2xlOyBhbmdsZSArPSA5MCkge1xyXG4gICAgICAgIGlmIChhbmdsZSA+PSBzdGFydEFuZ2xlICYmIGFuZ2xlIDw9IGVuZEFuZ2xlKSB7XHJcbiAgICAgICAgICAgIGJwb2ludHMucHVzaChnZXRBcmNQb2ludChyYWRpdXMsIGFuZ2xlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBicG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHB0ID0gYnBvaW50c1tpXTtcclxuICAgICAgICBpZiAocHQueCA8IG1pblgpIHtcclxuICAgICAgICAgICAgbWluWCA9IHB0Lng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwdC55IDwgbWluWSkge1xyXG4gICAgICAgICAgICBtaW5ZID0gcHQueTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHB0LnggPiBtYXhYKSB7XHJcbiAgICAgICAgICAgIG1heFggPSBwdC54O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHQueSA+IG1heFkpIHtcclxuICAgICAgICAgICAgbWF4WSA9IHB0Lnk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuICh7IGxlZnQ6IGN4ICsgbWluWCwgdG9wOiBjeSArIG1pblksIHJpZ2h0OiBjeCArIG1heFgsIGJvdHRvbTogY3kgKyBtYXhZIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHBvaW50IG9uIGFyY1xyXG4gKlxyXG4gKiBAcGFyYW0gY2VudGVyIHBvaW50XHJcbiAqIEBwYXJhbSByYWRpdXNcclxuICogQHBhcmFtIGFyY1xyXG4gKiBAcmV0dXJuIHtib29sZWFufVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFyY1BvaW50KHJhZGl1cywgYXJjKSB7XHJcbiAgICByZXR1cm4gKHsgeDogcmFkaXVzICogY29zKGFyYyksIHk6IHJhZGl1cyAqIHNpbihhcmMpIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUJvdW5kcyhib3VuZHMpIHtcclxuICAgIGNvbnN0IGxlbiA9IGJvdW5kcy5sZW5ndGg7XHJcbiAgICBpZiAobGVuID4gMCkge1xyXG4gICAgICAgIGxldCBib3VuZCA9IGJvdW5kc1swXTtcclxuICAgICAgICBsZXQgbGVmdCA9IGJvdW5kLmxlZnQ7XHJcbiAgICAgICAgbGV0IHRvcCA9IGJvdW5kLnRvcDtcclxuICAgICAgICBsZXQgcmlnaHQgPSBib3VuZC5yaWdodDtcclxuICAgICAgICBsZXQgYm90dG9tID0gYm91bmQuYm90dG9tO1xyXG4gICAgICAgIGlmIChsZW4gPiAxKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kID0gYm91bmRzW2ldO1xyXG4gICAgICAgICAgICAgICAgbGVmdCA9IE1hdGgubWluKGJvdW5kLmxlZnQsIGxlZnQpO1xyXG4gICAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1heChib3VuZC5yaWdodCwgcmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdG9wID0gTWF0aC5taW4oYm91bmQudG9wLCB0b3ApO1xyXG4gICAgICAgICAgICAgICAgYm90dG9tID0gTWF0aC5tYXgoYm91bmQuYm90dG9tLCBib3R0b20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgbGVmdDogMCwgcmlnaHQ6IDAsIHRvcDogMCwgYm90dG9tOiAwIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGZpdEFuZ2xlVG9SYW5nZSh2YWx1ZSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUpIHtcclxuICAgIGlmIChzdGFydEFuZ2xlID4gZW5kQW5nbGUpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IHN0YXJ0QW5nbGU7XHJcbiAgICAgICAgc3RhcnRBbmdsZSA9IGVuZEFuZ2xlO1xyXG4gICAgICAgIGVuZEFuZ2xlID0gdGVtcDtcclxuICAgIH1cclxuICAgIHZhbHVlID0gbm9ybWFsaXplQW5nbGUodmFsdWUpO1xyXG4gICAgbGV0IGNvdW50ID0gKHN0YXJ0QW5nbGUgLSBub3JtYWxpemVBbmdsZShzdGFydEFuZ2xlKSkgLyAzNjA7XHJcbiAgICBpZiAodmFsdWUgPCBzdGFydEFuZ2xlKSB7XHJcbiAgICAgICAgdmFsdWUgKz0gMzYwICogKGNvdW50ICsgMSk7XHJcbiAgICB9XHJcbiAgICBsZXQgbWF4RW5kID0gc3RhcnRBbmdsZSArIChlbmRBbmdsZSAtIHN0YXJ0QW5nbGUpIC8gMiArIDE4MDtcclxuICAgIGxldCBtYXhTdGFydCA9IHN0YXJ0QW5nbGUgKyAoZW5kQW5nbGUgLSBzdGFydEFuZ2xlKSAvIDIgLSAxODA7XHJcbiAgICBpZiAodmFsdWUgPiBlbmRBbmdsZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSAtIDM2MCA+IHN0YXJ0QW5nbGUpIHtcclxuICAgICAgICAgICAgdmFsdWUgLT0gMzYwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgbWF4RW5kKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGVuZEFuZ2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzdGFydEFuZ2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlIDwgc3RhcnRBbmdsZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA+IG1heFN0YXJ0KSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gc3RhcnRBbmdsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gZW5kQW5nbGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbkJvdW5kcyhwb2ludCwgYm91bmRzKSB7XHJcbiAgICBpZiAocG9pbnQueCA+PSBib3VuZHMubGVmdCAmJiBwb2ludC55ID49IGJvdW5kcy50b3AgJiYgcG9pbnQueCA8PSBib3VuZHMucmlnaHQgJiYgcG9pbnQueSA8PSBib3VuZHMuYm90dG9tKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFuZ2xlKHBvaW50MSwgcG9pbnQyKSB7XHJcbiAgICBpZiAoIXBvaW50Mikge1xyXG4gICAgICAgIHBvaW50MiA9IHsgeDogcG9pbnQxLnggKiAyLCB5OiBwb2ludDEueSAqIDIgfTtcclxuICAgIH1cclxuICAgIGxldCBkaWZmWCA9IHBvaW50Mi54IC0gcG9pbnQxLng7XHJcbiAgICBsZXQgZGlmZlkgPSBwb2ludDIueSAtIHBvaW50MS55O1xyXG4gICAgbGV0IGFuZ2xlID0gTWF0aC5hdGFuMihkaWZmWSwgZGlmZlgpICogREVHUkVFUztcclxuICAgIGlmIChhbmdsZSA8IDApIHtcclxuICAgICAgICBhbmdsZSArPSAzNjA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplQW5nbGUoYW5nbGUpO1xyXG59XHJcbi8qKlxyXG4gKiBbZ2V0UG9pbnRPblF1YWRyYXRpY0N1cnZlIGRlc2NyaXB0aW9uXVxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEB0b2RvIERlc2NyaXB0aW9uXHJcbiAqIEBwYXJhbSBwb2ludEEgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHBvaW50QiAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gY29udHJvbFBvaW50ICBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSBwb3NpdGlvbiAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRPblF1YWRyYXRpY0N1cnZlKHBvaW50QSwgcG9pbnRCLCBjb250cm9sUG9pbnQsIHBvc2l0aW9uKSB7XHJcbiAgICBsZXQgeCA9ICgxIC0gcG9zaXRpb24pICogKDEgLSBwb3NpdGlvbikgKiBwb2ludEEueCArIDIgKiAoMSAtIHBvc2l0aW9uKSAqIHBvc2l0aW9uICogY29udHJvbFBvaW50LnggKyBwb3NpdGlvbiAqIHBvc2l0aW9uICogcG9pbnRCLng7XHJcbiAgICBsZXQgeSA9ICgxIC0gcG9zaXRpb24pICogKDEgLSBwb3NpdGlvbikgKiBwb2ludEEueSArIDIgKiAoMSAtIHBvc2l0aW9uKSAqIHBvc2l0aW9uICogY29udHJvbFBvaW50LnkgKyBwb3NpdGlvbiAqIHBvc2l0aW9uICogcG9pbnRCLnk7XHJcbiAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50T25MaW5lKHBvaW50QSwgcG9pbnRCLCBwb3NpdGlvbikge1xyXG4gICAgcmV0dXJuIHsgeDogcG9pbnRBLnggKyAocG9pbnRCLnggLSBwb2ludEEueCkgKiBwb3NpdGlvbiwgeTogcG9pbnRBLnkgKyAocG9pbnRCLnkgLSBwb2ludEEueSkgKiBwb3NpdGlvbiB9O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBjbG9zZXN0IHZhbHVlIGZyb20gdGhlIGFycmF5IG9mIHZhbHVlcyB0byB0aGUgcmVmZXJlbmNlIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWVzICBBcnJheSBvZiB2YWx1ZXNcclxuICogQHBhcmFtIHZhbHVlICAgUmVmZXJlbmNlIHZhbHVlXHJcbiAqIEByZXR1cm4gQ2xvc2VzIHZhbHVlIGZyb20gdGhlIGFycmF5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdCh2YWx1ZXMsIHJlZmVyZW5jZVZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3Vycikge1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5hYnMoY3VyciAtIHJlZmVyZW5jZVZhbHVlKSA8IE1hdGguYWJzKHByZXYgLSByZWZlcmVuY2VWYWx1ZSkgPyBjdXJyIDogcHJldik7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIGJvdW5kcyBvdmVybGFwXHJcbiAqIEBwYXJhbSBib3VuZHMxIElCb3VuZHNcclxuICogQHBhcmFtIGJvdW5kczIgSUJvdW5kc1xyXG4gKiBAcmV0dXJucyBib29sZWFuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYm91bmRzT3ZlcmxhcChib3VuZHMxLCBib3VuZHMyKSB7XHJcbiAgICBjb25zdCBob3Jpem9udGFsT3ZlcmxhcCA9IGJvdW5kczEubGVmdCA8IGJvdW5kczIucmlnaHQgJiYgYm91bmRzMS5yaWdodCA+IGJvdW5kczIubGVmdDtcclxuICAgIGNvbnN0IHZlcnRpY2FsT3ZlcmxhcCA9IGJvdW5kczEudG9wIDwgYm91bmRzMi5ib3R0b20gJiYgYm91bmRzMS5ib3R0b20gPiBib3VuZHMyLnRvcDtcclxuICAgIHJldHVybiBob3Jpem9udGFsT3ZlcmxhcCAmJiB2ZXJ0aWNhbE92ZXJsYXA7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBwb2ludHMgb2YgYSBzcGlyYWxcclxuICogQHBhcmFtIGN4XHJcbiAqIEBwYXJhbSBjeVxyXG4gKiBAcGFyYW0gcmFkaXVzXHJcbiAqIEBwYXJhbSByYWRpdXNZXHJcbiAqIEBwYXJhbSBpbm5lclJhZGl1c1xyXG4gKiBAcGFyYW0gc3RlcFxyXG4gKiBAcGFyYW0gcmFkaXVzU3RlcFxyXG4gKiBAcGFyYW0gc3RhcnRBbmdsZVxyXG4gKiBAcGFyYW0gZW5kQW5nbGVcclxuICogQHJldHVybnMgSVBvaW50W11cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzcGlyYWxQb2ludHMoY3gsIGN5LCByYWRpdXMsIHJhZGl1c1ksIGlubmVyUmFkaXVzLCBzdGVwLCByYWRpdXNTdGVwLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSkge1xyXG4gICAgbGV0IHIgPSBpbm5lclJhZGl1cyArIDAuMDE7XHJcbiAgICBzdGFydEFuZ2xlID0gbm9ybWFsaXplQW5nbGUoc3RhcnRBbmdsZSk7XHJcbiAgICBlbmRBbmdsZSA9IG5vcm1hbGl6ZUFuZ2xlKGVuZEFuZ2xlKTtcclxuICAgIGxldCBhbmdsZSA9IHN0YXJ0QW5nbGUgKiBSQURJQU5TO1xyXG4gICAgaWYgKGVuZEFuZ2xlIDwgc3RhcnRBbmdsZSkge1xyXG4gICAgICAgIGVuZEFuZ2xlICs9IDM2MDtcclxuICAgIH1cclxuICAgIGxldCBwb2ludHMgPSBbXTtcclxuICAgIHdoaWxlIChyIDwgcmFkaXVzICsgcmFkaXVzU3RlcCkge1xyXG4gICAgICAgIGxldCBzdGVwU2l6ZSA9IHN0ZXA7XHJcbiAgICAgICAgaWYgKHN0ZXBTaXplIC8gMiA+IHIpIHtcclxuICAgICAgICAgICAgc3RlcFNpemUgPSAyICogcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGMgPSBNYXRoLm1heCgwLjAxLCBNYXRoLm1pbigxLCByIC8gMjAwKSk7XHJcbiAgICAgICAgc3RlcFNpemUgPSBzdGVwU2l6ZSAqIGM7XHJcbiAgICAgICAgbGV0IGRlZ3JlZXMgPSBhbmdsZSAqIERFR1JFRVM7XHJcbiAgICAgICAgbGV0IHBvaW50ID0geyB4OiBjeCArIHIgKiBNYXRoLmNvcyhhbmdsZSksIHk6IGN5ICsgciAqIHJhZGl1c1kgLyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkgfTtcclxuICAgICAgICBwb2ludHMucHVzaChwb2ludCk7XHJcbiAgICAgICAgciA9IGlubmVyUmFkaXVzICsgMC4wMSArIChkZWdyZWVzIC0gc3RhcnRBbmdsZSkgLyAzNjAgKiByYWRpdXNTdGVwO1xyXG4gICAgICAgIGFuZ2xlICs9IDIgKiBNYXRoLmFzaW4oc3RlcFNpemUgLyAyIC8gcik7XHJcbiAgICAgICAgaWYgKGFuZ2xlICogREVHUkVFUyA+IGVuZEFuZ2xlICsgMzYwICogTWF0aC5jZWlsKChyYWRpdXMgLSBpbm5lclJhZGl1cykgLyByYWRpdXNTdGVwKSkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwb2ludHMuc2hpZnQoKTtcclxuICAgIHJldHVybiBwb2ludHM7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBjaXJjbGVzIG92ZXJsYXBcclxuICogQHBhcmFtIGNpcmNsZTFcclxuICogQHBhcmFtIGNpcmNsZTJcclxuICogQHJldHVybnMgYm9vbGVhblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZXNPdmVybGFwKGNpcmNsZTEsIGNpcmNsZTIpIHtcclxuICAgIHJldHVybiBNYXRoLmh5cG90KGNpcmNsZTEueCAtIGNpcmNsZTIueCwgY2lyY2xlMS55IC0gY2lyY2xlMi55KSA8PSBjaXJjbGUxLnJhZGl1cyArIGNpcmNsZTIucmFkaXVzO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Matrix: () => (/* binding */ Matrix)\n/* harmony export */ });\n/**\r\n * Modified from Pixi:\r\n *\r\n * The MIT License\r\n *\r\n * Copyright (c) 2013-2017 Mathew Groves, Chad Engler\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n/**\r\n * @ignore\r\n */\r\nclass Matrix {\r\n    constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {\r\n        Object.defineProperty(this, \"a\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"b\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"c\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"d\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }\r\n    /**\r\n     * Sets the matrix based on all the available properties\r\n     */\r\n    setTransform(x, y, pivotX, pivotY, rotation, scale = 1) {\r\n        this.a = Math.cos(rotation) * scale;\r\n        this.b = Math.sin(rotation) * scale;\r\n        this.c = -Math.sin(rotation) * scale;\r\n        this.d = Math.cos(rotation) * scale;\r\n        this.tx = x - ((pivotX * this.a) + (pivotY * this.c));\r\n        this.ty = y - ((pivotX * this.b) + (pivotY * this.d));\r\n    }\r\n    /**\r\n     * Get a new position with the current transformation applied.\r\n     * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\r\n     */\r\n    apply(origin) {\r\n        return {\r\n            x: (this.a * origin.x) + (this.c * origin.y) + this.tx,\r\n            y: (this.b * origin.x) + (this.d * origin.y) + this.ty\r\n        };\r\n    }\r\n    /**\r\n     * Get a new position with the inverse of the current transformation applied.\r\n     * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\r\n     */\r\n    applyInverse(origin) {\r\n        const id = 1 / ((this.a * this.d) + (this.c * -this.b));\r\n        return {\r\n            x: (this.d * id * origin.x) + (-this.c * id * origin.y) + (((this.ty * this.c) - (this.tx * this.d)) * id),\r\n            y: (this.a * id * origin.y) + (-this.b * id * origin.x) + (((-this.ty * this.a) + (this.tx * this.b)) * id)\r\n        };\r\n    }\r\n    /**\r\n     * Appends the given Matrix to this Matrix.\r\n     */\r\n    append(matrix) {\r\n        const a1 = this.a;\r\n        const b1 = this.b;\r\n        const c1 = this.c;\r\n        const d1 = this.d;\r\n        this.a = (matrix.a * a1) + (matrix.b * c1);\r\n        this.b = (matrix.a * b1) + (matrix.b * d1);\r\n        this.c = (matrix.c * a1) + (matrix.d * c1);\r\n        this.d = (matrix.c * b1) + (matrix.d * d1);\r\n        this.tx = (matrix.tx * a1) + (matrix.ty * c1) + this.tx;\r\n        this.ty = (matrix.tx * b1) + (matrix.ty * d1) + this.ty;\r\n    }\r\n    /**\r\n     * Prepends the given Matrix to this Matrix.\r\n     */\r\n    prepend(matrix) {\r\n        const tx1 = this.tx;\r\n        if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\r\n            const a1 = this.a;\r\n            const c1 = this.c;\r\n            this.a = (a1 * matrix.a) + (this.b * matrix.c);\r\n            this.b = (a1 * matrix.b) + (this.b * matrix.d);\r\n            this.c = (c1 * matrix.a) + (this.d * matrix.c);\r\n            this.d = (c1 * matrix.b) + (this.d * matrix.d);\r\n        }\r\n        this.tx = (tx1 * matrix.a) + (this.ty * matrix.c) + matrix.tx;\r\n        this.ty = (tx1 * matrix.b) + (this.ty * matrix.d) + matrix.ty;\r\n    }\r\n    /**\r\n     * Copies the other matrix's properties into this matrix\r\n     */\r\n    copyFrom(matrix) {\r\n        this.a = matrix.a;\r\n        this.b = matrix.b;\r\n        this.c = matrix.c;\r\n        this.d = matrix.d;\r\n        this.tx = matrix.tx;\r\n        this.ty = matrix.ty;\r\n    }\r\n}\r\n//# sourceMappingURL=Matrix.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL01hdHJpeC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL01hdHJpeC5qcz84ZmUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBNb2RpZmllZCBmcm9tIFBpeGk6XHJcbiAqXHJcbiAqIFRoZSBNSVQgTGljZW5zZVxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNyBNYXRoZXcgR3JvdmVzLCBDaGFkIEVuZ2xlclxyXG4gKlxyXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG4gKlxyXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuICpcclxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG4gKiBUSEUgU09GVFdBUkUuXHJcbiAqL1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1hdHJpeCB7XHJcbiAgICBjb25zdHJ1Y3RvcihhID0gMSwgYiA9IDAsIGMgPSAwLCBkID0gMSwgdHggPSAwLCB0eSA9IDApIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR4XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYSA9IGE7XHJcbiAgICAgICAgdGhpcy5iID0gYjtcclxuICAgICAgICB0aGlzLmMgPSBjO1xyXG4gICAgICAgIHRoaXMuZCA9IGQ7XHJcbiAgICAgICAgdGhpcy50eCA9IHR4O1xyXG4gICAgICAgIHRoaXMudHkgPSB0eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcclxuICAgICAqL1xyXG4gICAgc2V0VHJhbnNmb3JtKHgsIHksIHBpdm90WCwgcGl2b3RZLCByb3RhdGlvbiwgc2NhbGUgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5hID0gTWF0aC5jb3Mocm90YXRpb24pICogc2NhbGU7XHJcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24pICogc2NhbGU7XHJcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uKSAqIHNjYWxlO1xyXG4gICAgICAgIHRoaXMuZCA9IE1hdGguY29zKHJvdGF0aW9uKSAqIHNjYWxlO1xyXG4gICAgICAgIHRoaXMudHggPSB4IC0gKChwaXZvdFggKiB0aGlzLmEpICsgKHBpdm90WSAqIHRoaXMuYykpO1xyXG4gICAgICAgIHRoaXMudHkgPSB5IC0gKChwaXZvdFggKiB0aGlzLmIpICsgKHBpdm90WSAqIHRoaXMuZCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxyXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxyXG4gICAgICovXHJcbiAgICBhcHBseShvcmlnaW4pIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiAodGhpcy5hICogb3JpZ2luLngpICsgKHRoaXMuYyAqIG9yaWdpbi55KSArIHRoaXMudHgsXHJcbiAgICAgICAgICAgIHk6ICh0aGlzLmIgKiBvcmlnaW4ueCkgKyAodGhpcy5kICogb3JpZ2luLnkpICsgdGhpcy50eVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXHJcbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcclxuICAgICAqL1xyXG4gICAgYXBwbHlJbnZlcnNlKG9yaWdpbikge1xyXG4gICAgICAgIGNvbnN0IGlkID0gMSAvICgodGhpcy5hICogdGhpcy5kKSArICh0aGlzLmMgKiAtdGhpcy5iKSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogKHRoaXMuZCAqIGlkICogb3JpZ2luLngpICsgKC10aGlzLmMgKiBpZCAqIG9yaWdpbi55KSArICgoKHRoaXMudHkgKiB0aGlzLmMpIC0gKHRoaXMudHggKiB0aGlzLmQpKSAqIGlkKSxcclxuICAgICAgICAgICAgeTogKHRoaXMuYSAqIGlkICogb3JpZ2luLnkpICsgKC10aGlzLmIgKiBpZCAqIG9yaWdpbi54KSArICgoKC10aGlzLnR5ICogdGhpcy5hKSArICh0aGlzLnR4ICogdGhpcy5iKSkgKiBpZClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXHJcbiAgICAgKi9cclxuICAgIGFwcGVuZChtYXRyaXgpIHtcclxuICAgICAgICBjb25zdCBhMSA9IHRoaXMuYTtcclxuICAgICAgICBjb25zdCBiMSA9IHRoaXMuYjtcclxuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcclxuICAgICAgICBjb25zdCBkMSA9IHRoaXMuZDtcclxuICAgICAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XHJcbiAgICAgICAgdGhpcy5iID0gKG1hdHJpeC5hICogYjEpICsgKG1hdHJpeC5iICogZDEpO1xyXG4gICAgICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcclxuICAgICAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XHJcbiAgICAgICAgdGhpcy50eCA9IChtYXRyaXgudHggKiBhMSkgKyAobWF0cml4LnR5ICogYzEpICsgdGhpcy50eDtcclxuICAgICAgICB0aGlzLnR5ID0gKG1hdHJpeC50eCAqIGIxKSArIChtYXRyaXgudHkgKiBkMSkgKyB0aGlzLnR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxyXG4gICAgICovXHJcbiAgICBwcmVwZW5kKG1hdHJpeCkge1xyXG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XHJcbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGExID0gdGhpcy5hO1xyXG4gICAgICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcclxuICAgICAgICAgICAgdGhpcy5hID0gKGExICogbWF0cml4LmEpICsgKHRoaXMuYiAqIG1hdHJpeC5jKTtcclxuICAgICAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcclxuICAgICAgICAgICAgdGhpcy5jID0gKGMxICogbWF0cml4LmEpICsgKHRoaXMuZCAqIG1hdHJpeC5jKTtcclxuICAgICAgICAgICAgdGhpcy5kID0gKGMxICogbWF0cml4LmIpICsgKHRoaXMuZCAqIG1hdHJpeC5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBtYXRyaXguYSkgKyAodGhpcy50eSAqIG1hdHJpeC5jKSArIG1hdHJpeC50eDtcclxuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3BpZXMgdGhlIG90aGVyIG1hdHJpeCdzIHByb3BlcnRpZXMgaW50byB0aGlzIG1hdHJpeFxyXG4gICAgICovXHJcbiAgICBjb3B5RnJvbShtYXRyaXgpIHtcclxuICAgICAgICB0aGlzLmEgPSBtYXRyaXguYTtcclxuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYjtcclxuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYztcclxuICAgICAgICB0aGlzLmQgPSBtYXRyaXguZDtcclxuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4O1xyXG4gICAgICAgIHRoaXMudHkgPSBtYXRyaXgudHk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWF0cml4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NumberFormatter: () => (/* binding */ NumberFormatter)\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js\");\n/* harmony import */ var _TextFormatter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Number formatter\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n * @important\r\n */\r\nclass NumberFormatter extends _Entity__WEBPACK_IMPORTED_MODULE_0__.Entity {\r\n    _setDefaults() {\r\n        // Defaults\r\n        this._setDefault(\"negativeBase\", 0);\r\n        this._setDefault(\"numberFormat\", \"#,###.#####\");\r\n        this._setDefault(\"smallNumberThreshold\", 1.00);\r\n        const bns = \"_big_number_suffix_\";\r\n        const sns = \"_small_number_suffix_\";\r\n        const bs = \"_byte_suffix_\";\r\n        this._setDefault(\"bigNumberPrefixes\", [\r\n            { \"number\": 1e+3, \"suffix\": this._t(bns + \"3\") },\r\n            { \"number\": 1e+6, \"suffix\": this._t(bns + \"6\") },\r\n            { \"number\": 1e+9, \"suffix\": this._t(bns + \"9\") },\r\n            { \"number\": 1e+12, \"suffix\": this._t(bns + \"12\") },\r\n            { \"number\": 1e+15, \"suffix\": this._t(bns + \"15\") },\r\n            { \"number\": 1e+18, \"suffix\": this._t(bns + \"18\") },\r\n            { \"number\": 1e+21, \"suffix\": this._t(bns + \"21\") },\r\n            { \"number\": 1e+24, \"suffix\": this._t(bns + \"24\") }\r\n        ]);\r\n        this._setDefault(\"smallNumberPrefixes\", [\r\n            { \"number\": 1e-24, \"suffix\": this._t(sns + \"24\") },\r\n            { \"number\": 1e-21, \"suffix\": this._t(sns + \"21\") },\r\n            { \"number\": 1e-18, \"suffix\": this._t(sns + \"18\") },\r\n            { \"number\": 1e-15, \"suffix\": this._t(sns + \"15\") },\r\n            { \"number\": 1e-12, \"suffix\": this._t(sns + \"12\") },\r\n            { \"number\": 1e-9, \"suffix\": this._t(sns + \"9\") },\r\n            { \"number\": 1e-6, \"suffix\": this._t(sns + \"6\") },\r\n            { \"number\": 1e-3, \"suffix\": this._t(sns + \"3\") }\r\n        ]);\r\n        this._setDefault(\"bytePrefixes\", [\r\n            { \"number\": 1, suffix: this._t(bs + \"B\") },\r\n            { \"number\": 1024, suffix: this._t(bs + \"KB\") },\r\n            { \"number\": 1048576, suffix: this._t(bs + \"MB\") },\r\n            { \"number\": 1073741824, suffix: this._t(bs + \"GB\") },\r\n            { \"number\": 1099511627776, suffix: this._t(bs + \"TB\") },\r\n            { \"number\": 1125899906842624, suffix: this._t(bs + \"PB\") }\r\n        ]);\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats the number according to specific format.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @return Formatted number\r\n     */\r\n    format(value, format, precision) {\r\n        // no format passed in or \"Number\"\r\n        if (format == null || (_Type__WEBPACK_IMPORTED_MODULE_1__.isString(format) && format.toLowerCase() === \"number\")) {\r\n            format = this.get(\"numberFormat\", \"\");\r\n        }\r\n        // Init return value\r\n        let formatted;\r\n        // Cast to number just in case\r\n        // TODO: maybe use better casting\r\n        let source = Number(value);\r\n        // Is it a built-in format or Intl.NumberFormatOptions\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isObject(format)) {\r\n            try {\r\n                if (this.get(\"intlLocales\")) {\r\n                    return new Intl.NumberFormat(this.get(\"intlLocales\"), format).format(source);\r\n                }\r\n                else {\r\n                    return new Intl.NumberFormat(undefined, format).format(source);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        else {\r\n            // Clean format\r\n            format = _Utils__WEBPACK_IMPORTED_MODULE_2__.cleanFormat(format);\r\n            // Get format info (it will also deal with parser caching)\r\n            let info = this.parseFormat(format, this._root.language);\r\n            // format and replace the number\r\n            let details;\r\n            if (source > this.get(\"negativeBase\")) {\r\n                details = info.positive;\r\n            }\r\n            else if (source < this.get(\"negativeBase\")) {\r\n                details = info.negative;\r\n            }\r\n            else {\r\n                details = info.zero;\r\n            }\r\n            // Adjust precision\r\n            if (precision != null && !details.mod) {\r\n                details = _Object__WEBPACK_IMPORTED_MODULE_3__.copy(details);\r\n                details.decimals.active = source == 0 ? 0 : precision;\r\n            }\r\n            // Format\r\n            formatted = details.template.split(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER).join(this.applyFormat(source, details));\r\n        }\r\n        if (this.get(\"forceLTR\") === true) {\r\n            formatted = \"‎\" + formatted;\r\n        }\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format Format string, i.e. \"#,###.00\"\r\n     * @param language Language\r\n     * @ignore\r\n     */\r\n    parseFormat(format, language) {\r\n        // Check cache\r\n        // TODO\r\n        // let cached = this.getCache(format);\r\n        // if (cached != null) {\r\n        // \treturn cached;\r\n        // }\r\n        const thousandSeparator = language.translateEmpty(\"_thousandSeparator\");\r\n        const decimalSeparator = language.translateEmpty(\"_decimalSeparator\");\r\n        // init format parse info holder\r\n        let info = {\r\n            \"positive\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"negative\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"zero\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        let parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        _Object__WEBPACK_IMPORTED_MODULE_3__.each(info, (_part, item) => {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            // TODO\r\n            // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n            // \tinfo[part] = this.getCache(item.source);\r\n            // \treturn;\r\n            // }\r\n            // Begin parsing\r\n            let partFormat = item.source;\r\n            // Just \"Number\"?\r\n            if (partFormat.toLowerCase() === \"number\") {\r\n                partFormat = this.get(\"numberFormat\", \"#,###.#####\");\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            let chunks = _TextFormatter__WEBPACK_IMPORTED_MODULE_4__.TextFormatter.chunk(partFormat, true);\r\n            for (let i = 0; i < chunks.length; i++) {\r\n                let chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Parse format\r\n                    // Look for codes\r\n                    let matches = chunk.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);\r\n                    if (matches) {\r\n                        if (matches === null || matches[0] === \"\") {\r\n                            // no codes here - assume string\r\n                            // nothing to do here\r\n                            item.template += chunk.text;\r\n                        }\r\n                        else {\r\n                            // look for the format modifiers at the end\r\n                            let mods = matches[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);\r\n                            if (mods) {\r\n                                item.mod = mods[0].toLowerCase();\r\n                                item.modSpacing = matches[0].match(/[ ]{1}[abespABESP%‰!]{1}$/) ? true : false;\r\n                            }\r\n                            // break the format up\r\n                            let a = matches[0].split(\".\");\r\n                            // Deal with thousands\r\n                            if (a[0] === \"\") {\r\n                                // No directives for thousands\r\n                                // Leave default settings (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.thousands.active = (a[0].match(/0/g) || []).length;\r\n                                item.thousands.passive = (a[0].match(/\\#/g) || []).length + item.thousands.active;\r\n                                // Separator interval\r\n                                let b = a[0].split(\",\");\r\n                                if (b.length === 1) {\r\n                                    // No thousands separators\r\n                                    // Do nothing\r\n                                }\r\n                                else {\r\n                                    // Use length fo the last chunk as thousands length\r\n                                    item.thousands.interval = (b.pop() || \"\").length;\r\n                                    if (item.thousands.interval === 0) {\r\n                                        item.thousands.interval = -1;\r\n                                    }\r\n                                }\r\n                            }\r\n                            // Deal with decimals\r\n                            if (typeof (a[1]) === \"undefined\") {\r\n                                // No directives for decimals\r\n                                // Leave at defaults (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.decimals.active = (a[1].match(/0/g) || []).length;\r\n                                item.decimals.passive = (a[1].match(/\\#/g) || []).length + item.decimals.active;\r\n                            }\r\n                            // Add special code to template\r\n                            item.template += chunk.text.split(matches[0]).join(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // Quoted string - take it as it is\r\n                    item.template += chunk.text;\r\n                }\r\n            }\r\n            // Apply style formatting\r\n            //item.template = getTextFormatter().format(item.template, this.outputFormat);\r\n            // Save cache\r\n            // TODO\r\n            //this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        // TODO\r\n        //this.setCache(format, info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by parseFormat()\r\n     * @return Formatted number\r\n     * @ignore\r\n     */\r\n    applyFormat(value, details) {\r\n        // Use absolute values\r\n        let negative = value < 0;\r\n        value = Math.abs(value);\r\n        // Recalculate according to modifier\r\n        let prefix = \"\", suffix = \"\";\r\n        let mods = details.mod ? details.mod.split(\"\") : [];\r\n        if (mods.indexOf(\"b\") !== -1) {\r\n            let a = this.applyPrefix(value, this.get(\"bytePrefixes\"), mods.indexOf(\"!\") !== -1);\r\n            value = a[0];\r\n            prefix = a[1];\r\n            suffix = a[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"a\") !== -1) {\r\n            let a = this.applyPrefix(value, value < this.get(\"smallNumberThreshold\") ? this.get(\"smallNumberPrefixes\") : this.get(\"bigNumberPrefixes\"), mods.indexOf(\"!\") !== -1);\r\n            value = a[0];\r\n            prefix = a[1];\r\n            suffix = a[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"p\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 2, 21);\r\n            //value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            prefix = this._root.language.translate(\"_percentPrefix\");\r\n            suffix = this._root.language.translate(\"_percentSuffix\");\r\n            if (prefix == \"\" && suffix == \"\") {\r\n                suffix = \"%\";\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"%\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 2, 21);\r\n            value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"%\";\r\n        }\r\n        else if (mods.indexOf(\"‰\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 3, 21);\r\n            value *= 1000;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"‰\";\r\n        }\r\n        // Round to passive\r\n        if (mods.indexOf(\"e\") !== -1) {\r\n            // convert the value to exponential\r\n            let exp;\r\n            if (details.decimals.passive >= 0) {\r\n                exp = value.toExponential(details.decimals.passive).split(\"e\");\r\n            }\r\n            else {\r\n                exp = value.toExponential().split(\"e\");\r\n            }\r\n            value = Number(exp[0]);\r\n            suffix = \"e\" + exp[1];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (details.decimals.passive === 0) {\r\n            value = Math.round(value);\r\n        }\r\n        else if (details.decimals.passive > 0) {\r\n            const decimals = _Utils__WEBPACK_IMPORTED_MODULE_2__.decimalPlaces(value);\r\n            if (decimals > 0) {\r\n                const d = Math.pow(10, details.decimals.passive);\r\n                value = Math.round(parseFloat((value * d).toFixed(decimals))) / d;\r\n            }\r\n        }\r\n        // Init return value\r\n        let res = \"\";\r\n        // Calc integer and decimal parts\r\n        let a = _Type__WEBPACK_IMPORTED_MODULE_1__.numberToString(value).split(\".\");\r\n        // Format integers\r\n        let ints = a[0];\r\n        // Pad integers to active length\r\n        if (ints.length < details.thousands.active) {\r\n            ints = Array(details.thousands.active - ints.length + 1).join(\"0\") + ints;\r\n        }\r\n        // Insert thousands separators\r\n        if (details.thousands.interval > 0) {\r\n            let ip = [];\r\n            let intsr = ints.split(\"\").reverse().join(\"\");\r\n            for (let i = 0, len = ints.length; i <= len; i += details.thousands.interval) {\r\n                let c = intsr.substr(i, details.thousands.interval).split(\"\").reverse().join(\"\");\r\n                if (c !== \"\") {\r\n                    ip.unshift(c);\r\n                }\r\n            }\r\n            ints = ip.join(details.thousands.separator);\r\n        }\r\n        // Add integers\r\n        res += ints;\r\n        // Add decimals\r\n        if (a.length === 1) {\r\n            a.push(\"\");\r\n        }\r\n        let decs = a[1];\r\n        // Fill zeros?\r\n        if (decs.length < details.decimals.active) {\r\n            decs += Array(details.decimals.active - decs.length + 1).join(\"0\");\r\n        }\r\n        if (decs !== \"\") {\r\n            res += details.decimals.separator + decs;\r\n        }\r\n        // Can't have empty return value\r\n        if (res === \"\") {\r\n            res = \"0\";\r\n        }\r\n        // Add minus sign back\r\n        if (value !== 0 && negative && (mods.indexOf(\"s\") === -1)) {\r\n            res = \"-\" + res;\r\n        }\r\n        // Add suffixes/prefixes\r\n        if (prefix) {\r\n            res = prefix + res;\r\n        }\r\n        if (suffix) {\r\n            res += suffix;\r\n        }\r\n        return res;\r\n    }\r\n    applyPrefix(value, prefixes, force = false) {\r\n        let newvalue = value;\r\n        let prefix = \"\";\r\n        let suffix = \"\";\r\n        let applied = false;\r\n        let k = 1;\r\n        for (let i = 0, len = prefixes.length; i < len; i++) {\r\n            if (prefixes[i].number <= value) {\r\n                if (prefixes[i].number === 0) {\r\n                    newvalue = 0;\r\n                }\r\n                else {\r\n                    newvalue = value / prefixes[i].number;\r\n                    k = prefixes[i].number;\r\n                }\r\n                prefix = prefixes[i].prefix;\r\n                suffix = prefixes[i].suffix;\r\n                applied = true;\r\n            }\r\n        }\r\n        if (!applied && force && prefixes.length && value != 0) {\r\n            // Prefix was not applied. Use the first prefix.\r\n            newvalue = value / prefixes[0].number;\r\n            prefix = prefixes[0].prefix;\r\n            suffix = prefixes[0].suffix;\r\n            applied = true;\r\n        }\r\n        if (applied) {\r\n            newvalue = parseFloat(newvalue.toPrecision(Math.min(k.toString().length + Math.floor(newvalue).toString().replace(/[^0-9]*/g, \"\").length, 21)));\r\n        }\r\n        return [newvalue, prefix, suffix];\r\n    }\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    escape(text) {\r\n        return text.replace(\"||\", _Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2);\r\n    }\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    unescape(text) {\r\n        return text.replace(_Type__WEBPACK_IMPORTED_MODULE_1__.PLACEHOLDER2, \"|\");\r\n    }\r\n}\r\n//# sourceMappingURL=NumberFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL051bWJlckZvcm1hdHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0M7QUFDYztBQUNaO0FBQ0Y7QUFDRjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxTQUFTLGdGQUFnRjtBQUN6RjtBQUNBO0FBQ08sOEJBQThCLDJDQUFNO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOENBQThDO0FBQzVELGNBQWMsOENBQThDO0FBQzVELGNBQWMsOENBQThDO0FBQzVELGNBQWMsZ0RBQWdEO0FBQzlELGNBQWMsZ0RBQWdEO0FBQzlELGNBQWMsZ0RBQWdEO0FBQzlELGNBQWMsZ0RBQWdEO0FBQzlELGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyxnREFBZ0Q7QUFDOUQsY0FBYyw4Q0FBOEM7QUFDNUQsY0FBYyw4Q0FBOEM7QUFDNUQsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjLHdDQUF3QztBQUN0RCxjQUFjLDRDQUE0QztBQUMxRCxjQUFjLCtDQUErQztBQUM3RCxjQUFjLGtEQUFrRDtBQUNoRSxjQUFjLHFEQUFxRDtBQUNuRSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDJDQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0NBQWtCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5Q0FBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsOENBQWlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0NBQWtCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlEQUFhO0FBQ3RDLDRCQUE0QixtQkFBbUI7QUFDL0M7QUFDQTtBQUNBLGdEQUFnRCwrQ0FBa0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLEVBQUUsZ0JBQWdCLEVBQUU7QUFDN0Y7QUFDQTtBQUNBLHdFQUF3RSxFQUFFLGdCQUFnQixFQUFFO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLDhDQUFpQjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpREFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpREFBb0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsVUFBVTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLCtDQUFrQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0NBQWtCO0FBQzlDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL051bWJlckZvcm1hdHRlci5qcz80ZDYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL0VudGl0eVwiO1xyXG5pbXBvcnQgeyBUZXh0Rm9ybWF0dGVyIH0gZnJvbSBcIi4vVGV4dEZvcm1hdHRlclwiO1xyXG5pbXBvcnQgKiBhcyAkb2JqZWN0IGZyb20gXCIuL09iamVjdFwiO1xyXG5pbXBvcnQgKiBhcyAkdXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG4vKipcclxuICogTnVtYmVyIGZvcm1hdHRlclxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctbnVtYmVycy99IGZvciBtb3JlIGluZm9cclxuICogQGltcG9ydGFudFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE51bWJlckZvcm1hdHRlciBleHRlbmRzIEVudGl0eSB7XHJcbiAgICBfc2V0RGVmYXVsdHMoKSB7XHJcbiAgICAgICAgLy8gRGVmYXVsdHNcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0KFwibmVnYXRpdmVCYXNlXCIsIDApO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJudW1iZXJGb3JtYXRcIiwgXCIjLCMjIy4jIyMjI1wiKTtcclxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0KFwic21hbGxOdW1iZXJUaHJlc2hvbGRcIiwgMS4wMCk7XHJcbiAgICAgICAgY29uc3QgYm5zID0gXCJfYmlnX251bWJlcl9zdWZmaXhfXCI7XHJcbiAgICAgICAgY29uc3Qgc25zID0gXCJfc21hbGxfbnVtYmVyX3N1ZmZpeF9cIjtcclxuICAgICAgICBjb25zdCBicyA9IFwiX2J5dGVfc3VmZml4X1wiO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJiaWdOdW1iZXJQcmVmaXhlc1wiLCBbXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUrMywgXCJzdWZmaXhcIjogdGhpcy5fdChibnMgKyBcIjNcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZSs2LCBcInN1ZmZpeFwiOiB0aGlzLl90KGJucyArIFwiNlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlKzksIFwic3VmZml4XCI6IHRoaXMuX3QoYm5zICsgXCI5XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUrMTIsIFwic3VmZml4XCI6IHRoaXMuX3QoYm5zICsgXCIxMlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlKzE1LCBcInN1ZmZpeFwiOiB0aGlzLl90KGJucyArIFwiMTVcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZSsxOCwgXCJzdWZmaXhcIjogdGhpcy5fdChibnMgKyBcIjE4XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUrMjEsIFwic3VmZml4XCI6IHRoaXMuX3QoYm5zICsgXCIyMVwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlKzI0LCBcInN1ZmZpeFwiOiB0aGlzLl90KGJucyArIFwiMjRcIikgfVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHRoaXMuX3NldERlZmF1bHQoXCJzbWFsbE51bWJlclByZWZpeGVzXCIsIFtcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZS0yNCwgXCJzdWZmaXhcIjogdGhpcy5fdChzbnMgKyBcIjI0XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUtMjEsIFwic3VmZml4XCI6IHRoaXMuX3Qoc25zICsgXCIyMVwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlLTE4LCBcInN1ZmZpeFwiOiB0aGlzLl90KHNucyArIFwiMThcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZS0xNSwgXCJzdWZmaXhcIjogdGhpcy5fdChzbnMgKyBcIjE1XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUtMTIsIFwic3VmZml4XCI6IHRoaXMuX3Qoc25zICsgXCIxMlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDFlLTksIFwic3VmZml4XCI6IHRoaXMuX3Qoc25zICsgXCI5XCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMWUtNiwgXCJzdWZmaXhcIjogdGhpcy5fdChzbnMgKyBcIjZcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxZS0zLCBcInN1ZmZpeFwiOiB0aGlzLl90KHNucyArIFwiM1wiKSB9XHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgdGhpcy5fc2V0RGVmYXVsdChcImJ5dGVQcmVmaXhlc1wiLCBbXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMSwgc3VmZml4OiB0aGlzLl90KGJzICsgXCJCXCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMTAyNCwgc3VmZml4OiB0aGlzLl90KGJzICsgXCJLQlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDEwNDg1NzYsIHN1ZmZpeDogdGhpcy5fdChicyArIFwiTUJcIikgfSxcclxuICAgICAgICAgICAgeyBcIm51bWJlclwiOiAxMDczNzQxODI0LCBzdWZmaXg6IHRoaXMuX3QoYnMgKyBcIkdCXCIpIH0sXHJcbiAgICAgICAgICAgIHsgXCJudW1iZXJcIjogMTA5OTUxMTYyNzc3Niwgc3VmZml4OiB0aGlzLl90KGJzICsgXCJUQlwiKSB9LFxyXG4gICAgICAgICAgICB7IFwibnVtYmVyXCI6IDExMjU4OTk5MDY4NDI2MjQsIHN1ZmZpeDogdGhpcy5fdChicyArIFwiUEJcIikgfVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHN1cGVyLl9zZXREZWZhdWx0cygpO1xyXG4gICAgfVxyXG4gICAgX2JlZm9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2JlZm9yZUNoYW5nZWQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRm9ybWF0cyB0aGUgbnVtYmVyIGFjY29yZGluZyB0byBzcGVjaWZpYyBmb3JtYXQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICAgVmFsdWUgdG8gZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gZm9ybWF0ICBGb3JtYXQgdG8gYXBwbHlcclxuICAgICAqIEByZXR1cm4gRm9ybWF0dGVkIG51bWJlclxyXG4gICAgICovXHJcbiAgICBmb3JtYXQodmFsdWUsIGZvcm1hdCwgcHJlY2lzaW9uKSB7XHJcbiAgICAgICAgLy8gbm8gZm9ybWF0IHBhc3NlZCBpbiBvciBcIk51bWJlclwiXHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PSBudWxsIHx8ICgkdHlwZS5pc1N0cmluZyhmb3JtYXQpICYmIGZvcm1hdC50b0xvd2VyQ2FzZSgpID09PSBcIm51bWJlclwiKSkge1xyXG4gICAgICAgICAgICBmb3JtYXQgPSB0aGlzLmdldChcIm51bWJlckZvcm1hdFwiLCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5pdCByZXR1cm4gdmFsdWVcclxuICAgICAgICBsZXQgZm9ybWF0dGVkO1xyXG4gICAgICAgIC8vIENhc3QgdG8gbnVtYmVyIGp1c3QgaW4gY2FzZVxyXG4gICAgICAgIC8vIFRPRE86IG1heWJlIHVzZSBiZXR0ZXIgY2FzdGluZ1xyXG4gICAgICAgIGxldCBzb3VyY2UgPSBOdW1iZXIodmFsdWUpO1xyXG4gICAgICAgIC8vIElzIGl0IGEgYnVpbHQtaW4gZm9ybWF0IG9yIEludGwuTnVtYmVyRm9ybWF0T3B0aW9uc1xyXG4gICAgICAgIGlmICgkdHlwZS5pc09iamVjdChmb3JtYXQpKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJpbnRsTG9jYWxlc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5nZXQoXCJpbnRsTG9jYWxlc1wiKSwgZm9ybWF0KS5mb3JtYXQoc291cmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodW5kZWZpbmVkLCBmb3JtYXQpLmZvcm1hdChzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENsZWFuIGZvcm1hdFxyXG4gICAgICAgICAgICBmb3JtYXQgPSAkdXRpbHMuY2xlYW5Gb3JtYXQoZm9ybWF0KTtcclxuICAgICAgICAgICAgLy8gR2V0IGZvcm1hdCBpbmZvIChpdCB3aWxsIGFsc28gZGVhbCB3aXRoIHBhcnNlciBjYWNoaW5nKVxyXG4gICAgICAgICAgICBsZXQgaW5mbyA9IHRoaXMucGFyc2VGb3JtYXQoZm9ybWF0LCB0aGlzLl9yb290Lmxhbmd1YWdlKTtcclxuICAgICAgICAgICAgLy8gZm9ybWF0IGFuZCByZXBsYWNlIHRoZSBudW1iZXJcclxuICAgICAgICAgICAgbGV0IGRldGFpbHM7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UgPiB0aGlzLmdldChcIm5lZ2F0aXZlQmFzZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlscyA9IGluZm8ucG9zaXRpdmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlIDwgdGhpcy5nZXQoXCJuZWdhdGl2ZUJhc2VcIikpIHtcclxuICAgICAgICAgICAgICAgIGRldGFpbHMgPSBpbmZvLm5lZ2F0aXZlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlscyA9IGluZm8uemVybztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBZGp1c3QgcHJlY2lzaW9uXHJcbiAgICAgICAgICAgIGlmIChwcmVjaXNpb24gIT0gbnVsbCAmJiAhZGV0YWlscy5tb2QpIHtcclxuICAgICAgICAgICAgICAgIGRldGFpbHMgPSAkb2JqZWN0LmNvcHkoZGV0YWlscyk7XHJcbiAgICAgICAgICAgICAgICBkZXRhaWxzLmRlY2ltYWxzLmFjdGl2ZSA9IHNvdXJjZSA9PSAwID8gMCA6IHByZWNpc2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBGb3JtYXRcclxuICAgICAgICAgICAgZm9ybWF0dGVkID0gZGV0YWlscy50ZW1wbGF0ZS5zcGxpdCgkdHlwZS5QTEFDRUhPTERFUikuam9pbih0aGlzLmFwcGx5Rm9ybWF0KHNvdXJjZSwgZGV0YWlscykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nZXQoXCJmb3JjZUxUUlwiKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBmb3JtYXR0ZWQgPSBcIuKAjlwiICsgZm9ybWF0dGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZXMgc3VwcGxpZWQgZm9ybWF0IGludG8gc3RydWN0dXJlZCBvYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgdG8gZm9ybWF0XHJcbiAgICAgKiB0aGUgbnVtYmVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmb3JtYXQgRm9ybWF0IHN0cmluZywgaS5lLiBcIiMsIyMjLjAwXCJcclxuICAgICAqIEBwYXJhbSBsYW5ndWFnZSBMYW5ndWFnZVxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwYXJzZUZvcm1hdChmb3JtYXQsIGxhbmd1YWdlKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgY2FjaGVcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gbGV0IGNhY2hlZCA9IHRoaXMuZ2V0Q2FjaGUoZm9ybWF0KTtcclxuICAgICAgICAvLyBpZiAoY2FjaGVkICE9IG51bGwpIHtcclxuICAgICAgICAvLyBcdHJldHVybiBjYWNoZWQ7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGNvbnN0IHRob3VzYW5kU2VwYXJhdG9yID0gbGFuZ3VhZ2UudHJhbnNsYXRlRW1wdHkoXCJfdGhvdXNhbmRTZXBhcmF0b3JcIik7XHJcbiAgICAgICAgY29uc3QgZGVjaW1hbFNlcGFyYXRvciA9IGxhbmd1YWdlLnRyYW5zbGF0ZUVtcHR5KFwiX2RlY2ltYWxTZXBhcmF0b3JcIik7XHJcbiAgICAgICAgLy8gaW5pdCBmb3JtYXQgcGFyc2UgaW5mbyBob2xkZXJcclxuICAgICAgICBsZXQgaW5mbyA9IHtcclxuICAgICAgICAgICAgXCJwb3NpdGl2ZVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInRob3VzYW5kc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJhY3RpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwYXNzaXZlXCI6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaW50ZXJ2YWxcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXBhcmF0b3JcIjogdGhvdXNhbmRTZXBhcmF0b3JcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcImRlY2ltYWxzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImFjdGl2ZVwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInBhc3NpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXBhcmF0b3JcIjogZGVjaW1hbFNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwic291cmNlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhcnNlZFwiOiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcIm5lZ2F0aXZlXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidGhvdXNhbmRzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImFjdGl2ZVwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInBhc3NpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpbnRlcnZhbFwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInNlcGFyYXRvclwiOiB0aG91c2FuZFNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiZGVjaW1hbHNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiYWN0aXZlXCI6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIFwicGFzc2l2ZVwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInNlcGFyYXRvclwiOiBkZWNpbWFsU2VwYXJhdG9yXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwicGFyc2VkXCI6IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiemVyb1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcInRob3VzYW5kc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJhY3RpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwYXNzaXZlXCI6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaW50ZXJ2YWxcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXBhcmF0b3JcIjogdGhvdXNhbmRTZXBhcmF0b3JcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcImRlY2ltYWxzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImFjdGl2ZVwiOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICBcInBhc3NpdmVcIjogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXBhcmF0b3JcIjogZGVjaW1hbFNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwic291cmNlXCI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBcInBhcnNlZFwiOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBFc2NhcGUgZG91YmxlIHZlcnRpY2FsIGJhcnMgKHRoYXQgbWVhbiBkaXNwbGF5IG9uZSB2ZXJ0aWNhbCBiYXIpXHJcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoXCJ8fFwiLCAkdHlwZS5QTEFDRUhPTERFUjIpO1xyXG4gICAgICAgIC8vIFNwbGl0IGl0IHVwIGFuZCBkZWFsIHdpdGggZGlmZmVyZW50IGZvcm1hdHNcclxuICAgICAgICBsZXQgcGFydHMgPSBmb3JtYXQuc3BsaXQoXCJ8XCIpO1xyXG4gICAgICAgIGluZm8ucG9zaXRpdmUuc291cmNlID0gcGFydHNbMF07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0c1syXSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBpbmZvLnplcm8gPSBpbmZvLnBvc2l0aXZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5mby56ZXJvLnNvdXJjZSA9IHBhcnRzWzJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHBhcnRzWzFdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIGluZm8ubmVnYXRpdmUgPSBpbmZvLnBvc2l0aXZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5mby5uZWdhdGl2ZS5zb3VyY2UgPSBwYXJ0c1sxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGFyc2UgZWFjaFxyXG4gICAgICAgICRvYmplY3QuZWFjaChpbmZvLCAoX3BhcnQsIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgLy8gQWxyZWFkeSBwYXJzZWRcclxuICAgICAgICAgICAgaWYgKGl0ZW0ucGFyc2VkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ2hlY2sgY2FjaGVkXHJcbiAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiB0aGlzLmdldENhY2hlKGl0ZW0uc291cmNlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAvLyBcdGluZm9bcGFydF0gPSB0aGlzLmdldENhY2hlKGl0ZW0uc291cmNlKTtcclxuICAgICAgICAgICAgLy8gXHRyZXR1cm47XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gQmVnaW4gcGFyc2luZ1xyXG4gICAgICAgICAgICBsZXQgcGFydEZvcm1hdCA9IGl0ZW0uc291cmNlO1xyXG4gICAgICAgICAgICAvLyBKdXN0IFwiTnVtYmVyXCI/XHJcbiAgICAgICAgICAgIGlmIChwYXJ0Rm9ybWF0LnRvTG93ZXJDYXNlKCkgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIHBhcnRGb3JtYXQgPSB0aGlzLmdldChcIm51bWJlckZvcm1hdFwiLCBcIiMsIyMjLiMjIyMjXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIExldCBUZXh0Rm9ybWF0dGVyIHNwbGl0IGludG8gY2h1bmtzXHJcbiAgICAgICAgICAgIGxldCBjaHVua3MgPSBUZXh0Rm9ybWF0dGVyLmNodW5rKHBhcnRGb3JtYXQsIHRydWUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNodW5rID0gY2h1bmtzW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBiYWNrIGRvdWJsZSB2ZXJ0aWNhbCBiYXJcclxuICAgICAgICAgICAgICAgIGNodW5rLnRleHQgPSBjaHVuay50ZXh0LnJlcGxhY2UoJHR5cGUuUExBQ0VIT0xERVIyLCBcInxcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gXCJ2YWx1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgZm9ybWF0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgY29kZXNcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlcyA9IGNodW5rLnRleHQubWF0Y2goL1sjMC4sXStbIF0/W2FiZXNwQUJFU1AlIV0/W2FiZXNwQUJFU1DigLAhXT8vKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCB8fCBtYXRjaGVzWzBdID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBjb2RlcyBoZXJlIC0gYXNzdW1lIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZyB0byBkbyBoZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRlbXBsYXRlICs9IGNodW5rLnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsb29rIGZvciB0aGUgZm9ybWF0IG1vZGlmaWVycyBhdCB0aGUgZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kcyA9IG1hdGNoZXNbMF0ubWF0Y2goL1thYmVzcEFCRVNQJeKAsCFdezJ9fFthYmVzcEFCRVNQJeKAsF17MX0kLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubW9kID0gbW9kc1swXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubW9kU3BhY2luZyA9IG1hdGNoZXNbMF0ubWF0Y2goL1sgXXsxfVthYmVzcEFCRVNQJeKAsCFdezF9JC8pID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgdGhlIGZvcm1hdCB1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBtYXRjaGVzWzBdLnNwbGl0KFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlYWwgd2l0aCB0aG91c2FuZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhWzBdID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gZGlyZWN0aXZlcyBmb3IgdGhvdXNhbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVhdmUgZGVmYXVsdCBzZXR0aW5ncyAobm8gZm9ybWF0dGluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udGhvdXNhbmRzLmFjdGl2ZSA9IChhWzBdLm1hdGNoKC8wL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50aG91c2FuZHMucGFzc2l2ZSA9IChhWzBdLm1hdGNoKC9cXCMvZykgfHwgW10pLmxlbmd0aCArIGl0ZW0udGhvdXNhbmRzLmFjdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXBhcmF0b3IgaW50ZXJ2YWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYiA9IGFbMF0uc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyB0aG91c2FuZHMgc2VwYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgbGVuZ3RoIGZvIHRoZSBsYXN0IGNodW5rIGFzIHRob3VzYW5kcyBsZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50aG91c2FuZHMuaW50ZXJ2YWwgPSAoYi5wb3AoKSB8fCBcIlwiKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRob3VzYW5kcy5pbnRlcnZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50aG91c2FuZHMuaW50ZXJ2YWwgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlYWwgd2l0aCBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoYVsxXSkgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBkaXJlY3RpdmVzIGZvciBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlYXZlIGF0IGRlZmF1bHRzIChubyBmb3JtYXR0aW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ291bnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kZWNpbWFscy5hY3RpdmUgPSAoYVsxXS5tYXRjaCgvMC9nKSB8fCBbXSkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGVjaW1hbHMucGFzc2l2ZSA9IChhWzFdLm1hdGNoKC9cXCMvZykgfHwgW10pLmxlbmd0aCArIGl0ZW0uZGVjaW1hbHMuYWN0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHNwZWNpYWwgY29kZSB0byB0ZW1wbGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50ZW1wbGF0ZSArPSBjaHVuay50ZXh0LnNwbGl0KG1hdGNoZXNbMF0pLmpvaW4oJHR5cGUuUExBQ0VIT0xERVIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUXVvdGVkIHN0cmluZyAtIHRha2UgaXQgYXMgaXQgaXNcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnRlbXBsYXRlICs9IGNodW5rLnRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXBwbHkgc3R5bGUgZm9ybWF0dGluZ1xyXG4gICAgICAgICAgICAvL2l0ZW0udGVtcGxhdGUgPSBnZXRUZXh0Rm9ybWF0dGVyKCkuZm9ybWF0KGl0ZW0udGVtcGxhdGUsIHRoaXMub3V0cHV0Rm9ybWF0KTtcclxuICAgICAgICAgICAgLy8gU2F2ZSBjYWNoZVxyXG4gICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgIC8vdGhpcy5zZXRDYWNoZShpdGVtLnNvdXJjZSwgaXRlbSk7XHJcbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBhcyBwYXJzZWRcclxuICAgICAgICAgICAgaXRlbS5wYXJzZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNhdmUgY2FjaGUgKHRoZSB3aG9sZSB0aGluZylcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy90aGlzLnNldENhY2hlKGZvcm1hdCwgaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIGluZm87XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGxpZXMgcGFyc2VkIGZvcm1hdCB0byBhIG51bWVyaWMgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlICAgIFZhbHVlXHJcbiAgICAgKiBAcGFyYW0gZGV0YWlscyAgUGFyc2VkIGZvcm1hdCBhcyByZXR1cm5lZCBieSBwYXJzZUZvcm1hdCgpXHJcbiAgICAgKiBAcmV0dXJuIEZvcm1hdHRlZCBudW1iZXJcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgYXBwbHlGb3JtYXQodmFsdWUsIGRldGFpbHMpIHtcclxuICAgICAgICAvLyBVc2UgYWJzb2x1dGUgdmFsdWVzXHJcbiAgICAgICAgbGV0IG5lZ2F0aXZlID0gdmFsdWUgPCAwO1xyXG4gICAgICAgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xyXG4gICAgICAgIC8vIFJlY2FsY3VsYXRlIGFjY29yZGluZyB0byBtb2RpZmllclxyXG4gICAgICAgIGxldCBwcmVmaXggPSBcIlwiLCBzdWZmaXggPSBcIlwiO1xyXG4gICAgICAgIGxldCBtb2RzID0gZGV0YWlscy5tb2QgPyBkZXRhaWxzLm1vZC5zcGxpdChcIlwiKSA6IFtdO1xyXG4gICAgICAgIGlmIChtb2RzLmluZGV4T2YoXCJiXCIpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBsZXQgYSA9IHRoaXMuYXBwbHlQcmVmaXgodmFsdWUsIHRoaXMuZ2V0KFwiYnl0ZVByZWZpeGVzXCIpLCBtb2RzLmluZGV4T2YoXCIhXCIpICE9PSAtMSk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gYVswXTtcclxuICAgICAgICAgICAgcHJlZml4ID0gYVsxXTtcclxuICAgICAgICAgICAgc3VmZml4ID0gYVsyXTtcclxuICAgICAgICAgICAgaWYgKGRldGFpbHMubW9kU3BhY2luZykge1xyXG4gICAgICAgICAgICAgICAgc3VmZml4ID0gXCIgXCIgKyBzdWZmaXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobW9kcy5pbmRleE9mKFwiYVwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmFwcGx5UHJlZml4KHZhbHVlLCB2YWx1ZSA8IHRoaXMuZ2V0KFwic21hbGxOdW1iZXJUaHJlc2hvbGRcIikgPyB0aGlzLmdldChcInNtYWxsTnVtYmVyUHJlZml4ZXNcIikgOiB0aGlzLmdldChcImJpZ051bWJlclByZWZpeGVzXCIpLCBtb2RzLmluZGV4T2YoXCIhXCIpICE9PSAtMSk7XHJcbiAgICAgICAgICAgIHZhbHVlID0gYVswXTtcclxuICAgICAgICAgICAgcHJlZml4ID0gYVsxXTtcclxuICAgICAgICAgICAgc3VmZml4ID0gYVsyXTtcclxuICAgICAgICAgICAgaWYgKGRldGFpbHMubW9kU3BhY2luZykge1xyXG4gICAgICAgICAgICAgICAgc3VmZml4ID0gXCIgXCIgKyBzdWZmaXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobW9kcy5pbmRleE9mKFwicFwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IG9sID0gTWF0aC5taW4odmFsdWUudG9TdHJpbmcoKS5sZW5ndGggKyAyLCAyMSk7XHJcbiAgICAgICAgICAgIC8vdmFsdWUgKj0gMTAwO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUudG9QcmVjaXNpb24ob2wpKTtcclxuICAgICAgICAgICAgcHJlZml4ID0gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGUoXCJfcGVyY2VudFByZWZpeFwiKTtcclxuICAgICAgICAgICAgc3VmZml4ID0gdGhpcy5fcm9vdC5sYW5ndWFnZS50cmFuc2xhdGUoXCJfcGVyY2VudFN1ZmZpeFwiKTtcclxuICAgICAgICAgICAgaWYgKHByZWZpeCA9PSBcIlwiICYmIHN1ZmZpeCA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBzdWZmaXggPSBcIiVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChtb2RzLmluZGV4T2YoXCIlXCIpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBsZXQgb2wgPSBNYXRoLm1pbih2YWx1ZS50b1N0cmluZygpLmxlbmd0aCArIDIsIDIxKTtcclxuICAgICAgICAgICAgdmFsdWUgKj0gMTAwO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUudG9QcmVjaXNpb24ob2wpKTtcclxuICAgICAgICAgICAgc3VmZml4ID0gXCIlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG1vZHMuaW5kZXhPZihcIuKAsFwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IG9sID0gTWF0aC5taW4odmFsdWUudG9TdHJpbmcoKS5sZW5ndGggKyAzLCAyMSk7XHJcbiAgICAgICAgICAgIHZhbHVlICo9IDEwMDA7XHJcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZS50b1ByZWNpc2lvbihvbCkpO1xyXG4gICAgICAgICAgICBzdWZmaXggPSBcIuKAsFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSb3VuZCB0byBwYXNzaXZlXHJcbiAgICAgICAgaWYgKG1vZHMuaW5kZXhPZihcImVcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGV4cG9uZW50aWFsXHJcbiAgICAgICAgICAgIGxldCBleHA7XHJcbiAgICAgICAgICAgIGlmIChkZXRhaWxzLmRlY2ltYWxzLnBhc3NpdmUgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgZXhwID0gdmFsdWUudG9FeHBvbmVudGlhbChkZXRhaWxzLmRlY2ltYWxzLnBhc3NpdmUpLnNwbGl0KFwiZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGV4cCA9IHZhbHVlLnRvRXhwb25lbnRpYWwoKS5zcGxpdChcImVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFsdWUgPSBOdW1iZXIoZXhwWzBdKTtcclxuICAgICAgICAgICAgc3VmZml4ID0gXCJlXCIgKyBleHBbMV07XHJcbiAgICAgICAgICAgIGlmIChkZXRhaWxzLm1vZFNwYWNpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN1ZmZpeCA9IFwiIFwiICsgc3VmZml4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRldGFpbHMuZGVjaW1hbHMucGFzc2l2ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZXRhaWxzLmRlY2ltYWxzLnBhc3NpdmUgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlY2ltYWxzID0gJHV0aWxzLmRlY2ltYWxQbGFjZXModmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoZGVjaW1hbHMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gTWF0aC5wb3coMTAsIGRldGFpbHMuZGVjaW1hbHMucGFzc2l2ZSk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQocGFyc2VGbG9hdCgodmFsdWUgKiBkKS50b0ZpeGVkKGRlY2ltYWxzKSkpIC8gZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJbml0IHJldHVybiB2YWx1ZVxyXG4gICAgICAgIGxldCByZXMgPSBcIlwiO1xyXG4gICAgICAgIC8vIENhbGMgaW50ZWdlciBhbmQgZGVjaW1hbCBwYXJ0c1xyXG4gICAgICAgIGxldCBhID0gJHR5cGUubnVtYmVyVG9TdHJpbmcodmFsdWUpLnNwbGl0KFwiLlwiKTtcclxuICAgICAgICAvLyBGb3JtYXQgaW50ZWdlcnNcclxuICAgICAgICBsZXQgaW50cyA9IGFbMF07XHJcbiAgICAgICAgLy8gUGFkIGludGVnZXJzIHRvIGFjdGl2ZSBsZW5ndGhcclxuICAgICAgICBpZiAoaW50cy5sZW5ndGggPCBkZXRhaWxzLnRob3VzYW5kcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaW50cyA9IEFycmF5KGRldGFpbHMudGhvdXNhbmRzLmFjdGl2ZSAtIGludHMubGVuZ3RoICsgMSkuam9pbihcIjBcIikgKyBpbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJbnNlcnQgdGhvdXNhbmRzIHNlcGFyYXRvcnNcclxuICAgICAgICBpZiAoZGV0YWlscy50aG91c2FuZHMuaW50ZXJ2YWwgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBpcCA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgaW50c3IgPSBpbnRzLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW50cy5sZW5ndGg7IGkgPD0gbGVuOyBpICs9IGRldGFpbHMudGhvdXNhbmRzLmludGVydmFsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYyA9IGludHNyLnN1YnN0cihpLCBkZXRhaWxzLnRob3VzYW5kcy5pbnRlcnZhbCkuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYyAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlwLnVuc2hpZnQoYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW50cyA9IGlwLmpvaW4oZGV0YWlscy50aG91c2FuZHMuc2VwYXJhdG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIGludGVnZXJzXHJcbiAgICAgICAgcmVzICs9IGludHM7XHJcbiAgICAgICAgLy8gQWRkIGRlY2ltYWxzXHJcbiAgICAgICAgaWYgKGEubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIGEucHVzaChcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRlY3MgPSBhWzFdO1xyXG4gICAgICAgIC8vIEZpbGwgemVyb3M/XHJcbiAgICAgICAgaWYgKGRlY3MubGVuZ3RoIDwgZGV0YWlscy5kZWNpbWFscy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgZGVjcyArPSBBcnJheShkZXRhaWxzLmRlY2ltYWxzLmFjdGl2ZSAtIGRlY3MubGVuZ3RoICsgMSkuam9pbihcIjBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWNzICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHJlcyArPSBkZXRhaWxzLmRlY2ltYWxzLnNlcGFyYXRvciArIGRlY3M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENhbid0IGhhdmUgZW1wdHkgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgaWYgKHJlcyA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICByZXMgPSBcIjBcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIG1pbnVzIHNpZ24gYmFja1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gMCAmJiBuZWdhdGl2ZSAmJiAobW9kcy5pbmRleE9mKFwic1wiKSA9PT0gLTEpKSB7XHJcbiAgICAgICAgICAgIHJlcyA9IFwiLVwiICsgcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgc3VmZml4ZXMvcHJlZml4ZXNcclxuICAgICAgICBpZiAocHJlZml4KSB7XHJcbiAgICAgICAgICAgIHJlcyA9IHByZWZpeCArIHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN1ZmZpeCkge1xyXG4gICAgICAgICAgICByZXMgKz0gc3VmZml4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgYXBwbHlQcmVmaXgodmFsdWUsIHByZWZpeGVzLCBmb3JjZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IG5ld3ZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgbGV0IHByZWZpeCA9IFwiXCI7XHJcbiAgICAgICAgbGV0IHN1ZmZpeCA9IFwiXCI7XHJcbiAgICAgICAgbGV0IGFwcGxpZWQgPSBmYWxzZTtcclxuICAgICAgICBsZXQgayA9IDE7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHByZWZpeGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChwcmVmaXhlc1tpXS5udW1iZXIgPD0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVmaXhlc1tpXS5udW1iZXIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXd2YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXd2YWx1ZSA9IHZhbHVlIC8gcHJlZml4ZXNbaV0ubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSBwcmVmaXhlc1tpXS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwcmVmaXggPSBwcmVmaXhlc1tpXS5wcmVmaXg7XHJcbiAgICAgICAgICAgICAgICBzdWZmaXggPSBwcmVmaXhlc1tpXS5zdWZmaXg7XHJcbiAgICAgICAgICAgICAgICBhcHBsaWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFwcGxpZWQgJiYgZm9yY2UgJiYgcHJlZml4ZXMubGVuZ3RoICYmIHZhbHVlICE9IDApIHtcclxuICAgICAgICAgICAgLy8gUHJlZml4IHdhcyBub3QgYXBwbGllZC4gVXNlIHRoZSBmaXJzdCBwcmVmaXguXHJcbiAgICAgICAgICAgIG5ld3ZhbHVlID0gdmFsdWUgLyBwcmVmaXhlc1swXS5udW1iZXI7XHJcbiAgICAgICAgICAgIHByZWZpeCA9IHByZWZpeGVzWzBdLnByZWZpeDtcclxuICAgICAgICAgICAgc3VmZml4ID0gcHJlZml4ZXNbMF0uc3VmZml4O1xyXG4gICAgICAgICAgICBhcHBsaWVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFwcGxpZWQpIHtcclxuICAgICAgICAgICAgbmV3dmFsdWUgPSBwYXJzZUZsb2F0KG5ld3ZhbHVlLnRvUHJlY2lzaW9uKE1hdGgubWluKGsudG9TdHJpbmcoKS5sZW5ndGggKyBNYXRoLmZsb29yKG5ld3ZhbHVlKS50b1N0cmluZygpLnJlcGxhY2UoL1teMC05XSovZywgXCJcIikubGVuZ3RoLCAyMSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtuZXd2YWx1ZSwgcHJlZml4LCBzdWZmaXhdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXBsYWNlcyBicmFja2V0cyB3aXRoIHRlbXBvcmFyeSBwbGFjZWhvbGRlcnMuXHJcbiAgICAgKlxyXG4gICAgICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gICAgICogQHBhcmFtIHRleHQgIElucHV0IHRleHRcclxuICAgICAqIEByZXR1cm4gRXNjYXBlZCB0ZXh0XHJcbiAgICAgKi9cclxuICAgIGVzY2FwZSh0ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShcInx8XCIsICR0eXBlLlBMQUNFSE9MREVSMik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIHBsYWNlaG9sZGVycyBiYWNrIHRvIGJyYWNrZXRzLlxyXG4gICAgICpcclxuICAgICAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICAgICAqIEBwYXJhbSB0ZXh0ICBFc2NhcGVkIHRleHRcclxuICAgICAqIEByZXR1cm4gVW5lc2NhcGVkIHRleHRcclxuICAgICAqL1xyXG4gICAgdW5lc2NhcGUodGV4dCkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoJHR5cGUuUExBQ0VIT0xERVIyLCBcInxcIik7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TnVtYmVyRm9ybWF0dGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   each: () => (/* binding */ each),\n/* harmony export */   eachContinue: () => (/* binding */ eachContinue),\n/* harmony export */   eachOrdered: () => (/* binding */ eachOrdered),\n/* harmony export */   hasKey: () => (/* binding */ hasKey),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   keysOrdered: () => (/* binding */ keysOrdered),\n/* harmony export */   softCopyProperties: () => (/* binding */ softCopyProperties)\n/* harmony export */ });\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n\r\nfunction keys(object) {\r\n    return Object.keys(object);\r\n}\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nfunction keysOrdered(object, order) {\r\n    return keys(object).sort(order);\r\n}\r\nfunction copy(object) {\r\n    return Object.assign({}, object);\r\n}\r\nfunction each(object, f) {\r\n    keys(object).forEach((key) => {\r\n        f(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nfunction eachContinue(object, fn) {\r\n    for (let key in object) {\r\n        if (hasKey(object, key)) {\r\n            if (!fn(key, object[key])) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nfunction eachOrdered(object, fn, ord) {\r\n    _Array__WEBPACK_IMPORTED_MODULE_0__.each(keysOrdered(object, ord), (key) => {\r\n        fn(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nfunction hasKey(object, key) {\r\n    return {}.hasOwnProperty.call(object, key);\r\n}\r\n/**\r\n * Copies all properties of one object to the other, omitting undefined, but only if property in target object doesn't have a value set.\r\n *\r\n * @param fromObject  Source object\r\n * @param toObject    Target object\r\n * @return Updated target object\r\n * @todo Maybe consolidate with utils.copy?\r\n */\r\nfunction softCopyProperties(source, target) {\r\n    each(source, (key, value) => {\r\n        // only if value is set\r\n        //if ($type.hasValue(value) && !($type.hasValue((<any>target)[key]))) {\r\n        if (value != null && target[key] == null) {\r\n            target[key] = value;\r\n        }\r\n    });\r\n    return target;\r\n}\r\n//# sourceMappingURL=Object.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL09iamVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBa0M7QUFDM0I7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AsMkJBQTJCO0FBQzNCO0FBQ087QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsSUFBSSx3Q0FBVztBQUNmO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9PYmplY3QuanM/OWE2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuZXhwb3J0IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3QncyBwcm9wZXJ0eSBuYW1lcyBvcmRlcmVkIHVzaW5nIHNwZWNpZmljIG9yZGVyaW5nXHJcbiAqIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqZWN0ICBTb3VyY2Ugb2JqZWN0XHJcbiAqIEBwYXJhbSBvcmRlciAgIE9yZGVyaW5nIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIE9iamVjdCBwcm9wZXJ0eSBuYW1lc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGtleXNPcmRlcmVkKG9iamVjdCwgb3JkZXIpIHtcclxuICAgIHJldHVybiBrZXlzKG9iamVjdCkuc29ydChvcmRlcik7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob2JqZWN0KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZWFjaChvYmplY3QsIGYpIHtcclxuICAgIGtleXMob2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBmKGtleSwgb2JqZWN0W2tleV0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEl0ZXJhdGVzIHRocm91Z2ggYWxsIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBjYWxsaW5nIGBmbmAgZm9yIGVhY2ggb2YgdGhlbS5cclxuICpcclxuICogSWYgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiBldmFsdWF0ZXMgdG8gYGZhbHNlYCBmdXJ0aGVyIGl0ZXJhdGlvbiBpc1xyXG4gKiBjYW5jZWxsZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3QgIFNvdXJjZSBvYmplY3RcclxuICogQHBhcmFtIGZuICAgICAgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlYWNoQ29udGludWUob2JqZWN0LCBmbikge1xyXG4gICAgZm9yIChsZXQga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIGlmIChoYXNLZXkob2JqZWN0LCBrZXkpKSB7XHJcbiAgICAgICAgICAgIGlmICghZm4oa2V5LCBvYmplY3Rba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBPcmRlcnMgb2JqZWN0IHByb3BlcnRpZXMgdXNpbmcgY3VzdG9tIGBvcmRgIGZ1bmN0aW9uIGFuZCBpdGVyYXRlcyB0aHJvdWdoXHJcbiAqIHRoZW0gY2FsbGluZyBgZm5gIGZvciBlYWNoIG9mIHRoZW0uXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3QgIFNvdXJjZSBvYmplY3RcclxuICogQHBhcmFtIGZuICAgICAgQ2FsbGJhY2sgZnVuY3Rpb25cclxuICogQHBhcmFtIG9yZGVyICAgT3JkZXJpbmcgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlYWNoT3JkZXJlZChvYmplY3QsIGZuLCBvcmQpIHtcclxuICAgICRhcnJheS5lYWNoKGtleXNPcmRlcmVkKG9iamVjdCwgb3JkKSwgKGtleSkgPT4ge1xyXG4gICAgICAgIGZuKGtleSwgb2JqZWN0W2tleV0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBgb2JqZWN0YCBoYXMgYSBzcGVjaWZpYyBga2V5YC5cclxuICpcclxuICogQHBhcmFtIG9iamVjdCAgU291cmNlIG9iamVjdFxyXG4gKiBAcGFyYW0ga2V5ICAgICBQcm9wZXJ0eSBuYW1lXHJcbiAqIEByZXR1cm5zIEhhcyBrZXk/XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFzS2V5KG9iamVjdCwga2V5KSB7XHJcbiAgICByZXR1cm4ge30uaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XHJcbn1cclxuLyoqXHJcbiAqIENvcGllcyBhbGwgcHJvcGVydGllcyBvZiBvbmUgb2JqZWN0IHRvIHRoZSBvdGhlciwgb21pdHRpbmcgdW5kZWZpbmVkLCBidXQgb25seSBpZiBwcm9wZXJ0eSBpbiB0YXJnZXQgb2JqZWN0IGRvZXNuJ3QgaGF2ZSBhIHZhbHVlIHNldC5cclxuICpcclxuICogQHBhcmFtIGZyb21PYmplY3QgIFNvdXJjZSBvYmplY3RcclxuICogQHBhcmFtIHRvT2JqZWN0ICAgIFRhcmdldCBvYmplY3RcclxuICogQHJldHVybiBVcGRhdGVkIHRhcmdldCBvYmplY3RcclxuICogQHRvZG8gTWF5YmUgY29uc29saWRhdGUgd2l0aCB1dGlscy5jb3B5P1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNvZnRDb3B5UHJvcGVydGllcyhzb3VyY2UsIHRhcmdldCkge1xyXG4gICAgZWFjaChzb3VyY2UsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgLy8gb25seSBpZiB2YWx1ZSBpcyBzZXRcclxuICAgICAgICAvL2lmICgkdHlwZS5oYXNWYWx1ZSh2YWx1ZSkgJiYgISgkdHlwZS5oYXNWYWx1ZSgoPGFueT50YXJnZXQpW2tleV0pKSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHRhcmdldFtrZXldID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compare: () => (/* binding */ compare),\n/* harmony export */   compareArray: () => (/* binding */ compareArray),\n/* harmony export */   compareNumber: () => (/* binding */ compareNumber),\n/* harmony export */   reverse: () => (/* binding */ reverse)\n/* harmony export */ });\n/**\r\n * @ignore\r\n */\r\nfunction compare(left, right) {\r\n    if (left === right) {\r\n        return 0;\r\n    }\r\n    else if (left < right) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction compareArray(left, right, f) {\r\n    const leftLength = left.length;\r\n    const rightLength = right.length;\r\n    const length = Math.min(leftLength, rightLength);\r\n    for (let i = 0; i < length; ++i) {\r\n        const order = f(left[i], right[i]);\r\n        if (order !== 0) {\r\n            return order;\r\n        }\r\n    }\r\n    return compare(leftLength, rightLength);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction reverse(order) {\r\n    if (order < 0) {\r\n        return 1;\r\n    }\r\n    else if (order > 0) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction compareNumber(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n//# sourceMappingURL=Order.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL09yZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL2NvcmUvdXRpbC9PcmRlci5qcz9iYjlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZShsZWZ0LCByaWdodCkge1xyXG4gICAgaWYgKGxlZnQgPT09IHJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsZWZ0IDwgcmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVBcnJheShsZWZ0LCByaWdodCwgZikge1xyXG4gICAgY29uc3QgbGVmdExlbmd0aCA9IGxlZnQubGVuZ3RoO1xyXG4gICAgY29uc3QgcmlnaHRMZW5ndGggPSByaWdodC5sZW5ndGg7XHJcbiAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihsZWZ0TGVuZ3RoLCByaWdodExlbmd0aCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBmKGxlZnRbaV0sIHJpZ2h0W2ldKTtcclxuICAgICAgICBpZiAob3JkZXIgIT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjb21wYXJlKGxlZnRMZW5ndGgsIHJpZ2h0TGVuZ3RoKTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJldmVyc2Uob3JkZXIpIHtcclxuICAgIGlmIChvcmRlciA8IDApIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG9yZGVyID4gMCkge1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZU51bWJlcihhLCBiKSB7XHJcbiAgICBpZiAoYSA9PT0gYikge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYSA8IGIpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcmRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Percent: () => (/* binding */ Percent),\n/* harmony export */   isPercent: () => (/* binding */ isPercent),\n/* harmony export */   p0: () => (/* binding */ p0),\n/* harmony export */   p100: () => (/* binding */ p100),\n/* harmony export */   p50: () => (/* binding */ p50),\n/* harmony export */   percent: () => (/* binding */ percent)\n/* harmony export */ });\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a relative value (percent).\r\n *\r\n * The Percent object, can be instantiated using two ways:\r\n *\r\n * * Via `new Percent(X)`.\r\n * * Via `am5.percent(X)`.\r\n *\r\n * You can also use shortcut functions for `0%`, `50%`, and `100%`:\r\n * * `am5.p0`\r\n * * `am5.p50`\r\n * * `am5.p100`\r\n */\r\nclass Percent {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param percent  Percent value\r\n     */\r\n    constructor(percent) {\r\n        /**\r\n         * Value in percent.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = percent;\r\n    }\r\n    /**\r\n     * Relative value.\r\n     *\r\n     * E.g. 100% is 1, 50% is 0.5, etc.\r\n     *\r\n     * This is useful to apply transformations to other values. E.g.:\r\n     *\r\n     * ```TypeScript\r\n     * let value = 256;\r\n     * let percent = new am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     * ```JavaScript\r\n     * var value = 256;\r\n     * var percent = new am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     *\r\n     * Alternatively, you can use `am5.percent()` helper function:\r\n     *\r\n     * ```TypeScript\r\n     * let value = 256;\r\n     * let percent = am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     * ```JavaScript\r\n     * var value = 256;\r\n     * var percent = am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     *\r\n     * @readonly\r\n     * @return Relative value\r\n     */\r\n    get value() {\r\n        return this._value / 100;\r\n    }\r\n    /**\r\n     * Value in percent.\r\n     *\r\n     * @readonly\r\n     * @return Percent\r\n     */\r\n    get percent() {\r\n        return this._value;\r\n    }\r\n    toString() {\r\n        return \"\" + this._value + \"%\";\r\n    }\r\n    interpolate(min, max) {\r\n        return min + (this.value * (max - min));\r\n    }\r\n    static normalize(percent, min, max) {\r\n        if (percent instanceof Percent) {\r\n            return percent;\r\n        }\r\n        else {\r\n            if (min === max) {\r\n                return new Percent(0);\r\n            }\r\n            else {\r\n                return new Percent(Math.min(Math.max((percent - min) * (1 / (max - min)), 0), 1) * 100);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric percent value to a proper [[Percent]] object.\r\n *\r\n * ```TypeScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n * ```JavaScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n *\r\n * @param value  Percent\r\n * @return Percent object\r\n */\r\nfunction percent(value) {\r\n    return new Percent(value);\r\n}\r\n/**\r\n * A shortcut function to `am5.percent(0)`.\r\n */\r\nconst p0 = percent(0);\r\n/**\r\n * A shortcut function to `am5.percent(100)`.\r\n */\r\nconst p100 = percent(100);\r\n/**\r\n * A shortcut function to `am5.percent(50)`.\r\n */\r\nconst p50 = percent(50);\r\n/**\r\n * Checks if value is a [[Percent]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Input value\r\n * @return Is percent?\r\n */\r\nfunction isPercent(value) {\r\n    return value instanceof Percent;\r\n}\r\n//# sourceMappingURL=Percent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1BlcmNlbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvUGVyY2VudC5qcz8xZWU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE1BSU4gQ0xBU1NcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHJlbGF0aXZlIHZhbHVlIChwZXJjZW50KS5cclxuICpcclxuICogVGhlIFBlcmNlbnQgb2JqZWN0LCBjYW4gYmUgaW5zdGFudGlhdGVkIHVzaW5nIHR3byB3YXlzOlxyXG4gKlxyXG4gKiAqIFZpYSBgbmV3IFBlcmNlbnQoWClgLlxyXG4gKiAqIFZpYSBgYW01LnBlcmNlbnQoWClgLlxyXG4gKlxyXG4gKiBZb3UgY2FuIGFsc28gdXNlIHNob3J0Y3V0IGZ1bmN0aW9ucyBmb3IgYDAlYCwgYDUwJWAsIGFuZCBgMTAwJWA6XHJcbiAqICogYGFtNS5wMGBcclxuICogKiBgYW01LnA1MGBcclxuICogKiBgYW01LnAxMDBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGVyY2VudCB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwZXJjZW50ICBQZXJjZW50IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBlcmNlbnQpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBWYWx1ZSBpbiBwZXJjZW50LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl92YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHBlcmNlbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbGF0aXZlIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEUuZy4gMTAwJSBpcyAxLCA1MCUgaXMgMC41LCBldGMuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyB1c2VmdWwgdG8gYXBwbHkgdHJhbnNmb3JtYXRpb25zIHRvIG90aGVyIHZhbHVlcy4gRS5nLjpcclxuICAgICAqXHJcbiAgICAgKiBgYGBUeXBlU2NyaXB0XHJcbiAgICAgKiBsZXQgdmFsdWUgPSAyNTY7XHJcbiAgICAgKiBsZXQgcGVyY2VudCA9IG5ldyBhbTUucDUwO1xyXG4gICAgICogY29uc29sZS5sb2codmFsdWUgKiBwZXJjZW50LnZhbHVlKTsgLy8gb3V0cHV0cyAxMjhcclxuICAgICAqIGBgYFxyXG4gICAgICogYGBgSmF2YVNjcmlwdFxyXG4gICAgICogdmFyIHZhbHVlID0gMjU2O1xyXG4gICAgICogdmFyIHBlcmNlbnQgPSBuZXcgYW01LnA1MDtcclxuICAgICAqIGNvbnNvbGUubG9nKHZhbHVlICogcGVyY2VudC52YWx1ZSk7IC8vIG91dHB1dHMgMTI4XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSBgYW01LnBlcmNlbnQoKWAgaGVscGVyIGZ1bmN0aW9uOlxyXG4gICAgICpcclxuICAgICAqIGBgYFR5cGVTY3JpcHRcclxuICAgICAqIGxldCB2YWx1ZSA9IDI1NjtcclxuICAgICAqIGxldCBwZXJjZW50ID0gYW01LnA1MDtcclxuICAgICAqIGNvbnNvbGUubG9nKHZhbHVlICogcGVyY2VudC52YWx1ZSk7IC8vIG91dHB1dHMgMTI4XHJcbiAgICAgKiBgYGBcclxuICAgICAqIGBgYEphdmFTY3JpcHRcclxuICAgICAqIHZhciB2YWx1ZSA9IDI1NjtcclxuICAgICAqIHZhciBwZXJjZW50ID0gYW01LnA1MDtcclxuICAgICAqIGNvbnNvbGUubG9nKHZhbHVlICogcGVyY2VudC52YWx1ZSk7IC8vIG91dHB1dHMgMTI4XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEByZXR1cm4gUmVsYXRpdmUgdmFsdWVcclxuICAgICAqL1xyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSAvIDEwMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmFsdWUgaW4gcGVyY2VudC5cclxuICAgICAqXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEByZXR1cm4gUGVyY2VudFxyXG4gICAgICovXHJcbiAgICBnZXQgcGVyY2VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIHRoaXMuX3ZhbHVlICsgXCIlXCI7XHJcbiAgICB9XHJcbiAgICBpbnRlcnBvbGF0ZShtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiBtaW4gKyAodGhpcy52YWx1ZSAqIChtYXggLSBtaW4pKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBub3JtYWxpemUocGVyY2VudCwgbWluLCBtYXgpIHtcclxuICAgICAgICBpZiAocGVyY2VudCBpbnN0YW5jZW9mIFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobWluID09PSBtYXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGVyY2VudCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGVyY2VudChNYXRoLm1pbihNYXRoLm1heCgocGVyY2VudCAtIG1pbikgKiAoMSAvIChtYXggLSBtaW4pKSwgMCksIDEpICogMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29udmVydHMgbnVtZXJpYyBwZXJjZW50IHZhbHVlIHRvIGEgcHJvcGVyIFtbUGVyY2VudF1dIG9iamVjdC5cclxuICpcclxuICogYGBgVHlwZVNjcmlwdFxyXG4gKiBwaWVTZXJpZXMuc2V0KFwicmFkaXVzXCIsIGFtNS5wZXJjZW50KDgwKSk7XHJcbiAqIGBgYFxyXG4gKiBgYGBKYXZhU2NyaXB0XHJcbiAqIHBpZVNlcmllcy5zZXQoXCJyYWRpdXNcIiwgYW01LnBlcmNlbnQoODApKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgUGVyY2VudFxyXG4gKiBAcmV0dXJuIFBlcmNlbnQgb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGVyY2VudCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQZXJjZW50KHZhbHVlKTtcclxufVxyXG4vKipcclxuICogQSBzaG9ydGN1dCBmdW5jdGlvbiB0byBgYW01LnBlcmNlbnQoMClgLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHAwID0gcGVyY2VudCgwKTtcclxuLyoqXHJcbiAqIEEgc2hvcnRjdXQgZnVuY3Rpb24gdG8gYGFtNS5wZXJjZW50KDEwMClgLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHAxMDAgPSBwZXJjZW50KDEwMCk7XHJcbi8qKlxyXG4gKiBBIHNob3J0Y3V0IGZ1bmN0aW9uIHRvIGBhbTUucGVyY2VudCg1MClgLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHA1MCA9IHBlcmNlbnQoNTApO1xyXG4vKipcclxuICogQ2hlY2tzIGlmIHZhbHVlIGlzIGEgW1tQZXJjZW50XV0gb2JqZWN0LlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEBwYXJhbSB2YWx1ZSAgSW5wdXQgdmFsdWVcclxuICogQHJldHVybiBJcyBwZXJjZW50P1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyY2VudCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUGVyY2VudDtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1QZXJjZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTagValueFromObject: () => (/* binding */ getTagValueFromObject),\n/* harmony export */   populateString: () => (/* binding */ populateString)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/* harmony import */ var _render_Sprite__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../render/Sprite */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js\");\n/* harmony import */ var _TextFormatter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextFormatter */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\");\n/** @ignore */ /** */\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction populateString(target, string) {\r\n    if (string != null) {\r\n        string = \"\" + string;\r\n        string = _TextFormatter__WEBPACK_IMPORTED_MODULE_0__.TextFormatter.escape(string);\r\n        let tags = string.match(/\\{([^}]+)\\}/g);\r\n        let i;\r\n        if (tags) {\r\n            for (i = 0; i < tags.length; i++) {\r\n                let tag = tags[i].replace(/\\{([^}]+)\\}/, \"$1\");\r\n                let value = getTagValue(target, tag, \"\");\r\n                if (value == null) {\r\n                    value = \"\";\r\n                }\r\n                string = string.split(tags[i]).join(value);\r\n            }\r\n        }\r\n        string = _TextFormatter__WEBPACK_IMPORTED_MODULE_0__.TextFormatter.unescape(string);\r\n    }\r\n    else {\r\n        string = \"\";\r\n    }\r\n    // TODO: apply adapter?\r\n    return string;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getTagValue(target, tagName, format) {\r\n    let value;\r\n    const dataItem = target.dataItem;\r\n    // Parse parts\r\n    let parts = [];\r\n    let reg = /(format[a-zA-Z]*)\\((.*)\\)|([^.]+)/g;\r\n    let matches;\r\n    while (true) {\r\n        matches = reg.exec(tagName);\r\n        if (matches === null) {\r\n            break;\r\n        }\r\n        if (matches[3]) {\r\n            // Simple property\r\n            parts.push({\r\n                prop: matches[3]\r\n            });\r\n            // Check if maybe we should force a formatter on this value\r\n            const dateFields = target.getDateFormatter().get(\"dateFields\", []);\r\n            const numericFields = target.getNumberFormatter().get(\"numericFields\", []);\r\n            const durationFields = target.getDurationFormatter().get(\"durationFields\", []);\r\n            if (dateFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDate\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (numericFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatNumber\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (durationFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDuration\",\r\n                    params: []\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            // Parse parameters\r\n            let params = [];\r\n            if (_Utils__WEBPACK_IMPORTED_MODULE_1__.trim(matches[2]) != \"\") {\r\n                let reg2 = /'([^']*)'|\"([^\"]*)\"|([0-9\\-]+)/g;\r\n                let matches2;\r\n                while (true) {\r\n                    matches2 = reg2.exec(matches[2]);\r\n                    if (matches2 === null) {\r\n                        break;\r\n                    }\r\n                    params.push(matches2[1] || matches2[2] || matches2[3]);\r\n                }\r\n            }\r\n            parts.push({\r\n                method: matches[1],\r\n                params: params\r\n            });\r\n        }\r\n    }\r\n    // Check if we can retrieve the value from data item\r\n    if (dataItem) {\r\n        // Check values\r\n        value = getTagValueFromObject(target, parts, dataItem._settings);\r\n        // Check properties\r\n        if (value == null || _Type__WEBPACK_IMPORTED_MODULE_2__.isObject(value)) { // isObject helps to solve problem with date axis, as for example dateX will get dateX from values object and won't get to the dateX date.\r\n            value = getTagValueFromObject(target, parts, dataItem);\r\n        }\r\n        // Check data context\r\n        let dataContext = dataItem.dataContext;\r\n        if (value == null && dataContext) {\r\n            value = getTagValueFromObject(target, parts, dataContext);\r\n            // Maybe it's a literal dot-separated name of the key in dataContext?\r\n            if (value == null) {\r\n                value = getTagValueFromObject(target, [{\r\n                        prop: tagName\r\n                    }], dataContext);\r\n            }\r\n            // scond data context level sometimes exist (tree map)\r\n            if (value == null && dataContext.dataContext) {\r\n                value = getTagValueFromObject(target, parts, dataContext.dataContext);\r\n            }\r\n        }\r\n        // Check component's data item\r\n        if (value == null && dataItem.component && dataItem.component.dataItem !== dataItem) {\r\n            value = getTagValue(dataItem.component, tagName, format);\r\n        }\r\n    }\r\n    // Check sprite's properties\r\n    if (value == null) {\r\n        value = getTagValueFromObject(target, parts, target);\r\n    }\r\n    // Finally, check the parent\r\n    if (value == null && target.parent) {\r\n        value = getTagValue(target.parent, tagName, format);\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getCustomDataValue(target, prop) {\r\n    const customData = target.getPrivate(\"customData\");\r\n    if (_Type__WEBPACK_IMPORTED_MODULE_2__.isObject(customData)) {\r\n        return customData[prop];\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getTagValueFromObject(target, parts, object, format) {\r\n    let current = object;\r\n    let formatApplied = false;\r\n    for (let i = 0, len = parts.length; i < len; i++) {\r\n        let part = parts[i];\r\n        if (part.prop) {\r\n            // Regular property\r\n            if (current instanceof _render_Sprite__WEBPACK_IMPORTED_MODULE_3__.Sprite) {\r\n                let tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current.getPrivate(part.prop);\r\n                if (tmp == null)\r\n                    tmp = getCustomDataValue(current, part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else if (current.get) {\r\n                let tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else {\r\n                current = current[part.prop];\r\n            }\r\n            if (current == null) {\r\n                // Not set, return undefined\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            switch (part.method) {\r\n                case \"formatNumber\":\r\n                    let numberValue = _Type__WEBPACK_IMPORTED_MODULE_2__.toNumber(current);\r\n                    if (numberValue != null) {\r\n                        current = target.getNumberFormatter().format(numberValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDate\":\r\n                    let dateValue = _Type__WEBPACK_IMPORTED_MODULE_2__.toDate(current);\r\n                    if (!_Type__WEBPACK_IMPORTED_MODULE_2__.isDate(dateValue) || _Type__WEBPACK_IMPORTED_MODULE_2__.isNaN(dateValue.getTime())) {\r\n                        // Was not able to get date out of value, quitting and letting\r\n                        // calling method try another value\r\n                        return;\r\n                    }\r\n                    if (dateValue != null) {\r\n                        current = target.getDateFormatter().format(dateValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDuration\":\r\n                    let durationValue = _Type__WEBPACK_IMPORTED_MODULE_2__.toNumber(current);\r\n                    if (durationValue != null) {\r\n                        current = target.getDurationFormatter().format(durationValue, format || part.params[0] || undefined, part.params[1] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"urlEncode\":\r\n                case \"encodeURIComponent\":\r\n                    current = encodeURIComponent(current);\r\n                    break;\r\n                default:\r\n                    if (current[part.method]) {\r\n                        current[part.method].apply(object, part.params);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    // Apply default format if it wasn't applied explicitly\r\n    if (!formatApplied) {\r\n        let formatParts = [{\r\n                method: \"\",\r\n                params: format\r\n            }];\r\n        if (format == null) {\r\n            // Format is not set\r\n            // Determine from the type of the value\r\n            if (_Type__WEBPACK_IMPORTED_MODULE_2__.isNumber(current)) {\r\n                formatParts[0].method = \"formatNumber\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n            else if (_Type__WEBPACK_IMPORTED_MODULE_2__.isDate(current)) {\r\n                formatParts[0].method = \"formatDate\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n        }\r\n        else {\r\n            // Format set\r\n            // Try to determine formatter based on the format\r\n            let formatterType = _Utils__WEBPACK_IMPORTED_MODULE_1__.getFormat(format);\r\n            // format\r\n            if (formatterType === \"number\") {\r\n                formatParts[0].method = \"formatNumber\";\r\n            }\r\n            else if (formatterType === \"date\") {\r\n                formatParts[0].method = \"formatDate\";\r\n            }\r\n            else if (formatterType === \"duration\") {\r\n                formatParts[0].method = \"formatDuration\";\r\n            }\r\n        }\r\n        // Apply format\r\n        if (formatParts[0].method) {\r\n            current = getTagValueFromObject(target, formatParts, current);\r\n        }\r\n    }\r\n    return current;\r\n}\r\n//# sourceMappingURL=PopulateString.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1BvcHVsYXRlU3RyaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ2dDO0FBQ0U7QUFDUTtBQUNNO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQix5REFBYTtBQUM5QixtQ0FBbUMsSUFBSSxLQUFLO0FBQzVDO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDLDZDQUE2QyxJQUFJLEtBQUs7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseURBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0NBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMkNBQWMsV0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyQ0FBYztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0RBQU07QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDJDQUFjO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5Q0FBWTtBQUNoRCx5QkFBeUIseUNBQVksZUFBZSx3Q0FBVztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywyQ0FBYztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlDQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDZDQUFnQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1BvcHVsYXRlU3RyaW5nLmpzPzRmODEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBpZ25vcmUgKi8gLyoqICovXHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuL1R5cGVcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi9yZW5kZXIvU3ByaXRlXCI7XHJcbmltcG9ydCB7IFRleHRGb3JtYXR0ZXIgfSBmcm9tIFwiLi9UZXh0Rm9ybWF0dGVyXCI7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcG9wdWxhdGVTdHJpbmcodGFyZ2V0LCBzdHJpbmcpIHtcclxuICAgIGlmIChzdHJpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgIHN0cmluZyA9IFwiXCIgKyBzdHJpbmc7XHJcbiAgICAgICAgc3RyaW5nID0gVGV4dEZvcm1hdHRlci5lc2NhcGUoc3RyaW5nKTtcclxuICAgICAgICBsZXQgdGFncyA9IHN0cmluZy5tYXRjaCgvXFx7KFtefV0rKVxcfS9nKTtcclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBpZiAodGFncykge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhZyA9IHRhZ3NbaV0ucmVwbGFjZSgvXFx7KFtefV0rKVxcfS8sIFwiJDFcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBnZXRUYWdWYWx1ZSh0YXJnZXQsIHRhZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zcGxpdCh0YWdzW2ldKS5qb2luKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdHJpbmcgPSBUZXh0Rm9ybWF0dGVyLnVuZXNjYXBlKHN0cmluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBzdHJpbmcgPSBcIlwiO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogYXBwbHkgYWRhcHRlcj9cclxuICAgIHJldHVybiBzdHJpbmc7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIGdldFRhZ1ZhbHVlKHRhcmdldCwgdGFnTmFtZSwgZm9ybWF0KSB7XHJcbiAgICBsZXQgdmFsdWU7XHJcbiAgICBjb25zdCBkYXRhSXRlbSA9IHRhcmdldC5kYXRhSXRlbTtcclxuICAgIC8vIFBhcnNlIHBhcnRzXHJcbiAgICBsZXQgcGFydHMgPSBbXTtcclxuICAgIGxldCByZWcgPSAvKGZvcm1hdFthLXpBLVpdKilcXCgoLiopXFwpfChbXi5dKykvZztcclxuICAgIGxldCBtYXRjaGVzO1xyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBtYXRjaGVzID0gcmVnLmV4ZWModGFnTmFtZSk7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtYXRjaGVzWzNdKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbXBsZSBwcm9wZXJ0eVxyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHByb3A6IG1hdGNoZXNbM11cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG1heWJlIHdlIHNob3VsZCBmb3JjZSBhIGZvcm1hdHRlciBvbiB0aGlzIHZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGVGaWVsZHMgPSB0YXJnZXQuZ2V0RGF0ZUZvcm1hdHRlcigpLmdldChcImRhdGVGaWVsZHNcIiwgW10pO1xyXG4gICAgICAgICAgICBjb25zdCBudW1lcmljRmllbGRzID0gdGFyZ2V0LmdldE51bWJlckZvcm1hdHRlcigpLmdldChcIm51bWVyaWNGaWVsZHNcIiwgW10pO1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbkZpZWxkcyA9IHRhcmdldC5nZXREdXJhdGlvbkZvcm1hdHRlcigpLmdldChcImR1cmF0aW9uRmllbGRzXCIsIFtdKTtcclxuICAgICAgICAgICAgaWYgKGRhdGVGaWVsZHMuaW5kZXhPZihtYXRjaGVzWzNdKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJmb3JtYXREYXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobnVtZXJpY0ZpZWxkcy5pbmRleE9mKG1hdGNoZXNbM10pICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcImZvcm1hdE51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogW11cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGR1cmF0aW9uRmllbGRzLmluZGV4T2YobWF0Y2hlc1szXSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiZm9ybWF0RHVyYXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTWV0aG9kXHJcbiAgICAgICAgICAgIC8vIFBhcnNlIHBhcmFtZXRlcnNcclxuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoJHV0aWxzLnRyaW0obWF0Y2hlc1syXSkgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZzIgPSAvJyhbXiddKiknfFwiKFteXCJdKilcInwoWzAtOVxcLV0rKS9nO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMyO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzMiA9IHJlZzIuZXhlYyhtYXRjaGVzWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlczIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKG1hdGNoZXMyWzFdIHx8IG1hdGNoZXMyWzJdIHx8IG1hdGNoZXMyWzNdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHdlIGNhbiByZXRyaWV2ZSB0aGUgdmFsdWUgZnJvbSBkYXRhIGl0ZW1cclxuICAgIGlmIChkYXRhSXRlbSkge1xyXG4gICAgICAgIC8vIENoZWNrIHZhbHVlc1xyXG4gICAgICAgIHZhbHVlID0gZ2V0VGFnVmFsdWVGcm9tT2JqZWN0KHRhcmdldCwgcGFydHMsIGRhdGFJdGVtLl9zZXR0aW5ncyk7XHJcbiAgICAgICAgLy8gQ2hlY2sgcHJvcGVydGllc1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8ICR0eXBlLmlzT2JqZWN0KHZhbHVlKSkgeyAvLyBpc09iamVjdCBoZWxwcyB0byBzb2x2ZSBwcm9ibGVtIHdpdGggZGF0ZSBheGlzLCBhcyBmb3IgZXhhbXBsZSBkYXRlWCB3aWxsIGdldCBkYXRlWCBmcm9tIHZhbHVlcyBvYmplY3QgYW5kIHdvbid0IGdldCB0byB0aGUgZGF0ZVggZGF0ZS5cclxuICAgICAgICAgICAgdmFsdWUgPSBnZXRUYWdWYWx1ZUZyb21PYmplY3QodGFyZ2V0LCBwYXJ0cywgZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBkYXRhIGNvbnRleHRcclxuICAgICAgICBsZXQgZGF0YUNvbnRleHQgPSBkYXRhSXRlbS5kYXRhQ29udGV4dDtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBkYXRhQ29udGV4dCkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGdldFRhZ1ZhbHVlRnJvbU9iamVjdCh0YXJnZXQsIHBhcnRzLCBkYXRhQ29udGV4dCk7XHJcbiAgICAgICAgICAgIC8vIE1heWJlIGl0J3MgYSBsaXRlcmFsIGRvdC1zZXBhcmF0ZWQgbmFtZSBvZiB0aGUga2V5IGluIGRhdGFDb250ZXh0P1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBnZXRUYWdWYWx1ZUZyb21PYmplY3QodGFyZ2V0LCBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wOiB0YWdOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfV0sIGRhdGFDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzY29uZCBkYXRhIGNvbnRleHQgbGV2ZWwgc29tZXRpbWVzIGV4aXN0ICh0cmVlIG1hcClcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgZGF0YUNvbnRleHQuZGF0YUNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gZ2V0VGFnVmFsdWVGcm9tT2JqZWN0KHRhcmdldCwgcGFydHMsIGRhdGFDb250ZXh0LmRhdGFDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBjb21wb25lbnQncyBkYXRhIGl0ZW1cclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBkYXRhSXRlbS5jb21wb25lbnQgJiYgZGF0YUl0ZW0uY29tcG9uZW50LmRhdGFJdGVtICE9PSBkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGdldFRhZ1ZhbHVlKGRhdGFJdGVtLmNvbXBvbmVudCwgdGFnTmFtZSwgZm9ybWF0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBzcHJpdGUncyBwcm9wZXJ0aWVzXHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgIHZhbHVlID0gZ2V0VGFnVmFsdWVGcm9tT2JqZWN0KHRhcmdldCwgcGFydHMsIHRhcmdldCk7XHJcbiAgICB9XHJcbiAgICAvLyBGaW5hbGx5LCBjaGVjayB0aGUgcGFyZW50XHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiB0YXJnZXQucGFyZW50KSB7XHJcbiAgICAgICAgdmFsdWUgPSBnZXRUYWdWYWx1ZSh0YXJnZXQucGFyZW50LCB0YWdOYW1lLCBmb3JtYXQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDdXN0b21EYXRhVmFsdWUodGFyZ2V0LCBwcm9wKSB7XHJcbiAgICBjb25zdCBjdXN0b21EYXRhID0gdGFyZ2V0LmdldFByaXZhdGUoXCJjdXN0b21EYXRhXCIpO1xyXG4gICAgaWYgKCR0eXBlLmlzT2JqZWN0KGN1c3RvbURhdGEpKSB7XHJcbiAgICAgICAgcmV0dXJuIGN1c3RvbURhdGFbcHJvcF07XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUYWdWYWx1ZUZyb21PYmplY3QodGFyZ2V0LCBwYXJ0cywgb2JqZWN0LCBmb3JtYXQpIHtcclxuICAgIGxldCBjdXJyZW50ID0gb2JqZWN0O1xyXG4gICAgbGV0IGZvcm1hdEFwcGxpZWQgPSBmYWxzZTtcclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGxldCBwYXJ0ID0gcGFydHNbaV07XHJcbiAgICAgICAgaWYgKHBhcnQucHJvcCkge1xyXG4gICAgICAgICAgICAvLyBSZWd1bGFyIHByb3BlcnR5XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50IGluc3RhbmNlb2YgU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG1wID0gY3VycmVudC5nZXQocGFydC5wcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBjdXJyZW50LmdldFByaXZhdGUocGFydC5wcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBnZXRDdXN0b21EYXRhVmFsdWUoY3VycmVudCwgcGFydC5wcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBjdXJyZW50W3BhcnQucHJvcF07XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQuZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG1wID0gY3VycmVudC5nZXQocGFydC5wcm9wKTtcclxuICAgICAgICAgICAgICAgIGlmICh0bXAgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0bXAgPSBjdXJyZW50W3BhcnQucHJvcF07XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydC5wcm9wXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOb3Qgc2V0LCByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE1ldGhvZFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQubWV0aG9kKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0TnVtYmVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG51bWJlclZhbHVlID0gJHR5cGUudG9OdW1iZXIoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bWJlclZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRhcmdldC5nZXROdW1iZXJGb3JtYXR0ZXIoKS5mb3JtYXQobnVtYmVyVmFsdWUsIGZvcm1hdCB8fCBwYXJ0LnBhcmFtc1swXSB8fCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRBcHBsaWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0RGF0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRlVmFsdWUgPSAkdHlwZS50b0RhdGUoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc0RhdGUoZGF0ZVZhbHVlKSB8fCAkdHlwZS5pc05hTihkYXRlVmFsdWUuZ2V0VGltZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYXMgbm90IGFibGUgdG8gZ2V0IGRhdGUgb3V0IG9mIHZhbHVlLCBxdWl0dGluZyBhbmQgbGV0dGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsaW5nIG1ldGhvZCB0cnkgYW5vdGhlciB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlVmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGFyZ2V0LmdldERhdGVGb3JtYXR0ZXIoKS5mb3JtYXQoZGF0ZVZhbHVlLCBmb3JtYXQgfHwgcGFydC5wYXJhbXNbMF0gfHwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0QXBwbGllZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImZvcm1hdER1cmF0aW9uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGR1cmF0aW9uVmFsdWUgPSAkdHlwZS50b051bWJlcihjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb25WYWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQuZ2V0RHVyYXRpb25Gb3JtYXR0ZXIoKS5mb3JtYXQoZHVyYXRpb25WYWx1ZSwgZm9ybWF0IHx8IHBhcnQucGFyYW1zWzBdIHx8IHVuZGVmaW5lZCwgcGFydC5wYXJhbXNbMV0gfHwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0QXBwbGllZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInVybEVuY29kZVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVuY29kZVVSSUNvbXBvbmVudFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBlbmNvZGVVUklDb21wb25lbnQoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50W3BhcnQubWV0aG9kXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W3BhcnQubWV0aG9kXS5hcHBseShvYmplY3QsIHBhcnQucGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBBcHBseSBkZWZhdWx0IGZvcm1hdCBpZiBpdCB3YXNuJ3QgYXBwbGllZCBleHBsaWNpdGx5XHJcbiAgICBpZiAoIWZvcm1hdEFwcGxpZWQpIHtcclxuICAgICAgICBsZXQgZm9ybWF0UGFydHMgPSBbe1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBmb3JtYXRcclxuICAgICAgICAgICAgfV07XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIEZvcm1hdCBpcyBub3Qgc2V0XHJcbiAgICAgICAgICAgIC8vIERldGVybWluZSBmcm9tIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAoJHR5cGUuaXNOdW1iZXIoY3VycmVudCkpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdFBhcnRzWzBdLm1ldGhvZCA9IFwiZm9ybWF0TnVtYmVyXCI7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXRQYXJ0c1swXS5wYXJhbXMgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCR0eXBlLmlzRGF0ZShjdXJyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0UGFydHNbMF0ubWV0aG9kID0gXCJmb3JtYXREYXRlXCI7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXRQYXJ0c1swXS5wYXJhbXMgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGb3JtYXQgc2V0XHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBkZXRlcm1pbmUgZm9ybWF0dGVyIGJhc2VkIG9uIHRoZSBmb3JtYXRcclxuICAgICAgICAgICAgbGV0IGZvcm1hdHRlclR5cGUgPSAkdXRpbHMuZ2V0Rm9ybWF0KGZvcm1hdCk7XHJcbiAgICAgICAgICAgIC8vIGZvcm1hdFxyXG4gICAgICAgICAgICBpZiAoZm9ybWF0dGVyVHlwZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0UGFydHNbMF0ubWV0aG9kID0gXCJmb3JtYXROdW1iZXJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmb3JtYXR0ZXJUeXBlID09PSBcImRhdGVcIikge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0UGFydHNbMF0ubWV0aG9kID0gXCJmb3JtYXREYXRlXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZm9ybWF0dGVyVHlwZSA9PT0gXCJkdXJhdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXRQYXJ0c1swXS5tZXRob2QgPSBcImZvcm1hdER1cmF0aW9uXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXBwbHkgZm9ybWF0XHJcbiAgICAgICAgaWYgKGZvcm1hdFBhcnRzWzBdLm1ldGhvZCkge1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gZ2V0VGFnVmFsdWVGcm9tT2JqZWN0KHRhcmdldCwgZm9ybWF0UGFydHMsIGN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjdXJyZW50O1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvcHVsYXRlU3RyaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeSensor: () => (/* binding */ ResizeSensor)\n/* harmony export */ });\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/** @ignore */ /** */\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nclass Native {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_observer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        this._observer = new ResizeObserver((entries) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_0__.each(entries, (entry) => {\r\n                _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._targets, (x) => {\r\n                    if (x.target === entry.target) {\r\n                        x.callback();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    addTarget(target, callback) {\r\n        this._observer.observe(target, { box: \"border-box\" });\r\n        this._targets.push({ target, callback });\r\n    }\r\n    removeTarget(target) {\r\n        this._observer.unobserve(target);\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.keepIf(this._targets, (x) => {\r\n            return x.target !== target;\r\n        });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Raf {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_timer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    addTarget(target, callback) {\r\n        if (this._timer === null) {\r\n            let lastTime = null;\r\n            const loop = () => {\r\n                const currentTime = Date.now();\r\n                if (lastTime === null || currentTime > (lastTime + Raf.delay)) {\r\n                    lastTime = currentTime;\r\n                    _Array__WEBPACK_IMPORTED_MODULE_0__.each(this._targets, (x) => {\r\n                        let newSize = x.target.getBoundingClientRect();\r\n                        if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\r\n                            x.size = newSize;\r\n                            x.callback();\r\n                        }\r\n                    });\r\n                }\r\n                if (this._targets.length === 0) {\r\n                    this._timer = null;\r\n                }\r\n                else {\r\n                    this._timer = requestAnimationFrame(loop);\r\n                }\r\n            };\r\n            this._timer = requestAnimationFrame(loop);\r\n        }\r\n        // We start off with fake bounds so that sensor always kicks in\r\n        let size = { width: 0, height: 0, left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\r\n        this._targets.push({ target, callback, size });\r\n    }\r\n    removeTarget(target) {\r\n        _Array__WEBPACK_IMPORTED_MODULE_0__.keepIf(this._targets, (x) => {\r\n            return x.target !== target;\r\n        });\r\n        if (this._targets.length === 0) {\r\n            if (this._timer !== null) {\r\n                cancelAnimationFrame(this._timer);\r\n                this._timer = null;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Raf, \"delay\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: 200\r\n});\r\n/**\r\n * @ignore\r\n */\r\nlet observer = null;\r\n/**\r\n * @ignore\r\n */\r\nfunction makeSensor() {\r\n    if (observer === null) {\r\n        if (typeof ResizeObserver !== \"undefined\") {\r\n            observer = new Native();\r\n        }\r\n        else {\r\n            observer = new Raf();\r\n        }\r\n    }\r\n    return observer;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ResizeSensor {\r\n    constructor(element, callback) {\r\n        Object.defineProperty(this, \"_sensor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_listener\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        this._sensor = makeSensor();\r\n        this._element = element;\r\n        // This is needed because we need to know when the window is zoomed\r\n        this._listener = _Utils__WEBPACK_IMPORTED_MODULE_1__.onZoom(callback);\r\n        this._sensor.addTarget(element, callback);\r\n    }\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._sensor.removeTarget(this._element);\r\n            this._listener.dispose();\r\n        }\r\n    }\r\n    get sensor() {\r\n        return this._sensor;\r\n    }\r\n}\r\n//# sourceMappingURL=ResizeSensor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1Jlc2l6ZVNlbnNvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNrQztBQUNBO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxZQUFZLHdDQUFXO0FBQ3ZCLGdCQUFnQix3Q0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EseUNBQXlDLG1CQUFtQjtBQUM1RCw2QkFBNkIsa0JBQWtCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMENBQWE7QUFDckI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3Q0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsNkJBQTZCLHdCQUF3QjtBQUNyRDtBQUNBO0FBQ0EsUUFBUSwwQ0FBYTtBQUNyQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQWE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1Jlc2l6ZVNlbnNvci5qcz81NGFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAaWdub3JlICovIC8qKiAqL1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJHV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBOYXRpdmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX29ic2VydmVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90YXJnZXRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LmVhY2goZW50cmllcywgKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkYXJyYXkuZWFjaCh0aGlzLl90YXJnZXRzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4LnRhcmdldCA9PT0gZW50cnkudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHguY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRUYXJnZXQodGFyZ2V0LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7IGJveDogXCJib3JkZXItYm94XCIgfSk7XHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0cy5wdXNoKHsgdGFyZ2V0LCBjYWxsYmFjayB9KTtcclxuICAgIH1cclxuICAgIHJlbW92ZVRhcmdldCh0YXJnZXQpIHtcclxuICAgICAgICB0aGlzLl9vYnNlcnZlci51bm9ic2VydmUodGFyZ2V0KTtcclxuICAgICAgICAkYXJyYXkua2VlcElmKHRoaXMuX3RhcmdldHMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB4LnRhcmdldCAhPT0gdGFyZ2V0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBSYWYge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RpbWVyXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGFyZ2V0c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYWRkVGFyZ2V0KHRhcmdldCwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fdGltZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGxhc3RUaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgbG9vcCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGlmIChsYXN0VGltZSA9PT0gbnVsbCB8fCBjdXJyZW50VGltZSA+IChsYXN0VGltZSArIFJhZi5kZWxheSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJheS5lYWNoKHRoaXMuX3RhcmdldHMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdTaXplID0geC50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdTaXplLndpZHRoICE9PSB4LnNpemUud2lkdGggfHwgbmV3U2l6ZS5oZWlnaHQgIT09IHguc2l6ZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2l6ZSA9IG5ld1NpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90YXJnZXRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lciA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV2Ugc3RhcnQgb2ZmIHdpdGggZmFrZSBib3VuZHMgc28gdGhhdCBzZW5zb3IgYWx3YXlzIGtpY2tzIGluXHJcbiAgICAgICAgbGV0IHNpemUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCwgeDogMCwgeTogMCB9O1xyXG4gICAgICAgIHRoaXMuX3RhcmdldHMucHVzaCh7IHRhcmdldCwgY2FsbGJhY2ssIHNpemUgfSk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVUYXJnZXQodGFyZ2V0KSB7XHJcbiAgICAgICAgJGFycmF5LmtlZXBJZih0aGlzLl90YXJnZXRzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4geC50YXJnZXQgIT09IHRhcmdldDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl90aW1lcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJhZiwgXCJkZWxheVwiLCB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB2YWx1ZTogMjAwXHJcbn0pO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxubGV0IG9ic2VydmVyID0gbnVsbDtcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmZ1bmN0aW9uIG1ha2VTZW5zb3IoKSB7XHJcbiAgICBpZiAob2JzZXJ2ZXIgPT09IG51bGwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0gbmV3IE5hdGl2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgUmFmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9ic2VydmVyO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmVzaXplU2Vuc29yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NlbnNvclwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZWxlbWVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGlzdGVuZXJcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2Rpc3Bvc2VkXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fc2Vuc29yID0gbWFrZVNlbnNvcigpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2Ugd2UgbmVlZCB0byBrbm93IHdoZW4gdGhlIHdpbmRvdyBpcyB6b29tZWRcclxuICAgICAgICB0aGlzLl9saXN0ZW5lciA9ICR1dGlscy5vblpvb20oY2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuX3NlbnNvci5hZGRUYXJnZXQoZWxlbWVudCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgaXNEaXNwb3NlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XHJcbiAgICB9XHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9zZW5zb3IucmVtb3ZlVGFyZ2V0KHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHNlbnNvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2Vuc29yO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc2l6ZVNlbnNvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/States.js":
/*!************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/States.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   State: () => (/* binding */ State),\n/* harmony export */   States: () => (/* binding */ States)\n/* harmony export */ });\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Ease__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Ease */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\");\n\r\n\r\n/**\r\n * An object representing a collection of setting values to apply as required.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nclass State {\r\n    constructor(entity, settings) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_userSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n        this._settings = settings;\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(settings, (key) => {\r\n            this._userSettings[key] = true;\r\n        });\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        this._settings[key] = value;\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key` to be set when the state\r\n     * is applied.\r\n     *\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._userSettings[key] = true;\r\n        this.setRaw(key, value);\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        delete this._userSettings[key];\r\n        delete this._settings[key];\r\n    }\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    setAll(settings) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.keys(settings).forEach((key) => {\r\n            this.set(key, settings[key]);\r\n        });\r\n    }\r\n    _eachSetting(f) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._settings, f);\r\n    }\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * All setting values are set immediately.\r\n     */\r\n    apply() {\r\n        const seen = {};\r\n        seen[\"stateAnimationEasing\"] = true;\r\n        seen[\"stateAnimationDuration\"] = true;\r\n        const defaultState = this._entity.states.lookup(\"default\");\r\n        this._eachSetting((key, value) => {\r\n            if (!seen[key]) {\r\n                seen[key] = true;\r\n                // save values to default state\r\n                if (this !== defaultState) {\r\n                    if (!(key in defaultState._settings)) {\r\n                        defaultState._settings[key] = this._entity.get(key);\r\n                    }\r\n                }\r\n                this._entity.set(key, value);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @return           Animations\r\n     */\r\n    applyAnimate(duration) {\r\n        if (duration == null) {\r\n            duration = this._settings.stateAnimationDuration;\r\n        }\r\n        if (duration == null) {\r\n            duration = this.get(\"stateAnimationDuration\", this._entity.get(\"stateAnimationDuration\", 0));\r\n        }\r\n        let easing = this._settings.stateAnimationEasing;\r\n        if (easing == null) {\r\n            easing = this.get(\"stateAnimationEasing\", this._entity.get(\"stateAnimationEasing\", _Ease__WEBPACK_IMPORTED_MODULE_1__.cubic));\r\n        }\r\n        const defaultState = this._entity.states.lookup(\"default\");\r\n        const seen = {};\r\n        seen[\"stateAnimationEasing\"] = true;\r\n        seen[\"stateAnimationDuration\"] = true;\r\n        const animations = {};\r\n        this._eachSetting((key, value) => {\r\n            if (!seen[key]) {\r\n                seen[key] = true;\r\n                // save values to default state\r\n                if (this != defaultState) {\r\n                    if (!(key in defaultState._settings)) {\r\n                        defaultState._settings[key] = this._entity.get(key);\r\n                    }\r\n                }\r\n                const animation = this._entity.animate({\r\n                    key: key,\r\n                    to: value,\r\n                    duration: duration,\r\n                    easing: easing\r\n                });\r\n                if (animation) {\r\n                    animations[key] = animation;\r\n                }\r\n            }\r\n        });\r\n        return animations;\r\n    }\r\n}\r\n/**\r\n * Collection of [[State]] objects for an element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nclass States {\r\n    constructor(entity) {\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Checks if a state by `name` exists. Returns it there is one.\r\n     *\r\n     * @param  name  State name\r\n     * @return       State\r\n     */\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    /**\r\n     * Sets supplied `settings` on a state by the `name`.\r\n     *\r\n     * If such state does not yet exists, it is created.\r\n     *\r\n     * @param   name      State name\r\n     * @param   settings  Settings\r\n     * @return            New State\r\n     */\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new State(this._entity, settings);\r\n            this._states[name] = state;\r\n            return state;\r\n        }\r\n    }\r\n    /**\r\n     * Removes the state called `name`.\r\n     *\r\n     * @param   name      State name\r\n     */\r\n    remove(name) {\r\n        delete this._states[name];\r\n    }\r\n    /**\r\n     * Applies a named state to the target element.\r\n     *\r\n     * @param  newState  State name\r\n     */\r\n    apply(newState) {\r\n        const state = this._states[newState];\r\n        if (state) {\r\n            state.apply();\r\n        }\r\n        this._entity._applyState(newState);\r\n    }\r\n    /**\r\n     * Applies a named state to the element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @param   newState  State name\r\n     * @return            Animations\r\n     */\r\n    applyAnimate(newState, duration) {\r\n        let animations;\r\n        const state = this._states[newState];\r\n        if (state) {\r\n            animations = state.applyAnimate(duration);\r\n        }\r\n        this._entity._applyStateAnimated(newState, duration);\r\n        return animations;\r\n    }\r\n}\r\n//# sourceMappingURL=States.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1N0YXRlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9DO0FBQ0o7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxrRUFBa0U7QUFDM0U7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEseUNBQVk7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUEyRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyREFBMkQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0Ysd0NBQVc7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtFQUFrRTtBQUMzRTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvU3RhdGVzLmpzP2Y2NTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgJG9iamVjdCBmcm9tIFwiLi9PYmplY3RcIjtcclxuaW1wb3J0ICogYXMgJGVhc2UgZnJvbSBcIi4vRWFzZVwiO1xyXG4vKipcclxuICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIGNvbGxlY3Rpb24gb2Ygc2V0dGluZyB2YWx1ZXMgdG8gYXBwbHkgYXMgcmVxdWlyZWQuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL3N0YXRlcy99IGZvciBtb3JlIGluZm9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdGF0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHNldHRpbmdzKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2VudGl0eVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dGluZ3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VzZXJTZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgICRvYmplY3QuZWFjaChzZXR0aW5ncywgKGtleSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl91c2VyU2V0dGluZ3Nba2V5XSA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXQoa2V5LCBmYWxsYmFjaykge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNldFJhdyhrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3Nba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGEgc2V0dGluZyBgdmFsdWVgIGZvciB0aGUgc3BlY2lmaWVkIGBrZXlgIHRvIGJlIHNldCB3aGVuIHRoZSBzdGF0ZVxyXG4gICAgICogaXMgYXBwbGllZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgU2V0dGluZyBrZXlcclxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgICBTZXR0aW5nIHZhbHVlXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgU2V0dGluZyB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJTZXR0aW5nc1trZXldID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldFJhdyhrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhIHNldHRpbmcgdmFsdWUgZm9yIHRoZSBzcGVjaWZpZWQgYGtleWAuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvY29uY2VwdHMvc2V0dGluZ3MvfSBmb3IgbW9yZSBpbmZvXHJcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgICAgU2V0dGluZyBrZXlcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlKGtleSkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl91c2VyU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICBkZWxldGUgdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBtdWx0aXBsZSBzZXR0aW5ncyBhdCBvbmNlLlxyXG4gICAgICpcclxuICAgICAqIGBzZXR0aW5nc2AgbXVzdCBiZSBhbiBvYmplY3Qgd2l0aCBrZXk6IHZhbHVlIHBhaXJzLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LmFtY2hhcnRzLmNvbS9kb2NzL3Y1L2NvbmNlcHRzL3NldHRpbmdzL30gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtIHNldHRpbmdzIFNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIHNldEFsbChzZXR0aW5ncykge1xyXG4gICAgICAgICRvYmplY3Qua2V5cyhzZXR0aW5ncykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgc2V0dGluZ3Nba2V5XSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfZWFjaFNldHRpbmcoZikge1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9zZXR0aW5ncywgZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGxpZXMgdGhlIHN0YXRlIHRvIHRoZSB0YXJnZXQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBBbGwgc2V0dGluZyB2YWx1ZXMgYXJlIHNldCBpbW1lZGlhdGVseS5cclxuICAgICAqL1xyXG4gICAgYXBwbHkoKSB7XHJcbiAgICAgICAgY29uc3Qgc2VlbiA9IHt9O1xyXG4gICAgICAgIHNlZW5bXCJzdGF0ZUFuaW1hdGlvbkVhc2luZ1wiXSA9IHRydWU7XHJcbiAgICAgICAgc2VlbltcInN0YXRlQW5pbWF0aW9uRHVyYXRpb25cIl0gPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IHRoaXMuX2VudGl0eS5zdGF0ZXMubG9va3VwKFwiZGVmYXVsdFwiKTtcclxuICAgICAgICB0aGlzLl9lYWNoU2V0dGluZygoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlZW5ba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgc2VlbltrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIHNhdmUgdmFsdWVzIHRvIGRlZmF1bHQgc3RhdGVcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzICE9PSBkZWZhdWx0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gZGVmYXVsdFN0YXRlLl9zZXR0aW5ncykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFN0YXRlLl9zZXR0aW5nc1trZXldID0gdGhpcy5fZW50aXR5LmdldChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwbGllcyB0aGUgc3RhdGUgdG8gdGhlIHRhcmdldCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHJlcHJlc2VudGluZyBhbGwgW1tBbmltYXRpb25dXSBvYmplY3RzIGNyZWF0ZWQgZm9yXHJcbiAgICAgKiBlYWNoIHNldHRpbmcga2V5IHRyYW5zaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgQW5pbWF0aW9uc1xyXG4gICAgICovXHJcbiAgICBhcHBseUFuaW1hdGUoZHVyYXRpb24pIHtcclxuICAgICAgICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMuX3NldHRpbmdzLnN0YXRlQW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0gdGhpcy5nZXQoXCJzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uXCIsIHRoaXMuX2VudGl0eS5nZXQoXCJzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uXCIsIDApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGVhc2luZyA9IHRoaXMuX3NldHRpbmdzLnN0YXRlQW5pbWF0aW9uRWFzaW5nO1xyXG4gICAgICAgIGlmIChlYXNpbmcgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlYXNpbmcgPSB0aGlzLmdldChcInN0YXRlQW5pbWF0aW9uRWFzaW5nXCIsIHRoaXMuX2VudGl0eS5nZXQoXCJzdGF0ZUFuaW1hdGlvbkVhc2luZ1wiLCAkZWFzZS5jdWJpYykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkZWZhdWx0U3RhdGUgPSB0aGlzLl9lbnRpdHkuc3RhdGVzLmxvb2t1cChcImRlZmF1bHRcIik7XHJcbiAgICAgICAgY29uc3Qgc2VlbiA9IHt9O1xyXG4gICAgICAgIHNlZW5bXCJzdGF0ZUFuaW1hdGlvbkVhc2luZ1wiXSA9IHRydWU7XHJcbiAgICAgICAgc2VlbltcInN0YXRlQW5pbWF0aW9uRHVyYXRpb25cIl0gPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSB7fTtcclxuICAgICAgICB0aGlzLl9lYWNoU2V0dGluZygoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlZW5ba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgc2VlbltrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIHNhdmUgdmFsdWVzIHRvIGRlZmF1bHQgc3RhdGVcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzICE9IGRlZmF1bHRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBkZWZhdWx0U3RhdGUuX3NldHRpbmdzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U3RhdGUuX3NldHRpbmdzW2tleV0gPSB0aGlzLl9lbnRpdHkuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5fZW50aXR5LmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBlYXNpbmdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnNba2V5XSA9IGFuaW1hdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhbmltYXRpb25zO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDb2xsZWN0aW9uIG9mIFtbU3RhdGVdXSBvYmplY3RzIGZvciBhbiBlbGVtZW50LlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9zZXR0aW5ncy9zdGF0ZXMvfSBmb3IgbW9yZSBpbmZvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3RhdGVzIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdGF0ZXNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZToge31cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZW50aXR5XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhdGUgYnkgYG5hbWVgIGV4aXN0cy4gUmV0dXJucyBpdCB0aGVyZSBpcyBvbmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICBuYW1lICBTdGF0ZSBuYW1lXHJcbiAgICAgKiBAcmV0dXJuICAgICAgIFN0YXRlXHJcbiAgICAgKi9cclxuICAgIGxvb2t1cChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBzdXBwbGllZCBgc2V0dGluZ3NgIG9uIGEgc3RhdGUgYnkgdGhlIGBuYW1lYC5cclxuICAgICAqXHJcbiAgICAgKiBJZiBzdWNoIHN0YXRlIGRvZXMgbm90IHlldCBleGlzdHMsIGl0IGlzIGNyZWF0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgbmFtZSAgICAgIFN0YXRlIG5hbWVcclxuICAgICAqIEBwYXJhbSAgIHNldHRpbmdzICBTZXR0aW5nc1xyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIE5ldyBTdGF0ZVxyXG4gICAgICovXHJcbiAgICBjcmVhdGUobmFtZSwgc2V0dGluZ3MpIHtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgc3RhdGUuc2V0QWxsKHNldHRpbmdzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUodGhpcy5fZW50aXR5LCBzZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlc1tuYW1lXSA9IHN0YXRlO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRoZSBzdGF0ZSBjYWxsZWQgYG5hbWVgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIG5hbWUgICAgICBTdGF0ZSBuYW1lXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZShuYW1lKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwbGllcyBhIG5hbWVkIHN0YXRlIHRvIHRoZSB0YXJnZXQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIG5ld1N0YXRlICBTdGF0ZSBuYW1lXHJcbiAgICAgKi9cclxuICAgIGFwcGx5KG5ld1N0YXRlKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZXNbbmV3U3RhdGVdO1xyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBzdGF0ZS5hcHBseSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lbnRpdHkuX2FwcGx5U3RhdGUobmV3U3RhdGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBsaWVzIGEgbmFtZWQgc3RhdGUgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgcmVwcmVzZW50aW5nIGFsbCBbW0FuaW1hdGlvbl1dIG9iamVjdHMgY3JlYXRlZCBmb3JcclxuICAgICAqIGVhY2ggc2V0dGluZyBrZXkgdHJhbnNpdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBuZXdTdGF0ZSAgU3RhdGUgbmFtZVxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgIEFuaW1hdGlvbnNcclxuICAgICAqL1xyXG4gICAgYXBwbHlBbmltYXRlKG5ld1N0YXRlLCBkdXJhdGlvbikge1xyXG4gICAgICAgIGxldCBhbmltYXRpb25zO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGVzW25ld1N0YXRlXTtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9ucyA9IHN0YXRlLmFwcGx5QW5pbWF0ZShkdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2VudGl0eS5fYXBwbHlTdGF0ZUFuaW1hdGVkKG5ld1N0YXRlLCBkdXJhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnM7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/States.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Template: () => (/* binding */ Template),\n/* harmony export */   TemplateAdapters: () => (/* binding */ TemplateAdapters),\n/* harmony export */   TemplateState: () => (/* binding */ TemplateState),\n/* harmony export */   TemplateStates: () => (/* binding */ TemplateStates)\n/* harmony export */ });\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EventDispatcher */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js\");\n/* harmony import */ var _Disposer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\n\r\n\r\n\r\nfunction disposeSettings(settings) {\r\n    _Object__WEBPACK_IMPORTED_MODULE_0__.each(settings, (_key, value) => {\r\n        if (_Type__WEBPACK_IMPORTED_MODULE_1__.isObject(value) && typeof value.dispose === \"function\") {\r\n            value.enableDispose = true;\r\n            value.dispose();\r\n        }\r\n    });\r\n}\r\nclass TemplateState {\r\n    constructor(name, template, settings) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._name = name;\r\n        this._template = template;\r\n        this._settings = settings;\r\n    }\r\n    _dispose() {\r\n        disposeSettings(this._settings);\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    set(key, value) {\r\n        this._settings[key] = value;\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    remove(key) {\r\n        delete this._settings[key];\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    setAll(settings) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.keys(settings).forEach((key) => {\r\n            this._settings[key] = settings[key];\r\n        });\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    _apply(other, seen) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._settings, (key, value) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                seen[key] = true;\r\n                other.setRaw(key, value);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass TemplateStates {\r\n    constructor(template) {\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._template = template;\r\n    }\r\n    _dispose() {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._states, (_key, state) => {\r\n            state._dispose();\r\n        });\r\n    }\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new TemplateState(name, this._template, settings);\r\n            this._states[name] = state;\r\n            this._template._stateChanged(name);\r\n            return state;\r\n        }\r\n    }\r\n    remove(name) {\r\n        delete this._states[name];\r\n        this._template._stateChanged(name);\r\n    }\r\n    _apply(entity, state) {\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._states, (key, value) => {\r\n            let seen = state.states[key];\r\n            if (seen == null) {\r\n                seen = state.states[key] = {};\r\n            }\r\n            const other = entity.states.create(key, {});\r\n            value._apply(other, seen);\r\n        });\r\n    }\r\n}\r\nclass TemplateAdapters {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_3__.removeFirst(callbacks, callback);\r\n            if (callbacks.length === 0) {\r\n                delete this._callbacks[key];\r\n            }\r\n        });\r\n    }\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n        }\r\n    }\r\n    _apply(entity) {\r\n        const disposers = [];\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._callbacks, (key, callbacks) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_3__.each(callbacks, (callback) => {\r\n                disposers.push(entity.adapters.add(key, callback));\r\n            });\r\n        });\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.MultiDisposer(disposers);\r\n    }\r\n}\r\n// TODO maybe extend from Properties ?\r\nclass Template {\r\n    constructor(settings, isReal) {\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        // TODO code duplication with Properties\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entities\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateStates(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateAdapters()\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new _EventDispatcher__WEBPACK_IMPORTED_MODULE_4__.EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"setup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(settings) {\r\n        return new Template(settings, true);\r\n    }\r\n    _dispose() {\r\n        disposeSettings(this._settings);\r\n        disposeSettings(this._privateSettings);\r\n    }\r\n    /**\r\n     * Returns `true` if this element is disposed.\r\n     *\r\n     * @return Disposed\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n    _checkDisposed() {\r\n        if (this._disposed) {\r\n            throw new Error(\"Template is disposed\");\r\n        }\r\n    }\r\n    /**\r\n     * Array of all entities using this template.\r\n     */\r\n    get entities() {\r\n        return this._entities;\r\n    }\r\n    get(key, fallback) {\r\n        this._checkDisposed();\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setRaw(key, value) {\r\n        this._checkDisposed();\r\n        this._settings[key] = value;\r\n    }\r\n    set(key, value) {\r\n        this._checkDisposed();\r\n        if (this._settings[key] !== value) {\r\n            this.setRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplateProperty(this, key, value);\r\n            });\r\n        }\r\n    }\r\n    remove(key) {\r\n        this._checkDisposed();\r\n        if (key in this._settings) {\r\n            delete this._settings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    removeAll() {\r\n        this._checkDisposed();\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._settings, (key, _value) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    getPrivate(key, fallback) {\r\n        this._checkDisposed();\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setPrivateRaw(key, value) {\r\n        this._checkDisposed();\r\n        this._privateSettings[key] = value;\r\n        return value;\r\n    }\r\n    setPrivate(key, value) {\r\n        this._checkDisposed();\r\n        if (this._privateSettings[key] !== value) {\r\n            this.setPrivateRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplatePrivateProperty(this, key, value);\r\n            });\r\n        }\r\n        return value;\r\n    }\r\n    removePrivate(key) {\r\n        this._checkDisposed();\r\n        if (key in this._privateSettings) {\r\n            delete this._privateSettings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplatePrivateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    setAll(value) {\r\n        this._checkDisposed();\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(value, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    on(key, callback) {\r\n        this._checkDisposed();\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_3__.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    onPrivate(key, callback) {\r\n        this._checkDisposed();\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.Disposer(() => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_3__.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    _apply(entity, state) {\r\n        this._checkDisposed();\r\n        const disposers = [];\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._settingEvents, (key, events) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_3__.each(events, (event) => {\r\n                disposers.push(entity.on(key, event));\r\n            });\r\n        });\r\n        _Object__WEBPACK_IMPORTED_MODULE_0__.each(this._privateSettingEvents, (key, events) => {\r\n            _Array__WEBPACK_IMPORTED_MODULE_3__.each(events, (event) => {\r\n                disposers.push(entity.onPrivate(key, event));\r\n            });\r\n        });\r\n        this.states._apply(entity, state);\r\n        disposers.push(this.adapters._apply(entity));\r\n        disposers.push(entity.events.copyFrom(this.events));\r\n        return new _Disposer__WEBPACK_IMPORTED_MODULE_2__.MultiDisposer(disposers);\r\n    }\r\n    _setObjectTemplate(entity) {\r\n        this._checkDisposed();\r\n        this._entities.push(entity);\r\n    }\r\n    _removeObjectTemplate(entity) {\r\n        //this._checkDisposed();\r\n        _Array__WEBPACK_IMPORTED_MODULE_3__.remove(this._entities, entity);\r\n    }\r\n    _stateChanged(name) {\r\n        this._checkDisposed();\r\n        this._entities.forEach((entity) => {\r\n            entity._applyStateByKey(name);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Template.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RlbXBsYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFvRDtBQUNDO0FBQ25CO0FBQ0U7QUFDSjtBQUNoQztBQUNBLElBQUkseUNBQVk7QUFDaEIsWUFBWSwyQ0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUNBQVk7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQixZQUFZLCtDQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQixZQUFZLHdDQUFXO0FBQ3ZCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxtQkFBbUIsb0RBQWE7QUFDaEM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFlO0FBQ3RDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRFQUE0RTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUNBQVk7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBWTtBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0NBQVE7QUFDM0IsWUFBWSwrQ0FBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBUTtBQUMzQixZQUFZLCtDQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCLFlBQVksd0NBQVc7QUFDdkI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULFFBQVEseUNBQVk7QUFDcEIsWUFBWSx3Q0FBVztBQUN2QjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9EQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwQ0FBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RlbXBsYXRlLmpzPzIwZjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcIi4vRXZlbnREaXNwYXRjaGVyXCI7XHJcbmltcG9ydCB7IERpc3Bvc2VyLCBNdWx0aURpc3Bvc2VyIH0gZnJvbSBcIi4vRGlzcG9zZXJcIjtcclxuaW1wb3J0ICogYXMgJGFycmF5IGZyb20gXCIuL0FycmF5XCI7XHJcbmltcG9ydCAqIGFzICRvYmplY3QgZnJvbSBcIi4vT2JqZWN0XCI7XHJcbmltcG9ydCAqIGFzICR0eXBlIGZyb20gXCIuL1R5cGVcIjtcclxuZnVuY3Rpb24gZGlzcG9zZVNldHRpbmdzKHNldHRpbmdzKSB7XHJcbiAgICAkb2JqZWN0LmVhY2goc2V0dGluZ3MsIChfa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGlmICgkdHlwZS5pc09iamVjdCh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlLmRpc3Bvc2UgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICB2YWx1ZS5lbmFibGVEaXNwb3NlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFsdWUuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZVN0YXRlIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHRlbXBsYXRlLCBzZXR0aW5ncykge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbmFtZVwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVtcGxhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgfVxyXG4gICAgX2Rpc3Bvc2UoKSB7XHJcbiAgICAgICAgZGlzcG9zZVNldHRpbmdzKHRoaXMuX3NldHRpbmdzKTtcclxuICAgIH1cclxuICAgIGdldChrZXksIGZhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAvLyBUT0RPIG1heWJlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdmFsdWUgY2hhbmdlZCA/XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUuX3N0YXRlQ2hhbmdlZCh0aGlzLl9uYW1lKTtcclxuICAgIH1cclxuICAgIHJlbW92ZShrZXkpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fc2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAvLyBUT0RPIG1heWJlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdmFsdWUgY2hhbmdlZCA/XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUuX3N0YXRlQ2hhbmdlZCh0aGlzLl9uYW1lKTtcclxuICAgIH1cclxuICAgIHNldEFsbChzZXR0aW5ncykge1xyXG4gICAgICAgICRvYmplY3Qua2V5cyhzZXR0aW5ncykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzW2tleV0gPSBzZXR0aW5nc1trZXldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlLl9zdGF0ZUNoYW5nZWQodGhpcy5fbmFtZSk7XHJcbiAgICB9XHJcbiAgICBfYXBwbHkob3RoZXIsIHNlZW4pIHtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fc2V0dGluZ3MsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc2VlbltrZXldICYmICFvdGhlci5fdXNlclNldHRpbmdzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIHNlZW5ba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBvdGhlci5zZXRSYXcoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVTdGF0ZXMge1xyXG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGVtcGxhdGVcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N0YXRlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fc3RhdGVzLCAoX2tleSwgc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgc3RhdGUuX2Rpc3Bvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxvb2t1cChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlc1tuYW1lXTtcclxuICAgIH1cclxuICAgIGNyZWF0ZShuYW1lLCBzZXR0aW5ncykge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGVzW25hbWVdO1xyXG4gICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBzdGF0ZS5zZXRBbGwoc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IG5ldyBUZW1wbGF0ZVN0YXRlKG5hbWUsIHRoaXMuX3RlbXBsYXRlLCBzZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlc1tuYW1lXSA9IHN0YXRlO1xyXG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZS5fc3RhdGVDaGFuZ2VkKG5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVtb3ZlKG5hbWUpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fc3RhdGVzW25hbWVdO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlLl9zdGF0ZUNoYW5nZWQobmFtZSk7XHJcbiAgICB9XHJcbiAgICBfYXBwbHkoZW50aXR5LCBzdGF0ZSkge1xyXG4gICAgICAgICRvYmplY3QuZWFjaCh0aGlzLl9zdGF0ZXMsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBzZWVuID0gc3RhdGUuc3RhdGVzW2tleV07XHJcbiAgICAgICAgICAgIGlmIChzZWVuID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNlZW4gPSBzdGF0ZS5zdGF0ZXNba2V5XSA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG90aGVyID0gZW50aXR5LnN0YXRlcy5jcmVhdGUoa2V5LCB7fSk7XHJcbiAgICAgICAgICAgIHZhbHVlLl9hcHBseShvdGhlciwgc2Vlbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlQWRhcHRlcnMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NhbGxiYWNrc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYWRkKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzW2tleV07XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1trZXldID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2VyKCgpID0+IHtcclxuICAgICAgICAgICAgJGFycmF5LnJlbW92ZUZpcnN0KGNhbGxiYWNrcywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW1vdmUoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzW2tleV07XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3Nba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYXBwbHkoZW50aXR5KSB7XHJcbiAgICAgICAgY29uc3QgZGlzcG9zZXJzID0gW107XHJcbiAgICAgICAgJG9iamVjdC5lYWNoKHRoaXMuX2NhbGxiYWNrcywgKGtleSwgY2FsbGJhY2tzKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGNhbGxiYWNrcywgKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaChlbnRpdHkuYWRhcHRlcnMuYWRkKGtleSwgY2FsbGJhY2spKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNdWx0aURpc3Bvc2VyKGRpc3Bvc2Vycyk7XHJcbiAgICB9XHJcbn1cclxuLy8gVE9ETyBtYXliZSBleHRlbmQgZnJvbSBQcm9wZXJ0aWVzID9cclxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlIHtcclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBpc1JlYWwpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZGlzcG9zZWRcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dGluZ3NcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ByaXZhdGVTZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRPRE8gY29kZSBkdXBsaWNhdGlvbiB3aXRoIFByb3BlcnRpZXNcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dGluZ0V2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wcml2YXRlU2V0dGluZ0V2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB7fVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9lbnRpdGllc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXRlc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgVGVtcGxhdGVTdGF0ZXModGhpcylcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhZGFwdGVyc1wiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgVGVtcGxhdGVBZGFwdGVycygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG5ldyBFdmVudERpc3BhdGNoZXIoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldHVwXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghaXNSZWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgdXNlIGBuZXcgQ2xhc3MoKWAsIGluc3RlYWQgdXNlIGBDbGFzcy5uZXcoKWBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9nZXR0aW5nLXN0YXJ0ZWQvI05ld19lbGVtZW50X3N5bnRheH0gZm9yIG1vcmUgaW5mb1xyXG4gICAgICogQHBhcmFtICAgcm9vdCAgICAgIFJvb3QgZWxlbWVudFxyXG4gICAgICogQHBhcmFtICAgc2V0dGluZ3MgIFNldHRpbmdzXHJcbiAgICAgKiBAcGFyYW0gICB0ZW1wbGF0ZSAgVGVtcGxhdGVcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICBJbnN0YW50aWF0ZWQgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBuZXcoc2V0dGluZ3MpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRlbXBsYXRlKHNldHRpbmdzLCB0cnVlKTtcclxuICAgIH1cclxuICAgIF9kaXNwb3NlKCkge1xyXG4gICAgICAgIGRpc3Bvc2VTZXR0aW5ncyh0aGlzLl9zZXR0aW5ncyk7XHJcbiAgICAgICAgZGlzcG9zZVNldHRpbmdzKHRoaXMuX3ByaXZhdGVTZXR0aW5ncyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoaXMgZWxlbWVudCBpcyBkaXNwb3NlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIERpc3Bvc2VkXHJcbiAgICAgKi9cclxuICAgIGlzRGlzcG9zZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3Bvc2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlcyB0aGlzIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2Rpc3Bvc2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9jaGVja0Rpc3Bvc2VkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9kaXNwb3NlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUZW1wbGF0ZSBpcyBkaXNwb3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFycmF5IG9mIGFsbCBlbnRpdGllcyB1c2luZyB0aGlzIHRlbXBsYXRlLlxyXG4gICAgICovXHJcbiAgICBnZXQgZW50aXRpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzO1xyXG4gICAgfVxyXG4gICAgZ2V0KGtleSwgZmFsbGJhY2spIHtcclxuICAgICAgICB0aGlzLl9jaGVja0Rpc3Bvc2VkKCk7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9zZXR0aW5nc1trZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRSYXcoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRGlzcG9zZWQoKTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5nc1trZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRGlzcG9zZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3Nba2V5XSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRSYXcoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZW50aXR5Ll9zZXRUZW1wbGF0ZVByb3BlcnR5KHRoaXMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW1vdmUoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tEaXNwb3NlZCgpO1xyXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5fc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3NldHRpbmdzW2tleV07XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZW50aXR5Ll9yZW1vdmVUZW1wbGF0ZVByb3BlcnR5KGtleSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbW92ZUFsbCgpIHtcclxuICAgICAgICB0aGlzLl9jaGVja0Rpc3Bvc2VkKCk7XHJcbiAgICAgICAgJG9iamVjdC5lYWNoKHRoaXMuX3NldHRpbmdzLCAoa2V5LCBfdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmUoa2V5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldFByaXZhdGUoa2V5LCBmYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRGlzcG9zZWQoKTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRQcml2YXRlUmF3KGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9jaGVja0Rpc3Bvc2VkKCk7XHJcbiAgICAgICAgdGhpcy5fcHJpdmF0ZVNldHRpbmdzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZXRQcml2YXRlKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9jaGVja0Rpc3Bvc2VkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3ByaXZhdGVTZXR0aW5nc1trZXldICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFByaXZhdGVSYXcoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZW50aXR5Ll9zZXRUZW1wbGF0ZVByaXZhdGVQcm9wZXJ0eSh0aGlzLCBrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIHJlbW92ZVByaXZhdGUoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tEaXNwb3NlZCgpO1xyXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5fcHJpdmF0ZVNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wcml2YXRlU2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuX3JlbW92ZVRlbXBsYXRlUHJpdmF0ZVByb3BlcnR5KGtleSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldEFsbCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRGlzcG9zZWQoKTtcclxuICAgICAgICAkb2JqZWN0LmVhY2godmFsdWUsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETyBjb2RlIGR1cGxpY2F0aW9uIHdpdGggUHJvcGVydGllc1xyXG4gICAgb24oa2V5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRGlzcG9zZWQoKTtcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fc2V0dGluZ0V2ZW50c1trZXldO1xyXG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBldmVudHMgPSB0aGlzLl9zZXR0aW5nRXZlbnRzW2tleV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnRzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIHJldHVybiBuZXcgRGlzcG9zZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAkYXJyYXkucmVtb3ZlRmlyc3QoZXZlbnRzLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIGlmIChldmVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fc2V0dGluZ0V2ZW50c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPIGNvZGUgZHVwbGljYXRpb24gd2l0aCBQcm9wZXJ0aWVzXHJcbiAgICBvblByaXZhdGUoa2V5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRGlzcG9zZWQoKTtcclxuICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fcHJpdmF0ZVNldHRpbmdFdmVudHNba2V5XTtcclxuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXZlbnRzID0gdGhpcy5fcHJpdmF0ZVNldHRpbmdFdmVudHNba2V5XSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBldmVudHMucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5yZW1vdmVGaXJzdChldmVudHMsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wcml2YXRlU2V0dGluZ0V2ZW50c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfYXBwbHkoZW50aXR5LCBzdGF0ZSkge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrRGlzcG9zZWQoKTtcclxuICAgICAgICBjb25zdCBkaXNwb3NlcnMgPSBbXTtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fc2V0dGluZ0V2ZW50cywgKGtleSwgZXZlbnRzKSA9PiB7XHJcbiAgICAgICAgICAgICRhcnJheS5lYWNoKGV2ZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwb3NlcnMucHVzaChlbnRpdHkub24oa2V5LCBldmVudCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkb2JqZWN0LmVhY2godGhpcy5fcHJpdmF0ZVNldHRpbmdFdmVudHMsIChrZXksIGV2ZW50cykgPT4ge1xyXG4gICAgICAgICAgICAkYXJyYXkuZWFjaChldmVudHMsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGlzcG9zZXJzLnB1c2goZW50aXR5Lm9uUHJpdmF0ZShrZXksIGV2ZW50KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc3RhdGVzLl9hcHBseShlbnRpdHksIHN0YXRlKTtcclxuICAgICAgICBkaXNwb3NlcnMucHVzaCh0aGlzLmFkYXB0ZXJzLl9hcHBseShlbnRpdHkpKTtcclxuICAgICAgICBkaXNwb3NlcnMucHVzaChlbnRpdHkuZXZlbnRzLmNvcHlGcm9tKHRoaXMuZXZlbnRzKSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNdWx0aURpc3Bvc2VyKGRpc3Bvc2Vycyk7XHJcbiAgICB9XHJcbiAgICBfc2V0T2JqZWN0VGVtcGxhdGUoZW50aXR5KSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tEaXNwb3NlZCgpO1xyXG4gICAgICAgIHRoaXMuX2VudGl0aWVzLnB1c2goZW50aXR5KTtcclxuICAgIH1cclxuICAgIF9yZW1vdmVPYmplY3RUZW1wbGF0ZShlbnRpdHkpIHtcclxuICAgICAgICAvL3RoaXMuX2NoZWNrRGlzcG9zZWQoKTtcclxuICAgICAgICAkYXJyYXkucmVtb3ZlKHRoaXMuX2VudGl0aWVzLCBlbnRpdHkpO1xyXG4gICAgfVxyXG4gICAgX3N0YXRlQ2hhbmdlZChuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tEaXNwb3NlZCgpO1xyXG4gICAgICAgIHRoaXMuX2VudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICBlbnRpdHkuX2FwcGx5U3RhdGVCeUtleShuYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZW1wbGF0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextFormatter: () => (/* binding */ TextFormatter)\n/* harmony export */ });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n\r\n\r\nclass TextFormatter {\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    static escape(text) {\r\n        return text.\r\n            replace(/\\[\\[/g, this.prefix + \"1\").\r\n            replace(/([^\\/\\]]{1})\\]\\]/g, \"$1\" + this.prefix + \"2\").\r\n            replace(/\\]\\]/g, this.prefix + \"2\").\r\n            replace(/\\{\\{/g, this.prefix + \"3\").\r\n            replace(/\\}\\}/g, this.prefix + \"4\").\r\n            replace(/\\'\\'/g, this.prefix + \"5\");\r\n    }\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    static unescape(text) {\r\n        return text.\r\n            replace(new RegExp(this.prefix + \"1\", \"g\"), \"[[\").\r\n            replace(new RegExp(this.prefix + \"2\", \"g\"), \"]]\").\r\n            replace(new RegExp(this.prefix + \"3\", \"g\"), \"{{\").\r\n            replace(new RegExp(this.prefix + \"4\", \"g\"), \"}}\").\r\n            replace(new RegExp(this.prefix + \"5\", \"g\"), \"''\");\r\n    }\r\n    /**\r\n     * Cleans up the text text for leftover double square brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Cleaned up text\r\n     */\r\n    static cleanUp(text) {\r\n        return text.\r\n            replace(/\\[\\[/g, \"[\").\r\n            replace(/\\]\\]/g, \"]\").\r\n            replace(/\\{\\{/g, \"{\").\r\n            replace(/\\}\\}/g, \"}\").\r\n            replace(/\\'\\'/g, \"'\");\r\n    }\r\n    /**\r\n     * Splits string into chunks. (style blocks, quoted blocks, regular blocks)\r\n     *\r\n     * If the second parameter `quotedBlocks` is set to `true` this method will\r\n     * also single out text blocks enclosed within single quotes that no\r\n     * formatting should be applied to, and they should be displayed as is.\r\n     *\r\n     * Default for the above is `false`, so that you can use single quote in text\r\n     * without escaping it.\r\n     *\r\n     * If enabled, single quotes can be escaped by doubling it - adding two\r\n     * single quotes, which will be replaced by a one single quote in the final\r\n     * output.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text          Text to chunk\r\n     * @param quotedBlocks  Use quoted blocks\r\n     * @param noFormatting  Formatting blocks will be treated as regular text\r\n     * @return Array of string chunks\r\n     */\r\n    static chunk(text, quotedBlocks = false, noFormatting = false) {\r\n        // Init result\r\n        let res = [];\r\n        // Replace double (escaped) square spaces and quotes with temporary codes\r\n        text = this.escape(text);\r\n        // Deal with style blocks\r\n        let chunks = quotedBlocks ? text.split(\"'\") : [text];\r\n        for (let i = 0; i < chunks.length; i++) {\r\n            let chunk = chunks[i];\r\n            // Empty?\r\n            if (chunk === \"\") {\r\n                continue;\r\n            }\r\n            if ((i % 2) === 0) {\r\n                // Text outside quotes\r\n                // Parse for style blocks which are \"text\" chunks, the rest chunks are\r\n                // \"value\"\r\n                chunk = chunk.replace(/\\]\\[/g, \"]\" + _Type__WEBPACK_IMPORTED_MODULE_0__.PLACEHOLDER + \"[\");\r\n                chunk = chunk.replace(/\\[\\]/g, \"[ ]\");\r\n                let chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (let i2 = 0; i2 < chunks2.length; i2++) {\r\n                    let chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Placeholder?\r\n                    if (chunk2 === _Type__WEBPACK_IMPORTED_MODULE_0__.PLACEHOLDER) {\r\n                        continue;\r\n                    }\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or value\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"value\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": noFormatting ? \"value\" : \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                // A text within doublequotes\r\n                // All chunks are \"text\"\r\n                let chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (let i2 = 0; i2 < chunks2.length; i2++) {\r\n                    let chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or text\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"text\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else if (this.isImage(chunk2)) {\r\n                        res.push({\r\n                            \"type\": \"image\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Checks if supplied format contains image information and should be\r\n     * formatted as such.\r\n     * I.e.: `[img: myImage.png]`\r\n     *\r\n     * @ignore\r\n     * @param  text  Format\r\n     * @return true if it is an image\r\n     */\r\n    static isImage(text) {\r\n        return text.match(/img[ ]?:/) ? true : false;\r\n    }\r\n    static getTextStyle(style) {\r\n        // let textStyle: string[] = [];\r\n        // let textFill: string | undefined;\r\n        let format = {};\r\n        if (style == \"\" || style == \"[ ]\") {\r\n            return {};\r\n        }\r\n        // Pre-process quoted text\r\n        const q = style.match(/('[^']*')|(\"[^\"]*\")/gi);\r\n        if (q) {\r\n            for (let i = 0; i < q.length; i++) {\r\n                style = style.replace(q[i], q[i].replace(/['\"]*/g, \"\").replace(/[ ]+/g, \"+\"));\r\n            }\r\n        }\r\n        // Get style parts\r\n        let b = style.match(/([\\w\\-]*:[\\s]?[^;\\s\\]]*)|(\\#[\\w]{1,6})|([\\w\\-]+)|(\\/)/gi);\r\n        // Empty?\r\n        if (!b) {\r\n            return {};\r\n        }\r\n        // Check each part\r\n        for (let i = 0; i < b.length; i++) {\r\n            if (b[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i)) {\r\n                format.fontWeight = b[i];\r\n            }\r\n            else if (b[i].match(/^(underline|line-through)$/i)) {\r\n                format.textDecoration = b[i];\r\n            }\r\n            else if (b[i] == \"/\") {\r\n                // Just closing tag\r\n                // Do nothing\r\n            }\r\n            else if (!b[i].match(/:/)) {\r\n                // Color\r\n                format.fill = _Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromString(b[i]);\r\n            }\r\n            else {\r\n                const p = b[i].replace(\"+\", \" \").split(/:[ ]*/);\r\n                format[p[0]] = p[1];\r\n                //textStyle.push(b[i].replace(/^[a-zA-Z]:[ ]*/, \"\"));\r\n                //b[i] = b[i].replace(/\\+/g, \" \");\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n}\r\nObject.defineProperty(TextFormatter, \"prefix\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"__amcharts__\"\r\n});\r\n//# sourceMappingURL=TextFormatter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RleHRGb3JtYXR0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBQ0E7QUFDekI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixFQUFFO0FBQ2hDO0FBQ0EsdUJBQXVCLEVBQUU7QUFDekIsdUJBQXVCLEVBQUU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0QsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLEVBQUUsTUFBTTtBQUMvQix1QkFBdUIsRUFBRSxNQUFNO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw4Q0FBaUI7QUFDdEU7QUFDQTtBQUNBLGlDQUFpQyxxQkFBcUI7QUFDdEQ7QUFDQTtBQUNBLG1DQUFtQyw4Q0FBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHFCQUFxQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnQkFBZ0IsSUFBSTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlDQUFLO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvVGV4dEZvcm1hdHRlci5qcz8zNzI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSBcIi4vQ29sb3JcIjtcclxuaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG5leHBvcnQgY2xhc3MgVGV4dEZvcm1hdHRlciB7XHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIGJyYWNrZXRzIHdpdGggdGVtcG9yYXJ5IHBsYWNlaG9sZGVycy5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgSW5wdXQgdGV4dFxyXG4gICAgICogQHJldHVybiBFc2NhcGVkIHRleHRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGVzY2FwZSh0ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQuXHJcbiAgICAgICAgICAgIHJlcGxhY2UoL1xcW1xcWy9nLCB0aGlzLnByZWZpeCArIFwiMVwiKS5cclxuICAgICAgICAgICAgcmVwbGFjZSgvKFteXFwvXFxdXXsxfSlcXF1cXF0vZywgXCIkMVwiICsgdGhpcy5wcmVmaXggKyBcIjJcIikuXHJcbiAgICAgICAgICAgIHJlcGxhY2UoL1xcXVxcXS9nLCB0aGlzLnByZWZpeCArIFwiMlwiKS5cclxuICAgICAgICAgICAgcmVwbGFjZSgvXFx7XFx7L2csIHRoaXMucHJlZml4ICsgXCIzXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXH1cXH0vZywgdGhpcy5wcmVmaXggKyBcIjRcIikuXHJcbiAgICAgICAgICAgIHJlcGxhY2UoL1xcJ1xcJy9nLCB0aGlzLnByZWZpeCArIFwiNVwiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgcGxhY2Vob2xkZXJzIGJhY2sgdG8gYnJhY2tldHMuXHJcbiAgICAgKlxyXG4gICAgICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gICAgICogQHBhcmFtIHRleHQgIEVzY2FwZWQgdGV4dFxyXG4gICAgICogQHJldHVybiBVbmVzY2FwZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdW5lc2NhcGUodGV4dCkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0LlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjFcIiwgXCJnXCIpLCBcIltbXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjJcIiwgXCJnXCIpLCBcIl1dXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjNcIiwgXCJnXCIpLCBcInt7XCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjRcIiwgXCJnXCIpLCBcIn19XCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wcmVmaXggKyBcIjVcIiwgXCJnXCIpLCBcIicnXCIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhbnMgdXAgdGhlIHRleHQgdGV4dCBmb3IgbGVmdG92ZXIgZG91YmxlIHNxdWFyZSBicmFja2V0cy5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgSW5wdXQgdGV4dFxyXG4gICAgICogQHJldHVybiBDbGVhbmVkIHVwIHRleHRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNsZWFuVXAodGV4dCkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0LlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXFtcXFsvZywgXCJbXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXF1cXF0vZywgXCJdXCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXHtcXHsvZywgXCJ7XCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXH1cXH0vZywgXCJ9XCIpLlxyXG4gICAgICAgICAgICByZXBsYWNlKC9cXCdcXCcvZywgXCInXCIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGxpdHMgc3RyaW5nIGludG8gY2h1bmtzLiAoc3R5bGUgYmxvY2tzLCBxdW90ZWQgYmxvY2tzLCByZWd1bGFyIGJsb2NrcylcclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgc2Vjb25kIHBhcmFtZXRlciBgcXVvdGVkQmxvY2tzYCBpcyBzZXQgdG8gYHRydWVgIHRoaXMgbWV0aG9kIHdpbGxcclxuICAgICAqIGFsc28gc2luZ2xlIG91dCB0ZXh0IGJsb2NrcyBlbmNsb3NlZCB3aXRoaW4gc2luZ2xlIHF1b3RlcyB0aGF0IG5vXHJcbiAgICAgKiBmb3JtYXR0aW5nIHNob3VsZCBiZSBhcHBsaWVkIHRvLCBhbmQgdGhleSBzaG91bGQgYmUgZGlzcGxheWVkIGFzIGlzLlxyXG4gICAgICpcclxuICAgICAqIERlZmF1bHQgZm9yIHRoZSBhYm92ZSBpcyBgZmFsc2VgLCBzbyB0aGF0IHlvdSBjYW4gdXNlIHNpbmdsZSBxdW90ZSBpbiB0ZXh0XHJcbiAgICAgKiB3aXRob3V0IGVzY2FwaW5nIGl0LlxyXG4gICAgICpcclxuICAgICAqIElmIGVuYWJsZWQsIHNpbmdsZSBxdW90ZXMgY2FuIGJlIGVzY2FwZWQgYnkgZG91YmxpbmcgaXQgLSBhZGRpbmcgdHdvXHJcbiAgICAgKiBzaW5nbGUgcXVvdGVzLCB3aGljaCB3aWxsIGJlIHJlcGxhY2VkIGJ5IGEgb25lIHNpbmdsZSBxdW90ZSBpbiB0aGUgZmluYWxcclxuICAgICAqIG91dHB1dC5cclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgICAgICAgICBUZXh0IHRvIGNodW5rXHJcbiAgICAgKiBAcGFyYW0gcXVvdGVkQmxvY2tzICBVc2UgcXVvdGVkIGJsb2Nrc1xyXG4gICAgICogQHBhcmFtIG5vRm9ybWF0dGluZyAgRm9ybWF0dGluZyBibG9ja3Mgd2lsbCBiZSB0cmVhdGVkIGFzIHJlZ3VsYXIgdGV4dFxyXG4gICAgICogQHJldHVybiBBcnJheSBvZiBzdHJpbmcgY2h1bmtzXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjaHVuayh0ZXh0LCBxdW90ZWRCbG9ja3MgPSBmYWxzZSwgbm9Gb3JtYXR0aW5nID0gZmFsc2UpIHtcclxuICAgICAgICAvLyBJbml0IHJlc3VsdFxyXG4gICAgICAgIGxldCByZXMgPSBbXTtcclxuICAgICAgICAvLyBSZXBsYWNlIGRvdWJsZSAoZXNjYXBlZCkgc3F1YXJlIHNwYWNlcyBhbmQgcXVvdGVzIHdpdGggdGVtcG9yYXJ5IGNvZGVzXHJcbiAgICAgICAgdGV4dCA9IHRoaXMuZXNjYXBlKHRleHQpO1xyXG4gICAgICAgIC8vIERlYWwgd2l0aCBzdHlsZSBibG9ja3NcclxuICAgICAgICBsZXQgY2h1bmtzID0gcXVvdGVkQmxvY2tzID8gdGV4dC5zcGxpdChcIidcIikgOiBbdGV4dF07XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGNodW5rID0gY2h1bmtzW2ldO1xyXG4gICAgICAgICAgICAvLyBFbXB0eT9cclxuICAgICAgICAgICAgaWYgKGNodW5rID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKGkgJSAyKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGV4dCBvdXRzaWRlIHF1b3Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgZm9yIHN0eWxlIGJsb2NrcyB3aGljaCBhcmUgXCJ0ZXh0XCIgY2h1bmtzLCB0aGUgcmVzdCBjaHVua3MgYXJlXHJcbiAgICAgICAgICAgICAgICAvLyBcInZhbHVlXCJcclxuICAgICAgICAgICAgICAgIGNodW5rID0gY2h1bmsucmVwbGFjZSgvXFxdXFxbL2csIFwiXVwiICsgJHR5cGUuUExBQ0VIT0xERVIgKyBcIltcIik7XHJcbiAgICAgICAgICAgICAgICBjaHVuayA9IGNodW5rLnJlcGxhY2UoL1xcW1xcXS9nLCBcIlsgXVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBjaHVua3MyID0gY2h1bmsuc3BsaXQoL1tcXFtcXF1dKy8pO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGNodW5rczIubGVuZ3RoOyBpMisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNodW5rMiA9IHRoaXMuY2xlYW5VcCh0aGlzLnVuZXNjYXBlKGNodW5rczJbaTJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGxhY2Vob2xkZXI/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rMiA9PT0gJHR5cGUuUExBQ0VIT0xERVIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVtcHR5P1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuazIgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJsb2NrIG9yIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChpMiAlIDIpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInZhbHVlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogY2h1bmsyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IG5vRm9ybWF0dGluZyA/IFwidmFsdWVcIiA6IFwiZm9ybWF0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJbXCIgKyBjaHVuazIgKyBcIl1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBIHRleHQgd2l0aGluIGRvdWJsZXF1b3Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gQWxsIGNodW5rcyBhcmUgXCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIGxldCBjaHVua3MyID0gY2h1bmsuc3BsaXQoL1tcXFtcXF1dKy8pO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGNodW5rczIubGVuZ3RoOyBpMisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNodW5rMiA9IHRoaXMuY2xlYW5VcCh0aGlzLnVuZXNjYXBlKGNodW5rczJbaTJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHk/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rMiA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQmxvY2sgb3IgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoaTIgJSAyKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogY2h1bmsyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzSW1hZ2UoY2h1bmsyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJpbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiW1wiICsgY2h1bmsyICsgXCJdXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJmb3JtYXRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIltcIiArIGNodW5rMiArIFwiXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgc3VwcGxpZWQgZm9ybWF0IGNvbnRhaW5zIGltYWdlIGluZm9ybWF0aW9uIGFuZCBzaG91bGQgYmVcclxuICAgICAqIGZvcm1hdHRlZCBhcyBzdWNoLlxyXG4gICAgICogSS5lLjogYFtpbWc6IG15SW1hZ2UucG5nXWBcclxuICAgICAqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAcGFyYW0gIHRleHQgIEZvcm1hdFxyXG4gICAgICogQHJldHVybiB0cnVlIGlmIGl0IGlzIGFuIGltYWdlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc0ltYWdlKHRleHQpIHtcclxuICAgICAgICByZXR1cm4gdGV4dC5tYXRjaCgvaW1nWyBdPzovKSA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRUZXh0U3R5bGUoc3R5bGUpIHtcclxuICAgICAgICAvLyBsZXQgdGV4dFN0eWxlOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIC8vIGxldCB0ZXh0RmlsbDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBmb3JtYXQgPSB7fTtcclxuICAgICAgICBpZiAoc3R5bGUgPT0gXCJcIiB8fCBzdHlsZSA9PSBcIlsgXVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJlLXByb2Nlc3MgcXVvdGVkIHRleHRcclxuICAgICAgICBjb25zdCBxID0gc3R5bGUubWF0Y2goLygnW14nXSonKXwoXCJbXlwiXSpcIikvZ2kpO1xyXG4gICAgICAgIGlmIChxKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBzdHlsZS5yZXBsYWNlKHFbaV0sIHFbaV0ucmVwbGFjZSgvWydcIl0qL2csIFwiXCIpLnJlcGxhY2UoL1sgXSsvZywgXCIrXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHZXQgc3R5bGUgcGFydHNcclxuICAgICAgICBsZXQgYiA9IHN0eWxlLm1hdGNoKC8oW1xcd1xcLV0qOltcXHNdP1teO1xcc1xcXV0qKXwoXFwjW1xcd117MSw2fSl8KFtcXHdcXC1dKyl8KFxcLykvZ2kpO1xyXG4gICAgICAgIC8vIEVtcHR5P1xyXG4gICAgICAgIGlmICghYikge1xyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGVhY2ggcGFydFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYltpXS5tYXRjaCgvXihub3JtYWx8Ym9sZHxib2xkZXJ8bGlnaHRlcnwxMDB8MjAwfDMwMHw0MDB8NTAwfDYwMHw3MDB8ODAwfDkwMCkkL2kpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXQuZm9udFdlaWdodCA9IGJbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYltpXS5tYXRjaCgvXih1bmRlcmxpbmV8bGluZS10aHJvdWdoKSQvaSkpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdC50ZXh0RGVjb3JhdGlvbiA9IGJbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYltpXSA9PSBcIi9cIikge1xyXG4gICAgICAgICAgICAgICAgLy8gSnVzdCBjbG9zaW5nIHRhZ1xyXG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFiW2ldLm1hdGNoKC86LykpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbG9yXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQuZmlsbCA9IENvbG9yLmZyb21TdHJpbmcoYltpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYltpXS5yZXBsYWNlKFwiK1wiLCBcIiBcIikuc3BsaXQoLzpbIF0qLyk7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXRbcFswXV0gPSBwWzFdO1xyXG4gICAgICAgICAgICAgICAgLy90ZXh0U3R5bGUucHVzaChiW2ldLnJlcGxhY2UoL15bYS16QS1aXTpbIF0qLywgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgLy9iW2ldID0gYltpXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRGb3JtYXR0ZXIsIFwicHJlZml4XCIsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIHZhbHVlOiBcIl9fYW1jaGFydHNfX1wiXHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0Rm9ybWF0dGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   checkChange: () => (/* binding */ checkChange),\n/* harmony export */   chooseInterval: () => (/* binding */ chooseInterval),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   getDateIntervalDuration: () => (/* binding */ getDateIntervalDuration),\n/* harmony export */   getDuration: () => (/* binding */ getDuration),\n/* harmony export */   getIntervalDuration: () => (/* binding */ getIntervalDuration),\n/* harmony export */   getNextUnit: () => (/* binding */ getNextUnit),\n/* harmony export */   getTime: () => (/* binding */ getTime),\n/* harmony export */   getUnitValue: () => (/* binding */ getUnitValue),\n/* harmony export */   now: () => (/* binding */ now),\n/* harmony export */   roun: () => (/* binding */ roun),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   timeUnitDurations: () => (/* binding */ timeUnitDurations)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\");\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n\r\n/**\r\n * Returns a `Promise` which can be used to execute code after number of\r\n * milliseconds.\r\n *\r\n * @param   ms  Sleep duration in ms\r\n * @return      Promise\r\n */\r\nfunction sleep(ms) {\r\n    return new Promise((resolve, _reject) => {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n/**\r\n * Maps time period names to their numeric representations in milliseconds.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nlet timeUnitDurations = {\r\n    millisecond: 1,\r\n    second: 1000,\r\n    minute: 60000,\r\n    hour: 3600000,\r\n    day: 86400000,\r\n    week: 604800000,\r\n    month: 365.242 / 12 * 86400000,\r\n    year: 31536000000\r\n};\r\n/**\r\n * Returns the next time unit that goes after source `unit`.\r\n *\r\n * E.g. \"hour\" is the next unit after \"minute\", etc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit  Source time unit\r\n * @return Next time unit\r\n */\r\nfunction getNextUnit(unit) {\r\n    switch (unit) {\r\n        case \"year\":\r\n            return;\r\n        case \"month\":\r\n            return \"year\";\r\n        case \"week\":\r\n            return \"month\";\r\n        case \"day\":\r\n            return \"month\"; // not a mistake\r\n        case \"hour\":\r\n            return \"day\";\r\n        case \"minute\":\r\n            return \"hour\";\r\n        case \"second\":\r\n            return \"minute\";\r\n        case \"millisecond\":\r\n            return \"second\";\r\n    }\r\n}\r\n/**\r\n * Returns number of milliseconds in the `count` of time `unit`.\r\n *\r\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\r\n * \"month\", and \"year\".\r\n *\r\n * @param unit   Time unit\r\n * @param count  Number of units\r\n * @return Milliseconds\r\n */\r\nfunction getDuration(unit, count) {\r\n    if (count == null) {\r\n        count = 1;\r\n    }\r\n    return timeUnitDurations[unit] * count;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getIntervalDuration(interval) {\r\n    if (interval) {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    return 0;\r\n}\r\nfunction getDateIntervalDuration(interval, date, firstDateOfWeek, utc, timezone) {\r\n    const unit = interval.timeUnit;\r\n    const count = interval.count;\r\n    if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    else {\r\n        const firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        let lastTime = firstTime + count * getDuration(unit) * 1.05;\r\n        lastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        return lastTime - firstTime;\r\n    }\r\n}\r\n/**\r\n * Returns current `Date` object.\r\n *\r\n * @return Current date\r\n */\r\nfunction now() {\r\n    return new Date();\r\n}\r\n/**\r\n * Returns current timestamp.\r\n *\r\n * @return Current timestamp\r\n */\r\nfunction getTime() {\r\n    return now().getTime();\r\n}\r\n/**\r\n * Returns a copy of the `Date` object.\r\n *\r\n * @param date  Source date\r\n * @return Copy\r\n */\r\nfunction copy(date) {\r\n    return new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\r\n}\r\n/**\r\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\r\n * represent a \"range\" of time, rather the same time date.\r\n *\r\n * @param timeOne  timestamp\r\n * @param timeTwo  timestamp\r\n * @param unit     Time unit to check\r\n * @return Range?\r\n */\r\nfunction checkChange(timeOne, timeTwo, unit, utc, timezone) {\r\n    // quick\r\n    if ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\r\n        return true;\r\n    }\r\n    let dateOne = new Date(timeOne);\r\n    let dateTwo = new Date(timeTwo);\r\n    if (timezone) {\r\n        dateOne = timezone.convertLocal(dateOne);\r\n        dateTwo = timezone.convertLocal(dateTwo);\r\n    }\r\n    let timeZoneOffset1 = 0;\r\n    let timeZoneOffset2 = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset1 = dateOne.getTimezoneOffset();\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\r\n        timeZoneOffset2 = dateTwo.getTimezoneOffset();\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\r\n    }\r\n    let changed = false;\r\n    switch (unit) {\r\n        case \"year\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"month\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"day\":\r\n            if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"hour\":\r\n            if (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"minute\":\r\n            if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"second\":\r\n            if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"millisecond\":\r\n            if (dateOne.getTime() != dateTwo.getTime()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n    }\r\n    if (changed) {\r\n        return changed;\r\n    }\r\n    let nextUnit = getNextUnit(unit);\r\n    if (nextUnit) {\r\n        return checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\r\n *\r\n * @param date   Source date\r\n * @param unit   Time unit\r\n * @param count  Number of units to add\r\n * @return Modified date\r\n */\r\nfunction add(date, unit, count, utc, timezone) {\r\n    let timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        if (timezone) {\r\n            timeZoneOffset -= timezone.offsetUTC(date);\r\n        }\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            let day = date.getUTCDate();\r\n            date.setUTCDate(day + count);\r\n            break;\r\n        case \"second\":\r\n            let seconds = date.getUTCSeconds();\r\n            date.setUTCSeconds(seconds + count);\r\n            break;\r\n        case \"millisecond\":\r\n            let milliseconds = date.getUTCMilliseconds();\r\n            date.setUTCMilliseconds(milliseconds + count);\r\n            break;\r\n        case \"hour\":\r\n            let hours = date.getUTCHours();\r\n            date.setUTCHours(hours + count);\r\n            break;\r\n        case \"minute\":\r\n            let minutes = date.getUTCMinutes();\r\n            date.setUTCMinutes(minutes + count);\r\n            break;\r\n        case \"year\":\r\n            let year = date.getUTCFullYear();\r\n            date.setUTCFullYear(year + count);\r\n            break;\r\n        case \"month\":\r\n            const endDays = date.getUTCDate();\r\n            const startDays = new Date(date.getUTCFullYear(), date.getUTCMonth(), 0).getUTCDate();\r\n            let month = date.getUTCMonth();\r\n            if (endDays > startDays) {\r\n                date.setUTCMonth(month + count, startDays);\r\n            }\r\n            else {\r\n                date.setUTCMonth(month + count);\r\n            }\r\n            break;\r\n        case \"week\":\r\n            let wday = date.getUTCDate();\r\n            date.setUTCDate(wday + count * 7);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            let newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (timezone) {\r\n                newTimeZoneOffset += timezone.offsetUTC(date);\r\n            }\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                let diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                // solves issues if new time falls back to old time zone\r\n                if (date.getTimezoneOffset() != newTimeZoneOffset) {\r\n                    date.setUTCMinutes(date.getUTCMinutes() - diff);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction roun(time, unit, count, root, firstTime) {\r\n    let firstDate;\r\n    if (firstTime != null) {\r\n        firstDate = new Date(firstTime);\r\n    }\r\n    return round(new Date(time), unit, count, root.locale.firstDayOfWeek, root.utc, firstDate, root.timezone).getTime();\r\n}\r\n/**\r\n * \"Rounds\" the date to specific time unit.\r\n *\r\n * @param date             Source date\r\n * @param unit             Time unit\r\n * @param count            Number of units to round to\r\n * @param firstDateOfWeek  First day of week\r\n * @param utc              Use UTC timezone\r\n * @param firstDate        First date to round to\r\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\r\n * @param timezone         Use specific named timezone when rounding\r\n * @return New date\r\n */\r\nfunction round(date, unit, count, firstDateOfWeek, utc, firstDate, timezone) {\r\n    if (!timezone || utc) {\r\n        let timeZoneOffset = 0;\r\n        if (!utc && unit != \"millisecond\") {\r\n            timeZoneOffset = date.getTimezoneOffset();\r\n            date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n        }\r\n        switch (unit) {\r\n            case \"day\":\r\n                let day = date.getUTCDate();\r\n                if (count > 1) {\r\n                    //\tday = Math.floor(day / count) * count;\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"day\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                        let duration = getDuration(\"day\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                else {\r\n                    date.setUTCDate(day);\r\n                }\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"second\":\r\n                let seconds = date.getUTCSeconds();\r\n                if (count > 1) {\r\n                    seconds = Math.floor(seconds / count) * count;\r\n                }\r\n                date.setUTCSeconds(seconds, 0);\r\n                break;\r\n            case \"millisecond\":\r\n                if (count == 1) {\r\n                    return date; // much better for perf!\r\n                }\r\n                let milliseconds = date.getUTCMilliseconds();\r\n                milliseconds = Math.floor(milliseconds / count) * count;\r\n                date.setUTCMilliseconds(milliseconds);\r\n                break;\r\n            case \"hour\":\r\n                let hours = date.getUTCHours();\r\n                if (count > 1) {\r\n                    hours = Math.floor(hours / count) * count;\r\n                }\r\n                date.setUTCHours(hours, 0, 0, 0);\r\n                break;\r\n            case \"minute\":\r\n                let minutes = date.getUTCMinutes();\r\n                if (count > 1) {\r\n                    minutes = Math.floor(minutes / count) * count;\r\n                }\r\n                date.setUTCMinutes(minutes, 0, 0);\r\n                break;\r\n            case \"month\":\r\n                let month = date.getUTCMonth();\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                date.setUTCMonth(month, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"year\":\r\n                let year = date.getUTCFullYear();\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                date.setUTCFullYear(year, 0, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"week\":\r\n                if (count > 1) {\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"week\", 1);\r\n                        let difference = date.getTime() - firstDate.getTime();\r\n                        let unitCount = Math.floor(difference / getDuration(\"week\") / count);\r\n                        let duration = getDuration(\"week\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                let wday = date.getUTCDate();\r\n                let weekDay = date.getUTCDay();\r\n                if (!_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekDay >= firstDateOfWeek) {\r\n                    wday = wday - weekDay + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    wday = wday - (7 + weekDay) + firstDateOfWeek;\r\n                }\r\n                date.setUTCDate(wday);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (!utc && unit != \"millisecond\") {\r\n            date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n            if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n                let newTimeZoneOffset = date.getTimezoneOffset();\r\n                if (newTimeZoneOffset != timeZoneOffset) {\r\n                    let diff = newTimeZoneOffset - timeZoneOffset;\r\n                    date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                }\r\n            }\r\n        }\r\n        return date;\r\n    }\r\n    else {\r\n        if (isNaN(date.getTime())) {\r\n            return date;\r\n        }\r\n        let initialTime = date.getTime();\r\n        let tzoffset = timezone.offsetUTC(date);\r\n        let timeZoneOffset = date.getTimezoneOffset();\r\n        let parsedDate = timezone.parseDate(date);\r\n        let year = parsedDate.year;\r\n        let month = parsedDate.month;\r\n        let day = parsedDate.day;\r\n        let hour = parsedDate.hour;\r\n        let minute = parsedDate.minute;\r\n        let second = parsedDate.second;\r\n        let millisecond = parsedDate.millisecond;\r\n        let weekday = parsedDate.weekday;\r\n        let offsetDif = tzoffset - timeZoneOffset;\r\n        switch (unit) {\r\n            case \"day\":\r\n                if (count > 1 && firstDate) {\r\n                    firstDate = round(firstDate, \"day\", 1, firstDateOfWeek, utc, undefined, timezone);\r\n                    let difference = date.getTime() - firstDate.getTime();\r\n                    let unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                    let duration = getDuration(\"day\", unitCount * count);\r\n                    date.setTime(firstDate.getTime() + duration);\r\n                    parsedDate = timezone.parseDate(date);\r\n                    year = parsedDate.year;\r\n                    month = parsedDate.month;\r\n                    day = parsedDate.day;\r\n                }\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"second\":\r\n                minute += offsetDif;\r\n                if (count > 1) {\r\n                    second = Math.floor(second / count) * count;\r\n                }\r\n                millisecond = 0;\r\n                break;\r\n            case \"millisecond\":\r\n                minute += offsetDif;\r\n                if (count > 1) {\r\n                    millisecond = Math.floor(millisecond / count) * count;\r\n                }\r\n                break;\r\n            case \"hour\":\r\n                if (count > 1) {\r\n                    hour = Math.floor(hour / count) * count;\r\n                }\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"minute\":\r\n                if (count > 1) {\r\n                    minute = Math.floor(minute / count) * count;\r\n                }\r\n                minute += offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"month\":\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                day = 1;\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"year\":\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                month = 0;\r\n                day = 1;\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"week\":\r\n                if (!_Type__WEBPACK_IMPORTED_MODULE_0__.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekday >= firstDateOfWeek) {\r\n                    day = day - weekday + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    day = day - (7 + weekday) + firstDateOfWeek;\r\n                }\r\n                hour = 0;\r\n                minute = offsetDif;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n        }\r\n        date = new Date(year, month, day, hour, minute, second, millisecond);\r\n        // fix to solve #101989\r\n        const newTime = date.getTime();\r\n        let hDuration = 3600000;\r\n        if (unit == \"hour\") {\r\n            hDuration = 3600000 * count;\r\n        }\r\n        if (newTime + hDuration <= initialTime) {\r\n            if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n                date = new Date(newTime + hDuration);\r\n            }\r\n        }\r\n        // end of fix\r\n        let newTimeZoneOffset = date.getTimezoneOffset();\r\n        let newTzoffset = timezone.offsetUTC(date);\r\n        let newDiff = newTzoffset - newTimeZoneOffset;\r\n        if (newDiff != offsetDif) {\r\n            date.setTime(date.getTime() + (newDiff - offsetDif) * 60000);\r\n        }\r\n        return date;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction chooseInterval(index, duration, gridCount, intervals) {\r\n    let gridInterval = intervals[index];\r\n    let intervalDuration = getIntervalDuration(gridInterval);\r\n    let lastIndex = intervals.length - 1;\r\n    if (index >= lastIndex) {\r\n        return Object.assign({}, intervals[lastIndex]);\r\n    }\r\n    let count = Math.ceil(duration / intervalDuration);\r\n    if (duration < intervalDuration && index > 0) {\r\n        return Object.assign({}, intervals[index - 1]);\r\n    }\r\n    if (count <= gridCount) {\r\n        return Object.assign({}, intervals[index]);\r\n    }\r\n    else {\r\n        if (index + 1 < intervals.length) {\r\n            return chooseInterval(index + 1, duration, gridCount, intervals);\r\n        }\r\n        else {\r\n            return Object.assign({}, intervals[index]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getUnitValue(date, unit) {\r\n    switch (unit) {\r\n        case \"day\":\r\n            return date.getDate();\r\n        case \"second\":\r\n            return date.getSeconds();\r\n        case \"millisecond\":\r\n            return date.getMilliseconds();\r\n        case \"hour\":\r\n            return date.getHours();\r\n        case \"minute\":\r\n            return date.getMinutes();\r\n        case \"month\":\r\n            return date.getMonth();\r\n        case \"year\":\r\n            return date.getFullYear();\r\n        case \"week\":\r\n            return _Utils__WEBPACK_IMPORTED_MODULE_1__.getWeek(date);\r\n    }\r\n}\r\n//# sourceMappingURL=Time.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RpbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ0M7QUFDRTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwyQ0FBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJDQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkNBQWM7QUFDakM7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvVGltZS5qcz84OGY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIElNUE9SVFNcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5pbXBvcnQgKiBhcyAkdHlwZSBmcm9tIFwiLi9UeXBlXCI7XHJcbmltcG9ydCAqIGFzICR1dGlscyBmcm9tIFwiLi9VdGlsc1wiO1xyXG4vKipcclxuICogUmV0dXJucyBhIGBQcm9taXNlYCB3aGljaCBjYW4gYmUgdXNlZCB0byBleGVjdXRlIGNvZGUgYWZ0ZXIgbnVtYmVyIG9mXHJcbiAqIG1pbGxpc2Vjb25kcy5cclxuICpcclxuICogQHBhcmFtICAgbXMgIFNsZWVwIGR1cmF0aW9uIGluIG1zXHJcbiAqIEByZXR1cm4gICAgICBQcm9taXNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2xlZXAobXMpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIE1hcHMgdGltZSBwZXJpb2QgbmFtZXMgdG8gdGhlaXIgbnVtZXJpYyByZXByZXNlbnRhdGlvbnMgaW4gbWlsbGlzZWNvbmRzLlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqL1xyXG5leHBvcnQgbGV0IHRpbWVVbml0RHVyYXRpb25zID0ge1xyXG4gICAgbWlsbGlzZWNvbmQ6IDEsXHJcbiAgICBzZWNvbmQ6IDEwMDAsXHJcbiAgICBtaW51dGU6IDYwMDAwLFxyXG4gICAgaG91cjogMzYwMDAwMCxcclxuICAgIGRheTogODY0MDAwMDAsXHJcbiAgICB3ZWVrOiA2MDQ4MDAwMDAsXHJcbiAgICBtb250aDogMzY1LjI0MiAvIDEyICogODY0MDAwMDAsXHJcbiAgICB5ZWFyOiAzMTUzNjAwMDAwMFxyXG59O1xyXG4vKipcclxuICogUmV0dXJucyB0aGUgbmV4dCB0aW1lIHVuaXQgdGhhdCBnb2VzIGFmdGVyIHNvdXJjZSBgdW5pdGAuXHJcbiAqXHJcbiAqIEUuZy4gXCJob3VyXCIgaXMgdGhlIG5leHQgdW5pdCBhZnRlciBcIm1pbnV0ZVwiLCBldGMuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIHVuaXQgIFNvdXJjZSB0aW1lIHVuaXRcclxuICogQHJldHVybiBOZXh0IHRpbWUgdW5pdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRVbml0KHVuaXQpIHtcclxuICAgIHN3aXRjaCAodW5pdCkge1xyXG4gICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwieWVhclwiO1xyXG4gICAgICAgIGNhc2UgXCJ3ZWVrXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBcIm1vbnRoXCI7XHJcbiAgICAgICAgY2FzZSBcImRheVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJtb250aFwiOyAvLyBub3QgYSBtaXN0YWtlXHJcbiAgICAgICAgY2FzZSBcImhvdXJcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiZGF5XCI7XHJcbiAgICAgICAgY2FzZSBcIm1pbnV0ZVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJob3VyXCI7XHJcbiAgICAgICAgY2FzZSBcInNlY29uZFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJtaW51dGVcIjtcclxuICAgICAgICBjYXNlIFwibWlsbGlzZWNvbmRcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwic2Vjb25kXCI7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpbiB0aGUgYGNvdW50YCBvZiB0aW1lIGB1bml0YC5cclxuICpcclxuICogQXZhaWxhYmxlIHVuaXRzOiBcIm1pbGxpc2Vjb25kXCIsIFwic2Vjb25kXCIsIFwibWludXRlXCIsIFwiaG91clwiLCBcImRheVwiLCBcIndlZWtcIixcclxuICogXCJtb250aFwiLCBhbmQgXCJ5ZWFyXCIuXHJcbiAqXHJcbiAqIEBwYXJhbSB1bml0ICAgVGltZSB1bml0XHJcbiAqIEBwYXJhbSBjb3VudCAgTnVtYmVyIG9mIHVuaXRzXHJcbiAqIEByZXR1cm4gTWlsbGlzZWNvbmRzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHVyYXRpb24odW5pdCwgY291bnQpIHtcclxuICAgIGlmIChjb3VudCA9PSBudWxsKSB7XHJcbiAgICAgICAgY291bnQgPSAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRpbWVVbml0RHVyYXRpb25zW3VuaXRdICogY291bnQ7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcnZhbER1cmF0aW9uKGludGVydmFsKSB7XHJcbiAgICBpZiAoaW50ZXJ2YWwpIHtcclxuICAgICAgICByZXR1cm4gdGltZVVuaXREdXJhdGlvbnNbaW50ZXJ2YWwudGltZVVuaXRdICogaW50ZXJ2YWwuY291bnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0ZUludGVydmFsRHVyYXRpb24oaW50ZXJ2YWwsIGRhdGUsIGZpcnN0RGF0ZU9mV2VlaywgdXRjLCB0aW1lem9uZSkge1xyXG4gICAgY29uc3QgdW5pdCA9IGludGVydmFsLnRpbWVVbml0O1xyXG4gICAgY29uc3QgY291bnQgPSBpbnRlcnZhbC5jb3VudDtcclxuICAgIGlmICh1bml0ID09IFwiaG91clwiIHx8IHVuaXQgPT0gXCJtaW51dGVcIiB8fCB1bml0ID09IFwic2Vjb25kXCIgfHwgdW5pdCA9PSBcIm1pbGxpc2Vjb25kXCIpIHtcclxuICAgICAgICByZXR1cm4gdGltZVVuaXREdXJhdGlvbnNbaW50ZXJ2YWwudGltZVVuaXRdICogaW50ZXJ2YWwuY291bnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBmaXJzdFRpbWUgPSByb3VuZChuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSksIHVuaXQsIGNvdW50LCBmaXJzdERhdGVPZldlZWssIHV0YywgdW5kZWZpbmVkLCB0aW1lem9uZSkuZ2V0VGltZSgpO1xyXG4gICAgICAgIGxldCBsYXN0VGltZSA9IGZpcnN0VGltZSArIGNvdW50ICogZ2V0RHVyYXRpb24odW5pdCkgKiAxLjA1O1xyXG4gICAgICAgIGxhc3RUaW1lID0gcm91bmQobmV3IERhdGUobGFzdFRpbWUpLCB1bml0LCAxLCBmaXJzdERhdGVPZldlZWssIHV0YywgdW5kZWZpbmVkLCB0aW1lem9uZSkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHJldHVybiBsYXN0VGltZSAtIGZpcnN0VGltZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmV0dXJucyBjdXJyZW50IGBEYXRlYCBvYmplY3QuXHJcbiAqXHJcbiAqIEByZXR1cm4gQ3VycmVudCBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbm93KCkge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgY3VycmVudCB0aW1lc3RhbXAuXHJcbiAqXHJcbiAqIEByZXR1cm4gQ3VycmVudCB0aW1lc3RhbXBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lKCkge1xyXG4gICAgcmV0dXJuIG5vdygpLmdldFRpbWUoKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIGBEYXRlYCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRlICBTb3VyY2UgZGF0ZVxyXG4gKiBAcmV0dXJuIENvcHlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3B5KGRhdGUpIHtcclxuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7IC8vIHRvZG86IGNoZWNrIGlmIHRoaXMgaXMgb2suIG5ldyBEYXRlKGRhdGUpIHVzZWQgdG8gc3RyaXAgbWlsbGlzZWNvbmRzIG9uIEZGIGluIHYzXHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyBpZiB0aGUgYHVuaXRgIHBhcnQgb2YgdHdvIGBEYXRlYCBvYmplY3RzIGRvIG5vdCBtYXRjaC4gVHdvIGRhdGVzXHJcbiAqIHJlcHJlc2VudCBhIFwicmFuZ2VcIiBvZiB0aW1lLCByYXRoZXIgdGhlIHNhbWUgdGltZSBkYXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGltZU9uZSAgdGltZXN0YW1wXHJcbiAqIEBwYXJhbSB0aW1lVHdvICB0aW1lc3RhbXBcclxuICogQHBhcmFtIHVuaXQgICAgIFRpbWUgdW5pdCB0byBjaGVja1xyXG4gKiBAcmV0dXJuIFJhbmdlP1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ2hhbmdlKHRpbWVPbmUsIHRpbWVUd28sIHVuaXQsIHV0YywgdGltZXpvbmUpIHtcclxuICAgIC8vIHF1aWNrXHJcbiAgICBpZiAoKHRpbWVUd28gLSB0aW1lT25lKSA+IGdldER1cmF0aW9uKHVuaXQsIDEuMikpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGxldCBkYXRlT25lID0gbmV3IERhdGUodGltZU9uZSk7XHJcbiAgICBsZXQgZGF0ZVR3byA9IG5ldyBEYXRlKHRpbWVUd28pO1xyXG4gICAgaWYgKHRpbWV6b25lKSB7XHJcbiAgICAgICAgZGF0ZU9uZSA9IHRpbWV6b25lLmNvbnZlcnRMb2NhbChkYXRlT25lKTtcclxuICAgICAgICBkYXRlVHdvID0gdGltZXpvbmUuY29udmVydExvY2FsKGRhdGVUd28pO1xyXG4gICAgfVxyXG4gICAgbGV0IHRpbWVab25lT2Zmc2V0MSA9IDA7XHJcbiAgICBsZXQgdGltZVpvbmVPZmZzZXQyID0gMDtcclxuICAgIGlmICghdXRjICYmIHVuaXQgIT0gXCJtaWxsaXNlY29uZFwiKSB7XHJcbiAgICAgICAgdGltZVpvbmVPZmZzZXQxID0gZGF0ZU9uZS5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgICAgIGRhdGVPbmUuc2V0VVRDTWludXRlcyhkYXRlT25lLmdldFVUQ01pbnV0ZXMoKSAtIHRpbWVab25lT2Zmc2V0MSk7XHJcbiAgICAgICAgdGltZVpvbmVPZmZzZXQyID0gZGF0ZVR3by5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgICAgIGRhdGVUd28uc2V0VVRDTWludXRlcyhkYXRlVHdvLmdldFVUQ01pbnV0ZXMoKSAtIHRpbWVab25lT2Zmc2V0Mik7XHJcbiAgICB9XHJcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgc3dpdGNoICh1bml0KSB7XHJcbiAgICAgICAgY2FzZSBcInllYXJcIjpcclxuICAgICAgICAgICAgaWYgKGRhdGVPbmUuZ2V0VVRDRnVsbFllYXIoKSAhPSBkYXRlVHdvLmdldFVUQ0Z1bGxZZWFyKCkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICBpZiAoZGF0ZU9uZS5nZXRVVENGdWxsWWVhcigpICE9IGRhdGVUd28uZ2V0VVRDRnVsbFllYXIoKSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0ZU9uZS5nZXRVVENNb250aCgpICE9IGRhdGVUd28uZ2V0VVRDTW9udGgoKSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImRheVwiOlxyXG4gICAgICAgICAgICBpZiAoZGF0ZU9uZS5nZXRVVENNb250aCgpICE9IGRhdGVUd28uZ2V0VVRDTW9udGgoKSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0ZU9uZS5nZXRVVENEYXRlKCkgIT0gZGF0ZVR3by5nZXRVVENEYXRlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJob3VyXCI6XHJcbiAgICAgICAgICAgIGlmIChkYXRlT25lLmdldFVUQ0hvdXJzKCkgIT0gZGF0ZVR3by5nZXRVVENIb3VycygpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibWludXRlXCI6XHJcbiAgICAgICAgICAgIGlmIChkYXRlT25lLmdldFVUQ01pbnV0ZXMoKSAhPSBkYXRlVHdvLmdldFVUQ01pbnV0ZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInNlY29uZFwiOlxyXG4gICAgICAgICAgICBpZiAoZGF0ZU9uZS5nZXRVVENTZWNvbmRzKCkgIT0gZGF0ZVR3by5nZXRVVENTZWNvbmRzKCkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJtaWxsaXNlY29uZFwiOlxyXG4gICAgICAgICAgICBpZiAoZGF0ZU9uZS5nZXRUaW1lKCkgIT0gZGF0ZVR3by5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgICByZXR1cm4gY2hhbmdlZDtcclxuICAgIH1cclxuICAgIGxldCBuZXh0VW5pdCA9IGdldE5leHRVbml0KHVuaXQpO1xyXG4gICAgaWYgKG5leHRVbml0KSB7XHJcbiAgICAgICAgcmV0dXJuIGNoZWNrQ2hhbmdlKHRpbWVPbmUsIHRpbWVUd28sIG5leHRVbml0LCB1dGMsIHRpbWV6b25lKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQWRkcyBgY291bnRgIG9mIHRpbWUgYHVuaXRgIHRvIHRoZSBzb3VyY2UgZGF0ZS4gUmV0dXJucyBhIG1vZGlmaWVkIGBEYXRlYCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRlICAgU291cmNlIGRhdGVcclxuICogQHBhcmFtIHVuaXQgICBUaW1lIHVuaXRcclxuICogQHBhcmFtIGNvdW50ICBOdW1iZXIgb2YgdW5pdHMgdG8gYWRkXHJcbiAqIEByZXR1cm4gTW9kaWZpZWQgZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChkYXRlLCB1bml0LCBjb3VudCwgdXRjLCB0aW1lem9uZSkge1xyXG4gICAgbGV0IHRpbWVab25lT2Zmc2V0ID0gMDtcclxuICAgIGlmICghdXRjICYmIHVuaXQgIT0gXCJtaWxsaXNlY29uZFwiKSB7XHJcbiAgICAgICAgdGltZVpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgaWYgKHRpbWV6b25lKSB7XHJcbiAgICAgICAgICAgIHRpbWVab25lT2Zmc2V0IC09IHRpbWV6b25lLm9mZnNldFVUQyhkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0ZS5zZXRVVENNaW51dGVzKGRhdGUuZ2V0VVRDTWludXRlcygpIC0gdGltZVpvbmVPZmZzZXQpO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoICh1bml0KSB7XHJcbiAgICAgICAgY2FzZSBcImRheVwiOlxyXG4gICAgICAgICAgICBsZXQgZGF5ID0gZGF0ZS5nZXRVVENEYXRlKCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDRGF0ZShkYXkgKyBjb3VudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJzZWNvbmRcIjpcclxuICAgICAgICAgICAgbGV0IHNlY29uZHMgPSBkYXRlLmdldFVUQ1NlY29uZHMoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXRVVENTZWNvbmRzKHNlY29uZHMgKyBjb3VudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJtaWxsaXNlY29uZFwiOlxyXG4gICAgICAgICAgICBsZXQgbWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXRVVENNaWxsaXNlY29uZHMobWlsbGlzZWNvbmRzICsgY291bnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiaG91clwiOlxyXG4gICAgICAgICAgICBsZXQgaG91cnMgPSBkYXRlLmdldFVUQ0hvdXJzKCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDSG91cnMoaG91cnMgKyBjb3VudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJtaW51dGVcIjpcclxuICAgICAgICAgICAgbGV0IG1pbnV0ZXMgPSBkYXRlLmdldFVUQ01pbnV0ZXMoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXRVVENNaW51dGVzKG1pbnV0ZXMgKyBjb3VudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHllYXIgKyBjb3VudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICBjb25zdCBlbmREYXlzID0gZGF0ZS5nZXRVVENEYXRlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF5cyA9IG5ldyBEYXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwgZGF0ZS5nZXRVVENNb250aCgpLCAwKS5nZXRVVENEYXRlKCk7XHJcbiAgICAgICAgICAgIGxldCBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcclxuICAgICAgICAgICAgaWYgKGVuZERheXMgPiBzdGFydERheXMpIHtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDTW9udGgobW9udGggKyBjb3VudCwgc3RhcnREYXlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDTW9udGgobW9udGggKyBjb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIndlZWtcIjpcclxuICAgICAgICAgICAgbGV0IHdkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXRVVENEYXRlKHdkYXkgKyBjb3VudCAqIDcpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGlmICghdXRjICYmIHVuaXQgIT0gXCJtaWxsaXNlY29uZFwiKSB7XHJcbiAgICAgICAgZGF0ZS5zZXRVVENNaW51dGVzKGRhdGUuZ2V0VVRDTWludXRlcygpICsgdGltZVpvbmVPZmZzZXQpO1xyXG4gICAgICAgIGlmICh1bml0ID09IFwiZGF5XCIgfHwgdW5pdCA9PSBcIndlZWtcIiB8fCB1bml0ID09IFwibW9udGhcIiB8fCB1bml0ID09IFwieWVhclwiKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdUaW1lWm9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgICAgICAgICAgaWYgKHRpbWV6b25lKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdUaW1lWm9uZU9mZnNldCArPSB0aW1lem9uZS5vZmZzZXRVVEMoZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5ld1RpbWVab25lT2Zmc2V0ICE9IHRpbWVab25lT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlmZiA9IG5ld1RpbWVab25lT2Zmc2V0IC0gdGltZVpvbmVPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ01pbnV0ZXMoZGF0ZS5nZXRVVENNaW51dGVzKCkgKyBkaWZmKTtcclxuICAgICAgICAgICAgICAgIC8vIHNvbHZlcyBpc3N1ZXMgaWYgbmV3IHRpbWUgZmFsbHMgYmFjayB0byBvbGQgdGltZSB6b25lXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICE9IG5ld1RpbWVab25lT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENNaW51dGVzKGRhdGUuZ2V0VVRDTWludXRlcygpIC0gZGlmZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0ZTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdW4odGltZSwgdW5pdCwgY291bnQsIHJvb3QsIGZpcnN0VGltZSkge1xyXG4gICAgbGV0IGZpcnN0RGF0ZTtcclxuICAgIGlmIChmaXJzdFRpbWUgIT0gbnVsbCkge1xyXG4gICAgICAgIGZpcnN0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0VGltZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcm91bmQobmV3IERhdGUodGltZSksIHVuaXQsIGNvdW50LCByb290LmxvY2FsZS5maXJzdERheU9mV2Vlaywgcm9vdC51dGMsIGZpcnN0RGF0ZSwgcm9vdC50aW1lem9uZSkuZ2V0VGltZSgpO1xyXG59XHJcbi8qKlxyXG4gKiBcIlJvdW5kc1wiIHRoZSBkYXRlIHRvIHNwZWNpZmljIHRpbWUgdW5pdC5cclxuICpcclxuICogQHBhcmFtIGRhdGUgICAgICAgICAgICAgU291cmNlIGRhdGVcclxuICogQHBhcmFtIHVuaXQgICAgICAgICAgICAgVGltZSB1bml0XHJcbiAqIEBwYXJhbSBjb3VudCAgICAgICAgICAgIE51bWJlciBvZiB1bml0cyB0byByb3VuZCB0b1xyXG4gKiBAcGFyYW0gZmlyc3REYXRlT2ZXZWVrICBGaXJzdCBkYXkgb2Ygd2Vla1xyXG4gKiBAcGFyYW0gdXRjICAgICAgICAgICAgICBVc2UgVVRDIHRpbWV6b25lXHJcbiAqIEBwYXJhbSBmaXJzdERhdGUgICAgICAgIEZpcnN0IGRhdGUgdG8gcm91bmQgdG9cclxuICogQHBhcmFtIHJvdW5kTWludXRlcyAgICAgTWludXRlcyB0byByb3VuZCB0byAoc29tZSB0aW1lem9uZXMgdXNlIG5vbi13aG9sZSBob3VyKVxyXG4gKiBAcGFyYW0gdGltZXpvbmUgICAgICAgICBVc2Ugc3BlY2lmaWMgbmFtZWQgdGltZXpvbmUgd2hlbiByb3VuZGluZ1xyXG4gKiBAcmV0dXJuIE5ldyBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcm91bmQoZGF0ZSwgdW5pdCwgY291bnQsIGZpcnN0RGF0ZU9mV2VlaywgdXRjLCBmaXJzdERhdGUsIHRpbWV6b25lKSB7XHJcbiAgICBpZiAoIXRpbWV6b25lIHx8IHV0Yykge1xyXG4gICAgICAgIGxldCB0aW1lWm9uZU9mZnNldCA9IDA7XHJcbiAgICAgICAgaWYgKCF1dGMgJiYgdW5pdCAhPSBcIm1pbGxpc2Vjb25kXCIpIHtcclxuICAgICAgICAgICAgdGltZVpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDTWludXRlcyhkYXRlLmdldFVUQ01pbnV0ZXMoKSAtIHRpbWVab25lT2Zmc2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoICh1bml0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkYXlcIjpcclxuICAgICAgICAgICAgICAgIGxldCBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1x0ZGF5ID0gTWF0aC5mbG9vcihkYXkgLyBjb3VudCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3REYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0RGF0ZSA9IHJvdW5kKGZpcnN0RGF0ZSwgXCJkYXlcIiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaWZmZXJlbmNlID0gZGF0ZS5nZXRUaW1lKCkgLSBmaXJzdERhdGUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdW5pdENvdW50ID0gTWF0aC5mbG9vcihkaWZmZXJlbmNlIC8gZ2V0RHVyYXRpb24oXCJkYXlcIikgLyBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGdldER1cmF0aW9uKFwiZGF5XCIsIHVuaXRDb3VudCAqIGNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGZpcnN0RGF0ZS5nZXRUaW1lKCkgKyBkdXJhdGlvbiAtIHRpbWVab25lT2Zmc2V0ICogZ2V0RHVyYXRpb24oXCJtaW51dGVcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDRGF0ZShkYXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2Vjb25kXCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kcyA9IGRhdGUuZ2V0VVRDU2Vjb25kcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyBjb3VudCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDU2Vjb25kcyhzZWNvbmRzLCAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibWlsbGlzZWNvbmRcIjpcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7IC8vIG11Y2ggYmV0dGVyIGZvciBwZXJmIVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IG1pbGxpc2Vjb25kcyA9IGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHMgPSBNYXRoLmZsb29yKG1pbGxpc2Vjb25kcyAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENNaWxsaXNlY29uZHMobWlsbGlzZWNvbmRzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiaG91clwiOlxyXG4gICAgICAgICAgICAgICAgbGV0IGhvdXJzID0gZGF0ZS5nZXRVVENIb3VycygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvdXJzID0gTWF0aC5mbG9vcihob3VycyAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRVVENIb3Vycyhob3VycywgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1pbnV0ZVwiOlxyXG4gICAgICAgICAgICAgICAgbGV0IG1pbnV0ZXMgPSBkYXRlLmdldFVUQ01pbnV0ZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ01pbnV0ZXMobWludXRlcywgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1vbnRoXCI6XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9udGggPSBNYXRoLmZsb29yKG1vbnRoIC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ01vbnRoKG1vbnRoLCAxKTtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInllYXJcIjpcclxuICAgICAgICAgICAgICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHllYXIgPSBNYXRoLmZsb29yKHllYXIgLyBjb3VudCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeWVhciwgMCwgMSk7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3ZWVrXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdERhdGUgPSByb3VuZChmaXJzdERhdGUsIFwid2Vla1wiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpZmZlcmVuY2UgPSBkYXRlLmdldFRpbWUoKSAtIGZpcnN0RGF0ZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1bml0Q291bnQgPSBNYXRoLmZsb29yKGRpZmZlcmVuY2UgLyBnZXREdXJhdGlvbihcIndlZWtcIikgLyBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGdldER1cmF0aW9uKFwid2Vla1wiLCB1bml0Q291bnQgKiBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VGltZShmaXJzdERhdGUuZ2V0VGltZSgpICsgZHVyYXRpb24gLSB0aW1lWm9uZU9mZnNldCAqIGdldER1cmF0aW9uKFwibWludXRlXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgd2RheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHdlZWtEYXkgPSBkYXRlLmdldFVUQ0RheSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihmaXJzdERhdGVPZldlZWspKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3REYXRlT2ZXZWVrID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3ZWVrRGF5ID49IGZpcnN0RGF0ZU9mV2Vlaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdkYXkgPSB3ZGF5IC0gd2Vla0RheSArIGZpcnN0RGF0ZU9mV2VlaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdkYXkgPSB3ZGF5IC0gKDcgKyB3ZWVrRGF5KSArIGZpcnN0RGF0ZU9mV2VlaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDRGF0ZSh3ZGF5KTtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF1dGMgJiYgdW5pdCAhPSBcIm1pbGxpc2Vjb25kXCIpIHtcclxuICAgICAgICAgICAgZGF0ZS5zZXRVVENNaW51dGVzKGRhdGUuZ2V0VVRDTWludXRlcygpICsgdGltZVpvbmVPZmZzZXQpO1xyXG4gICAgICAgICAgICBpZiAodW5pdCA9PSBcImRheVwiIHx8IHVuaXQgPT0gXCJ3ZWVrXCIgfHwgdW5pdCA9PSBcIm1vbnRoXCIgfHwgdW5pdCA9PSBcInllYXJcIikge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RpbWVab25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld1RpbWVab25lT2Zmc2V0ICE9IHRpbWVab25lT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpZmYgPSBuZXdUaW1lWm9uZU9mZnNldCAtIHRpbWVab25lT2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDTWludXRlcyhkYXRlLmdldFVUQ01pbnV0ZXMoKSArIGRpZmYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGluaXRpYWxUaW1lID0gZGF0ZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgbGV0IHR6b2Zmc2V0ID0gdGltZXpvbmUub2Zmc2V0VVRDKGRhdGUpO1xyXG4gICAgICAgIGxldCB0aW1lWm9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgICAgICBsZXQgcGFyc2VkRGF0ZSA9IHRpbWV6b25lLnBhcnNlRGF0ZShkYXRlKTtcclxuICAgICAgICBsZXQgeWVhciA9IHBhcnNlZERhdGUueWVhcjtcclxuICAgICAgICBsZXQgbW9udGggPSBwYXJzZWREYXRlLm1vbnRoO1xyXG4gICAgICAgIGxldCBkYXkgPSBwYXJzZWREYXRlLmRheTtcclxuICAgICAgICBsZXQgaG91ciA9IHBhcnNlZERhdGUuaG91cjtcclxuICAgICAgICBsZXQgbWludXRlID0gcGFyc2VkRGF0ZS5taW51dGU7XHJcbiAgICAgICAgbGV0IHNlY29uZCA9IHBhcnNlZERhdGUuc2Vjb25kO1xyXG4gICAgICAgIGxldCBtaWxsaXNlY29uZCA9IHBhcnNlZERhdGUubWlsbGlzZWNvbmQ7XHJcbiAgICAgICAgbGV0IHdlZWtkYXkgPSBwYXJzZWREYXRlLndlZWtkYXk7XHJcbiAgICAgICAgbGV0IG9mZnNldERpZiA9IHR6b2Zmc2V0IC0gdGltZVpvbmVPZmZzZXQ7XHJcbiAgICAgICAgc3dpdGNoICh1bml0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkYXlcIjpcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEgJiYgZmlyc3REYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3REYXRlID0gcm91bmQoZmlyc3REYXRlLCBcImRheVwiLCAxLCBmaXJzdERhdGVPZldlZWssIHV0YywgdW5kZWZpbmVkLCB0aW1lem9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpZmZlcmVuY2UgPSBkYXRlLmdldFRpbWUoKSAtIGZpcnN0RGF0ZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVuaXRDb3VudCA9IE1hdGguZmxvb3IoZGlmZmVyZW5jZSAvIGdldER1cmF0aW9uKFwiZGF5XCIpIC8gY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGdldER1cmF0aW9uKFwiZGF5XCIsIHVuaXRDb3VudCAqIGNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlLnNldFRpbWUoZmlyc3REYXRlLmdldFRpbWUoKSArIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRlID0gdGltZXpvbmUucGFyc2VEYXRlKGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHllYXIgPSBwYXJzZWREYXRlLnllYXI7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9udGggPSBwYXJzZWREYXRlLm1vbnRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGRheSA9IHBhcnNlZERhdGUuZGF5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaG91ciA9IDA7XHJcbiAgICAgICAgICAgICAgICBtaW51dGUgPSBvZmZzZXREaWY7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWlsbGlzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzZWNvbmRcIjpcclxuICAgICAgICAgICAgICAgIG1pbnV0ZSArPSBvZmZzZXREaWY7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gTWF0aC5mbG9vcihzZWNvbmQgLyBjb3VudCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibWlsbGlzZWNvbmRcIjpcclxuICAgICAgICAgICAgICAgIG1pbnV0ZSArPSBvZmZzZXREaWY7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWlsbGlzZWNvbmQgPSBNYXRoLmZsb29yKG1pbGxpc2Vjb25kIC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImhvdXJcIjpcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3VyID0gTWF0aC5mbG9vcihob3VyIC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtaW51dGUgPSBvZmZzZXREaWY7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWlsbGlzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtaW51dGVcIjpcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW51dGUgPSBNYXRoLmZsb29yKG1pbnV0ZSAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWludXRlICs9IG9mZnNldERpZjtcclxuICAgICAgICAgICAgICAgIHNlY29uZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBtaWxsaXNlY29uZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1vbnRoXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9udGggPSBNYXRoLmZsb29yKG1vbnRoIC8gY291bnQpICogY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXkgPSAxO1xyXG4gICAgICAgICAgICAgICAgaG91ciA9IDA7XHJcbiAgICAgICAgICAgICAgICBtaW51dGUgPSBvZmZzZXREaWY7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWlsbGlzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeWVhciA9IE1hdGguZmxvb3IoeWVhciAvIGNvdW50KSAqIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW9udGggPSAwO1xyXG4gICAgICAgICAgICAgICAgZGF5ID0gMTtcclxuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWludXRlID0gb2Zmc2V0RGlmO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2Vla1wiOlxyXG4gICAgICAgICAgICAgICAgaWYgKCEkdHlwZS5pc051bWJlcihmaXJzdERhdGVPZldlZWspKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3REYXRlT2ZXZWVrID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3ZWVrZGF5ID49IGZpcnN0RGF0ZU9mV2Vlaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRheSA9IGRheSAtIHdlZWtkYXkgKyBmaXJzdERhdGVPZldlZWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXkgPSBkYXkgLSAoNyArIHdlZWtkYXkpICsgZmlyc3REYXRlT2ZXZWVrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaG91ciA9IDA7XHJcbiAgICAgICAgICAgICAgICBtaW51dGUgPSBvZmZzZXREaWY7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbWlsbGlzZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmQpO1xyXG4gICAgICAgIC8vIGZpeCB0byBzb2x2ZSAjMTAxOTg5XHJcbiAgICAgICAgY29uc3QgbmV3VGltZSA9IGRhdGUuZ2V0VGltZSgpO1xyXG4gICAgICAgIGxldCBoRHVyYXRpb24gPSAzNjAwMDAwO1xyXG4gICAgICAgIGlmICh1bml0ID09IFwiaG91clwiKSB7XHJcbiAgICAgICAgICAgIGhEdXJhdGlvbiA9IDM2MDAwMDAgKiBjb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5ld1RpbWUgKyBoRHVyYXRpb24gPD0gaW5pdGlhbFRpbWUpIHtcclxuICAgICAgICAgICAgaWYgKHVuaXQgPT0gXCJob3VyXCIgfHwgdW5pdCA9PSBcIm1pbnV0ZVwiIHx8IHVuaXQgPT0gXCJzZWNvbmRcIiB8fCB1bml0ID09IFwibWlsbGlzZWNvbmRcIikge1xyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKG5ld1RpbWUgKyBoRHVyYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGVuZCBvZiBmaXhcclxuICAgICAgICBsZXQgbmV3VGltZVpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgbGV0IG5ld1R6b2Zmc2V0ID0gdGltZXpvbmUub2Zmc2V0VVRDKGRhdGUpO1xyXG4gICAgICAgIGxldCBuZXdEaWZmID0gbmV3VHpvZmZzZXQgLSBuZXdUaW1lWm9uZU9mZnNldDtcclxuICAgICAgICBpZiAobmV3RGlmZiAhPSBvZmZzZXREaWYpIHtcclxuICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKG5ld0RpZmYgLSBvZmZzZXREaWYpICogNjAwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNob29zZUludGVydmFsKGluZGV4LCBkdXJhdGlvbiwgZ3JpZENvdW50LCBpbnRlcnZhbHMpIHtcclxuICAgIGxldCBncmlkSW50ZXJ2YWwgPSBpbnRlcnZhbHNbaW5kZXhdO1xyXG4gICAgbGV0IGludGVydmFsRHVyYXRpb24gPSBnZXRJbnRlcnZhbER1cmF0aW9uKGdyaWRJbnRlcnZhbCk7XHJcbiAgICBsZXQgbGFzdEluZGV4ID0gaW50ZXJ2YWxzLmxlbmd0aCAtIDE7XHJcbiAgICBpZiAoaW5kZXggPj0gbGFzdEluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGludGVydmFsc1tsYXN0SW5kZXhdKTtcclxuICAgIH1cclxuICAgIGxldCBjb3VudCA9IE1hdGguY2VpbChkdXJhdGlvbiAvIGludGVydmFsRHVyYXRpb24pO1xyXG4gICAgaWYgKGR1cmF0aW9uIDwgaW50ZXJ2YWxEdXJhdGlvbiAmJiBpbmRleCA+IDApIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW50ZXJ2YWxzW2luZGV4IC0gMV0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvdW50IDw9IGdyaWRDb3VudCkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpbnRlcnZhbHNbaW5kZXhdKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmRleCArIDEgPCBpbnRlcnZhbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaG9vc2VJbnRlcnZhbChpbmRleCArIDEsIGR1cmF0aW9uLCBncmlkQ291bnQsIGludGVydmFscyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaW50ZXJ2YWxzW2luZGV4XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5pdFZhbHVlKGRhdGUsIHVuaXQpIHtcclxuICAgIHN3aXRjaCAodW5pdCkge1xyXG4gICAgICAgIGNhc2UgXCJkYXlcIjpcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGNhc2UgXCJzZWNvbmRcIjpcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0U2Vjb25kcygpO1xyXG4gICAgICAgIGNhc2UgXCJtaWxsaXNlY29uZFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcclxuICAgICAgICBjYXNlIFwiaG91clwiOlxyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRIb3VycygpO1xyXG4gICAgICAgIGNhc2UgXCJtaW51dGVcIjpcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TWludXRlcygpO1xyXG4gICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgY2FzZSBcIndlZWtcIjpcclxuICAgICAgICAgICAgcmV0dXJuICR1dGlscy5nZXRXZWVrKGRhdGUpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Timezone: () => (/* binding */ Timezone)\n/* harmony export */ });\nfunction parseDate(timezone, date) {\r\n    let year = 0;\r\n    let month = 0;\r\n    let day = 1;\r\n    let hour = 0;\r\n    let minute = 0;\r\n    let second = 0;\r\n    let millisecond = 0;\r\n    let weekday = 0;\r\n    timezone.formatToParts(date).forEach((x) => {\r\n        switch (x.type) {\r\n            case \"year\":\r\n                year = +x.value;\r\n                break;\r\n            case \"month\":\r\n                month = (+x.value) - 1;\r\n                break;\r\n            case \"day\":\r\n                day = +x.value;\r\n                break;\r\n            case \"hour\":\r\n                hour = +x.value;\r\n                break;\r\n            case \"minute\":\r\n                minute = +x.value;\r\n                break;\r\n            case \"second\":\r\n                second = +x.value;\r\n                break;\r\n            case \"fractionalSecond\":\r\n                millisecond = +x.value;\r\n                break;\r\n            case \"weekday\":\r\n                switch (x.value) {\r\n                    case \"Sun\":\r\n                        weekday = 0;\r\n                        break;\r\n                    case \"Mon\":\r\n                        weekday = 1;\r\n                        break;\r\n                    case \"Tue\":\r\n                        weekday = 2;\r\n                        break;\r\n                    case \"Wed\":\r\n                        weekday = 3;\r\n                        break;\r\n                    case \"Thu\":\r\n                        weekday = 4;\r\n                        break;\r\n                    case \"Fri\":\r\n                        weekday = 5;\r\n                        break;\r\n                    case \"Sat\":\r\n                        weekday = 6;\r\n                        break;\r\n                }\r\n        }\r\n    });\r\n    if (hour === 24) {\r\n        hour = 0;\r\n    }\r\n    return { year, month, day, hour, minute, second, millisecond, weekday };\r\n}\r\nfunction toUTCDate(timezone, date) {\r\n    const { year, month, day, hour, minute, second, millisecond } = parseDate(timezone, date);\r\n    return Date.UTC(year, month, day, hour, minute, second, millisecond);\r\n}\r\nclass Timezone {\r\n    constructor(timezone, isReal) {\r\n        Object.defineProperty(this, \"_utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dtf\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this.name = timezone;\r\n        this._utc = new Intl.DateTimeFormat(\"en-US\", {\r\n            hour12: false,\r\n            timeZone: \"UTC\",\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n        this._dtf = new Intl.DateTimeFormat(\"en-US\", {\r\n            hour12: false,\r\n            timeZone: timezone,\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   timezone  IANA timezone\r\n     * @return            Instantiated object\r\n     */\r\n    static new(timezone) {\r\n        return (new this(timezone, true));\r\n    }\r\n    convertLocal(date) {\r\n        const offset = this.offsetUTC(date);\r\n        const userOffset = date.getTimezoneOffset();\r\n        const output = new Date(date);\r\n        output.setUTCMinutes(output.getUTCMinutes() - (offset - userOffset));\r\n        const newUserOffset = output.getTimezoneOffset();\r\n        if (userOffset != newUserOffset) {\r\n            output.setUTCMinutes(output.getUTCMinutes() + newUserOffset - userOffset);\r\n        }\r\n        return output;\r\n    }\r\n    offsetUTC(date) {\r\n        const utc = toUTCDate(this._utc, date);\r\n        const dtf = toUTCDate(this._dtf, date);\r\n        return (utc - dtf) / 60000;\r\n    }\r\n    parseDate(date) {\r\n        return parseDate(this._dtf, date);\r\n    }\r\n}\r\n//# sourceMappingURL=Timezone.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1RpbWV6b25lLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLHNEQUFzRDtBQUNsRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBNEU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvVGltZXpvbmUuanM/NmZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBwYXJzZURhdGUodGltZXpvbmUsIGRhdGUpIHtcclxuICAgIGxldCB5ZWFyID0gMDtcclxuICAgIGxldCBtb250aCA9IDA7XHJcbiAgICBsZXQgZGF5ID0gMTtcclxuICAgIGxldCBob3VyID0gMDtcclxuICAgIGxldCBtaW51dGUgPSAwO1xyXG4gICAgbGV0IHNlY29uZCA9IDA7XHJcbiAgICBsZXQgbWlsbGlzZWNvbmQgPSAwO1xyXG4gICAgbGV0IHdlZWtkYXkgPSAwO1xyXG4gICAgdGltZXpvbmUuZm9ybWF0VG9QYXJ0cyhkYXRlKS5mb3JFYWNoKCh4KSA9PiB7XHJcbiAgICAgICAgc3dpdGNoICh4LnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcInllYXJcIjpcclxuICAgICAgICAgICAgICAgIHllYXIgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgICAgICAgICAgIG1vbnRoID0gKCt4LnZhbHVlKSAtIDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRheVwiOlxyXG4gICAgICAgICAgICAgICAgZGF5ID0gK3gudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImhvdXJcIjpcclxuICAgICAgICAgICAgICAgIGhvdXIgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibWludXRlXCI6XHJcbiAgICAgICAgICAgICAgICBtaW51dGUgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2Vjb25kXCI6XHJcbiAgICAgICAgICAgICAgICBzZWNvbmQgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZnJhY3Rpb25hbFNlY29uZFwiOlxyXG4gICAgICAgICAgICAgICAgbWlsbGlzZWNvbmQgPSAreC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2Vla2RheVwiOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh4LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlN1blwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1vblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlR1ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldlZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlRodVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkZyaVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNhdFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gNjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoaG91ciA9PT0gMjQpIHtcclxuICAgICAgICBob3VyID0gMDtcclxuICAgIH1cclxuICAgIHJldHVybiB7IHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZCwgd2Vla2RheSB9O1xyXG59XHJcbmZ1bmN0aW9uIHRvVVRDRGF0ZSh0aW1lem9uZSwgZGF0ZSkge1xyXG4gICAgY29uc3QgeyB5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmQgfSA9IHBhcnNlRGF0ZSh0aW1lem9uZSwgZGF0ZSk7XHJcbiAgICByZXR1cm4gRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kKTtcclxufVxyXG5leHBvcnQgY2xhc3MgVGltZXpvbmUge1xyXG4gICAgY29uc3RydWN0b3IodGltZXpvbmUsIGlzUmVhbCkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91dGNcIiwge1xyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2R0ZlwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghaXNSZWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgdXNlIGBuZXcgQ2xhc3MoKWAsIGluc3RlYWQgdXNlIGBDbGFzcy5uZXcoKWBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmFtZSA9IHRpbWV6b25lO1xyXG4gICAgICAgIHRoaXMuX3V0YyA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZW4tVVNcIiwge1xyXG4gICAgICAgICAgICBob3VyMTI6IGZhbHNlLFxyXG4gICAgICAgICAgICB0aW1lWm9uZTogXCJVVENcIixcclxuICAgICAgICAgICAgeWVhcjogXCJudW1lcmljXCIsXHJcbiAgICAgICAgICAgIG1vbnRoOiBcIjItZGlnaXRcIixcclxuICAgICAgICAgICAgZGF5OiBcIjItZGlnaXRcIixcclxuICAgICAgICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgIHNlY29uZDogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgICAgIHdlZWtkYXk6IFwic2hvcnRcIixcclxuICAgICAgICAgICAgZnJhY3Rpb25hbFNlY29uZERpZ2l0czogMyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9kdGYgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgaG91cjEyOiBmYWxzZSxcclxuICAgICAgICAgICAgdGltZVpvbmU6IHRpbWV6b25lLFxyXG4gICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIixcclxuICAgICAgICAgICAgbW9udGg6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICBkYXk6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgICAgICBob3VyOiBcIjItZGlnaXRcIixcclxuICAgICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcclxuICAgICAgICAgICAgc2Vjb25kOiBcIjItZGlnaXRcIixcclxuICAgICAgICAgICAgd2Vla2RheTogXCJzaG9ydFwiLFxyXG4gICAgICAgICAgICBmcmFjdGlvbmFsU2Vjb25kRGlnaXRzOiAzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjUvZ2V0dGluZy1zdGFydGVkLyNOZXdfZWxlbWVudF9zeW50YXh9IGZvciBtb3JlIGluZm9cclxuICAgICAqIEBwYXJhbSAgIHRpbWV6b25lICBJQU5BIHRpbWV6b25lXHJcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgSW5zdGFudGlhdGVkIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbmV3KHRpbWV6b25lKSB7XHJcbiAgICAgICAgcmV0dXJuIChuZXcgdGhpcyh0aW1lem9uZSwgdHJ1ZSkpO1xyXG4gICAgfVxyXG4gICAgY29udmVydExvY2FsKGRhdGUpIHtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm9mZnNldFVUQyhkYXRlKTtcclxuICAgICAgICBjb25zdCB1c2VyT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIG91dHB1dC5zZXRVVENNaW51dGVzKG91dHB1dC5nZXRVVENNaW51dGVzKCkgLSAob2Zmc2V0IC0gdXNlck9mZnNldCkpO1xyXG4gICAgICAgIGNvbnN0IG5ld1VzZXJPZmZzZXQgPSBvdXRwdXQuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICAgICAgICBpZiAodXNlck9mZnNldCAhPSBuZXdVc2VyT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIG91dHB1dC5zZXRVVENNaW51dGVzKG91dHB1dC5nZXRVVENNaW51dGVzKCkgKyBuZXdVc2VyT2Zmc2V0IC0gdXNlck9mZnNldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbiAgICBvZmZzZXRVVEMoZGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHV0YyA9IHRvVVRDRGF0ZSh0aGlzLl91dGMsIGRhdGUpO1xyXG4gICAgICAgIGNvbnN0IGR0ZiA9IHRvVVRDRGF0ZSh0aGlzLl9kdGYsIGRhdGUpO1xyXG4gICAgICAgIHJldHVybiAodXRjIC0gZHRmKSAvIDYwMDAwO1xyXG4gICAgfVxyXG4gICAgcGFyc2VEYXRlKGRhdGUpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VEYXRlKHRoaXMuX2R0ZiwgZGF0ZSk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZXpvbmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PLACEHOLDER: () => (/* binding */ PLACEHOLDER),\n/* harmony export */   PLACEHOLDER2: () => (/* binding */ PLACEHOLDER2),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   getType: () => (/* binding */ getType),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isDate: () => (/* binding */ isDate),\n/* harmony export */   isNaN: () => (/* binding */ isNaN),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   numberToString: () => (/* binding */ numberToString),\n/* harmony export */   repeat: () => (/* binding */ repeat),\n/* harmony export */   toDate: () => (/* binding */ toDate),\n/* harmony export */   toNumber: () => (/* binding */ toNumber)\n/* harmony export */ });\n/**\r\n * A collection of utility functions for various type checks and conversion\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns `true` if value is not a number (NaN).\r\n *\r\n * @param value Input value\r\n * @return Is NaN?\r\n */\r\nfunction isNaN(value) {\r\n    return Number(value) !== value;\r\n}\r\n/**\r\n * Returns a type of the value.\r\n *\r\n * @param value  Input value\r\n * @return Type of the value\r\n * @ignore\r\n */\r\nfunction getType(value) {\r\n    return ({}).toString.call(value);\r\n}\r\n/**\r\n * Asserts that the condition is true.\r\n *\r\n * @param condition  Condition to check\r\n * @param message    Message to display in the error\r\n * @ignore\r\n */\r\nfunction assert(condition, message = \"Assertion failed\") {\r\n    if (!condition) {\r\n        throw new Error(message);\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * QUICK CONVERSION\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts any value into a `number`.\r\n *\r\n * @param value  Source value\r\n * @return Number representation of value\r\n */\r\nfunction toNumber(value) {\r\n    if (value != null && !isNumber(value)) {\r\n        let converted = Number(value);\r\n        if (isNaN(converted) && isString(value) && value != \"\" && value.match(/[0-9]+/)) {\r\n            return toNumber(value.replace(/[^0-9.\\-]+/g, ''));\r\n        }\r\n        return converted;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts anything to Date object.\r\n *\r\n * @param value  A value of any type\r\n * @return Date object representing a value\r\n */\r\nfunction toDate(value) {\r\n    if (isDate(value)) {\r\n        // TODO maybe don't create a new Date ?\r\n        return new Date(value);\r\n    }\r\n    else if (isNumber(value)) {\r\n        return new Date(value);\r\n    }\r\n    else {\r\n        // Try converting to number (assuming timestamp)\r\n        let num = Number(value);\r\n        if (!isNumber(num)) {\r\n            return new Date(value);\r\n        }\r\n        else {\r\n            return new Date(num);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric value into string. Deals with large or small numbers that\r\n * would otherwise use exponents.\r\n *\r\n * @param value  Numeric value\r\n * @return Numeric value as string\r\n */\r\nfunction numberToString(value) {\r\n    // TODO handle Infinity and -Infinity\r\n    if (isNaN(value)) {\r\n        return \"NaN\";\r\n    }\r\n    if (value === Infinity) {\r\n        return \"Infinity\";\r\n    }\r\n    if (value === -Infinity) {\r\n        return \"-Infinity\";\r\n    }\r\n    // Negative 0\r\n    if ((value === 0) && (1 / value === -Infinity)) {\r\n        return \"-0\";\r\n    }\r\n    // Preserve negative and deal with absoute values\r\n    let negative = value < 0;\r\n    value = Math.abs(value);\r\n    // TODO test this\r\n    let parsed = /^([0-9]+)(?:\\.([0-9]+))?(?:e[\\+\\-]([0-9]+))?$/.exec(\"\" + value);\r\n    let digits = parsed[1];\r\n    let decimals = parsed[2] || \"\";\r\n    let res;\r\n    // Leave the nummber as it is if it does not use exponents\r\n    if (parsed[3] === undefined) {\r\n        res = (decimals === \"\" ? digits : digits + \".\" + decimals);\r\n    }\r\n    else {\r\n        let exponent = +parsed[3];\r\n        // Deal with decimals\r\n        if (value < 1) {\r\n            let zeros = exponent - 1;\r\n            res = \"0.\" + repeat(\"0\", zeros) + digits + decimals;\r\n            // Deal with integers\r\n        }\r\n        else {\r\n            let zeros = exponent - decimals.length;\r\n            if (zeros === 0) {\r\n                res = digits + decimals;\r\n            }\r\n            else if (zeros < 0) {\r\n                res = digits + decimals.slice(0, zeros) + \".\" + decimals.slice(zeros);\r\n            }\r\n            else {\r\n                res = digits + decimals + repeat(\"0\", zeros);\r\n            }\r\n        }\r\n    }\r\n    return negative ? \"-\" + res : res;\r\n}\r\n/**\r\n * Repeats a `string` number of times as set in `amount`.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Make this faster\r\n * @param string  Source string\r\n * @param amount  Number of times to repeat string\r\n * @return New string\r\n */\r\nfunction repeat(string, amount) {\r\n    return new Array(amount + 1).join(string);\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Checks if parameter is `Date`.\r\n *\r\n * @param value  Input value\r\n * @return Is Date?\r\n */\r\nfunction isDate(value) {\r\n    return getType(value) === \"[object Date]\";\r\n}\r\n/**\r\n * Checks if parameter is `string`.\r\n *\r\n * @param value  Input value\r\n * @return Is string?\r\n */\r\nfunction isString(value) {\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if parameter is `number`.\r\n *\r\n * @param value  Input value\r\n * @return Is number?\r\n */\r\nfunction isNumber(value) {\r\n    return typeof value === \"number\" && Number(value) == value;\r\n}\r\n/**\r\n * Checks if parameter is `object`.\r\n *\r\n * @param value  Input value\r\n * @return Is object?\r\n */\r\nfunction isObject(value) {\r\n    return typeof value === \"object\" && value !== null;\r\n}\r\n/**\r\n * Checks if parameter is `Array`.\r\n *\r\n * @param value  Input value\r\n * @return Is Array?\r\n */\r\nfunction isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n/**\r\n * ============================================================================\r\n * STATIC CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nconst PLACEHOLDER = \"__§§§__\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nconst PLACEHOLDER2 = \"__§§§§__\";\r\n//# sourceMappingURL=Type.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1R5cGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhcGgtdmlzdWFsaXplci8uL25vZGVfbW9kdWxlcy9AYW1jaGFydHMvYW1jaGFydHM1Ly5pbnRlcm5hbC9jb3JlL3V0aWwvVHlwZS5qcz85ZDZjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBIGNvbGxlY3Rpb24gb2YgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHZhcmlvdXMgdHlwZSBjaGVja3MgYW5kIGNvbnZlcnNpb25cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogVFlQRSBDSEVDS1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB2YWx1ZSBpcyBub3QgYSBudW1iZXIgKE5hTikuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSBJbnB1dCB2YWx1ZVxyXG4gKiBAcmV0dXJuIElzIE5hTj9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIE51bWJlcih2YWx1ZSkgIT09IHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgdHlwZSBvZiB0aGUgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgSW5wdXQgdmFsdWVcclxuICogQHJldHVybiBUeXBlIG9mIHRoZSB2YWx1ZVxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcbn1cclxuLyoqXHJcbiAqIEFzc2VydHMgdGhhdCB0aGUgY29uZGl0aW9uIGlzIHRydWUuXHJcbiAqXHJcbiAqIEBwYXJhbSBjb25kaXRpb24gIENvbmRpdGlvbiB0byBjaGVja1xyXG4gKiBAcGFyYW0gbWVzc2FnZSAgICBNZXNzYWdlIHRvIGRpc3BsYXkgaW4gdGhlIGVycm9yXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlID0gXCJBc3NlcnRpb24gZmFpbGVkXCIpIHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIFFVSUNLIENPTlZFUlNJT05cclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG4vKipcclxuICogQ29udmVydHMgYW55IHZhbHVlIGludG8gYSBgbnVtYmVyYC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBTb3VyY2UgdmFsdWVcclxuICogQHJldHVybiBOdW1iZXIgcmVwcmVzZW50YXRpb24gb2YgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgIWlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgIGxldCBjb252ZXJ0ZWQgPSBOdW1iZXIodmFsdWUpO1xyXG4gICAgICAgIGlmIChpc05hTihjb252ZXJ0ZWQpICYmIGlzU3RyaW5nKHZhbHVlKSAmJiB2YWx1ZSAhPSBcIlwiICYmIHZhbHVlLm1hdGNoKC9bMC05XSsvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9OdW1iZXIodmFsdWUucmVwbGFjZSgvW14wLTkuXFwtXSsvZywgJycpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZDtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4vKipcclxuICogQ29udmVydHMgYW55dGhpbmcgdG8gRGF0ZSBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgQSB2YWx1ZSBvZiBhbnkgdHlwZVxyXG4gKiBAcmV0dXJuIERhdGUgb2JqZWN0IHJlcHJlc2VudGluZyBhIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9EYXRlKHZhbHVlKSB7XHJcbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xyXG4gICAgICAgIC8vIFRPRE8gbWF5YmUgZG9uJ3QgY3JlYXRlIGEgbmV3IERhdGUgP1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc051bWJlcih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gVHJ5IGNvbnZlcnRpbmcgdG8gbnVtYmVyIChhc3N1bWluZyB0aW1lc3RhbXApXHJcbiAgICAgICAgbGV0IG51bSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFpc051bWJlcihudW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUobnVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENvbnZlcnRzIG51bWVyaWMgdmFsdWUgaW50byBzdHJpbmcuIERlYWxzIHdpdGggbGFyZ2Ugb3Igc21hbGwgbnVtYmVycyB0aGF0XHJcbiAqIHdvdWxkIG90aGVyd2lzZSB1c2UgZXhwb25lbnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgIE51bWVyaWMgdmFsdWVcclxuICogQHJldHVybiBOdW1lcmljIHZhbHVlIGFzIHN0cmluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvU3RyaW5nKHZhbHVlKSB7XHJcbiAgICAvLyBUT0RPIGhhbmRsZSBJbmZpbml0eSBhbmQgLUluZmluaXR5XHJcbiAgICBpZiAoaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiTmFOXCI7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIFwiSW5maW5pdHlcIjtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA9PT0gLUluZmluaXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIFwiLUluZmluaXR5XCI7XHJcbiAgICB9XHJcbiAgICAvLyBOZWdhdGl2ZSAwXHJcbiAgICBpZiAoKHZhbHVlID09PSAwKSAmJiAoMSAvIHZhbHVlID09PSAtSW5maW5pdHkpKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiLTBcIjtcclxuICAgIH1cclxuICAgIC8vIFByZXNlcnZlIG5lZ2F0aXZlIGFuZCBkZWFsIHdpdGggYWJzb3V0ZSB2YWx1ZXNcclxuICAgIGxldCBuZWdhdGl2ZSA9IHZhbHVlIDwgMDtcclxuICAgIHZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xyXG4gICAgLy8gVE9ETyB0ZXN0IHRoaXNcclxuICAgIGxldCBwYXJzZWQgPSAvXihbMC05XSspKD86XFwuKFswLTldKykpPyg/OmVbXFwrXFwtXShbMC05XSspKT8kLy5leGVjKFwiXCIgKyB2YWx1ZSk7XHJcbiAgICBsZXQgZGlnaXRzID0gcGFyc2VkWzFdO1xyXG4gICAgbGV0IGRlY2ltYWxzID0gcGFyc2VkWzJdIHx8IFwiXCI7XHJcbiAgICBsZXQgcmVzO1xyXG4gICAgLy8gTGVhdmUgdGhlIG51bW1iZXIgYXMgaXQgaXMgaWYgaXQgZG9lcyBub3QgdXNlIGV4cG9uZW50c1xyXG4gICAgaWYgKHBhcnNlZFszXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmVzID0gKGRlY2ltYWxzID09PSBcIlwiID8gZGlnaXRzIDogZGlnaXRzICsgXCIuXCIgKyBkZWNpbWFscyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgZXhwb25lbnQgPSArcGFyc2VkWzNdO1xyXG4gICAgICAgIC8vIERlYWwgd2l0aCBkZWNpbWFsc1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEpIHtcclxuICAgICAgICAgICAgbGV0IHplcm9zID0gZXhwb25lbnQgLSAxO1xyXG4gICAgICAgICAgICByZXMgPSBcIjAuXCIgKyByZXBlYXQoXCIwXCIsIHplcm9zKSArIGRpZ2l0cyArIGRlY2ltYWxzO1xyXG4gICAgICAgICAgICAvLyBEZWFsIHdpdGggaW50ZWdlcnNcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB6ZXJvcyA9IGV4cG9uZW50IC0gZGVjaW1hbHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoemVyb3MgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IGRpZ2l0cyArIGRlY2ltYWxzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHplcm9zIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzID0gZGlnaXRzICsgZGVjaW1hbHMuc2xpY2UoMCwgemVyb3MpICsgXCIuXCIgKyBkZWNpbWFscy5zbGljZSh6ZXJvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXMgPSBkaWdpdHMgKyBkZWNpbWFscyArIHJlcGVhdChcIjBcIiwgemVyb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5lZ2F0aXZlID8gXCItXCIgKyByZXMgOiByZXM7XHJcbn1cclxuLyoqXHJcbiAqIFJlcGVhdHMgYSBgc3RyaW5nYCBudW1iZXIgb2YgdGltZXMgYXMgc2V0IGluIGBhbW91bnRgLlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEB0b2RvIE1ha2UgdGhpcyBmYXN0ZXJcclxuICogQHBhcmFtIHN0cmluZyAgU291cmNlIHN0cmluZ1xyXG4gKiBAcGFyYW0gYW1vdW50ICBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHN0cmluZ1xyXG4gKiBAcmV0dXJuIE5ldyBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBhbW91bnQpIHtcclxuICAgIHJldHVybiBuZXcgQXJyYXkoYW1vdW50ICsgMSkuam9pbihzdHJpbmcpO1xyXG59XHJcbi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIFRZUEUgQ0hFQ0tcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG4vKipcclxuICogQ2hlY2tzIGlmIHBhcmFtZXRlciBpcyBgRGF0ZWAuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgSW5wdXQgdmFsdWVcclxuICogQHJldHVybiBJcyBEYXRlP1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGdldFR5cGUodmFsdWUpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcclxufVxyXG4vKipcclxuICogQ2hlY2tzIGlmIHBhcmFtZXRlciBpcyBgc3RyaW5nYC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBJbnB1dCB2YWx1ZVxyXG4gKiBAcmV0dXJuIElzIHN0cmluZz9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIjtcclxufVxyXG4vKipcclxuICogQ2hlY2tzIGlmIHBhcmFtZXRlciBpcyBgbnVtYmVyYC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBJbnB1dCB2YWx1ZVxyXG4gKiBAcmV0dXJuIElzIG51bWJlcj9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIodmFsdWUpID09IHZhbHVlO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgcGFyYW1ldGVyIGlzIGBvYmplY3RgLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgIElucHV0IHZhbHVlXHJcbiAqIEByZXR1cm4gSXMgb2JqZWN0P1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgcGFyYW1ldGVyIGlzIGBBcnJheWAuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgSW5wdXQgdmFsdWVcclxuICogQHJldHVybiBJcyBBcnJheT9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogU1RBVElDIENPTlNUQU5UU1xyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIEBoaWRkZW5cclxuICovXHJcbi8qKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUExBQ0VIT0xERVIgPSBcIl9fwqfCp8KnX19cIjtcclxuLyoqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICovXHJcbmV4cG9ydCBjb25zdCBQTEFDRUhPTERFUjIgPSBcIl9fwqfCp8KnwqdfX1wiO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UeXBlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StyleRule: () => (/* binding */ StyleRule),\n/* harmony export */   StyleSheet: () => (/* binding */ StyleSheet),\n/* harmony export */   addClass: () => (/* binding */ addClass),\n/* harmony export */   addEventListener: () => (/* binding */ addEventListener),\n/* harmony export */   addSpacing: () => (/* binding */ addSpacing),\n/* harmony export */   alternativeColor: () => (/* binding */ alternativeColor),\n/* harmony export */   blur: () => (/* binding */ blur),\n/* harmony export */   brighten: () => (/* binding */ brighten),\n/* harmony export */   capitalizeFirst: () => (/* binding */ capitalizeFirst),\n/* harmony export */   cleanFormat: () => (/* binding */ cleanFormat),\n/* harmony export */   contains: () => (/* binding */ contains),\n/* harmony export */   decimalPlaces: () => (/* binding */ decimalPlaces),\n/* harmony export */   escapeForRgex: () => (/* binding */ escapeForRgex),\n/* harmony export */   focus: () => (/* binding */ focus),\n/* harmony export */   get12Hours: () => (/* binding */ get12Hours),\n/* harmony export */   getBrightnessStep: () => (/* binding */ getBrightnessStep),\n/* harmony export */   getDayFromWeek: () => (/* binding */ getDayFromWeek),\n/* harmony export */   getEventKey: () => (/* binding */ getEventKey),\n/* harmony export */   getEventTarget: () => (/* binding */ getEventTarget),\n/* harmony export */   getFormat: () => (/* binding */ getFormat),\n/* harmony export */   getLightnessStep: () => (/* binding */ getLightnessStep),\n/* harmony export */   getMonthWeek: () => (/* binding */ getMonthWeek),\n/* harmony export */   getPointerId: () => (/* binding */ getPointerId),\n/* harmony export */   getRendererEvent: () => (/* binding */ getRendererEvent),\n/* harmony export */   getSafeResolution: () => (/* binding */ getSafeResolution),\n/* harmony export */   getShadowRoot: () => (/* binding */ getShadowRoot),\n/* harmony export */   getStyle: () => (/* binding */ getStyle),\n/* harmony export */   getTimeZone: () => (/* binding */ getTimeZone),\n/* harmony export */   getTimezoneOffset: () => (/* binding */ getTimezoneOffset),\n/* harmony export */   getWeek: () => (/* binding */ getWeek),\n/* harmony export */   getWeekYear: () => (/* binding */ getWeekYear),\n/* harmony export */   getYearDay: () => (/* binding */ getYearDay),\n/* harmony export */   hslToHsv: () => (/* binding */ hslToHsv),\n/* harmony export */   hslToRgb: () => (/* binding */ hslToRgb),\n/* harmony export */   hsvToHsl: () => (/* binding */ hsvToHsl),\n/* harmony export */   iOS: () => (/* binding */ iOS),\n/* harmony export */   isLight: () => (/* binding */ isLight),\n/* harmony export */   isLocalEvent: () => (/* binding */ isLocalEvent),\n/* harmony export */   isTouchEvent: () => (/* binding */ isTouchEvent),\n/* harmony export */   lighten: () => (/* binding */ lighten),\n/* harmony export */   mergeTags: () => (/* binding */ mergeTags),\n/* harmony export */   onZoom: () => (/* binding */ onZoom),\n/* harmony export */   padString: () => (/* binding */ padString),\n/* harmony export */   plainText: () => (/* binding */ plainText),\n/* harmony export */   ready: () => (/* binding */ ready),\n/* harmony export */   relativeToValue: () => (/* binding */ relativeToValue),\n/* harmony export */   removeClass: () => (/* binding */ removeClass),\n/* harmony export */   removeElement: () => (/* binding */ removeElement),\n/* harmony export */   rgbToHsl: () => (/* binding */ rgbToHsl),\n/* harmony export */   sameBounds: () => (/* binding */ sameBounds),\n/* harmony export */   saturate: () => (/* binding */ saturate),\n/* harmony export */   setInteractive: () => (/* binding */ setInteractive),\n/* harmony export */   setStyle: () => (/* binding */ setStyle),\n/* harmony export */   splitString: () => (/* binding */ splitString),\n/* harmony export */   stripTags: () => (/* binding */ stripTags),\n/* harmony export */   supports: () => (/* binding */ supports),\n/* harmony export */   trim: () => (/* binding */ trim),\n/* harmony export */   trimLeft: () => (/* binding */ trimLeft),\n/* harmony export */   trimRight: () => (/* binding */ trimRight),\n/* harmony export */   truncateTextWithEllipsis: () => (/* binding */ truncateTextWithEllipsis)\n/* harmony export */ });\n/* harmony import */ var _Type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Type */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js\");\n/* harmony import */ var _Array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Array */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js\");\n/* harmony import */ var _Object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Object */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js\");\n/* harmony import */ var _Disposer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Disposer */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js\");\n\r\n\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * DOM FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Execute a function when DOM is ready.\r\n *\r\n * @since 5.0.2\r\n * @param  f  Callback\r\n */\r\nfunction ready(f) {\r\n    if (document.readyState !== \"loading\") {\r\n        f();\r\n    }\r\n    else {\r\n        const listener = () => {\r\n            if (document.readyState !== \"loading\") {\r\n                document.removeEventListener(\"readystatechange\", listener);\r\n                f();\r\n            }\r\n        };\r\n        document.addEventListener(\"readystatechange\", listener);\r\n    }\r\n}\r\n/**\r\n * Removes a DOM element.\r\n * @param  el  Target element\r\n */\r\nfunction removeElement(el) {\r\n    if (el.parentNode) {\r\n        el.parentNode.removeChild(el);\r\n    }\r\n}\r\n/**\r\n * Function that adds a disposable event listener directly to a DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dom       A DOM element to add event to\r\n * @param type      Event type\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nfunction addEventListener(dom, type, listener, options) {\r\n    //@todo proper type check for options: EventListenerOptions | boolean (TS for some reason gives error on passive parameter)\r\n    dom.addEventListener(type, listener, options || false);\r\n    return new _Disposer__WEBPACK_IMPORTED_MODULE_0__.Disposer(() => {\r\n        dom.removeEventListener(type, listener, options || false);\r\n    });\r\n}\r\n/**\r\n * Function that adds an event listener which is triggered when the browser's zoom changes.\r\n *\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nfunction onZoom(listener) {\r\n    // TODO use matchMedia instead ?\r\n    return addEventListener(window, \"resize\", (_ev) => {\r\n        listener();\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction supports(cap) {\r\n    switch (cap) {\r\n        case \"touchevents\":\r\n            //return \"ontouchstart\" in document.documentElement;\r\n            return window.hasOwnProperty(\"TouchEvent\");\r\n        case \"pointerevents\":\r\n            return window.hasOwnProperty(\"PointerEvent\");\r\n        case \"mouseevents\":\r\n            return window.hasOwnProperty(\"MouseEvent\");\r\n        case \"wheelevents\":\r\n            return window.hasOwnProperty(\"WheelEvent\");\r\n        case \"keyboardevents\":\r\n            return window.hasOwnProperty(\"KeyboardEvent\");\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getPointerId(event) {\r\n    let id = event.pointerId || 0;\r\n    return id;\r\n}\r\n/**\r\n * Removes focus from any element by shifting focus to body.\r\n *\r\n * @ignore\r\n */\r\nfunction blur() {\r\n    if (document.activeElement && document.activeElement != document.body) {\r\n        if (document.activeElement.blur) {\r\n            document.activeElement.blur();\r\n        }\r\n        else {\r\n            let input = document.createElement(\"button\");\r\n            input.style.position = \"fixed\";\r\n            input.style.top = \"0px\";\r\n            input.style.left = \"-10000px\";\r\n            document.body.appendChild(input);\r\n            input.focus();\r\n            input.blur();\r\n            document.body.removeChild(input);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Focuses element.\r\n *\r\n * @ignore\r\n */\r\nfunction focus(el) {\r\n    if (el) {\r\n        el.focus();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getRendererEvent(key) {\r\n    if (supports(\"pointerevents\")) {\r\n        return key;\r\n    }\r\n    else if (supports(\"touchevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"touchstart\";\r\n            case \"pointerout\": return \"touchend\";\r\n            case \"pointerleave\": return \"touchend\";\r\n            case \"pointerdown\": return \"touchstart\";\r\n            case \"pointermove\": return \"touchmove\";\r\n            case \"pointerup\": return \"touchend\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    else if (supports(\"mouseevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"mouseover\";\r\n            case \"pointerout\": return \"mouseout\";\r\n            case \"pointerleave\": return \"mouseleave\";\r\n            case \"pointerdown\": return \"mousedown\";\r\n            case \"pointermove\": return \"mousemove\";\r\n            case \"pointerup\": return \"mouseup\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    return key;\r\n}\r\n/**\r\n * Determines if pointer event originated from a touch pointer or mouse.\r\n *\r\n * @param ev  Original event\r\n * @return Touch pointer?\r\n */\r\nfunction isTouchEvent(ev) {\r\n    if (typeof Touch !== \"undefined\" && ev instanceof Touch) {\r\n        return true;\r\n    }\r\n    else if (typeof PointerEvent !== \"undefined\" && ev instanceof PointerEvent && ev.pointerType != null) {\r\n        switch (ev.pointerType) {\r\n            case \"touch\":\r\n            case \"pen\":\r\n            case 2:\r\n                return true;\r\n            case \"mouse\":\r\n            case 4:\r\n                return false;\r\n            default:\r\n                return !(ev instanceof MouseEvent);\r\n        }\r\n    }\r\n    else if (ev.type != null) {\r\n        if (ev.type.match(/^mouse/)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Sets style property on DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nfunction setStyle(dom, property, value) {\r\n    dom.style[property] = value;\r\n}\r\nfunction getStyle(dom, property) {\r\n    return dom.style[property];\r\n}\r\n/**\r\n * Gets the target of the event, works for shadow DOM too.\r\n */\r\nfunction getEventTarget(event) {\r\n    if (event.composedPath) {\r\n        const path = event.composedPath();\r\n        if (path.length === 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return path[0];\r\n        }\r\n    }\r\n    else {\r\n        return event.target;\r\n    }\r\n}\r\n/**\r\n * Checks of element `a` contains element `b`.\r\n *\r\n * @param a  Aleged ascendant\r\n * @param b  Aleged descendant\r\n * @return Contains?\r\n */\r\nfunction contains(a, b) {\r\n    let cursor = b;\r\n    while (true) {\r\n        if (a === cursor) {\r\n            return true;\r\n        }\r\n        else if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host == null) {\r\n                return false;\r\n            }\r\n            else {\r\n                cursor = cursor.host;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns `true` if pointer event originated on an element within Root.\r\n *\r\n * @since 5.2.8\r\n * @param  event   Event\r\n * @param  target  Target element\r\n */\r\nfunction isLocalEvent(event, target) {\r\n    return event.target && contains(target.root.dom, event.target);\r\n}\r\n/**\r\n * Disables or enables interactivity of a DOM element.\r\n *\r\n * @param  target       Target element\r\n * @param  interactive  Interactive?\r\n */\r\nfunction setInteractive(target, interactive) {\r\n    if (interactive) {\r\n        target.style.pointerEvents = \"auto\";\r\n    }\r\n    else {\r\n        target.style.pointerEvents = \"none\";\r\n    }\r\n}\r\nfunction getEventKey(event) {\r\n    if (event.key !== undefined) {\r\n        return event.key;\r\n    }\r\n    switch (event.keyCode) {\r\n        case 9: return \"Tab\";\r\n        case 13: return \"Enter\";\r\n        case 16: return \"Shift\";\r\n        case 17: return \"Control\";\r\n        case 27: return \"Escape\";\r\n        case 32: return \" \";\r\n        case 37: return \"ArrowLeft\";\r\n        case 38: return \"ArrowUp\";\r\n        case 39: return \"ArrowRight\";\r\n        case 40: return \"ArrowDown\";\r\n        case 46: return \"Delete\";\r\n    }\r\n    return \"\" + event.keyCode;\r\n}\r\n/**\r\n * Returns the shadow root of the element or null\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nfunction getShadowRoot(a) {\r\n    let cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * [rootStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nlet rootStylesheet;\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nfunction createStylesheet(element, text, nonce = \"\") {\r\n    // TODO use createElementNS ?\r\n    const e = document.createElement(\"style\");\r\n    e.type = \"text/css\";\r\n    if (nonce != \"\") {\r\n        e.setAttribute(\"nonce\", nonce);\r\n    }\r\n    e.textContent = text;\r\n    if (element === null) {\r\n        document.head.appendChild(e);\r\n    }\r\n    else {\r\n        element.appendChild(e);\r\n    }\r\n    return e;\r\n}\r\n/**\r\n * [getStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @return [description]\r\n */\r\nfunction getStylesheet(element, nonce = \"\") {\r\n    if (element === null) {\r\n        if (rootStylesheet == null) {\r\n            // TODO use createElementNS ?\r\n            const e = document.createElement(\"style\");\r\n            e.type = \"text/css\";\r\n            if (nonce != \"\") {\r\n                e.setAttribute(\"nonce\", nonce);\r\n            }\r\n            document.head.appendChild(e);\r\n            rootStylesheet = e.sheet;\r\n        }\r\n        return rootStylesheet;\r\n    }\r\n    else {\r\n        // TODO use createElementNS ?\r\n        const e = document.createElement(\"style\");\r\n        e.type = \"text/css\";\r\n        if (nonce != \"\") {\r\n            e.setAttribute(\"nonce\", nonce);\r\n        }\r\n        element.appendChild(e);\r\n        return e.sheet;\r\n    }\r\n}\r\n/**\r\n * [makeStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param selector  [description]\r\n * @return [description]\r\n */\r\nfunction appendStylesheet(root, selector) {\r\n    const index = root.cssRules.length;\r\n    root.insertRule(selector + \"{}\", index);\r\n    return root.cssRules[index];\r\n}\r\n/**\r\n * Defines a class for a CSS rule.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nclass StyleRule extends _Disposer__WEBPACK_IMPORTED_MODULE_0__.DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param selector  CSS selector\r\n     * @param styles    An object of style attribute - value pairs\r\n     */\r\n    constructor(element, selector, styles, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * CSS rule.\r\n         */\r\n        Object.defineProperty(this, \"_rule\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._root = getStylesheet(element, nonce);\r\n        try {\r\n            this._rule = appendStylesheet(this._root, selector);\r\n        }\r\n        catch (err) {\r\n            // Create an empty rule on failed selectors\r\n            this._rule = appendStylesheet(this._root, \":not(*)\");\r\n        }\r\n        _Object__WEBPACK_IMPORTED_MODULE_1__.each(styles, (key, value) => {\r\n            this.setStyle(key, value);\r\n        });\r\n    }\r\n    /**\r\n     * A CSS selector text.\r\n     *\r\n     * E.g.: `.myClass p`\r\n     *\r\n     * @param selector  CSS selector\r\n     */\r\n    set selector(selector) {\r\n        this._rule.selectorText = selector;\r\n    }\r\n    /**\r\n     * @return CSS selector\r\n     */\r\n    get selector() {\r\n        return this._rule.selectorText;\r\n    }\r\n    // TODO test this\r\n    _dispose() {\r\n        // TODO a bit hacky\r\n        const index = _Array__WEBPACK_IMPORTED_MODULE_2__.indexOf(this._root.cssRules, this._rule);\r\n        if (index === -1) {\r\n            throw new Error(\"Could not dispose StyleRule\");\r\n        }\r\n        else {\r\n            // TODO if it's empty remove it from the DOM ?\r\n            this._root.deleteRule(index);\r\n        }\r\n    }\r\n    /**\r\n     * Sets the same style properties with browser-specific prefixes.\r\n     *\r\n     * @param name   Attribute name\r\n     * @param value  Attribute value\r\n     */\r\n    _setVendorPrefixName(name, value) {\r\n        const style = this._rule.style;\r\n        style.setProperty(\"-webkit-\" + name, value, \"\");\r\n        style.setProperty(\"-moz-\" + name, value, \"\");\r\n        style.setProperty(\"-ms-\" + name, value, \"\");\r\n        style.setProperty(\"-o-\" + name, value, \"\");\r\n        style.setProperty(name, value, \"\");\r\n    }\r\n    /**\r\n     * Sets a value for specific style attribute.\r\n     *\r\n     * @param name   Attribute\r\n     * @param value  Value\r\n     */\r\n    setStyle(name, value) {\r\n        if (name === \"transition\") {\r\n            this._setVendorPrefixName(name, value);\r\n        }\r\n        else {\r\n            this._rule.style.setProperty(name, value, \"\");\r\n        }\r\n    }\r\n}\r\n/**\r\n * Defines a class for an entire CSS style sheet.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nclass StyleSheet extends _Disposer__WEBPACK_IMPORTED_MODULE_0__.DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param text  CSS stylesheet\r\n     */\r\n    constructor(element, text, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._element = createStylesheet(element, text, nonce);\r\n    }\r\n    _dispose() {\r\n        if (this._element.parentNode) {\r\n            this._element.parentNode.removeChild(this._element);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Adds a class name to an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nfunction addClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        const classes = className.split(\" \");\r\n        _Array__WEBPACK_IMPORTED_MODULE_2__.each(classes, (name) => {\r\n            element.classList.add(name);\r\n        });\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \") + \" \" + className);\r\n        }\r\n        else {\r\n            element.setAttribute(\"class\", className);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Removes a class name from an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nfunction removeClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.remove(className);\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \"));\r\n        }\r\n    }\r\n}\r\n// /**\r\n//  * Applies a set of styles to an element. Stores the original styles so they\r\n//  * can be restored later.\r\n//  *\r\n//  * @ignore\r\n//  * @param io      Element\r\n//   */\r\n// export function prepElementForDrag(dom: HTMLElement): void {\r\n// \t// @todo: save current values\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"none\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"rgba(0, 0, 0, 0)\");\r\n// }\r\n// /**\r\n//  * Restores replaced styles\r\n//  *\r\n//  * @ignore\r\n//  * @param  io  Element\r\n//  */\r\n// export function unprepElementForDrag(dom: HTMLElement): void {\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"\");\r\n// }\r\nfunction iOS() {\r\n    return /apple/i.test(navigator.vendor) && \"ontouchend\" in document;\r\n}\r\nfunction getSafeResolution() {\r\n    return iOS() ? 1 : undefined;\r\n}\r\nfunction relativeToValue(percent, full) {\r\n    if (_Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(percent)) {\r\n        return percent;\r\n    }\r\n    else if (percent != null && _Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(percent.value) && _Type__WEBPACK_IMPORTED_MODULE_3__.isNumber(full)) {\r\n        return full * percent.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * Returns number of decimals\r\n *\r\n * @ignore Exclude from docs\r\n * @param number  Input number\r\n * @return Number of decimals\r\n */\r\nfunction decimalPlaces(number) {\r\n    let match = ('' + number).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n        return 0;\r\n    }\r\n    return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));\r\n}\r\n/**\r\n * ============================================================================\r\n * STRING FORMATTING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Pads a string with additional characters to certain length.\r\n *\r\n * @param value  A numeric value\r\n * @param len    Result string length in characters\r\n * @param char   A character to use for padding\r\n * @return Padded value as string\r\n */\r\nfunction padString(value, len = 0, char = \"0\") {\r\n    if (typeof value !== \"string\") {\r\n        value = value.toString();\r\n    }\r\n    return len > value.length ? Array(len - value.length + 1).join(char) + value : value;\r\n}\r\nfunction trimLeft(text) {\r\n    return text.replace(/^[\\s]*/, \"\");\r\n}\r\nfunction trimRight(text) {\r\n    return text.replace(/[\\s]*$/, \"\");\r\n}\r\nfunction trim(text) {\r\n    return trimLeft(trimRight(text));\r\n}\r\nfunction truncateTextWithEllipsis(text, maxLength, breakWords = false, ellipsis = \"...\") {\r\n    if (text.length > maxLength) {\r\n        // Find the last non-alphanumeric character before maxLength\r\n        let lastNonAlphanumericIndex = maxLength - 1;\r\n        while (lastNonAlphanumericIndex >= 0 && text.charAt(lastNonAlphanumericIndex).match(/\\w/)) {\r\n            lastNonAlphanumericIndex--;\r\n        }\r\n        if (lastNonAlphanumericIndex >= 0 && breakWords == false) {\r\n            return text.substring(0, lastNonAlphanumericIndex + 1) + '...';\r\n        }\r\n        else {\r\n            // If no non-alphanumeric character found, truncate without breaking words\r\n            return text.substring(0, maxLength) + ellipsis;\r\n        }\r\n    }\r\n    else {\r\n        return text;\r\n    }\r\n}\r\n/**\r\n * Tries to determine format type.\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format string\r\n * @return Format type (\"string\" | \"number\" | \"date\" | \"duration\")\r\n */\r\nfunction getFormat(format) {\r\n    // Undefined?\r\n    if (typeof format === \"undefined\") {\r\n        return \"string\";\r\n    }\r\n    // Cleanup and lowercase format\r\n    format = format.toLowerCase().replace(/^\\[[^\\]]*\\]/, \"\");\r\n    // Remove style tags\r\n    format = format.replace(/\\[[^\\]]+\\]/, \"\");\r\n    // Trim\r\n    format = format.trim();\r\n    // Check for any explicit format hints (i.e. /Date)\r\n    let hints = format.match(/\\/(date|number|duration)$/);\r\n    if (hints) {\r\n        return hints[1];\r\n    }\r\n    // Check for explicit hints\r\n    if (format === \"number\") {\r\n        return \"number\";\r\n    }\r\n    if (format === \"date\") {\r\n        return \"date\";\r\n    }\r\n    if (format === \"duration\") {\r\n        return \"duration\";\r\n    }\r\n    // Detect number formatting symbols\r\n    if (format.match(/[#0]/)) {\r\n        return \"number\";\r\n    }\r\n    // Detect date formatting symbols\r\n    if (format.match(/[ymwdhnsqaxkzgtei]/)) {\r\n        return \"date\";\r\n    }\r\n    // Nothing? Let's display as string\r\n    return \"string\";\r\n}\r\n/**\r\n * Cleans up format:\r\n * * Strips out formatter hints\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format\r\n * @return Cleaned format\r\n */\r\nfunction cleanFormat(format) {\r\n    return format.replace(/\\/(date|number|duration)$/i, \"\");\r\n}\r\n/**\r\n * Strips all tags from the string.\r\n *\r\n * @param text  Source string\r\n * @return String without tags\r\n */\r\nfunction stripTags(text) {\r\n    return text ? text.replace(/<[^>]*>/g, \"\") : text;\r\n}\r\n/**\r\n * Removes new lines and tags from a string.\r\n *\r\n * @param text  String to conver\r\n * @return Converted string\r\n */\r\nfunction plainText(text) {\r\n    return text ? stripTags((\"\" + text).replace(/[\\n\\r]+/g, \". \")) : text;\r\n}\r\n/**\r\n * Escapes string so it can safely be used in a Regex.\r\n *\r\n * @param value  Unsescaped string\r\n * @return Escaped string\r\n */\r\nfunction escapeForRgex(value) {\r\n    return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n/**\r\n * Adds space before each uppercase letter.\r\n *\r\n * @param   str Input string\r\n * @return      Output string\r\n */\r\nfunction addSpacing(str) {\r\n    let result = \"\";\r\n    for (let i = 0; i < str.length; i++) {\r\n        const char = str.charAt(i);\r\n        if (char.toUpperCase() == char && i != 0) {\r\n            result += \" \";\r\n        }\r\n        result += char;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Splits the string into separate characters. Keeps RTL words non-split.\r\n *\r\n * @param   source  Input\r\n * @return          Split text\r\n */\r\nfunction splitString(source) {\r\n    // Regular expression to identify RTL characters\r\n    const rtlChar = /[\\u0590-\\u05FF\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]/;\r\n    // Regular expression to capture segments ending with specific Arabic characters\r\n    const splitPattern = /([^اأدذرزو]*[اأدذرزو])/gi;\r\n    // Split input string into array of words or characters, including whitespace\r\n    let segments = source.split(/(\\s+)/); // Split by whitespace, capturing it\r\n    let result = [];\r\n    segments.forEach(segment => {\r\n        if (segment.match(/^\\s+$/)) {\r\n            // If the segment is purely whitespace\r\n            if (segment = \" \") {\r\n                segment = \"  \";\r\n            }\r\n            result.push(segment);\r\n        }\r\n        else if (rtlChar.test(segment)) {\r\n            // If the segment contains RTL characters, handle special splits\r\n            let parts = segment.split(splitPattern).filter(part => part !== '');\r\n            // Concatenate parts processed by the split pattern directly to result\r\n            result = result.concat(parts);\r\n        }\r\n        else {\r\n            // Treat this segment as LTR: split into characters\r\n            result = result.concat([...segment]);\r\n        }\r\n    });\r\n    return result;\r\n}\r\n/**\r\n * ============================================================================\r\n * DATE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a year day.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year day\r\n * @todo Account for UTC\r\n */\r\nfunction getYearDay(date, utc = false) {\r\n    // TODO: utc needed?\r\n    utc;\r\n    const start = new Date(date.getFullYear(), 0, 0);\r\n    const diff = (date.getTime() - start.getTime()) + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);\r\n    const oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}\r\n/**\r\n * Returns week number for a given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number\r\n * @todo Account for UTC\r\n */\r\nfunction getWeek(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return Math.ceil((((d.getTime() - firstDay.getTime()) / 86400000) + 1) / 7);\r\n}\r\n/**\r\n * Returns a \"week year\" of the given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year of week\r\n * @since 5.3.0\r\n * @todo Account for UTC\r\n */\r\nfunction getWeekYear(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return firstDay.getFullYear();\r\n}\r\n/**\r\n * Returns a week number in the month.\r\n *\r\n * @param date  Source Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number in month\r\n */\r\nfunction getMonthWeek(date, utc = false) {\r\n    const firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);\r\n    let currentWeek = getWeek(date, utc);\r\n    if (currentWeek == 1) {\r\n        currentWeek = 53;\r\n    }\r\n    return currentWeek - firstWeek + 1;\r\n}\r\n/**\r\n * Returns a year day out of the given week number.\r\n *\r\n * @param week     Week\r\n * @param year     Year\r\n * @param weekday  Weekday\r\n * @param utc      Assume UTC dates\r\n * @return Day in a year\r\n */\r\nfunction getDayFromWeek(week, year, weekday = 1, utc = false) {\r\n    let date = new Date(year, 0, 4, 0, 0, 0, 0);\r\n    if (utc) {\r\n        date.setUTCFullYear(year);\r\n    }\r\n    let day = week * 7 + weekday - ((date.getDay() || 7) + 3);\r\n    return day;\r\n}\r\n/**\r\n * Returns 12-hour representation out of the 24-hour hours.\r\n *\r\n * @param hours  24-hour number\r\n * @return 12-hour number\r\n */\r\nfunction get12Hours(hours, base) {\r\n    if (hours > 12) {\r\n        hours -= 12;\r\n    }\r\n    else if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    return base != null ? hours + (base - 1) : hours;\r\n}\r\n/**\r\n * Returns a string name of the time zone.\r\n *\r\n * @param date     Date object\r\n * @param long     Should return long (\"Pacific Standard Time\") or short abbreviation (\"PST\")\r\n * @param savings  Include information if it's in daylight savings mode\r\n * @param utc      Assume UTC dates\r\n * @return Time zone name\r\n */\r\nfunction getTimeZone(date, long = false, savings = false, utc = false, timezone) {\r\n    if (utc) {\r\n        return long ? \"Coordinated Universal Time\" : \"UTC\";\r\n    }\r\n    else if (timezone) {\r\n        const d1 = date.toLocaleString(\"en-US\", { timeZone: timezone });\r\n        const d2 = date.toLocaleString(\"en-US\", { timeZone: timezone, timeZoneName: long ? \"long\" : \"short\" });\r\n        return trim(d2.substr(d1.length));\r\n    }\r\n    let wotz = date.toLocaleString(\"UTC\");\r\n    let wtz = date.toLocaleString(\"UTC\", { timeZoneName: long ? \"long\" : \"short\" }).substr(wotz.length);\r\n    //wtz = wtz.replace(/[+-]+[0-9]+$/, \"\");\r\n    if (savings === false) {\r\n        wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, \" \");\r\n    }\r\n    return trim(wtz);\r\n}\r\nfunction getTimezoneOffset(timezone, targetDate) {\r\n    const date = targetDate || new Date(Date.UTC(2012, 0, 1, 0, 0, 0, 0));\r\n    const utcDate = new Date(date.toLocaleString(\"en-US\", { timeZone: \"UTC\" }));\r\n    const tzDate = new Date(date.toLocaleString(\"en-US\", { timeZone: timezone }));\r\n    return (tzDate.getTime() - utcDate.getTime()) / 6e4 * -1;\r\n}\r\nfunction capitalizeFirst(text) {\r\n    return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n/**\r\n * The functions below are taken and adapted from Garry Tan's blog post:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * The further attributions go mjijackson.com, which now seems to be defunct.\r\n */\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @param h       The hue\r\n * @param s       The saturation\r\n * @param l       The lightness\r\n * @return The RGB representation\r\n */\r\nfunction hslToRgb(color) {\r\n    let r, g, b;\r\n    let h = color.h;\r\n    let s = color.s;\r\n    let l = color.l;\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        let hue2rgb = function hue2rgb(p, q, t) {\r\n            if (t < 0) {\r\n                t += 1;\r\n            }\r\n            if (t > 1) {\r\n                t -= 1;\r\n            }\r\n            if (t < 1 / 6) {\r\n                return p + (q - p) * 6 * t;\r\n            }\r\n            if (t < 1 / 2) {\r\n                return q;\r\n            }\r\n            if (t < 2 / 3) {\r\n                return p + (q - p) * (2 / 3 - t) * 6;\r\n            }\r\n            return p;\r\n        };\r\n        let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        let p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @param r       The red color value\r\n * @param g       The green color value\r\n * @param b       The blue color value\r\n * @return The HSL representation\r\n */\r\nfunction rgbToHsl(color) {\r\n    let r = color.r / 255;\r\n    let g = color.g / 255;\r\n    let b = color.b / 255;\r\n    let max = Math.max(r, g, b);\r\n    let min = Math.min(r, g, b);\r\n    let h = 0;\r\n    let s = 0;\r\n    let l = (max + min) / 2;\r\n    if (max === min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        let d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        l: l,\r\n    };\r\n}\r\n/**\r\n * Converts HSV to HSL.\r\n *\r\n * https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_HSL\r\n */\r\nfunction hsvToHsl(hsv) {\r\n    const l = hsv.v * (1 - (hsv.s / 2));\r\n    const s = (l === 0 || l === 1\r\n        ? 0\r\n        : (hsv.v - l) / Math.min(l, 1 - l));\r\n    return {\r\n        h: hsv.h,\r\n        s,\r\n        l,\r\n        a: hsv.a,\r\n    };\r\n}\r\n/**\r\n * Converts HSL to HSV.\r\n *\r\n * https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_HSV\r\n */\r\nfunction hslToHsv(hsl) {\r\n    const v = hsl.l + (hsl.s * Math.min(hsl.l, 1 - hsl.l));\r\n    const s = (v === 0\r\n        ? 0\r\n        : 2 * (1 - (hsl.l / v)));\r\n    return {\r\n        h: hsl.h,\r\n        s,\r\n        v,\r\n        a: hsl.a,\r\n    };\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the reference color.\r\n *\r\n * @param color    Reference color\r\n * @param percent  Brightness percent\r\n * @return Hex code of the new color\r\n */\r\nfunction lighten(rgb, percent) {\r\n    if (rgb) {\r\n        return {\r\n            r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),\r\n            g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),\r\n            b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Gets lightness step.\r\n *\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nfunction getLightnessStep(value, percent) {\r\n    let base = percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the source `color`.\r\n *\r\n * @param color    Source color\r\n * @param percent  Brightness percent\r\n * @return New color\r\n */\r\nfunction brighten(rgb, percent) {\r\n    if (rgb) {\r\n        let base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);\r\n        //let base = Math.max(rgb.r, rgb.g, rgb.b);\r\n        let step = getLightnessStep(base, percent);\r\n        return {\r\n            r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),\r\n            g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),\r\n            b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Returns brightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nfunction getBrightnessStep(_value, percent) {\r\n    let base = 255; //percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns `true` if color is \"light\". Useful indetermining which contrasting\r\n * color to use for elements over this color. E.g.: you would want to use\r\n * black text over light background, and vice versa.\r\n *\r\n * @param color  Source color\r\n * @return Light?\r\n */\r\nfunction isLight(color) {\r\n    return ((color.r * 299) + (color.g * 587) + (color.b * 114)) / 1000 >= 128;\r\n}\r\n/**\r\n * Returns a new [[iRGB]] object based on `rgb` parameter with specific\r\n * saturation applied.\r\n *\r\n * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n * saturated).\r\n *\r\n * @param color       Base color\r\n * @param saturation  Saturation (0-1)\r\n * @return New color\r\n */\r\nfunction saturate(rgb, saturation) {\r\n    if (rgb === undefined || saturation == 1) {\r\n        return rgb;\r\n    }\r\n    let hsl = rgbToHsl(rgb);\r\n    hsl.s = saturation;\r\n    return hslToRgb(hsl);\r\n}\r\n/**\r\n * Returns a color which contrasts more with the source `color`.\r\n *\r\n * @param  color             Base color\r\n * @param  lightAlternative  Light option\r\n * @param  darkAlternative   Dark option\r\n * @return New color\r\n */\r\nfunction alternativeColor(color, lightAlternative = { r: 255, g: 255, b: 255 }, darkAlternative = { r: 255, g: 255, b: 255 }) {\r\n    let light = lightAlternative;\r\n    let dark = darkAlternative;\r\n    if (isLight(darkAlternative)) {\r\n        light = darkAlternative;\r\n        dark = lightAlternative;\r\n    }\r\n    return isLight(color) ? dark : light;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction mergeTags(tags1, tags2) {\r\n    if (!tags1) {\r\n        tags1 = [];\r\n    }\r\n    return [...tags1, ...tags2].filter((value, index, self) => {\r\n        return self.indexOf(value) === index;\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction sameBounds(a, b) {\r\n    if (!b) {\r\n        return false;\r\n    }\r\n    if (a.left != b.left) {\r\n        return false;\r\n    }\r\n    if (a.right != b.right) {\r\n        return false;\r\n    }\r\n    if (a.top != b.top) {\r\n        return false;\r\n    }\r\n    if (a.bottom != b.bottom) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n//# sourceMappingURL=Utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDRTtBQUNFO0FBQ2lCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLCtDQUFRO0FBQ3ZCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QixvREFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFZO0FBQ3BCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLG9EQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdDQUFXO0FBQ25CO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxRQUFRLDJDQUFjO0FBQ3RCO0FBQ0E7QUFDQSxnQ0FBZ0MsMkNBQWMsbUJBQW1CLDJDQUFjO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9CQUFvQjtBQUN0RSxrREFBa0QsMkRBQTJEO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx1Q0FBdUM7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDREQUE0RCxpQkFBaUI7QUFDN0UsMkRBQTJELG9CQUFvQjtBQUMvRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0RBQXNELHdCQUF3QixzQkFBc0Isd0JBQXdCO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvY29yZS91dGlsL1V0aWxzLmpzP2E0OGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgJHR5cGUgZnJvbSBcIi4vVHlwZVwiO1xyXG5pbXBvcnQgKiBhcyAkYXJyYXkgZnJvbSBcIi4vQXJyYXlcIjtcclxuaW1wb3J0ICogYXMgJG9iamVjdCBmcm9tIFwiLi9PYmplY3RcIjtcclxuaW1wb3J0IHsgRGlzcG9zZXIsIERpc3Bvc2VyQ2xhc3MgfSBmcm9tIFwiLi9EaXNwb3NlclwiO1xyXG4vKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBET00gRlVOQ1RJT05TXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqIEV4ZWN1dGUgYSBmdW5jdGlvbiB3aGVuIERPTSBpcyByZWFkeS5cclxuICpcclxuICogQHNpbmNlIDUuMC4yXHJcbiAqIEBwYXJhbSAgZiAgQ2FsbGJhY2tcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWFkeShmKSB7XHJcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpIHtcclxuICAgICAgICBmKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICBmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsIGxpc3RlbmVyKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmVtb3ZlcyBhIERPTSBlbGVtZW50LlxyXG4gKiBAcGFyYW0gIGVsICBUYXJnZXQgZWxlbWVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWwpIHtcclxuICAgIGlmIChlbC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIHRoYXQgYWRkcyBhIGRpc3Bvc2FibGUgZXZlbnQgbGlzdGVuZXIgZGlyZWN0bHkgdG8gYSBET00gZWxlbWVudC5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAcGFyYW0gZG9tICAgICAgIEEgRE9NIGVsZW1lbnQgdG8gYWRkIGV2ZW50IHRvXHJcbiAqIEBwYXJhbSB0eXBlICAgICAgRXZlbnQgdHlwZVxyXG4gKiBAcGFyYW0gbGlzdGVuZXIgIEV2ZW50IGxpc3RlbmVyXHJcbiAqIEByZXR1cm5zIERpc3Bvc2FibGUgZXZlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGRvbSwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcclxuICAgIC8vQHRvZG8gcHJvcGVyIHR5cGUgY2hlY2sgZm9yIG9wdGlvbnM6IEV2ZW50TGlzdGVuZXJPcHRpb25zIHwgYm9vbGVhbiAoVFMgZm9yIHNvbWUgcmVhc29uIGdpdmVzIGVycm9yIG9uIHBhc3NpdmUgcGFyYW1ldGVyKVxyXG4gICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMgfHwgZmFsc2UpO1xyXG4gICAgcmV0dXJuIG5ldyBEaXNwb3NlcigoKSA9PiB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMgfHwgZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIHRoYXQgYWRkcyBhbiBldmVudCBsaXN0ZW5lciB3aGljaCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgYnJvd3NlcidzIHpvb20gY2hhbmdlcy5cclxuICpcclxuICogQHBhcmFtIGxpc3RlbmVyICBFdmVudCBsaXN0ZW5lclxyXG4gKiBAcmV0dXJucyBEaXNwb3NhYmxlIGV2ZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gb25ab29tKGxpc3RlbmVyKSB7XHJcbiAgICAvLyBUT0RPIHVzZSBtYXRjaE1lZGlhIGluc3RlYWQgP1xyXG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcInJlc2l6ZVwiLCAoX2V2KSA9PiB7XHJcbiAgICAgICAgbGlzdGVuZXIoKTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHMoY2FwKSB7XHJcbiAgICBzd2l0Y2ggKGNhcCkge1xyXG4gICAgICAgIGNhc2UgXCJ0b3VjaGV2ZW50c1wiOlxyXG4gICAgICAgICAgICAvL3JldHVybiBcIm9udG91Y2hzdGFydFwiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIlRvdWNoRXZlbnRcIik7XHJcbiAgICAgICAgY2FzZSBcInBvaW50ZXJldmVudHNcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIlBvaW50ZXJFdmVudFwiKTtcclxuICAgICAgICBjYXNlIFwibW91c2VldmVudHNcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIk1vdXNlRXZlbnRcIik7XHJcbiAgICAgICAgY2FzZSBcIndoZWVsZXZlbnRzXCI6XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuaGFzT3duUHJvcGVydHkoXCJXaGVlbEV2ZW50XCIpO1xyXG4gICAgICAgIGNhc2UgXCJrZXlib2FyZGV2ZW50c1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lmhhc093blByb3BlcnR5KFwiS2V5Ym9hcmRFdmVudFwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJJZChldmVudCkge1xyXG4gICAgbGV0IGlkID0gZXZlbnQucG9pbnRlcklkIHx8IDA7XHJcbiAgICByZXR1cm4gaWQ7XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgZm9jdXMgZnJvbSBhbnkgZWxlbWVudCBieSBzaGlmdGluZyBmb2N1cyB0byBib2R5LlxyXG4gKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYmx1cigpIHtcclxuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT0gZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgICAgICBpbnB1dC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuICAgICAgICAgICAgaW5wdXQuc3R5bGUudG9wID0gXCIwcHhcIjtcclxuICAgICAgICAgICAgaW5wdXQuc3R5bGUubGVmdCA9IFwiLTEwMDAwcHhcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIGlucHV0LmJsdXIoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBGb2N1c2VzIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmb2N1cyhlbCkge1xyXG4gICAgaWYgKGVsKSB7XHJcbiAgICAgICAgZWwuZm9jdXMoKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbmRlcmVyRXZlbnQoa2V5KSB7XHJcbiAgICBpZiAoc3VwcG9ydHMoXCJwb2ludGVyZXZlbnRzXCIpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHN1cHBvcnRzKFwidG91Y2hldmVudHNcIikpIHtcclxuICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjogcmV0dXJuIFwidG91Y2hzdGFydFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcm91dFwiOiByZXR1cm4gXCJ0b3VjaGVuZFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcmxlYXZlXCI6IHJldHVybiBcInRvdWNoZW5kXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyZG93blwiOiByZXR1cm4gXCJ0b3VjaHN0YXJ0XCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVybW92ZVwiOiByZXR1cm4gXCJ0b3VjaG1vdmVcIjtcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJ1cFwiOiByZXR1cm4gXCJ0b3VjaGVuZFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwiY2xpY2tcIjogcmV0dXJuIFwiY2xpY2tcIjtcclxuICAgICAgICAgICAgY2FzZSBcImRibGNsaWNrXCI6IHJldHVybiBcImRibGNsaWNrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc3VwcG9ydHMoXCJtb3VzZWV2ZW50c1wiKSkge1xyXG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOiByZXR1cm4gXCJtb3VzZW92ZXJcIjtcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJvdXRcIjogcmV0dXJuIFwibW91c2VvdXRcIjtcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJsZWF2ZVwiOiByZXR1cm4gXCJtb3VzZWxlYXZlXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyZG93blwiOiByZXR1cm4gXCJtb3VzZWRvd25cIjtcclxuICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJtb3ZlXCI6IHJldHVybiBcIm1vdXNlbW92ZVwiO1xyXG4gICAgICAgICAgICBjYXNlIFwicG9pbnRlcnVwXCI6IHJldHVybiBcIm1vdXNldXBcIjtcclxuICAgICAgICAgICAgY2FzZSBcImNsaWNrXCI6IHJldHVybiBcImNsaWNrXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkYmxjbGlja1wiOiByZXR1cm4gXCJkYmxjbGlja1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBrZXk7XHJcbn1cclxuLyoqXHJcbiAqIERldGVybWluZXMgaWYgcG9pbnRlciBldmVudCBvcmlnaW5hdGVkIGZyb20gYSB0b3VjaCBwb2ludGVyIG9yIG1vdXNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gZXYgIE9yaWdpbmFsIGV2ZW50XHJcbiAqIEByZXR1cm4gVG91Y2ggcG9pbnRlcj9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1RvdWNoRXZlbnQoZXYpIHtcclxuICAgIGlmICh0eXBlb2YgVG91Y2ggIT09IFwidW5kZWZpbmVkXCIgJiYgZXYgaW5zdGFuY2VvZiBUb3VjaCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIFBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBldiBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudCAmJiBldi5wb2ludGVyVHlwZSAhPSBudWxsKSB7XHJcbiAgICAgICAgc3dpdGNoIChldi5wb2ludGVyVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidG91Y2hcIjpcclxuICAgICAgICAgICAgY2FzZSBcInBlblwiOlxyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgY2FzZSBcIm1vdXNlXCI6XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAhKGV2IGluc3RhbmNlb2YgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXYudHlwZSAhPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGV2LnR5cGUubWF0Y2goL15tb3VzZS8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICogU2V0cyBzdHlsZSBwcm9wZXJ0eSBvbiBET00gZWxlbWVudC5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0eWxlKGRvbSwgcHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBkb20uc3R5bGVbcHJvcGVydHldID0gdmFsdWU7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKGRvbSwgcHJvcGVydHkpIHtcclxuICAgIHJldHVybiBkb20uc3R5bGVbcHJvcGVydHldO1xyXG59XHJcbi8qKlxyXG4gKiBHZXRzIHRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50LCB3b3JrcyBmb3Igc2hhZG93IERPTSB0b28uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC5jb21wb3NlZFBhdGgpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKCk7XHJcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhdGhbMF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ2hlY2tzIG9mIGVsZW1lbnQgYGFgIGNvbnRhaW5zIGVsZW1lbnQgYGJgLlxyXG4gKlxyXG4gKiBAcGFyYW0gYSAgQWxlZ2VkIGFzY2VuZGFudFxyXG4gKiBAcGFyYW0gYiAgQWxlZ2VkIGRlc2NlbmRhbnRcclxuICogQHJldHVybiBDb250YWlucz9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhhLCBiKSB7XHJcbiAgICBsZXQgY3Vyc29yID0gYjtcclxuICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgaWYgKGEgPT09IGN1cnNvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY3Vyc29yLnBhcmVudE5vZGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gVE9ETyBiZXR0ZXIgU2hhZG93Um9vdCBkZXRlY3Rpb25cclxuICAgICAgICAgICAgaWYgKGN1cnNvci5ob3N0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnNvciA9IGN1cnNvci5ob3N0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJzb3IgPSBjdXJzb3IucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYHRydWVgIGlmIHBvaW50ZXIgZXZlbnQgb3JpZ2luYXRlZCBvbiBhbiBlbGVtZW50IHdpdGhpbiBSb290LlxyXG4gKlxyXG4gKiBAc2luY2UgNS4yLjhcclxuICogQHBhcmFtICBldmVudCAgIEV2ZW50XHJcbiAqIEBwYXJhbSAgdGFyZ2V0ICBUYXJnZXQgZWxlbWVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9jYWxFdmVudChldmVudCwgdGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gZXZlbnQudGFyZ2V0ICYmIGNvbnRhaW5zKHRhcmdldC5yb290LmRvbSwgZXZlbnQudGFyZ2V0KTtcclxufVxyXG4vKipcclxuICogRGlzYWJsZXMgb3IgZW5hYmxlcyBpbnRlcmFjdGl2aXR5IG9mIGEgRE9NIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSAgdGFyZ2V0ICAgICAgIFRhcmdldCBlbGVtZW50XHJcbiAqIEBwYXJhbSAgaW50ZXJhY3RpdmUgIEludGVyYWN0aXZlP1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEludGVyYWN0aXZlKHRhcmdldCwgaW50ZXJhY3RpdmUpIHtcclxuICAgIGlmIChpbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgIHRhcmdldC5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0YXJnZXQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudEtleShldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50LmtleTtcclxuICAgIH1cclxuICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICAgIGNhc2UgOTogcmV0dXJuIFwiVGFiXCI7XHJcbiAgICAgICAgY2FzZSAxMzogcmV0dXJuIFwiRW50ZXJcIjtcclxuICAgICAgICBjYXNlIDE2OiByZXR1cm4gXCJTaGlmdFwiO1xyXG4gICAgICAgIGNhc2UgMTc6IHJldHVybiBcIkNvbnRyb2xcIjtcclxuICAgICAgICBjYXNlIDI3OiByZXR1cm4gXCJFc2NhcGVcIjtcclxuICAgICAgICBjYXNlIDMyOiByZXR1cm4gXCIgXCI7XHJcbiAgICAgICAgY2FzZSAzNzogcmV0dXJuIFwiQXJyb3dMZWZ0XCI7XHJcbiAgICAgICAgY2FzZSAzODogcmV0dXJuIFwiQXJyb3dVcFwiO1xyXG4gICAgICAgIGNhc2UgMzk6IHJldHVybiBcIkFycm93UmlnaHRcIjtcclxuICAgICAgICBjYXNlIDQwOiByZXR1cm4gXCJBcnJvd0Rvd25cIjtcclxuICAgICAgICBjYXNlIDQ2OiByZXR1cm4gXCJEZWxldGVcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBcIlwiICsgZXZlbnQua2V5Q29kZTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgc2hhZG93IHJvb3Qgb2YgdGhlIGVsZW1lbnQgb3IgbnVsbFxyXG4gKlxyXG4gKiBAcGFyYW0gYSAgTm9kZVxyXG4gKiBAcmV0dXJuIFJvb3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTaGFkb3dSb290KGEpIHtcclxuICAgIGxldCBjdXJzb3IgPSBhO1xyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBpZiAoY3Vyc29yLnBhcmVudE5vZGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gVE9ETyBiZXR0ZXIgU2hhZG93Um9vdCBkZXRlY3Rpb25cclxuICAgICAgICAgICAgaWYgKGN1cnNvci5ob3N0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY3Vyc29yID0gY3Vyc29yLnBhcmVudE5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBbcm9vdFN0eWxlc2hlZXQgZGVzY3JpcHRpb25dXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHRvZG8gRGVzY3JpcHRpb25cclxuICovXHJcbmxldCByb290U3R5bGVzaGVldDtcclxuLyoqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlc2hlZXQoZWxlbWVudCwgdGV4dCwgbm9uY2UgPSBcIlwiKSB7XHJcbiAgICAvLyBUT0RPIHVzZSBjcmVhdGVFbGVtZW50TlMgP1xyXG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICAgIGUudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuICAgIGlmIChub25jZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XHJcbiAgICB9XHJcbiAgICBlLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZTtcclxufVxyXG4vKipcclxuICogW2dldFN0eWxlc2hlZXQgZGVzY3JpcHRpb25dXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHRvZG8gRGVzY3JpcHRpb25cclxuICogQHJldHVybiBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRTdHlsZXNoZWV0KGVsZW1lbnQsIG5vbmNlID0gXCJcIikge1xyXG4gICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICBpZiAocm9vdFN0eWxlc2hlZXQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBUT0RPIHVzZSBjcmVhdGVFbGVtZW50TlMgP1xyXG4gICAgICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgICAgICBlLnR5cGUgPSBcInRleHQvY3NzXCI7XHJcbiAgICAgICAgICAgIGlmIChub25jZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGUpO1xyXG4gICAgICAgICAgICByb290U3R5bGVzaGVldCA9IGUuc2hlZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByb290U3R5bGVzaGVldDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIFRPRE8gdXNlIGNyZWF0ZUVsZW1lbnROUyA/XHJcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICAgICAgICBlLnR5cGUgPSBcInRleHQvY3NzXCI7XHJcbiAgICAgICAgaWYgKG5vbmNlICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgZS5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZSk7XHJcbiAgICAgICAgcmV0dXJuIGUuc2hlZXQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFttYWtlU3R5bGVzaGVldCBkZXNjcmlwdGlvbl1cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAdG9kbyBEZXNjcmlwdGlvblxyXG4gKiBAcGFyYW0gc2VsZWN0b3IgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBhcHBlbmRTdHlsZXNoZWV0KHJvb3QsIHNlbGVjdG9yKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHJvb3QuY3NzUnVsZXMubGVuZ3RoO1xyXG4gICAgcm9vdC5pbnNlcnRSdWxlKHNlbGVjdG9yICsgXCJ7fVwiLCBpbmRleCk7XHJcbiAgICByZXR1cm4gcm9vdC5jc3NSdWxlc1tpbmRleF07XHJcbn1cclxuLyoqXHJcbiAqIERlZmluZXMgYSBjbGFzcyBmb3IgYSBDU1MgcnVsZS5cclxuICpcclxuICogQ2FuIGJlIHVzZWQgdG8gZHluYW1pY2FsbHkgYWRkIENTUyB0byB0aGUgZG9jdW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3R5bGVSdWxlIGV4dGVuZHMgRGlzcG9zZXJDbGFzcyB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzZWxlY3RvciAgQ1NTIHNlbGVjdG9yXHJcbiAgICAgKiBAcGFyYW0gc3R5bGVzICAgIEFuIG9iamVjdCBvZiBzdHlsZSBhdHRyaWJ1dGUgLSB2YWx1ZSBwYWlyc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBzZWxlY3Rvciwgc3R5bGVzLCBub25jZSA9IFwiXCIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yb290XCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENTUyBydWxlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ydWxlXCIsIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBnZXRTdHlsZXNoZWV0KGVsZW1lbnQsIG5vbmNlKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLl9ydWxlID0gYXBwZW5kU3R5bGVzaGVldCh0aGlzLl9yb290LCBzZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IHJ1bGUgb24gZmFpbGVkIHNlbGVjdG9yc1xyXG4gICAgICAgICAgICB0aGlzLl9ydWxlID0gYXBwZW5kU3R5bGVzaGVldCh0aGlzLl9yb290LCBcIjpub3QoKilcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRvYmplY3QuZWFjaChzdHlsZXMsIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgQ1NTIHNlbGVjdG9yIHRleHQuXHJcbiAgICAgKlxyXG4gICAgICogRS5nLjogYC5teUNsYXNzIHBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNlbGVjdG9yICBDU1Mgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgc2V0IHNlbGVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcnVsZS5zZWxlY3RvclRleHQgPSBzZWxlY3RvcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiBDU1Mgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgZ2V0IHNlbGVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ydWxlLnNlbGVjdG9yVGV4dDtcclxuICAgIH1cclxuICAgIC8vIFRPRE8gdGVzdCB0aGlzXHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICAvLyBUT0RPIGEgYml0IGhhY2t5XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSAkYXJyYXkuaW5kZXhPZih0aGlzLl9yb290LmNzc1J1bGVzLCB0aGlzLl9ydWxlKTtcclxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkaXNwb3NlIFN0eWxlUnVsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gaWYgaXQncyBlbXB0eSByZW1vdmUgaXQgZnJvbSB0aGUgRE9NID9cclxuICAgICAgICAgICAgdGhpcy5fcm9vdC5kZWxldGVSdWxlKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHNhbWUgc3R5bGUgcHJvcGVydGllcyB3aXRoIGJyb3dzZXItc3BlY2lmaWMgcHJlZml4ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgICBBdHRyaWJ1dGUgbmFtZVxyXG4gICAgICogQHBhcmFtIHZhbHVlICBBdHRyaWJ1dGUgdmFsdWVcclxuICAgICAqL1xyXG4gICAgX3NldFZlbmRvclByZWZpeE5hbWUobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuX3J1bGUuc3R5bGU7XHJcbiAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoXCItd2Via2l0LVwiICsgbmFtZSwgdmFsdWUsIFwiXCIpO1xyXG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFwiLW1vei1cIiArIG5hbWUsIHZhbHVlLCBcIlwiKTtcclxuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcIi1tcy1cIiArIG5hbWUsIHZhbHVlLCBcIlwiKTtcclxuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcIi1vLVwiICsgbmFtZSwgdmFsdWUsIFwiXCIpO1xyXG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBcIlwiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHZhbHVlIGZvciBzcGVjaWZpYyBzdHlsZSBhdHRyaWJ1dGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgICBBdHRyaWJ1dGVcclxuICAgICAqIEBwYXJhbSB2YWx1ZSAgVmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0U3R5bGUobmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAobmFtZSA9PT0gXCJ0cmFuc2l0aW9uXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0VmVuZG9yUHJlZml4TmFtZShuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9ydWxlLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIERlZmluZXMgYSBjbGFzcyBmb3IgYW4gZW50aXJlIENTUyBzdHlsZSBzaGVldC5cclxuICpcclxuICogQ2FuIGJlIHVzZWQgdG8gZHluYW1pY2FsbHkgYWRkIENTUyB0byB0aGUgZG9jdW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3R5bGVTaGVldCBleHRlbmRzIERpc3Bvc2VyQ2xhc3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGV4dCAgQ1NTIHN0eWxlc2hlZXRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgdGV4dCwgbm9uY2UgPSBcIlwiKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZWxlbWVudFwiLCB7XHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gY3JlYXRlU3R5bGVzaGVldChlbGVtZW50LCB0ZXh0LCBub25jZSk7XHJcbiAgICB9XHJcbiAgICBfZGlzcG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9lbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgYSBjbGFzcyBuYW1lIHRvIGFuIEhUTUwgb3IgU1ZHIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIGVsZW1lbnQgICAgRWxlbWVudFxyXG4gKiBAcGFyYW0gY2xhc3NOYW1lICBDbGFzcyBuYW1lIHRvIGFkZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgaWYgKCFlbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgJGFycmF5LmVhY2goY2xhc3NlcywgKG5hbWUpID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRDbGFzc05hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gICAgICAgIGlmIChjdXJyZW50Q2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgY3VycmVudENsYXNzTmFtZS5zcGxpdChcIiBcIikuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICB9KS5qb2luKFwiIFwiKSArIFwiIFwiICsgY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZXMgYSBjbGFzcyBuYW1lIGZyb20gYW4gSFRNTCBvciBTVkcgZWxlbWVudC5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAcGFyYW0gZWxlbWVudCAgICBFbGVtZW50XHJcbiAqIEBwYXJhbSBjbGFzc05hbWUgIENsYXNzIG5hbWUgdG8gYWRkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBjdXJyZW50Q2xhc3NOYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICBpZiAoY3VycmVudENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGN1cnJlbnRDbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgfSkuam9pbihcIiBcIikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyAvKipcclxuLy8gICogQXBwbGllcyBhIHNldCBvZiBzdHlsZXMgdG8gYW4gZWxlbWVudC4gU3RvcmVzIHRoZSBvcmlnaW5hbCBzdHlsZXMgc28gdGhleVxyXG4vLyAgKiBjYW4gYmUgcmVzdG9yZWQgbGF0ZXIuXHJcbi8vICAqXHJcbi8vICAqIEBpZ25vcmVcclxuLy8gICogQHBhcmFtIGlvICAgICAgRWxlbWVudFxyXG4vLyAgICovXHJcbi8vIGV4cG9ydCBmdW5jdGlvbiBwcmVwRWxlbWVudEZvckRyYWcoZG9tOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4vLyBcdC8vIEB0b2RvOiBzYXZlIGN1cnJlbnQgdmFsdWVzXHJcbi8vIFx0Ly8gRGVmaW5lIHBvc3NpYmxlIHByb3BzXHJcbi8vIFx0bGV0IHByb3BzID0gW1xyXG4vLyBcdFx0XCJ0b3VjaEFjdGlvblwiLCBcIndlYmtpdFRvdWNoQWN0aW9uXCIsIFwiTW96VG91Y2hBY3Rpb25cIiwgXCJNU1RvdWNoQWN0aW9uXCIsIFwibXNUb3VjaEFjdGlvblwiLCBcIm9Ub3VjaEFjdGlvblwiLFxyXG4vLyBcdFx0XCJ1c2VyU2VsZWN0XCIsIFwid2Via2l0VXNlclNlbGVjdFwiLCBcIk1velVzZXJTZWxlY3RcIiwgXCJNU1VzZXJTZWxlY3RcIiwgXCJtc1VzZXJTZWxlY3RcIiwgXCJvVXNlclNlbGVjdFwiLFxyXG4vLyBcdFx0XCJ0b3VjaFNlbGVjdFwiLCBcIndlYmtpdFRvdWNoU2VsZWN0XCIsIFwiTW96VG91Y2hTZWxlY3RcIiwgXCJNU1RvdWNoU2VsZWN0XCIsIFwibXNUb3VjaFNlbGVjdFwiLCBcIm9Ub3VjaFNlbGVjdFwiLFxyXG4vLyBcdFx0XCJ0b3VjaENhbGxvdXRcIiwgXCJ3ZWJraXRUb3VjaENhbGxvdXRcIiwgXCJNb3pUb3VjaENhbGxvdXRcIiwgXCJNU1RvdWNoQ2FsbG91dFwiLCBcIm1zVG91Y2hDYWxsb3V0XCIsIFwib1RvdWNoQ2FsbG91dFwiLFxyXG4vLyBcdFx0XCJjb250ZW50Wm9vbWluZ1wiLCBcIndlYmtpdENvbnRlbnRab29taW5nXCIsIFwiTW96Q29udGVudFpvb21pbmdcIiwgXCJNU0NvbnRlbnRab29taW5nXCIsIFwibXNDb250ZW50Wm9vbWluZ1wiLCBcIm9Db250ZW50Wm9vbWluZ1wiLFxyXG4vLyBcdFx0XCJ1c2VyRHJhZ1wiLCBcIndlYmtpdFVzZXJEcmFnXCIsIFwiTW96VXNlckRyYWdcIiwgXCJNU1VzZXJEcmFnXCIsIFwibXNVc2VyRHJhZ1wiLCBcIm9Vc2VyRHJhZ1wiXHJcbi8vIFx0XTtcclxuLy8gXHRmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbi8vIFx0XHRpZiAocHJvcHNbaV0gaW4gZG9tLnN0eWxlKSB7XHJcbi8vIFx0XHRcdHNldFN0eWxlKGRvbSwgcHJvcHNbaV0sIFwibm9uZVwiKTtcclxuLy8gXHRcdH1cclxuLy8gXHR9XHJcbi8vIFx0Ly8gUmVtb3ZlIGlPUy1zcGVjaWZpYyBzZWxlY3Rpb247XHJcbi8vIFx0c2V0U3R5bGUoZG9tLCBcInRhcEhpZ2hsaWdodENvbG9yXCIsIFwicmdiYSgwLCAwLCAwLCAwKVwiKTtcclxuLy8gfVxyXG4vLyAvKipcclxuLy8gICogUmVzdG9yZXMgcmVwbGFjZWQgc3R5bGVzXHJcbi8vICAqXHJcbi8vICAqIEBpZ25vcmVcclxuLy8gICogQHBhcmFtICBpbyAgRWxlbWVudFxyXG4vLyAgKi9cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIHVucHJlcEVsZW1lbnRGb3JEcmFnKGRvbTogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuLy8gXHQvLyBEZWZpbmUgcG9zc2libGUgcHJvcHNcclxuLy8gXHRsZXQgcHJvcHMgPSBbXHJcbi8vIFx0XHRcInRvdWNoQWN0aW9uXCIsIFwid2Via2l0VG91Y2hBY3Rpb25cIiwgXCJNb3pUb3VjaEFjdGlvblwiLCBcIk1TVG91Y2hBY3Rpb25cIiwgXCJtc1RvdWNoQWN0aW9uXCIsIFwib1RvdWNoQWN0aW9uXCIsXHJcbi8vIFx0XHRcInVzZXJTZWxlY3RcIiwgXCJ3ZWJraXRVc2VyU2VsZWN0XCIsIFwiTW96VXNlclNlbGVjdFwiLCBcIk1TVXNlclNlbGVjdFwiLCBcIm1zVXNlclNlbGVjdFwiLCBcIm9Vc2VyU2VsZWN0XCIsXHJcbi8vIFx0XHRcInRvdWNoU2VsZWN0XCIsIFwid2Via2l0VG91Y2hTZWxlY3RcIiwgXCJNb3pUb3VjaFNlbGVjdFwiLCBcIk1TVG91Y2hTZWxlY3RcIiwgXCJtc1RvdWNoU2VsZWN0XCIsIFwib1RvdWNoU2VsZWN0XCIsXHJcbi8vIFx0XHRcInRvdWNoQ2FsbG91dFwiLCBcIndlYmtpdFRvdWNoQ2FsbG91dFwiLCBcIk1velRvdWNoQ2FsbG91dFwiLCBcIk1TVG91Y2hDYWxsb3V0XCIsIFwibXNUb3VjaENhbGxvdXRcIiwgXCJvVG91Y2hDYWxsb3V0XCIsXHJcbi8vIFx0XHRcImNvbnRlbnRab29taW5nXCIsIFwid2Via2l0Q29udGVudFpvb21pbmdcIiwgXCJNb3pDb250ZW50Wm9vbWluZ1wiLCBcIk1TQ29udGVudFpvb21pbmdcIiwgXCJtc0NvbnRlbnRab29taW5nXCIsIFwib0NvbnRlbnRab29taW5nXCIsXHJcbi8vIFx0XHRcInVzZXJEcmFnXCIsIFwid2Via2l0VXNlckRyYWdcIiwgXCJNb3pVc2VyRHJhZ1wiLCBcIk1TVXNlckRyYWdcIiwgXCJtc1VzZXJEcmFnXCIsIFwib1VzZXJEcmFnXCJcclxuLy8gXHRdO1xyXG4vLyBcdGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuLy8gXHRcdGlmIChwcm9wc1tpXSBpbiBkb20uc3R5bGUpIHtcclxuLy8gXHRcdFx0c2V0U3R5bGUoZG9tLCBwcm9wc1tpXSwgXCJcIik7XHJcbi8vIFx0XHR9XHJcbi8vIFx0fVxyXG4vLyBcdC8vIFJlbW92ZSBpT1Mtc3BlY2lmaWMgc2VsZWN0aW9uO1xyXG4vLyBcdHNldFN0eWxlKGRvbSwgXCJ0YXBIaWdobGlnaHRDb2xvclwiLCBcIlwiKTtcclxuLy8gfVxyXG5leHBvcnQgZnVuY3Rpb24gaU9TKCkge1xyXG4gICAgcmV0dXJuIC9hcHBsZS9pLnRlc3QobmF2aWdhdG9yLnZlbmRvcikgJiYgXCJvbnRvdWNoZW5kXCIgaW4gZG9jdW1lbnQ7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNhZmVSZXNvbHV0aW9uKCkge1xyXG4gICAgcmV0dXJuIGlPUygpID8gMSA6IHVuZGVmaW5lZDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpdmVUb1ZhbHVlKHBlcmNlbnQsIGZ1bGwpIHtcclxuICAgIGlmICgkdHlwZS5pc051bWJlcihwZXJjZW50KSkge1xyXG4gICAgICAgIHJldHVybiBwZXJjZW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGVyY2VudCAhPSBudWxsICYmICR0eXBlLmlzTnVtYmVyKHBlcmNlbnQudmFsdWUpICYmICR0eXBlLmlzTnVtYmVyKGZ1bGwpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bGwgKiBwZXJjZW50LnZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgbnVtYmVyIG9mIGRlY2ltYWxzXHJcbiAqXHJcbiAqIEBpZ25vcmUgRXhjbHVkZSBmcm9tIGRvY3NcclxuICogQHBhcmFtIG51bWJlciAgSW5wdXQgbnVtYmVyXHJcbiAqIEByZXR1cm4gTnVtYmVyIG9mIGRlY2ltYWxzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVjaW1hbFBsYWNlcyhudW1iZXIpIHtcclxuICAgIGxldCBtYXRjaCA9ICgnJyArIG51bWJlcikubWF0Y2goLyg/OlxcLihcXGQrKSk/KD86W2VFXShbKy1dP1xcZCspKT8kLyk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgKG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMCkgLSAobWF0Y2hbMl0gPyArbWF0Y2hbMl0gOiAwKSk7XHJcbn1cclxuLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogU1RSSU5HIEZPUk1BVFRJTkcgRlVOQ1RJT05TXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogQGhpZGRlblxyXG4gKi9cclxuLyoqXHJcbiAqIFBhZHMgYSBzdHJpbmcgd2l0aCBhZGRpdGlvbmFsIGNoYXJhY3RlcnMgdG8gY2VydGFpbiBsZW5ndGguXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWx1ZSAgQSBudW1lcmljIHZhbHVlXHJcbiAqIEBwYXJhbSBsZW4gICAgUmVzdWx0IHN0cmluZyBsZW5ndGggaW4gY2hhcmFjdGVyc1xyXG4gKiBAcGFyYW0gY2hhciAgIEEgY2hhcmFjdGVyIHRvIHVzZSBmb3IgcGFkZGluZ1xyXG4gKiBAcmV0dXJuIFBhZGRlZCB2YWx1ZSBhcyBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYWRTdHJpbmcodmFsdWUsIGxlbiA9IDAsIGNoYXIgPSBcIjBcIikge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZW4gPiB2YWx1ZS5sZW5ndGggPyBBcnJheShsZW4gLSB2YWx1ZS5sZW5ndGggKyAxKS5qb2luKGNoYXIpICsgdmFsdWUgOiB2YWx1ZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gdHJpbUxlZnQodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXltcXHNdKi8sIFwiXCIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiB0cmltUmlnaHQodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvW1xcc10qJC8sIFwiXCIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiB0cmltKHRleHQpIHtcclxuICAgIHJldHVybiB0cmltTGVmdCh0cmltUmlnaHQodGV4dCkpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiB0cnVuY2F0ZVRleHRXaXRoRWxsaXBzaXModGV4dCwgbWF4TGVuZ3RoLCBicmVha1dvcmRzID0gZmFsc2UsIGVsbGlwc2lzID0gXCIuLi5cIikge1xyXG4gICAgaWYgKHRleHQubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgbGFzdCBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlciBiZWZvcmUgbWF4TGVuZ3RoXHJcbiAgICAgICAgbGV0IGxhc3ROb25BbHBoYW51bWVyaWNJbmRleCA9IG1heExlbmd0aCAtIDE7XHJcbiAgICAgICAgd2hpbGUgKGxhc3ROb25BbHBoYW51bWVyaWNJbmRleCA+PSAwICYmIHRleHQuY2hhckF0KGxhc3ROb25BbHBoYW51bWVyaWNJbmRleCkubWF0Y2goL1xcdy8pKSB7XHJcbiAgICAgICAgICAgIGxhc3ROb25BbHBoYW51bWVyaWNJbmRleC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGFzdE5vbkFscGhhbnVtZXJpY0luZGV4ID49IDAgJiYgYnJlYWtXb3JkcyA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgbGFzdE5vbkFscGhhbnVtZXJpY0luZGV4ICsgMSkgKyAnLi4uJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVyIGZvdW5kLCB0cnVuY2F0ZSB3aXRob3V0IGJyZWFraW5nIHdvcmRzXHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZygwLCBtYXhMZW5ndGgpICsgZWxsaXBzaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRyaWVzIHRvIGRldGVybWluZSBmb3JtYXQgdHlwZS5cclxuICpcclxuICogQGlnbm9yZSBFeGNsdWRlIGZyb20gZG9jc1xyXG4gKiBAcGFyYW0gZm9ybWF0ICBGb3JtYXQgc3RyaW5nXHJcbiAqIEByZXR1cm4gRm9ybWF0IHR5cGUgKFwic3RyaW5nXCIgfCBcIm51bWJlclwiIHwgXCJkYXRlXCIgfCBcImR1cmF0aW9uXCIpXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9ybWF0KGZvcm1hdCkge1xyXG4gICAgLy8gVW5kZWZpbmVkP1xyXG4gICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcclxuICAgIH1cclxuICAgIC8vIENsZWFudXAgYW5kIGxvd2VyY2FzZSBmb3JtYXRcclxuICAgIGZvcm1hdCA9IGZvcm1hdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15cXFtbXlxcXV0qXFxdLywgXCJcIik7XHJcbiAgICAvLyBSZW1vdmUgc3R5bGUgdGFnc1xyXG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoL1xcW1teXFxdXStcXF0vLCBcIlwiKTtcclxuICAgIC8vIFRyaW1cclxuICAgIGZvcm1hdCA9IGZvcm1hdC50cmltKCk7XHJcbiAgICAvLyBDaGVjayBmb3IgYW55IGV4cGxpY2l0IGZvcm1hdCBoaW50cyAoaS5lLiAvRGF0ZSlcclxuICAgIGxldCBoaW50cyA9IGZvcm1hdC5tYXRjaCgvXFwvKGRhdGV8bnVtYmVyfGR1cmF0aW9uKSQvKTtcclxuICAgIGlmIChoaW50cykge1xyXG4gICAgICAgIHJldHVybiBoaW50c1sxXTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGZvciBleHBsaWNpdCBoaW50c1xyXG4gICAgaWYgKGZvcm1hdCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHJldHVybiBcIm51bWJlclwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGZvcm1hdCA9PT0gXCJkYXRlXCIpIHtcclxuICAgICAgICByZXR1cm4gXCJkYXRlXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZm9ybWF0ID09PSBcImR1cmF0aW9uXCIpIHtcclxuICAgICAgICByZXR1cm4gXCJkdXJhdGlvblwiO1xyXG4gICAgfVxyXG4gICAgLy8gRGV0ZWN0IG51bWJlciBmb3JtYXR0aW5nIHN5bWJvbHNcclxuICAgIGlmIChmb3JtYXQubWF0Y2goL1sjMF0vKSkge1xyXG4gICAgICAgIHJldHVybiBcIm51bWJlclwiO1xyXG4gICAgfVxyXG4gICAgLy8gRGV0ZWN0IGRhdGUgZm9ybWF0dGluZyBzeW1ib2xzXHJcbiAgICBpZiAoZm9ybWF0Lm1hdGNoKC9beW13ZGhuc3FheGt6Z3RlaV0vKSkge1xyXG4gICAgICAgIHJldHVybiBcImRhdGVcIjtcclxuICAgIH1cclxuICAgIC8vIE5vdGhpbmc/IExldCdzIGRpc3BsYXkgYXMgc3RyaW5nXHJcbiAgICByZXR1cm4gXCJzdHJpbmdcIjtcclxufVxyXG4vKipcclxuICogQ2xlYW5zIHVwIGZvcm1hdDpcclxuICogKiBTdHJpcHMgb3V0IGZvcm1hdHRlciBoaW50c1xyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEBwYXJhbSBmb3JtYXQgIEZvcm1hdFxyXG4gKiBAcmV0dXJuIENsZWFuZWQgZm9ybWF0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5Gb3JtYXQoZm9ybWF0KSB7XHJcbiAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL1xcLyhkYXRlfG51bWJlcnxkdXJhdGlvbikkL2ksIFwiXCIpO1xyXG59XHJcbi8qKlxyXG4gKiBTdHJpcHMgYWxsIHRhZ3MgZnJvbSB0aGUgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGV4dCAgU291cmNlIHN0cmluZ1xyXG4gKiBAcmV0dXJuIFN0cmluZyB3aXRob3V0IHRhZ3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpcFRhZ3ModGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQgPyB0ZXh0LnJlcGxhY2UoLzxbXj5dKj4vZywgXCJcIikgOiB0ZXh0O1xyXG59XHJcbi8qKlxyXG4gKiBSZW1vdmVzIG5ldyBsaW5lcyBhbmQgdGFncyBmcm9tIGEgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0gdGV4dCAgU3RyaW5nIHRvIGNvbnZlclxyXG4gKiBAcmV0dXJuIENvbnZlcnRlZCBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGFpblRleHQodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQgPyBzdHJpcFRhZ3MoKFwiXCIgKyB0ZXh0KS5yZXBsYWNlKC9bXFxuXFxyXSsvZywgXCIuIFwiKSkgOiB0ZXh0O1xyXG59XHJcbi8qKlxyXG4gKiBFc2NhcGVzIHN0cmluZyBzbyBpdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gYSBSZWdleC5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICBVbnNlc2NhcGVkIHN0cmluZ1xyXG4gKiBAcmV0dXJuIEVzY2FwZWQgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRm9yUmdleCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgc3BhY2UgYmVmb3JlIGVhY2ggdXBwZXJjYXNlIGxldHRlci5cclxuICpcclxuICogQHBhcmFtICAgc3RyIElucHV0IHN0cmluZ1xyXG4gKiBAcmV0dXJuICAgICAgT3V0cHV0IHN0cmluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFNwYWNpbmcoc3RyKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hhciA9IHN0ci5jaGFyQXQoaSk7XHJcbiAgICAgICAgaWYgKGNoYXIudG9VcHBlckNhc2UoKSA9PSBjaGFyICYmIGkgIT0gMCkge1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gXCIgXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdCArPSBjaGFyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4vKipcclxuICogU3BsaXRzIHRoZSBzdHJpbmcgaW50byBzZXBhcmF0ZSBjaGFyYWN0ZXJzLiBLZWVwcyBSVEwgd29yZHMgbm9uLXNwbGl0LlxyXG4gKlxyXG4gKiBAcGFyYW0gICBzb3VyY2UgIElucHV0XHJcbiAqIEByZXR1cm4gICAgICAgICAgU3BsaXQgdGV4dFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0U3RyaW5nKHNvdXJjZSkge1xyXG4gICAgLy8gUmVndWxhciBleHByZXNzaW9uIHRvIGlkZW50aWZ5IFJUTCBjaGFyYWN0ZXJzXHJcbiAgICBjb25zdCBydGxDaGFyID0gL1tcXHUwNTkwLVxcdTA1RkZcXHUwNjAwLVxcdTA2RkZcXHUwNzUwLVxcdTA3N0ZcXHUwOEEwLVxcdTA4RkZcXHVGQjUwLVxcdUZERkZcXHVGRTcwLVxcdUZFRkZdLztcclxuICAgIC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBjYXB0dXJlIHNlZ21lbnRzIGVuZGluZyB3aXRoIHNwZWNpZmljIEFyYWJpYyBjaGFyYWN0ZXJzXHJcbiAgICBjb25zdCBzcGxpdFBhdHRlcm4gPSAvKFte2KfYo9iv2LDYsdiy2YhdKlvYp9ij2K/YsNix2LLZiF0pL2dpO1xyXG4gICAgLy8gU3BsaXQgaW5wdXQgc3RyaW5nIGludG8gYXJyYXkgb2Ygd29yZHMgb3IgY2hhcmFjdGVycywgaW5jbHVkaW5nIHdoaXRlc3BhY2VcclxuICAgIGxldCBzZWdtZW50cyA9IHNvdXJjZS5zcGxpdCgvKFxccyspLyk7IC8vIFNwbGl0IGJ5IHdoaXRlc3BhY2UsIGNhcHR1cmluZyBpdFxyXG4gICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgc2VnbWVudHMuZm9yRWFjaChzZWdtZW50ID0+IHtcclxuICAgICAgICBpZiAoc2VnbWVudC5tYXRjaCgvXlxccyskLykpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHNlZ21lbnQgaXMgcHVyZWx5IHdoaXRlc3BhY2VcclxuICAgICAgICAgICAgaWYgKHNlZ21lbnQgPSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgc2VnbWVudCA9IFwiICBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChzZWdtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocnRsQ2hhci50ZXN0KHNlZ21lbnQpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBzZWdtZW50IGNvbnRhaW5zIFJUTCBjaGFyYWN0ZXJzLCBoYW5kbGUgc3BlY2lhbCBzcGxpdHNcclxuICAgICAgICAgICAgbGV0IHBhcnRzID0gc2VnbWVudC5zcGxpdChzcGxpdFBhdHRlcm4pLmZpbHRlcihwYXJ0ID0+IHBhcnQgIT09ICcnKTtcclxuICAgICAgICAgICAgLy8gQ29uY2F0ZW5hdGUgcGFydHMgcHJvY2Vzc2VkIGJ5IHRoZSBzcGxpdCBwYXR0ZXJuIGRpcmVjdGx5IHRvIHJlc3VsdFxyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBhcnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRyZWF0IHRoaXMgc2VnbWVudCBhcyBMVFI6IHNwbGl0IGludG8gY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KFsuLi5zZWdtZW50XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIERBVEUtUkVMQVRFRCBGVU5DVElPTlNcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBhIHllYXIgZGF5LlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgRGF0ZVxyXG4gKiBAcGFyYW0gdXRjICAgQXNzdW1lIFVUQyBkYXRlcz9cclxuICogQHJldHVybiBZZWFyIGRheVxyXG4gKiBAdG9kbyBBY2NvdW50IGZvciBVVENcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRZZWFyRGF5KGRhdGUsIHV0YyA9IGZhbHNlKSB7XHJcbiAgICAvLyBUT0RPOiB1dGMgbmVlZGVkP1xyXG4gICAgdXRjO1xyXG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDApO1xyXG4gICAgY29uc3QgZGlmZiA9IChkYXRlLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKSkgKyAoKHN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCkgLSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAgKiAxMDAwKTtcclxuICAgIGNvbnN0IG9uZURheSA9IDEwMDAgKiA2MCAqIDYwICogMjQ7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gb25lRGF5KTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3ZWVrIG51bWJlciBmb3IgYSBnaXZlbiBkYXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgRGF0ZVxyXG4gKiBAcGFyYW0gdXRjICAgQXNzdW1lIFVUQyBkYXRlcz9cclxuICogQHJldHVybiBXZWVrIG51bWJlclxyXG4gKiBAdG9kbyBBY2NvdW50IGZvciBVVENcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRXZWVrKGRhdGUsIF91dGMgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKERhdGUuVVRDKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSkpO1xyXG4gICAgY29uc3QgZGF5ID0gZC5nZXRVVENEYXkoKSB8fCA3O1xyXG4gICAgZC5zZXRVVENEYXRlKGQuZ2V0VVRDRGF0ZSgpICsgNCAtIGRheSk7XHJcbiAgICBjb25zdCBmaXJzdERheSA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0VVRDRnVsbFllYXIoKSwgMCwgMSkpO1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbCgoKChkLmdldFRpbWUoKSAtIGZpcnN0RGF5LmdldFRpbWUoKSkgLyA4NjQwMDAwMCkgKyAxKSAvIDcpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgXCJ3ZWVrIHllYXJcIiBvZiB0aGUgZ2l2ZW4gZGF0ZS5cclxuICpcclxuICogQHBhcmFtIGRhdGUgIERhdGVcclxuICogQHBhcmFtIHV0YyAgIEFzc3VtZSBVVEMgZGF0ZXM/XHJcbiAqIEByZXR1cm4gWWVhciBvZiB3ZWVrXHJcbiAqIEBzaW5jZSA1LjMuMFxyXG4gKiBAdG9kbyBBY2NvdW50IGZvciBVVENcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRXZWVrWWVhcihkYXRlLCBfdXRjID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShEYXRlLlVUQyhkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpKTtcclxuICAgIGNvbnN0IGRheSA9IGQuZ2V0VVRDRGF5KCkgfHwgNztcclxuICAgIGQuc2V0VVRDRGF0ZShkLmdldFVUQ0RhdGUoKSArIDQgLSBkYXkpO1xyXG4gICAgY29uc3QgZmlyc3REYXkgPSBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldFVUQ0Z1bGxZZWFyKCksIDAsIDEpKTtcclxuICAgIHJldHVybiBmaXJzdERheS5nZXRGdWxsWWVhcigpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgd2VlayBudW1iZXIgaW4gdGhlIG1vbnRoLlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgU291cmNlIERhdGVcclxuICogQHBhcmFtIHV0YyAgIEFzc3VtZSBVVEMgZGF0ZXM/XHJcbiAqIEByZXR1cm4gV2VlayBudW1iZXIgaW4gbW9udGhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNb250aFdlZWsoZGF0ZSwgdXRjID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGZpcnN0V2VlayA9IGdldFdlZWsobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpLCB1dGMpO1xyXG4gICAgbGV0IGN1cnJlbnRXZWVrID0gZ2V0V2VlayhkYXRlLCB1dGMpO1xyXG4gICAgaWYgKGN1cnJlbnRXZWVrID09IDEpIHtcclxuICAgICAgICBjdXJyZW50V2VlayA9IDUzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN1cnJlbnRXZWVrIC0gZmlyc3RXZWVrICsgMTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHllYXIgZGF5IG91dCBvZiB0aGUgZ2l2ZW4gd2VlayBudW1iZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB3ZWVrICAgICBXZWVrXHJcbiAqIEBwYXJhbSB5ZWFyICAgICBZZWFyXHJcbiAqIEBwYXJhbSB3ZWVrZGF5ICBXZWVrZGF5XHJcbiAqIEBwYXJhbSB1dGMgICAgICBBc3N1bWUgVVRDIGRhdGVzXHJcbiAqIEByZXR1cm4gRGF5IGluIGEgeWVhclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERheUZyb21XZWVrKHdlZWssIHllYXIsIHdlZWtkYXkgPSAxLCB1dGMgPSBmYWxzZSkge1xyXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCAwLCA0LCAwLCAwLCAwLCAwKTtcclxuICAgIGlmICh1dGMpIHtcclxuICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHllYXIpO1xyXG4gICAgfVxyXG4gICAgbGV0IGRheSA9IHdlZWsgKiA3ICsgd2Vla2RheSAtICgoZGF0ZS5nZXREYXkoKSB8fCA3KSArIDMpO1xyXG4gICAgcmV0dXJuIGRheTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyAxMi1ob3VyIHJlcHJlc2VudGF0aW9uIG91dCBvZiB0aGUgMjQtaG91ciBob3Vycy5cclxuICpcclxuICogQHBhcmFtIGhvdXJzICAyNC1ob3VyIG51bWJlclxyXG4gKiBAcmV0dXJuIDEyLWhvdXIgbnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0MTJIb3Vycyhob3VycywgYmFzZSkge1xyXG4gICAgaWYgKGhvdXJzID4gMTIpIHtcclxuICAgICAgICBob3VycyAtPSAxMjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGhvdXJzID09PSAwKSB7XHJcbiAgICAgICAgaG91cnMgPSAxMjtcclxuICAgIH1cclxuICAgIHJldHVybiBiYXNlICE9IG51bGwgPyBob3VycyArIChiYXNlIC0gMSkgOiBob3VycztcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyBuYW1lIG9mIHRoZSB0aW1lIHpvbmUuXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRlICAgICBEYXRlIG9iamVjdFxyXG4gKiBAcGFyYW0gbG9uZyAgICAgU2hvdWxkIHJldHVybiBsb25nIChcIlBhY2lmaWMgU3RhbmRhcmQgVGltZVwiKSBvciBzaG9ydCBhYmJyZXZpYXRpb24gKFwiUFNUXCIpXHJcbiAqIEBwYXJhbSBzYXZpbmdzICBJbmNsdWRlIGluZm9ybWF0aW9uIGlmIGl0J3MgaW4gZGF5bGlnaHQgc2F2aW5ncyBtb2RlXHJcbiAqIEBwYXJhbSB1dGMgICAgICBBc3N1bWUgVVRDIGRhdGVzXHJcbiAqIEByZXR1cm4gVGltZSB6b25lIG5hbWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lWm9uZShkYXRlLCBsb25nID0gZmFsc2UsIHNhdmluZ3MgPSBmYWxzZSwgdXRjID0gZmFsc2UsIHRpbWV6b25lKSB7XHJcbiAgICBpZiAodXRjKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvbmcgPyBcIkNvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lXCIgOiBcIlVUQ1wiO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGltZXpvbmUpIHtcclxuICAgICAgICBjb25zdCBkMSA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJlbi1VU1wiLCB7IHRpbWVab25lOiB0aW1lem9uZSB9KTtcclxuICAgICAgICBjb25zdCBkMiA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJlbi1VU1wiLCB7IHRpbWVab25lOiB0aW1lem9uZSwgdGltZVpvbmVOYW1lOiBsb25nID8gXCJsb25nXCIgOiBcInNob3J0XCIgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRyaW0oZDIuc3Vic3RyKGQxLmxlbmd0aCkpO1xyXG4gICAgfVxyXG4gICAgbGV0IHdvdHogPSBkYXRlLnRvTG9jYWxlU3RyaW5nKFwiVVRDXCIpO1xyXG4gICAgbGV0IHd0eiA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoXCJVVENcIiwgeyB0aW1lWm9uZU5hbWU6IGxvbmcgPyBcImxvbmdcIiA6IFwic2hvcnRcIiB9KS5zdWJzdHIod290ei5sZW5ndGgpO1xyXG4gICAgLy93dHogPSB3dHoucmVwbGFjZSgvWystXStbMC05XSskLywgXCJcIik7XHJcbiAgICBpZiAoc2F2aW5ncyA9PT0gZmFsc2UpIHtcclxuICAgICAgICB3dHogPSB3dHoucmVwbGFjZSgvIChzdGFuZGFyZHxkYXlsaWdodHxzdW1tZXJ8d2ludGVyKSAvaSwgXCIgXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRyaW0od3R6KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZXpvbmVPZmZzZXQodGltZXpvbmUsIHRhcmdldERhdGUpIHtcclxuICAgIGNvbnN0IGRhdGUgPSB0YXJnZXREYXRlIHx8IG5ldyBEYXRlKERhdGUuVVRDKDIwMTIsIDAsIDEsIDAsIDAsIDAsIDApKTtcclxuICAgIGNvbnN0IHV0Y0RhdGUgPSBuZXcgRGF0ZShkYXRlLnRvTG9jYWxlU3RyaW5nKFwiZW4tVVNcIiwgeyB0aW1lWm9uZTogXCJVVENcIiB9KSk7XHJcbiAgICBjb25zdCB0ekRhdGUgPSBuZXcgRGF0ZShkYXRlLnRvTG9jYWxlU3RyaW5nKFwiZW4tVVNcIiwgeyB0aW1lWm9uZTogdGltZXpvbmUgfSkpO1xyXG4gICAgcmV0dXJuICh0ekRhdGUuZ2V0VGltZSgpIC0gdXRjRGF0ZS5nZXRUaW1lKCkpIC8gNmU0ICogLTE7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gdGV4dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRleHQuc2xpY2UoMSk7XHJcbn1cclxuLyoqXHJcbiAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgYXJlIHRha2VuIGFuZCBhZGFwdGVkIGZyb20gR2FycnkgVGFuJ3MgYmxvZyBwb3N0OlxyXG4gKiBodHRwOi8vYXhvbmZsdXguY29tL2hhbmR5LXJnYi10by1oc2wtYW5kLXJnYi10by1oc3YtY29sb3ItbW9kZWwtY1xyXG4gKlxyXG4gKiBUaGUgZnVydGhlciBhdHRyaWJ1dGlvbnMgZ28gbWppamFja3Nvbi5jb20sIHdoaWNoIG5vdyBzZWVtcyB0byBiZSBkZWZ1bmN0LlxyXG4gKi9cclxuLyoqXHJcbiAqIENvbnZlcnRzIGFuIEhTTCBjb2xvciB2YWx1ZSB0byBSR0IuIENvbnZlcnNpb24gZm9ybXVsYVxyXG4gKiBhZGFwdGVkIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXHJcbiAqIEFzc3VtZXMgaCwgcywgYW5kIGwgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAxXSBhbmRcclxuICogcmV0dXJucyByLCBnLCBhbmQgYiBpbiB0aGUgc2V0IFswLCAyNTVdLlxyXG4gKlxyXG4gKiBGdW5jdGlvbiBhZGFwdGVkIGZyb206XHJcbiAqIGh0dHA6Ly9heG9uZmx1eC5jb20vaGFuZHktcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jXHJcbiAqXHJcbiAqIEBwYXJhbSBoICAgICAgIFRoZSBodWVcclxuICogQHBhcmFtIHMgICAgICAgVGhlIHNhdHVyYXRpb25cclxuICogQHBhcmFtIGwgICAgICAgVGhlIGxpZ2h0bmVzc1xyXG4gKiBAcmV0dXJuIFRoZSBSR0IgcmVwcmVzZW50YXRpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBoc2xUb1JnYihjb2xvcikge1xyXG4gICAgbGV0IHIsIGcsIGI7XHJcbiAgICBsZXQgaCA9IGNvbG9yLmg7XHJcbiAgICBsZXQgcyA9IGNvbG9yLnM7XHJcbiAgICBsZXQgbCA9IGNvbG9yLmw7XHJcbiAgICBpZiAocyA9PSAwKSB7XHJcbiAgICAgICAgciA9IGcgPSBiID0gbDsgLy8gYWNocm9tYXRpY1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IGh1ZTJyZ2IgPSBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcclxuICAgICAgICAgICAgaWYgKHQgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0ICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0IC09IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHQgPCAxIC8gNikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHQgPCAxIC8gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHQgPCAyIC8gMykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xyXG4gICAgICAgIGxldCBwID0gMiAqIGwgLSBxO1xyXG4gICAgICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxIC8gMyk7XHJcbiAgICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XHJcbiAgICAgICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcjogTWF0aC5yb3VuZChyICogMjU1KSxcclxuICAgICAgICBnOiBNYXRoLnJvdW5kKGcgKiAyNTUpLFxyXG4gICAgICAgIGI6IE1hdGgucm91bmQoYiAqIDI1NSlcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuIENvbnZlcnNpb24gZm9ybXVsYVxyXG4gKiBhZGFwdGVkIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXHJcbiAqIEFzc3VtZXMgciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdIGFuZFxyXG4gKiByZXR1cm5zIGgsIHMsIGFuZCBsIGluIHRoZSBzZXQgWzAsIDFdLlxyXG4gKlxyXG4gKiBGdW5jdGlvbiBhZGFwdGVkIGZyb206XHJcbiAqIGh0dHA6Ly9heG9uZmx1eC5jb20vaGFuZHktcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jXHJcbiAqXHJcbiAqIEBwYXJhbSByICAgICAgIFRoZSByZWQgY29sb3IgdmFsdWVcclxuICogQHBhcmFtIGcgICAgICAgVGhlIGdyZWVuIGNvbG9yIHZhbHVlXHJcbiAqIEBwYXJhbSBiICAgICAgIFRoZSBibHVlIGNvbG9yIHZhbHVlXHJcbiAqIEByZXR1cm4gVGhlIEhTTCByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvSHNsKGNvbG9yKSB7XHJcbiAgICBsZXQgciA9IGNvbG9yLnIgLyAyNTU7XHJcbiAgICBsZXQgZyA9IGNvbG9yLmcgLyAyNTU7XHJcbiAgICBsZXQgYiA9IGNvbG9yLmIgLyAyNTU7XHJcbiAgICBsZXQgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XHJcbiAgICBsZXQgbWluID0gTWF0aC5taW4ociwgZywgYik7XHJcbiAgICBsZXQgaCA9IDA7XHJcbiAgICBsZXQgcyA9IDA7XHJcbiAgICBsZXQgbCA9IChtYXggKyBtaW4pIC8gMjtcclxuICAgIGlmIChtYXggPT09IG1pbikge1xyXG4gICAgICAgIGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IGQgPSBtYXggLSBtaW47XHJcbiAgICAgICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xyXG4gICAgICAgIHN3aXRjaCAobWF4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgcjpcclxuICAgICAgICAgICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGc6XHJcbiAgICAgICAgICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgYjpcclxuICAgICAgICAgICAgICAgIGggPSAociAtIGcpIC8gZCArIDQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaCAvPSA2O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoOiBoLFxyXG4gICAgICAgIHM6IHMsXHJcbiAgICAgICAgbDogbCxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENvbnZlcnRzIEhTViB0byBIU0wuXHJcbiAqXHJcbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWI0hTVl90b19IU0xcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBoc3ZUb0hzbChoc3YpIHtcclxuICAgIGNvbnN0IGwgPSBoc3YudiAqICgxIC0gKGhzdi5zIC8gMikpO1xyXG4gICAgY29uc3QgcyA9IChsID09PSAwIHx8IGwgPT09IDFcclxuICAgICAgICA/IDBcclxuICAgICAgICA6IChoc3YudiAtIGwpIC8gTWF0aC5taW4obCwgMSAtIGwpKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaDogaHN2LmgsXHJcbiAgICAgICAgcyxcclxuICAgICAgICBsLFxyXG4gICAgICAgIGE6IGhzdi5hLFxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ29udmVydHMgSFNMIHRvIEhTVi5cclxuICpcclxuICogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2FuZF9IU1YjSFNMX3RvX0hTVlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhzbFRvSHN2KGhzbCkge1xyXG4gICAgY29uc3QgdiA9IGhzbC5sICsgKGhzbC5zICogTWF0aC5taW4oaHNsLmwsIDEgLSBoc2wubCkpO1xyXG4gICAgY29uc3QgcyA9ICh2ID09PSAwXHJcbiAgICAgICAgPyAwXHJcbiAgICAgICAgOiAyICogKDEgLSAoaHNsLmwgLyB2KSkpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoOiBoc2wuaCxcclxuICAgICAgICBzLFxyXG4gICAgICAgIHYsXHJcbiAgICAgICAgYTogaHNsLmEsXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgY29sb3IgdGhhdCBpcyBgcGVyY2VudGAgYnJpZ2h0ZXIgdGhhbiB0aGUgcmVmZXJlbmNlIGNvbG9yLlxyXG4gKlxyXG4gKiBAcGFyYW0gY29sb3IgICAgUmVmZXJlbmNlIGNvbG9yXHJcbiAqIEBwYXJhbSBwZXJjZW50ICBCcmlnaHRuZXNzIHBlcmNlbnRcclxuICogQHJldHVybiBIZXggY29kZSBvZiB0aGUgbmV3IGNvbG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbGlnaHRlbihyZ2IsIHBlcmNlbnQpIHtcclxuICAgIGlmIChyZ2IpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByOiBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHJnYi5yICsgZ2V0TGlnaHRuZXNzU3RlcChyZ2IuciwgcGVyY2VudCkpKSxcclxuICAgICAgICAgICAgZzogTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCByZ2IuZyArIGdldExpZ2h0bmVzc1N0ZXAocmdiLmcsIHBlcmNlbnQpKSksXHJcbiAgICAgICAgICAgIGI6IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcmdiLmIgKyBnZXRMaWdodG5lc3NTdGVwKHJnYi5iLCBwZXJjZW50KSkpLFxyXG4gICAgICAgICAgICBhOiByZ2IuYVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBUT0RPIGlzIHRoaXMgY29ycmVjdCA/XHJcbiAgICAgICAgcmV0dXJuIHJnYjtcclxuICAgIH1cclxufVxyXG47XHJcbi8qKlxyXG4gKiBHZXRzIGxpZ2h0bmVzcyBzdGVwLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgICAgVmFsdWVcclxuICogQHBhcmFtIHBlcmNlbnQgIFBlcmNlbnRcclxuICogQHJldHVybiBTdGVwXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlnaHRuZXNzU3RlcCh2YWx1ZSwgcGVyY2VudCkge1xyXG4gICAgbGV0IGJhc2UgPSBwZXJjZW50ID4gMCA/IDI1NSAtIHZhbHVlIDogdmFsdWU7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChiYXNlICogcGVyY2VudCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBjb2xvciB0aGF0IGlzIGBwZXJjZW50YCBicmlnaHRlciB0aGFuIHRoZSBzb3VyY2UgYGNvbG9yYC5cclxuICpcclxuICogQHBhcmFtIGNvbG9yICAgIFNvdXJjZSBjb2xvclxyXG4gKiBAcGFyYW0gcGVyY2VudCAgQnJpZ2h0bmVzcyBwZXJjZW50XHJcbiAqIEByZXR1cm4gTmV3IGNvbG9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYnJpZ2h0ZW4ocmdiLCBwZXJjZW50KSB7XHJcbiAgICBpZiAocmdiKSB7XHJcbiAgICAgICAgbGV0IGJhc2UgPSBNYXRoLm1pbihNYXRoLm1heChyZ2IuciwgcmdiLmcsIHJnYi5iKSwgMjMwKTtcclxuICAgICAgICAvL2xldCBiYXNlID0gTWF0aC5tYXgocmdiLnIsIHJnYi5nLCByZ2IuYik7XHJcbiAgICAgICAgbGV0IHN0ZXAgPSBnZXRMaWdodG5lc3NTdGVwKGJhc2UsIHBlcmNlbnQpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHI6IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZChyZ2IuciArIHN0ZXApKSksXHJcbiAgICAgICAgICAgIGc6IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZChyZ2IuZyArIHN0ZXApKSksXHJcbiAgICAgICAgICAgIGI6IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZChyZ2IuYiArIHN0ZXApKSksXHJcbiAgICAgICAgICAgIGE6IHJnYi5hXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIFRPRE8gaXMgdGhpcyBjb3JyZWN0ID9cclxuICAgICAgICByZXR1cm4gcmdiO1xyXG4gICAgfVxyXG59XHJcbjtcclxuLyoqXHJcbiAqIFJldHVybnMgYnJpZ2h0bmVzcyBzdGVwLlxyXG4gKlxyXG4gKiBAaWdub3JlIEV4Y2x1ZGUgZnJvbSBkb2NzXHJcbiAqIEBwYXJhbSB2YWx1ZSAgICBWYWx1ZVxyXG4gKiBAcGFyYW0gcGVyY2VudCAgUGVyY2VudFxyXG4gKiBAcmV0dXJuIFN0ZXBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCcmlnaHRuZXNzU3RlcChfdmFsdWUsIHBlcmNlbnQpIHtcclxuICAgIGxldCBiYXNlID0gMjU1OyAvL3BlcmNlbnQgPiAwID8gMjU1IC0gdmFsdWUgOiB2YWx1ZTtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKGJhc2UgKiBwZXJjZW50KTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBgdHJ1ZWAgaWYgY29sb3IgaXMgXCJsaWdodFwiLiBVc2VmdWwgaW5kZXRlcm1pbmluZyB3aGljaCBjb250cmFzdGluZ1xyXG4gKiBjb2xvciB0byB1c2UgZm9yIGVsZW1lbnRzIG92ZXIgdGhpcyBjb2xvci4gRS5nLjogeW91IHdvdWxkIHdhbnQgdG8gdXNlXHJcbiAqIGJsYWNrIHRleHQgb3ZlciBsaWdodCBiYWNrZ3JvdW5kLCBhbmQgdmljZSB2ZXJzYS5cclxuICpcclxuICogQHBhcmFtIGNvbG9yICBTb3VyY2UgY29sb3JcclxuICogQHJldHVybiBMaWdodD9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0xpZ2h0KGNvbG9yKSB7XHJcbiAgICByZXR1cm4gKChjb2xvci5yICogMjk5KSArIChjb2xvci5nICogNTg3KSArIChjb2xvci5iICogMTE0KSkgLyAxMDAwID49IDEyODtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIG5ldyBbW2lSR0JdXSBvYmplY3QgYmFzZWQgb24gYHJnYmAgcGFyYW1ldGVyIHdpdGggc3BlY2lmaWNcclxuICogc2F0dXJhdGlvbiBhcHBsaWVkLlxyXG4gKlxyXG4gKiBgc2F0dXJhdGlvbmAgY2FuIGJlIGluIHRoZSByYW5nZSBvZiAwIChmdWxseSBkZXNhdHVyYXRlZCkgdG8gMSAoZnVsbHlcclxuICogc2F0dXJhdGVkKS5cclxuICpcclxuICogQHBhcmFtIGNvbG9yICAgICAgIEJhc2UgY29sb3JcclxuICogQHBhcmFtIHNhdHVyYXRpb24gIFNhdHVyYXRpb24gKDAtMSlcclxuICogQHJldHVybiBOZXcgY29sb3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzYXR1cmF0ZShyZ2IsIHNhdHVyYXRpb24pIHtcclxuICAgIGlmIChyZ2IgPT09IHVuZGVmaW5lZCB8fCBzYXR1cmF0aW9uID09IDEpIHtcclxuICAgICAgICByZXR1cm4gcmdiO1xyXG4gICAgfVxyXG4gICAgbGV0IGhzbCA9IHJnYlRvSHNsKHJnYik7XHJcbiAgICBoc2wucyA9IHNhdHVyYXRpb247XHJcbiAgICByZXR1cm4gaHNsVG9SZ2IoaHNsKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIGNvbG9yIHdoaWNoIGNvbnRyYXN0cyBtb3JlIHdpdGggdGhlIHNvdXJjZSBgY29sb3JgLlxyXG4gKlxyXG4gKiBAcGFyYW0gIGNvbG9yICAgICAgICAgICAgIEJhc2UgY29sb3JcclxuICogQHBhcmFtICBsaWdodEFsdGVybmF0aXZlICBMaWdodCBvcHRpb25cclxuICogQHBhcmFtICBkYXJrQWx0ZXJuYXRpdmUgICBEYXJrIG9wdGlvblxyXG4gKiBAcmV0dXJuIE5ldyBjb2xvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFsdGVybmF0aXZlQ29sb3IoY29sb3IsIGxpZ2h0QWx0ZXJuYXRpdmUgPSB7IHI6IDI1NSwgZzogMjU1LCBiOiAyNTUgfSwgZGFya0FsdGVybmF0aXZlID0geyByOiAyNTUsIGc6IDI1NSwgYjogMjU1IH0pIHtcclxuICAgIGxldCBsaWdodCA9IGxpZ2h0QWx0ZXJuYXRpdmU7XHJcbiAgICBsZXQgZGFyayA9IGRhcmtBbHRlcm5hdGl2ZTtcclxuICAgIGlmIChpc0xpZ2h0KGRhcmtBbHRlcm5hdGl2ZSkpIHtcclxuICAgICAgICBsaWdodCA9IGRhcmtBbHRlcm5hdGl2ZTtcclxuICAgICAgICBkYXJrID0gbGlnaHRBbHRlcm5hdGl2ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBpc0xpZ2h0KGNvbG9yKSA/IGRhcmsgOiBsaWdodDtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlVGFncyh0YWdzMSwgdGFnczIpIHtcclxuICAgIGlmICghdGFnczEpIHtcclxuICAgICAgICB0YWdzMSA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFsuLi50YWdzMSwgLi4udGFnczJdLmZpbHRlcigodmFsdWUsIGluZGV4LCBzZWxmKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4O1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzYW1lQm91bmRzKGEsIGIpIHtcclxuICAgIGlmICghYikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChhLmxlZnQgIT0gYi5sZWZ0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGEucmlnaHQgIT0gYi5yaWdodCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChhLnRvcCAhPSBiLnRvcCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChhLmJvdHRvbSAhPSBiLmJvdHRvbSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimatedTheme: () => (/* binding */ AnimatedTheme)\n/* harmony export */ });\n/* harmony import */ var _core_Theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Theme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js\");\n\r\n/**\r\n * @ignore\r\n */\r\nclass AnimatedTheme extends _core_Theme__WEBPACK_IMPORTED_MODULE_0__.Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        this.rule(\"Component\").setAll({\r\n            interpolationDuration: 600\r\n        });\r\n        this.rule(\"Hierarchy\").set(\"animationDuration\", 600);\r\n        this.rule(\"Scrollbar\").set(\"animationDuration\", 600);\r\n        this.rule(\"Tooltip\").set(\"animationDuration\", 300);\r\n        this.rule(\"MapChart\").set(\"animationDuration\", 1000);\r\n        this.rule(\"MapChart\").set(\"wheelDuration\", 300);\r\n        this.rule(\"Entity\").setAll({\r\n            stateAnimationDuration: 600\r\n        });\r\n        this.rule(\"Sprite\").states.create(\"default\", { stateAnimationDuration: 600 });\r\n        this.rule(\"Tooltip\", [\"axis\"]).setAll({\r\n            animationDuration: 200\r\n        });\r\n        this.rule(\"WordCloud\").set(\"animationDuration\", 500);\r\n        this.rule(\"Polygon\").set(\"animationDuration\", 600);\r\n        this.rule(\"ArcDiagram\").set(\"animationDuration\", 600);\r\n    }\r\n}\r\n//# sourceMappingURL=AnimatedTheme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvdGhlbWVzL0FuaW1hdGVkVGhlbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLDhDQUFLO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVEQUF1RCw2QkFBNkI7QUFDcEY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFwaC12aXN1YWxpemVyLy4vbm9kZV9tb2R1bGVzL0BhbWNoYXJ0cy9hbWNoYXJ0czUvLmludGVybmFsL3RoZW1lcy9BbmltYXRlZFRoZW1lLmpzPzgyYzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGhlbWUgfSBmcm9tIFwiLi4vY29yZS9UaGVtZVwiO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGVkVGhlbWUgZXh0ZW5kcyBUaGVtZSB7XHJcbiAgICBzZXR1cERlZmF1bHRSdWxlcygpIHtcclxuICAgICAgICBzdXBlci5zZXR1cERlZmF1bHRSdWxlcygpO1xyXG4gICAgICAgIHRoaXMucnVsZShcIkNvbXBvbmVudFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBpbnRlcnBvbGF0aW9uRHVyYXRpb246IDYwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucnVsZShcIkhpZXJhcmNoeVwiKS5zZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCA2MDApO1xyXG4gICAgICAgIHRoaXMucnVsZShcIlNjcm9sbGJhclwiKS5zZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCA2MDApO1xyXG4gICAgICAgIHRoaXMucnVsZShcIlRvb2x0aXBcIikuc2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIiwgMzAwKTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJNYXBDaGFydFwiKS5zZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCAxMDAwKTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJNYXBDaGFydFwiKS5zZXQoXCJ3aGVlbER1cmF0aW9uXCIsIDMwMCk7XHJcbiAgICAgICAgdGhpcy5ydWxlKFwiRW50aXR5XCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDYwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucnVsZShcIlNwcml0ZVwiKS5zdGF0ZXMuY3JlYXRlKFwiZGVmYXVsdFwiLCB7IHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDYwMCB9KTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJUb29sdGlwXCIsIFtcImF4aXNcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAyMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJXb3JkQ2xvdWRcIikuc2V0KFwiYW5pbWF0aW9uRHVyYXRpb25cIiwgNTAwKTtcclxuICAgICAgICB0aGlzLnJ1bGUoXCJQb2x5Z29uXCIpLnNldChcImFuaW1hdGlvbkR1cmF0aW9uXCIsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5ydWxlKFwiQXJjRGlhZ3JhbVwiKS5zZXQoXCJhbmltYXRpb25EdXJhdGlvblwiLCA2MDApO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGVkVGhlbWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultTheme: () => (/* binding */ DefaultTheme),\n/* harmony export */   setColor: () => (/* binding */ setColor)\n/* harmony export */ });\n/* harmony import */ var _core_Theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Theme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js\");\n/* harmony import */ var _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/util/Percent */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js\");\n/* harmony import */ var _core_util_Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/util/Color */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js\");\n/* harmony import */ var _core_render_GridLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/render/GridLayout */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js\");\n/* harmony import */ var _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/util/Ease */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction setColor(rule, key, ic, name) {\r\n    // TODO this shouldn't use get, figure out a better way\r\n    rule.set(key, ic.get(name));\r\n    ic.on(name, (value) => {\r\n        rule.set(key, value);\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DefaultTheme extends _core_Theme__WEBPACK_IMPORTED_MODULE_0__.Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const language = this._root.language;\r\n        const ic = this._root.interfaceColors;\r\n        const horizontalLayout = this._root.horizontalLayout;\r\n        const verticalLayout = this._root.verticalLayout;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * core\r\n         * ========================================================================\r\n         */\r\n        r(\"InterfaceColors\").setAll({\r\n            stroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xe5e5e5),\r\n            fill: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xf3f3f3),\r\n            primaryButton: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x6794dc),\r\n            primaryButtonHover: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x6771dc),\r\n            primaryButtonDown: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x68dc76),\r\n            primaryButtonActive: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x68dc76),\r\n            primaryButtonDisabled: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xdadada),\r\n            primaryButtonTextDisabled: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            primaryButtonText: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            primaryButtonStroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            secondaryButton: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xd9d9d9),\r\n            secondaryButtonHover: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xa3a3a3),\r\n            secondaryButtonDown: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x8d8d8d),\r\n            secondaryButtonActive: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xe6e6e6),\r\n            secondaryButtonText: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            secondaryButtonStroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            grid: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            background: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            alternativeBackground: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            text: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            alternativeText: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff),\r\n            disabled: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xadadad),\r\n            positive: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x50b300),\r\n            negative: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xb30000)\r\n        });\r\n        {\r\n            const rule = r(\"ColorSet\");\r\n            rule.setAll({\r\n                passOptions: {\r\n                    hue: 0.05,\r\n                    saturation: 0,\r\n                    lightness: 0\r\n                },\r\n                colors: [\r\n                    _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x67b7dc)\r\n                ],\r\n                step: 1,\r\n                //baseColor: Color.fromRGB(103, 183, 220),\r\n                //count: 20,\r\n                reuse: false,\r\n                startIndex: 0\r\n            });\r\n            rule.setPrivate(\"currentStep\", 0);\r\n            rule.setPrivate(\"currentPass\", 0);\r\n        }\r\n        r(\"Entity\").setAll({\r\n            stateAnimationDuration: 0,\r\n            stateAnimationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic)\r\n        });\r\n        r(\"Component\").setAll({\r\n            interpolationDuration: 0,\r\n            interpolationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic)\r\n        });\r\n        r(\"Sprite\").setAll({\r\n            visible: true,\r\n            scale: 1,\r\n            opacity: 1,\r\n            rotation: 0,\r\n            position: \"relative\",\r\n            tooltipX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            tooltipY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            tooltipPosition: \"fixed\",\r\n            isMeasured: true\r\n        });\r\n        r(\"Sprite\").states.create(\"default\", { \"visible\": true, opacity: 1 });\r\n        r(\"Container\").setAll({\r\n            interactiveChildren: true,\r\n            setStateOnChildren: false\r\n        });\r\n        r(\"Graphics\").setAll({\r\n            strokeWidth: 1\r\n        });\r\n        r(\"Chart\").setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            interactiveChildren: false\r\n        });\r\n        r(\"ZoomableContainer\").setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            wheelable: true,\r\n            pinchZoom: true,\r\n            maxZoomLevel: 32,\r\n            minZoomLevel: 1,\r\n            zoomStep: 2,\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic),\r\n            animationDuration: 600,\r\n            maxPanOut: 0.4\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: alignment\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Sprite\", [\"horizontal\", \"center\"]).setAll({\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50\r\n        });\r\n        r(\"Sprite\", [\"vertical\", \"center\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50\r\n        });\r\n        r(\"Container\", [\"horizontal\", \"layout\"]).setAll({\r\n            layout: horizontalLayout\r\n        });\r\n        r(\"Container\", [\"vertical\", \"layout\"]).setAll({\r\n            layout: verticalLayout\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: patterns\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Pattern\").setAll({\r\n            repetition: \"repeat\",\r\n            width: 50,\r\n            height: 50,\r\n            rotation: 0,\r\n            fillOpacity: 1\r\n        });\r\n        r(\"LinePattern\").setAll({\r\n            gap: 6,\r\n            colorOpacity: 1,\r\n            width: 49,\r\n            height: 49\r\n        });\r\n        r(\"RectanglePattern\").setAll({\r\n            gap: 6,\r\n            checkered: false,\r\n            centered: true,\r\n            maxWidth: 5,\r\n            maxHeight: 5,\r\n            width: 48,\r\n            height: 48,\r\n            strokeWidth: 0\r\n        });\r\n        r(\"CirclePattern\").setAll({\r\n            gap: 5,\r\n            checkered: false,\r\n            centered: false,\r\n            radius: 3,\r\n            strokeWidth: 0,\r\n            width: 45,\r\n            height: 45\r\n        });\r\n        r(\"GrainPattern\").setAll({\r\n            width: 200,\r\n            height: 200,\r\n            colors: [_core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000)],\r\n            size: 1,\r\n            horizontalGap: 0,\r\n            verticalGap: 0,\r\n            density: 1,\r\n            minOpacity: 0,\r\n            maxOpacity: 0.2\r\n        });\r\n        {\r\n            const rule = r(\"PatternSet\");\r\n            rule.setAll({\r\n                step: 1\r\n            });\r\n            setColor(rule, \"color\", ic, \"stroke\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: gradients\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"LinearGradient\").setAll({\r\n            rotation: 90\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Legend\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Legend\").setAll({\r\n            fillField: \"fill\",\r\n            strokeField: \"stroke\",\r\n            nameField: \"name\",\r\n            layout: _core_render_GridLayout__WEBPACK_IMPORTED_MODULE_4__.GridLayout.new(this._root, {}),\r\n            layer: 30,\r\n            clickTarget: \"itemContainer\"\r\n        });\r\n        // Class: Container\r\n        r(\"Container\", [\"legend\", \"item\", \"itemcontainer\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingBottom: 5,\r\n            paddingTop: 5,\r\n            layout: horizontalLayout,\r\n            setStateOnChildren: true,\r\n            interactiveChildren: false,\r\n            ariaChecked: true,\r\n            focusable: true,\r\n            ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n            role: \"checkbox\"\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"legend\", \"item\", \"background\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n        }\r\n        r(\"Container\", [\"legend\", \"marker\"]).setAll({\r\n            setStateOnChildren: true,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            paddingLeft: 0,\r\n            paddingRight: 0,\r\n            paddingBottom: 0,\r\n            paddingTop: 0,\r\n            width: 18,\r\n            height: 18\r\n        });\r\n        r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            cornerRadiusBL: 3,\r\n            cornerRadiusTL: 3,\r\n            cornerRadiusBR: 3,\r\n            cornerRadiusTR: 3\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n            setColor(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"Label\", [\"legend\", \"label\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            marginLeft: 5,\r\n            paddingRight: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            populateText: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"legend\", \"label\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n        }\r\n        r(\"Label\", [\"legend\", \"value\", \"label\"]).setAll({\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            marginLeft: 5,\r\n            paddingRight: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            width: 50,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            populateText: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"legend\", \"value\", \"label\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: HeatLegend\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"HeatLegend\").setAll({\r\n            stepCount: 1\r\n        });\r\n        r(\"RoundedRectangle\", [\"heatlegend\", \"marker\"]).setAll({\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBL: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"vertical\", \"heatlegend\", \"marker\"]).setAll({\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            width: 15\r\n        });\r\n        r(\"RoundedRectangle\", [\"horizontal\", \"heatlegend\", \"marker\"]).setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            height: 15\r\n        });\r\n        r(\"HeatLegend\", [\"vertical\"]).setAll({\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100\r\n        });\r\n        r(\"HeatLegend\", [\"horizontal\"]).setAll({\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100\r\n        });\r\n        r(\"Label\", [\"heatlegend\", \"start\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5\r\n        });\r\n        r(\"Label\", [\"heatlegend\", \"end\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Labels\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        {\r\n            const rule = r(\"Label\");\r\n            rule.setAll({\r\n                paddingTop: 8,\r\n                paddingBottom: 8,\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                fontFamily: \"-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\r\n                fontSize: \"1em\",\r\n                populateText: false\r\n            });\r\n            setColor(rule, \"fill\", ic, \"text\");\r\n        }\r\n        r(\"RadialLabel\").setAll({\r\n            textType: \"regular\",\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            inside: false,\r\n            radius: 0,\r\n            baseRadius: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            orientation: \"auto\",\r\n            textAlign: \"center\"\r\n        });\r\n        r(\"EditableLabel\").setAll({\r\n            editOn: \"click\",\r\n            //setStateOnChildren: true,\r\n            themeTags: [\"editablelabel\"],\r\n            multiLine: true\r\n        });\r\n        r(\"RoundedRectangle\", [\"editablelabel\", \"background\"]).setAll({\r\n            fillOpacity: 0,\r\n            fill: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000),\r\n            cornerRadiusBL: 3,\r\n            cornerRadiusBR: 3,\r\n            cornerRadiusTL: 3,\r\n            cornerRadiusTR: 3,\r\n            strokeOpacity: 0,\r\n            stroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0x000000)\r\n        });\r\n        {\r\n            r(\"RoundedRectangle\", [\"editablelabel\", \"background\"]).states.create(\"active\", {\r\n                strokeOpacity: 0.2,\r\n            });\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Elements and shapes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"RoundedRectangle\").setAll({\r\n            cornerRadiusTL: 8,\r\n            cornerRadiusBL: 8,\r\n            cornerRadiusTR: 8,\r\n            cornerRadiusBR: 8\r\n        });\r\n        r(\"PointedRectangle\").setAll({\r\n            pointerBaseWidth: 15,\r\n            pointerLength: 10,\r\n            cornerRadius: 8\r\n        });\r\n        r(\"Slice\").setAll({\r\n            shiftRadius: 0,\r\n            dRadius: 0,\r\n            dInnerRadius: 0\r\n        });\r\n        {\r\n            const rule = r(\"Tick\");\r\n            rule.setAll({\r\n                strokeOpacity: .15,\r\n                isMeasured: false,\r\n                length: 4.5,\r\n                position: \"absolute\",\r\n                crisp: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Bullet\").setAll({\r\n            locationX: 0.5,\r\n            locationY: 0.5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Tooltip\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Tooltip\").setAll({\r\n            position: \"absolute\",\r\n            getFillFromSprite: true,\r\n            getStrokeFromSprite: false,\r\n            autoTextColor: true,\r\n            paddingTop: 9,\r\n            paddingBottom: 8,\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            marginBottom: 5,\r\n            pointerOrientation: \"vertical\",\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic),\r\n            exportable: false\r\n            //layer: 100\r\n        });\r\n        r(\"Polygon\").setAll({\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic),\r\n        });\r\n        {\r\n            const rule = r(\"PointedRectangle\", [\"tooltip\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.9,\r\n                cornerRadius: 4,\r\n                pointerLength: 4,\r\n                pointerBaseWidth: 8,\r\n                fillOpacity: 0.9,\r\n                stroke: _core_util_Color__WEBPACK_IMPORTED_MODULE_1__.Color.fromHex(0xffffff)\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"tooltip\"]);\r\n            rule.setAll({\r\n                role: \"tooltip\",\r\n                populateText: true,\r\n                paddingRight: 0,\r\n                paddingTop: 0,\r\n                paddingLeft: 0,\r\n                paddingBottom: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Button\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\").setAll({\r\n            paddingTop: 8,\r\n            paddingBottom: 8,\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            interactive: true,\r\n            layout: horizontalLayout,\r\n            interactiveChildren: false,\r\n            setStateOnChildren: true,\r\n            focusable: true\r\n        });\r\n        r(\"Button\").states.create(\"hover\", {});\r\n        r(\"Button\").states.create(\"down\", { stateAnimationDuration: 0 });\r\n        r(\"Button\").states.create(\"active\", {});\r\n        r(\"Button\").states.create(\"disabled\", {\r\n            forceInactive: true\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]);\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonStroke\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"active\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonActive\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDisabled\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"button\", \"icon\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonTextDisabled\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"button\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonTextDisabled\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"button\", \"icon\"]);\r\n            rule.setAll({\r\n                forceInactive: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"button\"]);\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: ZoomOutButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"zoom\"]).setAll({\r\n            paddingTop: 18,\r\n            paddingBottom: 18,\r\n            paddingLeft: 12,\r\n            paddingRight: 12,\r\n            centerX: 46,\r\n            centerY: -10,\r\n            y: 0,\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            role: \"button\",\r\n            ariaLabel: language.translate(\"Zoom Out\"),\r\n            layer: 30\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]);\r\n            rule.setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"icon\", \"button\", \"zoom\"]);\r\n            rule.setAll({\r\n                crisp: true,\r\n                strokeOpacity: 0.7,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(12, 0);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: ResizeButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"resize\"]).setAll({\r\n            paddingTop: 9,\r\n            paddingBottom: 9,\r\n            paddingLeft: 13,\r\n            paddingRight: 13,\r\n            draggable: true,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            position: \"absolute\",\r\n            role: \"slider\",\r\n            ariaValueMin: \"0\",\r\n            ariaValueMax: \"100\",\r\n            ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]);\r\n            rule.setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonStroke\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"resize\", \"button\", \"icon\"]);\r\n            rule.setAll({\r\n                interactive: false,\r\n                crisp: true,\r\n                strokeOpacity: 0.5,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0.5);\r\n                    display.lineTo(0, 12.5);\r\n                    display.moveTo(4, 0.5);\r\n                    display.lineTo(4, 12.5);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n        }\r\n        r(\"Button\", [\"resize\", \"vertical\"]).setAll({\r\n            rotation: 90,\r\n            cursorOverStyle: \"ns-resize\"\r\n        });\r\n        r(\"Button\", [\"resize\", \"horizontal\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: PlayButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"play\"]).setAll({\r\n            paddingTop: 13,\r\n            paddingBottom: 13,\r\n            paddingLeft: 14,\r\n            paddingRight: 14,\r\n            ariaLabel: language.translate(\"Play\"),\r\n            toggleKey: \"active\"\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"play\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                cornerRadiusBL: 100,\r\n                cornerRadiusBR: 100,\r\n                cornerRadiusTL: 100,\r\n                cornerRadiusTR: 100\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"play\", \"icon\"]);\r\n            rule.setAll({\r\n                stateAnimationDuration: 0,\r\n                dx: 1,\r\n                draw: (display) => {\r\n                    display.moveTo(0, -5);\r\n                    display.lineTo(8, 0);\r\n                    display.lineTo(0, 5);\r\n                    display.lineTo(0, -5);\r\n                }\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"default\", {\r\n            stateAnimationDuration: 0\r\n        });\r\n        r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"active\", {\r\n            stateAnimationDuration: 0,\r\n            draw: (display) => {\r\n                display.moveTo(-4, -5);\r\n                display.lineTo(-1, -5);\r\n                display.lineTo(-1, 5);\r\n                display.lineTo(-4, 5);\r\n                display.lineTo(-4, -5);\r\n                display.moveTo(4, -5);\r\n                display.lineTo(1, -5);\r\n                display.lineTo(1, 5);\r\n                display.lineTo(4, 5);\r\n                display.lineTo(4, -5);\r\n            }\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: SwitchButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"switch\"]).setAll({\r\n            paddingTop: 4,\r\n            paddingBottom: 4,\r\n            paddingLeft: 4,\r\n            paddingRight: 4,\r\n            ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n            toggleKey: \"active\",\r\n            width: 40,\r\n            height: 24,\r\n            layout: null\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"switch\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                cornerRadiusBL: 100,\r\n                cornerRadiusBR: 100,\r\n                cornerRadiusTL: 100,\r\n                cornerRadiusTR: 100\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Circle\", [\"switch\", \"icon\"]);\r\n            rule.setAll({\r\n                radius: 8,\r\n                centerY: 0,\r\n                centerX: 0,\r\n                dx: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        r(\"Graphics\", [\"switch\", \"icon\"]).states.create(\"active\", {\r\n            dx: 16\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Scrollbar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Scrollbar\").setAll({\r\n            start: 0,\r\n            end: 1,\r\n            layer: 30,\r\n            animationEasing: _core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.out(_core_util_Ease__WEBPACK_IMPORTED_MODULE_2__.cubic)\r\n        });\r\n        r(\"Scrollbar\", [\"vertical\"]).setAll({\r\n            marginRight: 13,\r\n            marginLeft: 13,\r\n            minWidth: 12,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100\r\n        });\r\n        r(\"Scrollbar\", [\"horizontal\"]).setAll({\r\n            marginTop: 13,\r\n            marginBottom: 13,\r\n            minHeight: 12,\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100\r\n        });\r\n        this.rule(\"Button\", [\"scrollbar\"]).setAll({\r\n            exportable: false\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"main\", \"background\"]);\r\n            rule.setAll({\r\n                cornerRadiusTL: 8,\r\n                cornerRadiusBL: 8,\r\n                cornerRadiusTR: 8,\r\n                cornerRadiusBR: 8,\r\n                fillOpacity: 0.8,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"fill\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]);\r\n            rule.setAll({\r\n                role: \"slider\",\r\n                ariaLive: \"polite\",\r\n                position: \"absolute\",\r\n                draggable: true\r\n            });\r\n            setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"vertical\"]).setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            width: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n        });\r\n        r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"horizontal\"]).setAll({\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            height: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n        });\r\n        // @todo: is this needed? used to be \"ContentScrollbar\"\r\n        // r(\"Scrollbar\", [\"content?\"]).setAll({\r\n        // \tmarginRight: 0,\r\n        // \tmarginLeft: 5,\r\n        // \tlayer: 5\r\n        // });\r\n        /**\r\n         * ========================================================================\r\n         * charts/xy\r\n         * ========================================================================\r\n         *\r\n         * This needs to be in DefaultTheme because it's the only theme that is\r\n         * automatically applied to Root, and tooltips different ancestors\r\n         * than actual charts using them.\r\n         */\r\n        {\r\n            const rule = r(\"PointedRectangle\", [\"axis\", \"tooltip\", \"background\"]);\r\n            rule.setAll({\r\n                cornerRadius: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Label\", [\"axis\", \"tooltip\"]).setAll({\r\n            role: undefined\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"y\"]).setAll({\r\n            textAlign: \"right\"\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"y\", \"opposite\"]).setAll({\r\n            textAlign: \"left\"\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"x\"]).setAll({\r\n            textAlign: \"center\"\r\n        });\r\n        r(\"Tooltip\", [\"categoryaxis\"]).setAll({\r\n            labelText: \"{category}\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * Shapes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        // Class: Graphics\r\n        r(\"Star\").setAll({\r\n            spikes: 5,\r\n            innerRadius: 5,\r\n            radius: 10\r\n        });\r\n        // STOCK\r\n        r(\"Tooltip\", [\"stock\"]).setAll({\r\n            paddingTop: 6,\r\n            paddingBottom: 5,\r\n            paddingLeft: 7,\r\n            paddingRight: 7\r\n        });\r\n        r(\"Tooltip\", ['indicator']).setAll({\r\n            forceHidden: true\r\n        });\r\n        r(\"PointedRectangle\", [\"tooltip\", \"stock\", \"axis\"]).setAll({\r\n            pointerLength: 0,\r\n            pointerBaseWidth: 0,\r\n            cornerRadius: 3\r\n        });\r\n        r(\"Label\", [\"tooltip\", \"stock\"]).setAll({\r\n            fontSize: \"0.8em\"\r\n        });\r\n        // resizer\r\n        r(\"SpriteResizer\").setAll({\r\n            rotationStep: 10,\r\n            isMeasured: false\r\n        });\r\n        {\r\n            const rule = r(\"Container\", [\"resizer\", \"grip\"]);\r\n            rule.states.create(\"hover\", {});\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.7,\r\n                strokeWidth: 1,\r\n                fillOpacity: 1,\r\n                width: 12,\r\n                height: 12\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"outline\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0,\r\n                fillOpacity: 0,\r\n                width: 20,\r\n                height: 20\r\n            });\r\n            rule.states.create(\"hover\", {\r\n                fillOpacity: 0.3\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"left\"]).setAll({\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusTR: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"right\"]).setAll({\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusTR: 0\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"resizer\", \"rectangle\"]);\r\n            rule.setAll({\r\n                strokeDasharray: [2, 2],\r\n                strokeOpacity: 0.5,\r\n                strokeWidth: 1\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Graphics\", [\"button\", \"plus\", \"icon\"]).setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            draw: (display) => {\r\n                display.moveTo(-4, 0);\r\n                display.lineTo(4, 0);\r\n                display.moveTo(0, -4);\r\n                display.lineTo(0, 4);\r\n            }\r\n        });\r\n        r(\"Graphics\", [\"button\", \"minus\", \"icon\"]).setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            draw: (display) => {\r\n                display.moveTo(-4, 0);\r\n                display.lineTo(4, 0);\r\n            }\r\n        });\r\n        r(\"Graphics\", [\"button\", \"home\", \"icon\"]).setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p50,\r\n            svgPath: \"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1\"\r\n        });\r\n        r(\"Button\", [\"zoomtools\"]).setAll({\r\n            marginTop: 1,\r\n            marginBottom: 2\r\n        });\r\n        r(\"ZoomTools\").setAll({\r\n            x: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            centerX: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            y: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            centerY: _core_util_Percent__WEBPACK_IMPORTED_MODULE_3__.p100,\r\n            paddingRight: 10,\r\n            paddingBottom: 10\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultTheme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvdGhlbWVzL0RlZmF1bHRUaGVtZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXNDO0FBQ1c7QUFDTjtBQUNZO0FBQ1o7QUFDM0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJCQUEyQiw4Q0FBSztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtREFBSztBQUN6QixrQkFBa0IsbURBQUs7QUFDdkIsMkJBQTJCLG1EQUFLO0FBQ2hDLGdDQUFnQyxtREFBSztBQUNyQywrQkFBK0IsbURBQUs7QUFDcEMsaUNBQWlDLG1EQUFLO0FBQ3RDLG1DQUFtQyxtREFBSztBQUN4Qyx1Q0FBdUMsbURBQUs7QUFDNUMsK0JBQStCLG1EQUFLO0FBQ3BDLGlDQUFpQyxtREFBSztBQUN0Qyw2QkFBNkIsbURBQUs7QUFDbEMsa0NBQWtDLG1EQUFLO0FBQ3ZDLGlDQUFpQyxtREFBSztBQUN0QyxtQ0FBbUMsbURBQUs7QUFDeEMsaUNBQWlDLG1EQUFLO0FBQ3RDLG1DQUFtQyxtREFBSztBQUN4QyxrQkFBa0IsbURBQUs7QUFDdkIsd0JBQXdCLG1EQUFLO0FBQzdCLG1DQUFtQyxtREFBSztBQUN4QyxrQkFBa0IsbURBQUs7QUFDdkIsNkJBQTZCLG1EQUFLO0FBQ2xDLHNCQUFzQixtREFBSztBQUMzQixzQkFBc0IsbURBQUs7QUFDM0Isc0JBQXNCLG1EQUFLO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLG9CQUFvQixtREFBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnREFBUyxDQUFDLGtEQUFXO0FBQ3ZELFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUNBQWlDLGdEQUFTLENBQUMsa0RBQVc7QUFDdEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtREFBRztBQUN6QixzQkFBc0IsbURBQUc7QUFDekI7QUFDQTtBQUNBLFNBQVM7QUFDVCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsbUJBQW1CLG9EQUFJO0FBQ3ZCLG9CQUFvQixvREFBSTtBQUN4QjtBQUNBLFNBQVM7QUFDVDtBQUNBLG1CQUFtQixvREFBSTtBQUN2QixvQkFBb0Isb0RBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnREFBUyxDQUFDLGtEQUFXO0FBQ2xEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCLGVBQWUsbURBQUc7QUFDbEIsU0FBUztBQUNUO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCLGVBQWUsbURBQUc7QUFDbEIsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFLO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtEQUFVLG1CQUFtQjtBQUNqRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG1CQUFtQixvREFBSTtBQUN2QixvQkFBb0Isb0RBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw4R0FBOEc7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbURBQUc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0RBQUk7QUFDekI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw4RkFBOEY7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0Isb0RBQUk7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxtQkFBbUIsb0RBQUk7QUFDdkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0Isb0RBQUk7QUFDeEIsU0FBUztBQUNUO0FBQ0EsbUJBQW1CLG9EQUFJO0FBQ3ZCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCLHFCQUFxQixtREFBRztBQUN4QjtBQUNBO0FBQ0Esd0JBQXdCLG9EQUFJO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCLG1EQUFLO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbURBQUs7QUFDekIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBRztBQUN4QixxQkFBcUIsbURBQUc7QUFDeEIsNkJBQTZCLGdEQUFTLENBQUMsa0RBQVc7QUFDbEQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDZCQUE2QixnREFBUyxDQUFDLGtEQUFXO0FBQ2xELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFLO0FBQzdCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDZDQUE2QztBQUM3Qyw0Q0FBNEMsMkJBQTJCO0FBQ3ZFLDhDQUE4QztBQUM5QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRztBQUNsRztBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsMkJBQTJCO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQSxxR0FBcUc7QUFDckc7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9EQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwwR0FBMEc7QUFDMUc7QUFDQTtBQUNBO0FBQ0EseUdBQXlHLDJCQUEyQjtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFHO0FBQ3hCLHFCQUFxQixtREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRywyQkFBMkI7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdEQUFTLENBQUMsa0RBQVc7QUFDbEQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9EQUFJO0FBQ3hCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvREFBSTtBQUN2QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0c7QUFDaEc7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLDJCQUEyQjtBQUMxSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1EQUFHO0FBQ2xCLG1CQUFtQixvREFBSTtBQUN2QixxQkFBcUIsbURBQUc7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxlQUFlLG1EQUFHO0FBQ2xCLHFCQUFxQixtREFBRztBQUN4QixvQkFBb0Isb0RBQUk7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHlCQUF5QixTQUFTO0FBQ2xDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtREFBRztBQUNsQixlQUFlLG1EQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGVBQWUsbURBQUc7QUFDbEIsZUFBZSxtREFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGVBQWUsbURBQUc7QUFDbEIsZUFBZSxtREFBRztBQUNsQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxlQUFlLG9EQUFJO0FBQ25CLHFCQUFxQixvREFBSTtBQUN6QixlQUFlLG9EQUFJO0FBQ25CLHFCQUFxQixvREFBSTtBQUN6QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS8uaW50ZXJuYWwvdGhlbWVzL0RlZmF1bHRUaGVtZS5qcz83ODExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRoZW1lIH0gZnJvbSBcIi4uL2NvcmUvVGhlbWVcIjtcclxuaW1wb3J0IHsgcDEwMCwgcDUwIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9QZXJjZW50XCI7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSBcIi4uL2NvcmUvdXRpbC9Db2xvclwiO1xyXG5pbXBvcnQgeyBHcmlkTGF5b3V0IH0gZnJvbSBcIi4uL2NvcmUvcmVuZGVyL0dyaWRMYXlvdXRcIjtcclxuaW1wb3J0ICogYXMgJGVhc2UgZnJvbSBcIi4uL2NvcmUvdXRpbC9FYXNlXCI7XHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29sb3IocnVsZSwga2V5LCBpYywgbmFtZSkge1xyXG4gICAgLy8gVE9ETyB0aGlzIHNob3VsZG4ndCB1c2UgZ2V0LCBmaWd1cmUgb3V0IGEgYmV0dGVyIHdheVxyXG4gICAgcnVsZS5zZXQoa2V5LCBpYy5nZXQobmFtZSkpO1xyXG4gICAgaWMub24obmFtZSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgcnVsZS5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERlZmF1bHRUaGVtZSBleHRlbmRzIFRoZW1lIHtcclxuICAgIHNldHVwRGVmYXVsdFJ1bGVzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldHVwRGVmYXVsdFJ1bGVzKCk7XHJcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSB0aGlzLl9yb290Lmxhbmd1YWdlO1xyXG4gICAgICAgIGNvbnN0IGljID0gdGhpcy5fcm9vdC5pbnRlcmZhY2VDb2xvcnM7XHJcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbExheW91dCA9IHRoaXMuX3Jvb3QuaG9yaXpvbnRhbExheW91dDtcclxuICAgICAgICBjb25zdCB2ZXJ0aWNhbExheW91dCA9IHRoaXMuX3Jvb3QudmVydGljYWxMYXlvdXQ7XHJcbiAgICAgICAgY29uc3QgciA9IHRoaXMucnVsZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgICAqIGNvcmVcclxuICAgICAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiSW50ZXJmYWNlQ29sb3JzXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHN0cm9rZTogQ29sb3IuZnJvbUhleCgweGU1ZTVlNSksXHJcbiAgICAgICAgICAgIGZpbGw6IENvbG9yLmZyb21IZXgoMHhmM2YzZjMpLFxyXG4gICAgICAgICAgICBwcmltYXJ5QnV0dG9uOiBDb2xvci5mcm9tSGV4KDB4Njc5NGRjKSxcclxuICAgICAgICAgICAgcHJpbWFyeUJ1dHRvbkhvdmVyOiBDb2xvci5mcm9tSGV4KDB4Njc3MWRjKSxcclxuICAgICAgICAgICAgcHJpbWFyeUJ1dHRvbkRvd246IENvbG9yLmZyb21IZXgoMHg2OGRjNzYpLFxyXG4gICAgICAgICAgICBwcmltYXJ5QnV0dG9uQWN0aXZlOiBDb2xvci5mcm9tSGV4KDB4NjhkYzc2KSxcclxuICAgICAgICAgICAgcHJpbWFyeUJ1dHRvbkRpc2FibGVkOiBDb2xvci5mcm9tSGV4KDB4ZGFkYWRhKSxcclxuICAgICAgICAgICAgcHJpbWFyeUJ1dHRvblRleHREaXNhYmxlZDogQ29sb3IuZnJvbUhleCgweGZmZmZmZiksXHJcbiAgICAgICAgICAgIHByaW1hcnlCdXR0b25UZXh0OiBDb2xvci5mcm9tSGV4KDB4ZmZmZmZmKSxcclxuICAgICAgICAgICAgcHJpbWFyeUJ1dHRvblN0cm9rZTogQ29sb3IuZnJvbUhleCgweGZmZmZmZiksXHJcbiAgICAgICAgICAgIHNlY29uZGFyeUJ1dHRvbjogQ29sb3IuZnJvbUhleCgweGQ5ZDlkOSksXHJcbiAgICAgICAgICAgIHNlY29uZGFyeUJ1dHRvbkhvdmVyOiBDb2xvci5mcm9tSGV4KDB4YTNhM2EzKSxcclxuICAgICAgICAgICAgc2Vjb25kYXJ5QnV0dG9uRG93bjogQ29sb3IuZnJvbUhleCgweDhkOGQ4ZCksXHJcbiAgICAgICAgICAgIHNlY29uZGFyeUJ1dHRvbkFjdGl2ZTogQ29sb3IuZnJvbUhleCgweGU2ZTZlNiksXHJcbiAgICAgICAgICAgIHNlY29uZGFyeUJ1dHRvblRleHQ6IENvbG9yLmZyb21IZXgoMHgwMDAwMDApLFxyXG4gICAgICAgICAgICBzZWNvbmRhcnlCdXR0b25TdHJva2U6IENvbG9yLmZyb21IZXgoMHhmZmZmZmYpLFxyXG4gICAgICAgICAgICBncmlkOiBDb2xvci5mcm9tSGV4KDB4MDAwMDAwKSxcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogQ29sb3IuZnJvbUhleCgweGZmZmZmZiksXHJcbiAgICAgICAgICAgIGFsdGVybmF0aXZlQmFja2dyb3VuZDogQ29sb3IuZnJvbUhleCgweDAwMDAwMCksXHJcbiAgICAgICAgICAgIHRleHQ6IENvbG9yLmZyb21IZXgoMHgwMDAwMDApLFxyXG4gICAgICAgICAgICBhbHRlcm5hdGl2ZVRleHQ6IENvbG9yLmZyb21IZXgoMHhmZmZmZmYpLFxyXG4gICAgICAgICAgICBkaXNhYmxlZDogQ29sb3IuZnJvbUhleCgweGFkYWRhZCksXHJcbiAgICAgICAgICAgIHBvc2l0aXZlOiBDb2xvci5mcm9tSGV4KDB4NTBiMzAwKSxcclxuICAgICAgICAgICAgbmVnYXRpdmU6IENvbG9yLmZyb21IZXgoMHhiMzAwMDApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkNvbG9yU2V0XCIpO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBwYXNzT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGh1ZTogMC4wNSxcclxuICAgICAgICAgICAgICAgICAgICBzYXR1cmF0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0bmVzczogMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbG9yczogW1xyXG4gICAgICAgICAgICAgICAgICAgIENvbG9yLmZyb21IZXgoMHg2N2I3ZGMpXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgc3RlcDogMSxcclxuICAgICAgICAgICAgICAgIC8vYmFzZUNvbG9yOiBDb2xvci5mcm9tUkdCKDEwMywgMTgzLCAyMjApLFxyXG4gICAgICAgICAgICAgICAgLy9jb3VudDogMjAsXHJcbiAgICAgICAgICAgICAgICByZXVzZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdGFydEluZGV4OiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBydWxlLnNldFByaXZhdGUoXCJjdXJyZW50U3RlcFwiLCAwKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRQcml2YXRlKFwiY3VycmVudFBhc3NcIiwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJFbnRpdHlcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgc3RhdGVBbmltYXRpb25EdXJhdGlvbjogMCxcclxuICAgICAgICAgICAgc3RhdGVBbmltYXRpb25FYXNpbmc6ICRlYXNlLm91dCgkZWFzZS5jdWJpYylcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQ29tcG9uZW50XCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGludGVycG9sYXRpb25EdXJhdGlvbjogMCxcclxuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbkVhc2luZzogJGVhc2Uub3V0KCRlYXNlLmN1YmljKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJTcHJpdGVcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIHJvdGF0aW9uOiAwLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICB0b29sdGlwWDogcDUwLFxyXG4gICAgICAgICAgICB0b29sdGlwWTogcDUwLFxyXG4gICAgICAgICAgICB0b29sdGlwUG9zaXRpb246IFwiZml4ZWRcIixcclxuICAgICAgICAgICAgaXNNZWFzdXJlZDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJTcHJpdGVcIikuc3RhdGVzLmNyZWF0ZShcImRlZmF1bHRcIiwgeyBcInZpc2libGVcIjogdHJ1ZSwgb3BhY2l0eTogMSB9KTtcclxuICAgICAgICByKFwiQ29udGFpbmVyXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXHJcbiAgICAgICAgICAgIHNldFN0YXRlT25DaGlsZHJlbjogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiR3JhcGhpY3NcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDFcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQ2hhcnRcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IHAxMDAsXHJcbiAgICAgICAgICAgIGhlaWdodDogcDEwMCxcclxuICAgICAgICAgICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiWm9vbWFibGVDb250YWluZXJcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IHAxMDAsXHJcbiAgICAgICAgICAgIGhlaWdodDogcDEwMCxcclxuICAgICAgICAgICAgd2hlZWxhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBwaW5jaFpvb206IHRydWUsXHJcbiAgICAgICAgICAgIG1heFpvb21MZXZlbDogMzIsXHJcbiAgICAgICAgICAgIG1pblpvb21MZXZlbDogMSxcclxuICAgICAgICAgICAgem9vbVN0ZXA6IDIsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZzogJGVhc2Uub3V0KCRlYXNlLmN1YmljKSxcclxuICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDYwMCxcclxuICAgICAgICAgICAgbWF4UGFuT3V0OiAwLjRcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBhbGlnbm1lbnRcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiU3ByaXRlXCIsIFtcImhvcml6b250YWxcIiwgXCJjZW50ZXJcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclg6IHA1MCxcclxuICAgICAgICAgICAgeDogcDUwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlNwcml0ZVwiLCBbXCJ2ZXJ0aWNhbFwiLCBcImNlbnRlclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICB5OiBwNTBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiQ29udGFpbmVyXCIsIFtcImhvcml6b250YWxcIiwgXCJsYXlvdXRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGxheW91dDogaG9yaXpvbnRhbExheW91dFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJDb250YWluZXJcIiwgW1widmVydGljYWxcIiwgXCJsYXlvdXRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGxheW91dDogdmVydGljYWxMYXlvdXRcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBwYXR0ZXJuc1xyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJQYXR0ZXJuXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHJlcGV0aXRpb246IFwicmVwZWF0XCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCxcclxuICAgICAgICAgICAgaGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgcm90YXRpb246IDAsXHJcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkxpbmVQYXR0ZXJuXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGdhcDogNixcclxuICAgICAgICAgICAgY29sb3JPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICB3aWR0aDogNDksXHJcbiAgICAgICAgICAgIGhlaWdodDogNDlcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUmVjdGFuZ2xlUGF0dGVyblwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBnYXA6IDYsXHJcbiAgICAgICAgICAgIGNoZWNrZXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGNlbnRlcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBtYXhXaWR0aDogNSxcclxuICAgICAgICAgICAgbWF4SGVpZ2h0OiA1LFxyXG4gICAgICAgICAgICB3aWR0aDogNDgsXHJcbiAgICAgICAgICAgIGhlaWdodDogNDgsXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkNpcmNsZVBhdHRlcm5cIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgZ2FwOiA1LFxyXG4gICAgICAgICAgICBjaGVja2VyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjZW50ZXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJhZGl1czogMyxcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDAsXHJcbiAgICAgICAgICAgIHdpZHRoOiA0NSxcclxuICAgICAgICAgICAgaGVpZ2h0OiA0NVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmFpblBhdHRlcm5cIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAyMDAsXHJcbiAgICAgICAgICAgIGNvbG9yczogW0NvbG9yLmZyb21IZXgoMHgwMDAwMDApXSxcclxuICAgICAgICAgICAgc2l6ZTogMSxcclxuICAgICAgICAgICAgaG9yaXpvbnRhbEdhcDogMCxcclxuICAgICAgICAgICAgdmVydGljYWxHYXA6IDAsXHJcbiAgICAgICAgICAgIGRlbnNpdHk6IDEsXHJcbiAgICAgICAgICAgIG1pbk9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgIG1heE9wYWNpdHk6IDAuMlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJQYXR0ZXJuU2V0XCIpO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdGVwOiAxXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImNvbG9yXCIsIGljLCBcInN0cm9rZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY29yZTogZ3JhZGllbnRzXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIkxpbmVhckdyYWRpZW50XCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uOiA5MFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNvcmU6IExlZ2VuZFxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJMZWdlbmRcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgZmlsbEZpZWxkOiBcImZpbGxcIixcclxuICAgICAgICAgICAgc3Ryb2tlRmllbGQ6IFwic3Ryb2tlXCIsXHJcbiAgICAgICAgICAgIG5hbWVGaWVsZDogXCJuYW1lXCIsXHJcbiAgICAgICAgICAgIGxheW91dDogR3JpZExheW91dC5uZXcodGhpcy5fcm9vdCwge30pLFxyXG4gICAgICAgICAgICBsYXllcjogMzAsXHJcbiAgICAgICAgICAgIGNsaWNrVGFyZ2V0OiBcIml0ZW1Db250YWluZXJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIENsYXNzOiBDb250YWluZXJcclxuICAgICAgICByKFwiQ29udGFpbmVyXCIsIFtcImxlZ2VuZFwiLCBcIml0ZW1cIiwgXCJpdGVtY29udGFpbmVyXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogNSxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiA1LFxyXG4gICAgICAgICAgICBsYXlvdXQ6IGhvcml6b250YWxMYXlvdXQsXHJcbiAgICAgICAgICAgIHNldFN0YXRlT25DaGlsZHJlbjogdHJ1ZSxcclxuICAgICAgICAgICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGFyaWFDaGVja2VkOiB0cnVlLFxyXG4gICAgICAgICAgICBmb2N1c2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGFyaWFMYWJlbDogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiUHJlc3MgRU5URVIgdG8gdG9nZ2xlXCIpLFxyXG4gICAgICAgICAgICByb2xlOiBcImNoZWNrYm94XCJcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUmVjdGFuZ2xlXCIsIFtcImxlZ2VuZFwiLCBcIml0ZW1cIiwgXCJiYWNrZ3JvdW5kXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIkNvbnRhaW5lclwiLCBbXCJsZWdlbmRcIiwgXCJtYXJrZXJcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHNldFN0YXRlT25DaGlsZHJlbjogdHJ1ZSxcclxuICAgICAgICAgICAgY2VudGVyWTogcDUwLFxyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMCxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwLFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAwLFxyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiAwLFxyXG4gICAgICAgICAgICB3aWR0aDogMTgsXHJcbiAgICAgICAgICAgIGhlaWdodDogMThcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJsZWdlbmRcIiwgXCJtYXJrZXJcIiwgXCJyZWN0YW5nbGVcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiBwMTAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHAxMDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAzLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogMyxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDMsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wibGVnZW5kXCIsIFwibWFya2VyXCIsIFwicmVjdGFuZ2xlXCJdKS5zdGF0ZXMuY3JlYXRlKFwiZGlzYWJsZWRcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiTGFiZWxcIiwgW1wibGVnZW5kXCIsIFwibGFiZWxcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNlbnRlclk6IHA1MCxcclxuICAgICAgICAgICAgbWFyZ2luTGVmdDogNSxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwLFxyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMCxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMCxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMCxcclxuICAgICAgICAgICAgcG9wdWxhdGVUZXh0OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkxhYmVsXCIsIFtcImxlZ2VuZFwiLCBcImxhYmVsXCJdKS5zdGF0ZXMuY3JlYXRlKFwiZGlzYWJsZWRcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJMYWJlbFwiLCBbXCJsZWdlbmRcIiwgXCJ2YWx1ZVwiLCBcImxhYmVsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMCxcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDAsXHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCxcclxuICAgICAgICAgICAgY2VudGVyWDogcDEwMCxcclxuICAgICAgICAgICAgcG9wdWxhdGVUZXh0OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkxhYmVsXCIsIFtcImxlZ2VuZFwiLCBcInZhbHVlXCIsIFwibGFiZWxcIl0pLnN0YXRlcy5jcmVhdGUoXCJkaXNhYmxlZFwiLCB7fSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY29yZTogSGVhdExlZ2VuZFxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJIZWF0TGVnZW5kXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHN0ZXBDb3VudDogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImhlYXRsZWdlbmRcIiwgXCJtYXJrZXJcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1widmVydGljYWxcIiwgXCJoZWF0bGVnZW5kXCIsIFwibWFya2VyXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBoZWlnaHQ6IHAxMDAsXHJcbiAgICAgICAgICAgIHdpZHRoOiAxNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImhvcml6b250YWxcIiwgXCJoZWF0bGVnZW5kXCIsIFwibWFya2VyXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB3aWR0aDogcDEwMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJIZWF0TGVnZW5kXCIsIFtcInZlcnRpY2FsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBoZWlnaHQ6IHAxMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiSGVhdExlZ2VuZFwiLCBbXCJob3Jpem9udGFsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB3aWR0aDogcDEwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJMYWJlbFwiLCBbXCJoZWF0bGVnZW5kXCIsIFwic3RhcnRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiTGFiZWxcIiwgW1wiaGVhdGxlZ2VuZFwiLCBcImVuZFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDUsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogNSxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogNSxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNvcmU6IExhYmVsc1xyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJMYWJlbFwiKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogOCxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDgsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogMTAsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDEwLFxyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCItYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiwgXFxcIkFwcGxlIENvbG9yIEVtb2ppXFxcIiwgXFxcIlNlZ29lIFVJIEVtb2ppXFxcIiwgXFxcIlNlZ29lIFVJIFN5bWJvbFxcXCJcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxyXG4gICAgICAgICAgICAgICAgcG9wdWxhdGVUZXh0OiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJSYWRpYWxMYWJlbFwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB0ZXh0VHlwZTogXCJyZWd1bGFyXCIsXHJcbiAgICAgICAgICAgIGNlbnRlclk6IHA1MCxcclxuICAgICAgICAgICAgY2VudGVyWDogcDUwLFxyXG4gICAgICAgICAgICBpbnNpZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICByYWRpdXM6IDAsXHJcbiAgICAgICAgICAgIGJhc2VSYWRpdXM6IHAxMDAsXHJcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBcImF1dG9cIixcclxuICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkVkaXRhYmxlTGFiZWxcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgZWRpdE9uOiBcImNsaWNrXCIsXHJcbiAgICAgICAgICAgIC8vc2V0U3RhdGVPbkNoaWxkcmVuOiB0cnVlLFxyXG4gICAgICAgICAgICB0aGVtZVRhZ3M6IFtcImVkaXRhYmxlbGFiZWxcIl0sXHJcbiAgICAgICAgICAgIG11bHRpTGluZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImVkaXRhYmxlbGFiZWxcIiwgXCJiYWNrZ3JvdW5kXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMCxcclxuICAgICAgICAgICAgZmlsbDogQ29sb3IuZnJvbUhleCgweDAwMDAwMCksXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAzLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogMyxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDMsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAzLFxyXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICBzdHJva2U6IENvbG9yLmZyb21IZXgoMHgwMDAwMDApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJlZGl0YWJsZWxhYmVsXCIsIFwiYmFja2dyb3VuZFwiXSkuc3RhdGVzLmNyZWF0ZShcImFjdGl2ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBFbGVtZW50cyBhbmQgc2hhcGVzXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDgsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiA4LFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogOCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDhcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUG9pbnRlZFJlY3RhbmdsZVwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwb2ludGVyQmFzZVdpZHRoOiAxNSxcclxuICAgICAgICAgICAgcG9pbnRlckxlbmd0aDogMTAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1czogOFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJTbGljZVwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBzaGlmdFJhZGl1czogMCxcclxuICAgICAgICAgICAgZFJhZGl1czogMCxcclxuICAgICAgICAgICAgZElubmVyUmFkaXVzOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlRpY2tcIik7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IC4xNSxcclxuICAgICAgICAgICAgICAgIGlzTWVhc3VyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiA0LjUsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgY3Jpc3A6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcImdyaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJCdWxsZXRcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgbG9jYXRpb25YOiAwLjUsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uWTogMC41XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY29yZTogVG9vbHRpcFxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJUb29sdGlwXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgIGdldEZpbGxGcm9tU3ByaXRlOiB0cnVlLFxyXG4gICAgICAgICAgICBnZXRTdHJva2VGcm9tU3ByaXRlOiBmYWxzZSxcclxuICAgICAgICAgICAgYXV0b1RleHRDb2xvcjogdHJ1ZSxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogOSxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogOCxcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDEwLFxyXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDEwLFxyXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IDUsXHJcbiAgICAgICAgICAgIHBvaW50ZXJPcmllbnRhdGlvbjogXCJ2ZXJ0aWNhbFwiLFxyXG4gICAgICAgICAgICBjZW50ZXJYOiBwNTAsXHJcbiAgICAgICAgICAgIGNlbnRlclk6IHA1MCxcclxuICAgICAgICAgICAgYW5pbWF0aW9uRWFzaW5nOiAkZWFzZS5vdXQoJGVhc2UuY3ViaWMpLFxyXG4gICAgICAgICAgICBleHBvcnRhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAvL2xheWVyOiAxMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUG9seWdvblwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBhbmltYXRpb25FYXNpbmc6ICRlYXNlLm91dCgkZWFzZS5jdWJpYyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlBvaW50ZWRSZWN0YW5nbGVcIiwgW1widG9vbHRpcFwiLCBcImJhY2tncm91bmRcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjksXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXM6IDQsXHJcbiAgICAgICAgICAgICAgICBwb2ludGVyTGVuZ3RoOiA0LFxyXG4gICAgICAgICAgICAgICAgcG9pbnRlckJhc2VXaWR0aDogOCxcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjksXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IENvbG9yLmZyb21IZXgoMHhmZmZmZmYpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiTGFiZWxcIiwgW1widG9vbHRpcFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHJvbGU6IFwidG9vbHRpcFwiLFxyXG4gICAgICAgICAgICAgICAgcG9wdWxhdGVUZXh0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMCxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImFsdGVybmF0aXZlVGV4dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY29yZTogQnV0dG9uXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIkJ1dHRvblwiKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiA4LFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiA4LFxyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMTAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMTAsXHJcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IGhvcml6b250YWxMYXlvdXQsXHJcbiAgICAgICAgICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzZXRTdGF0ZU9uQ2hpbGRyZW46IHRydWUsXHJcbiAgICAgICAgICAgIGZvY3VzYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJCdXR0b25cIikuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHt9KTtcclxuICAgICAgICByKFwiQnV0dG9uXCIpLnN0YXRlcy5jcmVhdGUoXCJkb3duXCIsIHsgc3RhdGVBbmltYXRpb25EdXJhdGlvbjogMCB9KTtcclxuICAgICAgICByKFwiQnV0dG9uXCIpLnN0YXRlcy5jcmVhdGUoXCJhY3RpdmVcIiwge30pO1xyXG4gICAgICAgIHIoXCJCdXR0b25cIikuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHtcclxuICAgICAgICAgICAgZm9yY2VJbmFjdGl2ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJ1dHRvblwiLCBcImJhY2tncm91bmRcIl0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblwiKTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblN0cm9rZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYnV0dG9uXCIsIFwiYmFja2dyb3VuZFwiXSkuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25Ib3ZlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYnV0dG9uXCIsIFwiYmFja2dyb3VuZFwiXSkuc3RhdGVzLmNyZWF0ZShcImRvd25cIiwgeyBzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uOiAwIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvbkRvd25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJ1dHRvblwiLCBcImJhY2tncm91bmRcIl0pLnN0YXRlcy5jcmVhdGUoXCJhY3RpdmVcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvbkFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYnV0dG9uXCIsIFwiYmFja2dyb3VuZFwiXSkuc3RhdGVzLmNyZWF0ZShcImRpc2FibGVkXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25EaXNhYmxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkdyYXBoaWNzXCIsIFtcImJ1dHRvblwiLCBcImljb25cIl0pLnN0YXRlcy5jcmVhdGUoXCJkaXNhYmxlZFwiLCB7fSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uVGV4dERpc2FibGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiTGFiZWxcIiwgW1wiYnV0dG9uXCJdKS5zdGF0ZXMuY3JlYXRlKFwiZGlzYWJsZWRcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblRleHREaXNhYmxlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkdyYXBoaWNzXCIsIFtcImJ1dHRvblwiLCBcImljb25cIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBmb3JjZUluYWN0aXZlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcInN0cm9rZVwiLCBpYywgXCJwcmltYXJ5QnV0dG9uVGV4dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkxhYmVsXCIsIFtcImJ1dHRvblwiXSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uVGV4dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICogY2hhcnRzL3h5OiBab29tT3V0QnV0dG9uXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIkJ1dHRvblwiLCBbXCJ6b29tXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiAxOCxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMTgsXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAxMixcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxMixcclxuICAgICAgICAgICAgY2VudGVyWDogNDYsXHJcbiAgICAgICAgICAgIGNlbnRlclk6IC0xMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgeDogcDEwMCxcclxuICAgICAgICAgICAgcm9sZTogXCJidXR0b25cIixcclxuICAgICAgICAgICAgYXJpYUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJab29tIE91dFwiKSxcclxuICAgICAgICAgICAgbGF5ZXI6IDMwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYmFja2dyb3VuZFwiLCBcImJ1dHRvblwiLCBcInpvb21cIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogNDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogNDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogNDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogNDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJiYWNrZ3JvdW5kXCIsIFwiYnV0dG9uXCIsIFwiem9vbVwiXSkuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHt9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25Ib3ZlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYmFja2dyb3VuZFwiLCBcImJ1dHRvblwiLCBcInpvb21cIl0pLnN0YXRlcy5jcmVhdGUoXCJkb3duXCIsIHsgc3RhdGVBbmltYXRpb25EdXJhdGlvbjogMCB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25Eb3duXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiR3JhcGhpY3NcIiwgW1wiaWNvblwiLCBcImJ1dHRvblwiLCBcInpvb21cIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBjcmlzcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNyxcclxuICAgICAgICAgICAgICAgIGRyYXc6IChkaXNwbGF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMTIsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIGNvcmU6IFJlc2l6ZUJ1dHRvblxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHIoXCJCdXR0b25cIiwgW1wicmVzaXplXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiA5LFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiA5LFxyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMTMsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMTMsXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY2VudGVyWDogcDUwLFxyXG4gICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgIHJvbGU6IFwic2xpZGVyXCIsXHJcbiAgICAgICAgICAgIGFyaWFWYWx1ZU1pbjogXCIwXCIsXHJcbiAgICAgICAgICAgIGFyaWFWYWx1ZU1heDogXCIxMDBcIixcclxuICAgICAgICAgICAgYXJpYUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJVc2UgdXAgYW5kIGRvd24gYXJyb3dzIHRvIG1vdmUgc2VsZWN0aW9uXCIpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wiYmFja2dyb3VuZFwiLCBcInJlc2l6ZVwiLCBcImJ1dHRvblwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiA0MCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c0JSOiA0MCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c1RMOiA0MCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiA0MFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInNlY29uZGFyeUJ1dHRvblwiKTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwic2Vjb25kYXJ5QnV0dG9uU3Ryb2tlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJiYWNrZ3JvdW5kXCIsIFwicmVzaXplXCIsIFwiYnV0dG9uXCJdKS5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwic2Vjb25kYXJ5QnV0dG9uSG92ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcImJhY2tncm91bmRcIiwgXCJyZXNpemVcIiwgXCJidXR0b25cIl0pLnN0YXRlcy5jcmVhdGUoXCJkb3duXCIsIHsgc3RhdGVBbmltYXRpb25EdXJhdGlvbjogMCB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInNlY29uZGFyeUJ1dHRvbkRvd25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJHcmFwaGljc1wiLCBbXCJyZXNpemVcIiwgXCJidXR0b25cIiwgXCJpY29uXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY3Jpc3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICAgICAgICBkcmF3OiAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oMCwgMTIuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oNCwgMC41KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyg0LCAxMi41KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcInNlY29uZGFyeUJ1dHRvblRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJCdXR0b25cIiwgW1wicmVzaXplXCIsIFwidmVydGljYWxcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uOiA5MCxcclxuICAgICAgICAgICAgY3Vyc29yT3ZlclN0eWxlOiBcIm5zLXJlc2l6ZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkJ1dHRvblwiLCBbXCJyZXNpemVcIiwgXCJob3Jpem9udGFsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjdXJzb3JPdmVyU3R5bGU6IFwiZXctcmVzaXplXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBQbGF5QnV0dG9uXHJcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcihcIkJ1dHRvblwiLCBbXCJwbGF5XCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiAxMyxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMTMsXHJcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAxNCxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxNCxcclxuICAgICAgICAgICAgYXJpYUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJQbGF5XCIpLFxyXG4gICAgICAgICAgICB0b2dnbGVLZXk6IFwiYWN0aXZlXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJwbGF5XCIsIFwiYmFja2dyb3VuZFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNSxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogMTAwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDEwMCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAxMDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiR3JhcGhpY3NcIiwgW1wicGxheVwiLCBcImljb25cIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgZHg6IDEsXHJcbiAgICAgICAgICAgICAgICBkcmF3OiAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDAsIC01KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyg4LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCA1KTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCAtNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwicHJpbWFyeUJ1dHRvblRleHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJwbGF5XCIsIFwiaWNvblwiXSkuc3RhdGVzLmNyZWF0ZShcImRlZmF1bHRcIiwge1xyXG4gICAgICAgICAgICBzdGF0ZUFuaW1hdGlvbkR1cmF0aW9uOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIkdyYXBoaWNzXCIsIFtcInBsYXlcIiwgXCJpY29uXCJdKS5zdGF0ZXMuY3JlYXRlKFwiYWN0aXZlXCIsIHtcclxuICAgICAgICAgICAgc3RhdGVBbmltYXRpb25EdXJhdGlvbjogMCxcclxuICAgICAgICAgICAgZHJhdzogKGRpc3BsYXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKC00LCAtNSk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygtMSwgLTUpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oLTEsIDUpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oLTQsIDUpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oLTQsIC01KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubW92ZVRvKDQsIC01KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDEsIC01KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkubGluZVRvKDEsIDUpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oNCwgNSk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbyg0LCAtNSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBTd2l0Y2hCdXR0b25cclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiQnV0dG9uXCIsIFtcInN3aXRjaFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogNCxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogNCxcclxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDQsXHJcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogNCxcclxuICAgICAgICAgICAgYXJpYUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJQcmVzcyBFTlRFUiB0byB0b2dnbGVcIiksXHJcbiAgICAgICAgICAgIHRvZ2dsZUtleTogXCJhY3RpdmVcIixcclxuICAgICAgICAgICAgd2lkdGg6IDQwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDI0LFxyXG4gICAgICAgICAgICBsYXlvdXQ6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJzd2l0Y2hcIiwgXCJiYWNrZ3JvdW5kXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMC41LFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzQkw6IDEwMCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c0JSOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUTDogMTAwLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzVFI6IDEwMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcInByaW1hcnlCdXR0b25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJDaXJjbGVcIiwgW1wic3dpdGNoXCIsIFwiaWNvblwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHJhZGl1czogOCxcclxuICAgICAgICAgICAgICAgIGNlbnRlclk6IDAsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJYOiAwLFxyXG4gICAgICAgICAgICAgICAgZHg6IDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJwcmltYXJ5QnV0dG9uVGV4dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIkdyYXBoaWNzXCIsIFtcInN3aXRjaFwiLCBcImljb25cIl0pLnN0YXRlcy5jcmVhdGUoXCJhY3RpdmVcIiwge1xyXG4gICAgICAgICAgICBkeDogMTZcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKiBjb3JlOiBTY3JvbGxiYXJcclxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgKi9cclxuICAgICAgICByKFwiU2Nyb2xsYmFyXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgICBlbmQ6IDEsXHJcbiAgICAgICAgICAgIGxheWVyOiAzMCxcclxuICAgICAgICAgICAgYW5pbWF0aW9uRWFzaW5nOiAkZWFzZS5vdXQoJGVhc2UuY3ViaWMpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlNjcm9sbGJhclwiLCBbXCJ2ZXJ0aWNhbFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IDEzLFxyXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiAxMyxcclxuICAgICAgICAgICAgbWluV2lkdGg6IDEyLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHAxMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiU2Nyb2xsYmFyXCIsIFtcImhvcml6b250YWxcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIG1hcmdpblRvcDogMTMsXHJcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogMTMsXHJcbiAgICAgICAgICAgIG1pbkhlaWdodDogMTIsXHJcbiAgICAgICAgICAgIHdpZHRoOiBwMTAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5ydWxlKFwiQnV0dG9uXCIsIFtcInNjcm9sbGJhclwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgZXhwb3J0YWJsZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJzY3JvbGxiYXJcIiwgXCJtYWluXCIsIFwiYmFja2dyb3VuZFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c1RMOiA4LFxyXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzQkw6IDgsXHJcbiAgICAgICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogOCxcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1c0JSOiA4LFxyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJmaWxsXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJzY3JvbGxiYXJcIiwgXCJ0aHVtYlwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIHJvbGU6IFwic2xpZGVyXCIsXHJcbiAgICAgICAgICAgICAgICBhcmlhTGl2ZTogXCJwb2xpdGVcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJzZWNvbmRhcnlCdXR0b25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcInNjcm9sbGJhclwiLCBcInRodW1iXCJdKS5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJcIiwge30pO1xyXG4gICAgICAgICAgICBzZXRDb2xvcihydWxlLCBcImZpbGxcIiwgaWMsIFwic2Vjb25kYXJ5QnV0dG9uSG92ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcInNjcm9sbGJhclwiLCBcInRodW1iXCJdKS5zdGF0ZXMuY3JlYXRlKFwiZG93blwiLCB7IHN0YXRlQW5pbWF0aW9uRHVyYXRpb246IDAgfSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwiZmlsbFwiLCBpYywgXCJzZWNvbmRhcnlCdXR0b25Eb3duXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiUm91bmRlZFJlY3RhbmdsZVwiLCBbXCJzY3JvbGxiYXJcIiwgXCJ0aHVtYlwiLCBcInZlcnRpY2FsXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB4OiBwNTAsXHJcbiAgICAgICAgICAgIHdpZHRoOiBwMTAwLFxyXG4gICAgICAgICAgICBjZW50ZXJYOiBwNTAsXHJcbiAgICAgICAgICAgIGFyaWFMYWJlbDogbGFuZ3VhZ2UudHJhbnNsYXRlKFwiVXNlIHVwIGFuZCBkb3duIGFycm93cyB0byBtb3ZlIHNlbGVjdGlvblwiKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcInNjcm9sbGJhclwiLCBcInRodW1iXCIsIFwiaG9yaXpvbnRhbFwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgeTogcDUwLFxyXG4gICAgICAgICAgICBjZW50ZXJZOiBwNTAsXHJcbiAgICAgICAgICAgIGhlaWdodDogcDEwMCxcclxuICAgICAgICAgICAgYXJpYUxhYmVsOiBsYW5ndWFnZS50cmFuc2xhdGUoXCJVc2UgbGVmdCBhbmQgcmlnaHQgYXJyb3dzIHRvIG1vdmUgc2VsZWN0aW9uXCIpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQHRvZG86IGlzIHRoaXMgbmVlZGVkPyB1c2VkIHRvIGJlIFwiQ29udGVudFNjcm9sbGJhclwiXHJcbiAgICAgICAgLy8gcihcIlNjcm9sbGJhclwiLCBbXCJjb250ZW50P1wiXSkuc2V0QWxsKHtcclxuICAgICAgICAvLyBcdG1hcmdpblJpZ2h0OiAwLFxyXG4gICAgICAgIC8vIFx0bWFyZ2luTGVmdDogNSxcclxuICAgICAgICAvLyBcdGxheWVyOiA1XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgICogY2hhcnRzL3h5XHJcbiAgICAgICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGlzIG5lZWRzIHRvIGJlIGluIERlZmF1bHRUaGVtZSBiZWNhdXNlIGl0J3MgdGhlIG9ubHkgdGhlbWUgdGhhdCBpc1xyXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgYXBwbGllZCB0byBSb290LCBhbmQgdG9vbHRpcHMgZGlmZmVyZW50IGFuY2VzdG9yc1xyXG4gICAgICAgICAqIHRoYW4gYWN0dWFsIGNoYXJ0cyB1c2luZyB0aGVtLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgcnVsZSA9IHIoXCJQb2ludGVkUmVjdGFuZ2xlXCIsIFtcImF4aXNcIiwgXCJ0b29sdGlwXCIsIFwiYmFja2dyb3VuZFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc2V0QWxsKHtcclxuICAgICAgICAgICAgICAgIGNvcm5lclJhZGl1czogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImFsdGVybmF0aXZlQmFja2dyb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIkxhYmVsXCIsIFtcImF4aXNcIiwgXCJ0b29sdGlwXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICByb2xlOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiTGFiZWxcIiwgW1wiYXhpc1wiLCBcInRvb2x0aXBcIiwgXCJ5XCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICB0ZXh0QWxpZ246IFwicmlnaHRcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJMYWJlbFwiLCBbXCJheGlzXCIsIFwidG9vbHRpcFwiLCBcInlcIiwgXCJvcHBvc2l0ZVwiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgdGV4dEFsaWduOiBcImxlZnRcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJMYWJlbFwiLCBbXCJheGlzXCIsIFwidG9vbHRpcFwiLCBcInhcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJUb29sdGlwXCIsIFtcImNhdGVnb3J5YXhpc1wiXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgbGFiZWxUZXh0OiBcIntjYXRlZ29yeX1cIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqIFNoYXBlc1xyXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIC8vIENsYXNzOiBHcmFwaGljc1xyXG4gICAgICAgIHIoXCJTdGFyXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHNwaWtlczogNSxcclxuICAgICAgICAgICAgaW5uZXJSYWRpdXM6IDUsXHJcbiAgICAgICAgICAgIHJhZGl1czogMTBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTVE9DS1xyXG4gICAgICAgIHIoXCJUb29sdGlwXCIsIFtcInN0b2NrXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiA2LFxyXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiA1LFxyXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogNyxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiA3XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcihcIlRvb2x0aXBcIiwgWydpbmRpY2F0b3InXSkuc2V0QWxsKHtcclxuICAgICAgICAgICAgZm9yY2VIaWRkZW46IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiUG9pbnRlZFJlY3RhbmdsZVwiLCBbXCJ0b29sdGlwXCIsIFwic3RvY2tcIiwgXCJheGlzXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBwb2ludGVyTGVuZ3RoOiAwLFxyXG4gICAgICAgICAgICBwb2ludGVyQmFzZVdpZHRoOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXM6IDNcclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiTGFiZWxcIiwgW1widG9vbHRpcFwiLCBcInN0b2NrXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcmVzaXplclxyXG4gICAgICAgIHIoXCJTcHJpdGVSZXNpemVyXCIpLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uU3RlcDogMTAsXHJcbiAgICAgICAgICAgIGlzTWVhc3VyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIkNvbnRhaW5lclwiLCBbXCJyZXNpemVyXCIsIFwiZ3JpcFwiXSk7XHJcbiAgICAgICAgICAgIHJ1bGUuc3RhdGVzLmNyZWF0ZShcImhvdmVyXCIsIHt9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wicmVzaXplclwiLCBcImdyaXBcIl0pO1xyXG4gICAgICAgICAgICBydWxlLnNldEFsbCh7XHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjcsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgICAgIHNldENvbG9yKHJ1bGUsIFwic3Ryb2tlXCIsIGljLCBcImFsdGVybmF0aXZlQmFja2dyb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wicmVzaXplclwiLCBcImdyaXBcIiwgXCJvdXRsaW5lXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMCxcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcnVsZS5zdGF0ZXMuY3JlYXRlKFwiaG92ZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuM1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJmaWxsXCIsIGljLCBcImFsdGVybmF0aXZlQmFja2dyb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcihcIlJvdW5kZWRSZWN0YW5nbGVcIiwgW1wicmVzaXplclwiLCBcImdyaXBcIiwgXCJsZWZ0XCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCTDogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzQlI6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RMOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNUUjogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJSb3VuZGVkUmVjdGFuZ2xlXCIsIFtcInJlc2l6ZXJcIiwgXCJncmlwXCIsIFwicmlnaHRcIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c0JMOiAwLFxyXG4gICAgICAgICAgICBjb3JuZXJSYWRpdXNCUjogMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzVEw6IDAsXHJcbiAgICAgICAgICAgIGNvcm5lclJhZGl1c1RSOiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBydWxlID0gcihcIlJlY3RhbmdsZVwiLCBbXCJyZXNpemVyXCIsIFwicmVjdGFuZ2xlXCJdKTtcclxuICAgICAgICAgICAgcnVsZS5zZXRBbGwoe1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlRGFzaGFycmF5OiBbMiwgMl0sXHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0Q29sb3IocnVsZSwgXCJzdHJva2VcIiwgaWMsIFwiYWx0ZXJuYXRpdmVCYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByKFwiR3JhcGhpY3NcIiwgW1wiYnV0dG9uXCIsIFwicGx1c1wiLCBcImljb25cIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHg6IHA1MCxcclxuICAgICAgICAgICAgeTogcDUwLFxyXG4gICAgICAgICAgICBkcmF3OiAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oLTQsIDApO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oNCwgMCk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Lm1vdmVUbygwLCAtNCk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmxpbmVUbygwLCA0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJHcmFwaGljc1wiLCBbXCJidXR0b25cIiwgXCJtaW51c1wiLCBcImljb25cIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHg6IHA1MCxcclxuICAgICAgICAgICAgeTogcDUwLFxyXG4gICAgICAgICAgICBkcmF3OiAoZGlzcGxheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5tb3ZlVG8oLTQsIDApO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5saW5lVG8oNCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByKFwiR3JhcGhpY3NcIiwgW1wiYnV0dG9uXCIsIFwiaG9tZVwiLCBcImljb25cIl0pLnNldEFsbCh7XHJcbiAgICAgICAgICAgIHg6IHA1MCxcclxuICAgICAgICAgICAgeTogcDUwLFxyXG4gICAgICAgICAgICBzdmdQYXRoOiBcIk0gOCAtMSBMIDYgLTEgTCA2IDcgTCAyIDcgTCAyIDEgTCAtMiAxIEwgLTIgNyBMIC02IDcgTCAtNiAtMSBMIC04IC0xIEwgMCAtOSBMIDggLTEgWiBNIDggLTFcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJCdXR0b25cIiwgW1wiem9vbXRvb2xzXCJdKS5zZXRBbGwoe1xyXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IDEsXHJcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogMlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHIoXCJab29tVG9vbHNcIikuc2V0QWxsKHtcclxuICAgICAgICAgICAgeDogcDEwMCxcclxuICAgICAgICAgICAgY2VudGVyWDogcDEwMCxcclxuICAgICAgICAgICAgeTogcDEwMCxcclxuICAgICAgICAgICAgY2VudGVyWTogcDEwMCxcclxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxMCxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMTBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWZhdWx0VGhlbWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/locales/en.js":
/*!********************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/locales/en.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\r\n * amCharts 5 locale\r\n *\r\n * Locale: en\r\n * Language: International English\r\n * Author: Martynas Majeris\r\n *\r\n * Follow instructions in [on this page](https://www.amcharts.com/docs/v5/tutorials/creating-translations/) to make corrections or add new translations.\r\n *\r\n * ---\r\n * Edit but leave the header section above this line. You can remove any\r\n * subsequent comment sections.\r\n * ---\r\n *\r\n * Use this file as a template to create translations. Leave the key part in\r\n * English intact. Fill the value with a translation.\r\n *\r\n * Empty string means no translation, so default \"International English\"\r\n * will be used.\r\n *\r\n * If you need the translation to literally be an empty string, use `null`\r\n * instead.\r\n *\r\n * IMPORTANT:\r\n * When translating make good effort to keep the translation length\r\n * at least the same chartcount as the English, especially for short prompts.\r\n *\r\n * Having significantly longer prompts may distort the actual charts.\r\n *\r\n * NOTE:\r\n * Some prompts - like months or weekdays - come in two versions: full and\r\n * shortened.\r\n *\r\n * If there's no official shortened version of these in your language, and it\r\n * would not be possible to invent such short versions that don't seem weird\r\n * to native speakers of that language, fill those with the same as full\r\n * version.\r\n *\r\n * PLACEHOLDERS:\r\n * Some prompts have placeholders like \"%1\". Those will be replaced by actual\r\n * values during translation and should be retained in the translated prompts.\r\n *\r\n * Placeholder positions may be changed to better suit structure of the\r\n * sentence.\r\n *\r\n * For example \"From %1 to %2\", when actually used will replace \"%1\" with an\r\n * actual value representing range start, and \"%2\" will be replaced by end\r\n * value.\r\n *\r\n * E.g. in a Scrollbar for Value axis \"From %1 to %2\" will become\r\n * \"From 100 to 200\". You may translate \"From\" and \"to\", as well as re-arrange\r\n * the order of the prompt itself, but make sure the \"%1\" and \"%2\" remain, in\r\n * places where they will make sense.\r\n *\r\n * Save the file as language_LOCALE, i.e. `en_GB.ts`, `fr_FR.ts`, etc.\r\n */\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n    \"firstDayOfWeek\": 1,\r\n    // Number formatting options.\r\n    // \r\n    // Please check with the local standards which separator is accepted to be\r\n    // used for separating decimals, and which for thousands.\r\n    \"_decimalSeparator\": \".\",\r\n    \"_thousandSeparator\": \",\",\r\n    // Position of the percent sign in numbers\r\n    \"_percentPrefix\": null,\r\n    \"_percentSuffix\": \"%\",\r\n    // Suffixes for numbers\r\n    // When formatting numbers, big or small numers might be reformatted to\r\n    // shorter version, by applying a suffix.\r\n    // \r\n    // For example, 1000000 might become \"1m\".\r\n    // Or 1024 might become \"1KB\" if we're formatting byte numbers.\r\n    // \r\n    // This section defines such suffixes for all such cases.\r\n    \"_big_number_suffix_3\": \"k\",\r\n    \"_big_number_suffix_6\": \"M\",\r\n    \"_big_number_suffix_9\": \"G\",\r\n    \"_big_number_suffix_12\": \"T\",\r\n    \"_big_number_suffix_15\": \"P\",\r\n    \"_big_number_suffix_18\": \"E\",\r\n    \"_big_number_suffix_21\": \"Z\",\r\n    \"_big_number_suffix_24\": \"Y\",\r\n    \"_small_number_suffix_3\": \"m\",\r\n    \"_small_number_suffix_6\": \"μ\",\r\n    \"_small_number_suffix_9\": \"n\",\r\n    \"_small_number_suffix_12\": \"p\",\r\n    \"_small_number_suffix_15\": \"f\",\r\n    \"_small_number_suffix_18\": \"a\",\r\n    \"_small_number_suffix_21\": \"z\",\r\n    \"_small_number_suffix_24\": \"y\",\r\n    \"_byte_suffix_B\": \"B\",\r\n    \"_byte_suffix_KB\": \"KB\",\r\n    \"_byte_suffix_MB\": \"MB\",\r\n    \"_byte_suffix_GB\": \"GB\",\r\n    \"_byte_suffix_TB\": \"TB\",\r\n    \"_byte_suffix_PB\": \"PB\",\r\n    // Default date formats for various periods.\r\n    // \r\n    // This should reflect official or de facto formatting universally accepted\r\n    // in the country translation is being made for\r\n    // Available format codes here:\r\n    // https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#Format_codes\r\n    // \r\n    // This will be used when formatting date/time for particular granularity,\r\n    // e.g. \"_date_hour\" will be shown whenever we need to show time as hours.\r\n    // \r\n    // \"date\" is used as in default date format when showing standalone dates.\r\n    \"_date\": \"yyyy-MM-dd\",\r\n    \"_date_millisecond\": \"mm:ss SSS\",\r\n    \"_date_millisecond_full\": \"HH:mm:ss SSS\",\r\n    \"_date_second\": \"HH:mm:ss\",\r\n    \"_date_second_full\": \"HH:mm:ss\",\r\n    \"_date_minute\": \"HH:mm\",\r\n    \"_date_minute_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_hour\": \"HH:mm\",\r\n    \"_date_hour_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_day\": \"MMM dd\",\r\n    \"_date_day_full\": \"MMM dd, yyyy\",\r\n    \"_date_week\": \"ww\",\r\n    \"_date_week_full\": \"MMM dd, yyyy\",\r\n    \"_date_month\": \"MMM\",\r\n    \"_date_month_full\": \"MMM, yyyy\",\r\n    \"_date_year\": \"yyyy\",\r\n    // Default duration formats for various base units.\r\n    // \r\n    // This will be used by DurationFormatter to format numeric values into\r\n    // duration.\r\n    // \r\n    // Notice how each duration unit comes in several versions. This is to ensure\r\n    // that each base unit is shown correctly.\r\n    // \r\n    // For example, if we have baseUnit set to \"second\", meaning our duration is\r\n    // in seconds.\r\n    // \r\n    // If we pass in `50` to formatter, it will know that we have just 50 seconds\r\n    // (less than a minute) so it will use format in `\"_duration_second\"` (\"ss\"),\r\n    // and the formatted result will be in like `\"50\"`.\r\n    // \r\n    // If we pass in `70`, which is more than a minute, the formatter will switch\r\n    // to `\"_duration_second_minute\"` (\"mm:ss\"), resulting in \"01:10\" formatted\r\n    // text.\r\n    // \r\n    // Available codes here:\r\n    // https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/#Available_Codes\r\n    \"_duration_millisecond\": \"SSS\",\r\n    \"_duration_millisecond_second\": \"ss.SSS\",\r\n    \"_duration_millisecond_minute\": \"mm:ss SSS\",\r\n    \"_duration_millisecond_hour\": \"hh:mm:ss SSS\",\r\n    \"_duration_millisecond_day\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_week\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_month\": \"M'm' dd'd' mm:ss SSS\",\r\n    \"_duration_millisecond_year\": \"y'y' MM'm' dd'd' mm:ss SSS\",\r\n    \"_duration_second\": \"ss\",\r\n    \"_duration_second_minute\": \"mm:ss\",\r\n    \"_duration_second_hour\": \"hh:mm:ss\",\r\n    \"_duration_second_day\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_week\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_month\": \"M'm' dd'd' hh:mm:ss\",\r\n    \"_duration_second_year\": \"y'y' MM'm' dd'd' hh:mm:ss\",\r\n    \"_duration_minute\": \"mm\",\r\n    \"_duration_minute_hour\": \"hh:mm\",\r\n    \"_duration_minute_day\": \"d'd' hh:mm\",\r\n    \"_duration_minute_week\": \"d'd' hh:mm\",\r\n    \"_duration_minute_month\": \"M'm' dd'd' hh:mm\",\r\n    \"_duration_minute_year\": \"y'y' MM'm' dd'd' hh:mm\",\r\n    \"_duration_hour\": \"hh'h'\",\r\n    \"_duration_hour_day\": \"d'd' hh'h'\",\r\n    \"_duration_hour_week\": \"d'd' hh'h'\",\r\n    \"_duration_hour_month\": \"M'm' dd'd' hh'h'\",\r\n    \"_duration_hour_year\": \"y'y' MM'm' dd'd' hh'h'\",\r\n    \"_duration_day\": \"d'd'\",\r\n    \"_duration_day_week\": \"d'd'\",\r\n    \"_duration_day_month\": \"M'm' dd'd'\",\r\n    \"_duration_day_year\": \"y'y' MM'm' dd'd'\",\r\n    \"_duration_week\": \"w'w'\",\r\n    \"_duration_week_month\": \"w'w'\",\r\n    \"_duration_week_year\": \"w'w'\",\r\n    \"_duration_month\": \"M'm'\",\r\n    \"_duration_month_year\": \"y'y' MM'm'\",\r\n    \"_duration_year\": \"y'y'\",\r\n    // Era translations\r\n    \"_era_ad\": \"AD\",\r\n    \"_era_bc\": \"BC\",\r\n    // Day part, used in 12-hour formats, e.g. 5 P.M.\r\n    // Please note that these come in 3 variants:\r\n    // * one letter (e.g. \"A\")\r\n    // * two letters (e.g. \"AM\")\r\n    // * two letters with dots (e.g. \"A.M.\")\r\n    // \r\n    // All three need to to be translated even if they are all the same. Some\r\n    // users might use one, some the other.\r\n    \"A\": \"\",\r\n    \"P\": \"\",\r\n    \"AM\": \"\",\r\n    \"PM\": \"\",\r\n    \"A.M.\": \"\",\r\n    \"P.M.\": \"\",\r\n    // Date-related stuff.\r\n    // \r\n    // When translating months, if there's a difference, use the form which is\r\n    // best for a full date, e.g. as you would use it in \"2018 January 1\".\r\n    // \r\n    // Note that May is listed twice. This is because in English May is the same\r\n    // in both long and short forms, while in other languages it may not be the\r\n    // case. Translate \"May\" to full word, while \"May(short)\" to shortened\r\n    // version.\r\n    // \r\n    // Should month names and weekdays be capitalized or not?\r\n    // \r\n    // Rule of thumb is this: if the names should always be capitalized,\r\n    // regardless of name position within date (\"January\", \"21st January 2018\",\r\n    // etc.) use capitalized names. Otherwise enter all lowercase.\r\n    // \r\n    // The date formatter will automatically capitalize names if they are the\r\n    // first (or only) word in resulting date.\r\n    \"January\": \"\",\r\n    \"February\": \"\",\r\n    \"March\": \"\",\r\n    \"April\": \"\",\r\n    \"May\": \"\",\r\n    \"June\": \"\",\r\n    \"July\": \"\",\r\n    \"August\": \"\",\r\n    \"September\": \"\",\r\n    \"October\": \"\",\r\n    \"November\": \"\",\r\n    \"December\": \"\",\r\n    \"Jan\": \"\",\r\n    \"Feb\": \"\",\r\n    \"Mar\": \"\",\r\n    \"Apr\": \"\",\r\n    \"May(short)\": \"May\",\r\n    \"Jun\": \"\",\r\n    \"Jul\": \"\",\r\n    \"Aug\": \"\",\r\n    \"Sep\": \"\",\r\n    \"Oct\": \"\",\r\n    \"Nov\": \"\",\r\n    \"Dec\": \"\",\r\n    // Weekdays.\r\n    \"Sunday\": \"\",\r\n    \"Monday\": \"\",\r\n    \"Tuesday\": \"\",\r\n    \"Wednesday\": \"\",\r\n    \"Thursday\": \"\",\r\n    \"Friday\": \"\",\r\n    \"Saturday\": \"\",\r\n    \"Sun\": \"\",\r\n    \"Mon\": \"\",\r\n    \"Tue\": \"\",\r\n    \"Wed\": \"\",\r\n    \"Thu\": \"\",\r\n    \"Fri\": \"\",\r\n    \"Sat\": \"\",\r\n    // Date ordinal function.\r\n    // \r\n    // This is used when adding number ordinal when formatting days in dates.\r\n    // \r\n    // E.g. \"January 1st\", \"February 2nd\".\r\n    // \r\n    // The function accepts day number, and returns a string to be added to the\r\n    // day, like in default English translation, if we pass in 2, we will receive\r\n    // \"nd\" back.\r\n    \"_dateOrd\": function (day) {\r\n        let res = \"th\";\r\n        if ((day < 11) || (day > 13)) {\r\n            switch (day % 10) {\r\n                case 1:\r\n                    res = \"st\";\r\n                    break;\r\n                case 2:\r\n                    res = \"nd\";\r\n                    break;\r\n                case 3:\r\n                    res = \"rd\";\r\n                    break;\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n    // Various chart controls.\r\n    // Shown as a tooltip on zoom out button.\r\n    \"Zoom Out\": \"\",\r\n    // Timeline buttons\r\n    \"Play\": \"\",\r\n    \"Stop\": \"\",\r\n    // Chart's Legend screen reader title.\r\n    \"Legend\": \"\",\r\n    // Legend's item screen reader indicator.\r\n    \"Press ENTER to toggle\": \"\",\r\n    // Shown when the chart is busy loading something.\r\n    \"Loading\": \"\",\r\n    // Shown as the first button in the breadcrumb navigation, e.g.:\r\n    // Home > First level > ...\r\n    \"Home\": \"\",\r\n    // Chart types.\r\n    // Those are used as default screen reader titles for the main chart element\r\n    // unless developer has set some more descriptive title.\r\n    \"Chart\": \"\",\r\n    \"Serial chart\": \"\",\r\n    \"X/Y chart\": \"\",\r\n    \"Pie chart\": \"\",\r\n    \"Gauge chart\": \"\",\r\n    \"Radar chart\": \"\",\r\n    \"Sankey diagram\": \"\",\r\n    \"Flow diagram\": \"\",\r\n    \"Chord diagram\": \"\",\r\n    \"TreeMap chart\": \"\",\r\n    \"Force directed tree\": \"\",\r\n    \"Sliced chart\": \"\",\r\n    // Series types.\r\n    // Used to name series by type for screen readers if they do not have their\r\n    // name set.\r\n    \"Series\": \"\",\r\n    \"Candlestick Series\": \"\",\r\n    \"OHLC Series\": \"\",\r\n    \"Column Series\": \"\",\r\n    \"Line Series\": \"\",\r\n    \"Pie Slice Series\": \"\",\r\n    \"Funnel Series\": \"\",\r\n    \"Pyramid Series\": \"\",\r\n    \"X/Y Series\": \"\",\r\n    // Map-related stuff.\r\n    \"Map\": \"\",\r\n    \"Press ENTER to zoom in\": \"\",\r\n    \"Press ENTER to zoom out\": \"\",\r\n    \"Use arrow keys to zoom in and out\": \"\",\r\n    \"Use plus and minus keys on your keyboard to zoom in and out\": \"\",\r\n    // Export-related stuff.\r\n    // These prompts are used in Export menu labels.\r\n    // \r\n    // \"Export\" is the top-level menu item.\r\n    // \r\n    // \"Image\", \"Data\", \"Print\" as second-level indicating type of export\r\n    // operation.\r\n    // \r\n    // Leave actual format untranslated, unless you absolutely know that they\r\n    // would convey more meaning in some other way.\r\n    \"Export\": \"\",\r\n    \"Image\": \"\",\r\n    \"Data\": \"\",\r\n    \"Print\": \"\",\r\n    \"Press ENTER or use arrow keys to navigate\": \"\",\r\n    \"Press ENTER to open\": \"\",\r\n    \"Press ENTER to print.\": \"\",\r\n    \"Press ENTER to export as %1.\": \"\",\r\n    \"(Press ESC to close this message)\": \"\",\r\n    \"Image Export Complete\": \"\",\r\n    \"Export operation took longer than expected. Something might have gone wrong.\": \"\",\r\n    \"Saved from\": \"\",\r\n    \"PNG\": \"\",\r\n    \"JPG\": \"\",\r\n    \"GIF\": \"\",\r\n    \"SVG\": \"\",\r\n    \"PDF\": \"\",\r\n    \"JSON\": \"\",\r\n    \"CSV\": \"\",\r\n    \"XLSX\": \"\",\r\n    \"HTML\": \"\",\r\n    // Scrollbar-related stuff.\r\n    // \r\n    // Scrollbar is a control which can zoom and pan the axes on the chart.\r\n    // \r\n    // Each scrollbar has two grips: left or right (for horizontal scrollbar) or\r\n    // upper and lower (for vertical one).\r\n    // \r\n    // Prompts change in relation to whether Scrollbar is vertical or horizontal.\r\n    // \r\n    // The final section is used to indicate the current range of selection.\r\n    \"Use TAB to select grip buttons or left and right arrows to change selection\": \"\",\r\n    \"Use left and right arrows to move selection\": \"\",\r\n    \"Use left and right arrows to move left selection\": \"\",\r\n    \"Use left and right arrows to move right selection\": \"\",\r\n    \"Use TAB select grip buttons or up and down arrows to change selection\": \"\",\r\n    \"Use up and down arrows to move selection\": \"\",\r\n    \"Use up and down arrows to move lower selection\": \"\",\r\n    \"Use up and down arrows to move upper selection\": \"\",\r\n    \"From %1 to %2\": \"\",\r\n    \"From %1\": \"\",\r\n    \"To %1\": \"\",\r\n    // Data loader-related.\r\n    \"No parser available for file: %1\": \"\",\r\n    \"Error parsing file: %1\": \"\",\r\n    \"Unable to load file: %1\": \"\",\r\n    \"Invalid date\": \"\",\r\n    // Common actions\r\n    \"Close\": \"\",\r\n    \"Minimize\": \"\"\r\n});\r\n//# sourceMappingURL=en.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS9sb2NhbGVzL2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS9sb2NhbGVzL2VuLmpzPzc0YjEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIGFtQ2hhcnRzIDUgbG9jYWxlXHJcbiAqXHJcbiAqIExvY2FsZTogZW5cclxuICogTGFuZ3VhZ2U6IEludGVybmF0aW9uYWwgRW5nbGlzaFxyXG4gKiBBdXRob3I6IE1hcnR5bmFzIE1hamVyaXNcclxuICpcclxuICogRm9sbG93IGluc3RydWN0aW9ucyBpbiBbb24gdGhpcyBwYWdlXShodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS90dXRvcmlhbHMvY3JlYXRpbmctdHJhbnNsYXRpb25zLykgdG8gbWFrZSBjb3JyZWN0aW9ucyBvciBhZGQgbmV3IHRyYW5zbGF0aW9ucy5cclxuICpcclxuICogLS0tXHJcbiAqIEVkaXQgYnV0IGxlYXZlIHRoZSBoZWFkZXIgc2VjdGlvbiBhYm92ZSB0aGlzIGxpbmUuIFlvdSBjYW4gcmVtb3ZlIGFueVxyXG4gKiBzdWJzZXF1ZW50IGNvbW1lbnQgc2VjdGlvbnMuXHJcbiAqIC0tLVxyXG4gKlxyXG4gKiBVc2UgdGhpcyBmaWxlIGFzIGEgdGVtcGxhdGUgdG8gY3JlYXRlIHRyYW5zbGF0aW9ucy4gTGVhdmUgdGhlIGtleSBwYXJ0IGluXHJcbiAqIEVuZ2xpc2ggaW50YWN0LiBGaWxsIHRoZSB2YWx1ZSB3aXRoIGEgdHJhbnNsYXRpb24uXHJcbiAqXHJcbiAqIEVtcHR5IHN0cmluZyBtZWFucyBubyB0cmFuc2xhdGlvbiwgc28gZGVmYXVsdCBcIkludGVybmF0aW9uYWwgRW5nbGlzaFwiXHJcbiAqIHdpbGwgYmUgdXNlZC5cclxuICpcclxuICogSWYgeW91IG5lZWQgdGhlIHRyYW5zbGF0aW9uIHRvIGxpdGVyYWxseSBiZSBhbiBlbXB0eSBzdHJpbmcsIHVzZSBgbnVsbGBcclxuICogaW5zdGVhZC5cclxuICpcclxuICogSU1QT1JUQU5UOlxyXG4gKiBXaGVuIHRyYW5zbGF0aW5nIG1ha2UgZ29vZCBlZmZvcnQgdG8ga2VlcCB0aGUgdHJhbnNsYXRpb24gbGVuZ3RoXHJcbiAqIGF0IGxlYXN0IHRoZSBzYW1lIGNoYXJ0Y291bnQgYXMgdGhlIEVuZ2xpc2gsIGVzcGVjaWFsbHkgZm9yIHNob3J0IHByb21wdHMuXHJcbiAqXHJcbiAqIEhhdmluZyBzaWduaWZpY2FudGx5IGxvbmdlciBwcm9tcHRzIG1heSBkaXN0b3J0IHRoZSBhY3R1YWwgY2hhcnRzLlxyXG4gKlxyXG4gKiBOT1RFOlxyXG4gKiBTb21lIHByb21wdHMgLSBsaWtlIG1vbnRocyBvciB3ZWVrZGF5cyAtIGNvbWUgaW4gdHdvIHZlcnNpb25zOiBmdWxsIGFuZFxyXG4gKiBzaG9ydGVuZWQuXHJcbiAqXHJcbiAqIElmIHRoZXJlJ3Mgbm8gb2ZmaWNpYWwgc2hvcnRlbmVkIHZlcnNpb24gb2YgdGhlc2UgaW4geW91ciBsYW5ndWFnZSwgYW5kIGl0XHJcbiAqIHdvdWxkIG5vdCBiZSBwb3NzaWJsZSB0byBpbnZlbnQgc3VjaCBzaG9ydCB2ZXJzaW9ucyB0aGF0IGRvbid0IHNlZW0gd2VpcmRcclxuICogdG8gbmF0aXZlIHNwZWFrZXJzIG9mIHRoYXQgbGFuZ3VhZ2UsIGZpbGwgdGhvc2Ugd2l0aCB0aGUgc2FtZSBhcyBmdWxsXHJcbiAqIHZlcnNpb24uXHJcbiAqXHJcbiAqIFBMQUNFSE9MREVSUzpcclxuICogU29tZSBwcm9tcHRzIGhhdmUgcGxhY2Vob2xkZXJzIGxpa2UgXCIlMVwiLiBUaG9zZSB3aWxsIGJlIHJlcGxhY2VkIGJ5IGFjdHVhbFxyXG4gKiB2YWx1ZXMgZHVyaW5nIHRyYW5zbGF0aW9uIGFuZCBzaG91bGQgYmUgcmV0YWluZWQgaW4gdGhlIHRyYW5zbGF0ZWQgcHJvbXB0cy5cclxuICpcclxuICogUGxhY2Vob2xkZXIgcG9zaXRpb25zIG1heSBiZSBjaGFuZ2VkIHRvIGJldHRlciBzdWl0IHN0cnVjdHVyZSBvZiB0aGVcclxuICogc2VudGVuY2UuXHJcbiAqXHJcbiAqIEZvciBleGFtcGxlIFwiRnJvbSAlMSB0byAlMlwiLCB3aGVuIGFjdHVhbGx5IHVzZWQgd2lsbCByZXBsYWNlIFwiJTFcIiB3aXRoIGFuXHJcbiAqIGFjdHVhbCB2YWx1ZSByZXByZXNlbnRpbmcgcmFuZ2Ugc3RhcnQsIGFuZCBcIiUyXCIgd2lsbCBiZSByZXBsYWNlZCBieSBlbmRcclxuICogdmFsdWUuXHJcbiAqXHJcbiAqIEUuZy4gaW4gYSBTY3JvbGxiYXIgZm9yIFZhbHVlIGF4aXMgXCJGcm9tICUxIHRvICUyXCIgd2lsbCBiZWNvbWVcclxuICogXCJGcm9tIDEwMCB0byAyMDBcIi4gWW91IG1heSB0cmFuc2xhdGUgXCJGcm9tXCIgYW5kIFwidG9cIiwgYXMgd2VsbCBhcyByZS1hcnJhbmdlXHJcbiAqIHRoZSBvcmRlciBvZiB0aGUgcHJvbXB0IGl0c2VsZiwgYnV0IG1ha2Ugc3VyZSB0aGUgXCIlMVwiIGFuZCBcIiUyXCIgcmVtYWluLCBpblxyXG4gKiBwbGFjZXMgd2hlcmUgdGhleSB3aWxsIG1ha2Ugc2Vuc2UuXHJcbiAqXHJcbiAqIFNhdmUgdGhlIGZpbGUgYXMgbGFuZ3VhZ2VfTE9DQUxFLCBpLmUuIGBlbl9HQi50c2AsIGBmcl9GUi50c2AsIGV0Yy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFwiZmlyc3REYXlPZldlZWtcIjogMSxcclxuICAgIC8vIE51bWJlciBmb3JtYXR0aW5nIG9wdGlvbnMuXHJcbiAgICAvLyBcclxuICAgIC8vIFBsZWFzZSBjaGVjayB3aXRoIHRoZSBsb2NhbCBzdGFuZGFyZHMgd2hpY2ggc2VwYXJhdG9yIGlzIGFjY2VwdGVkIHRvIGJlXHJcbiAgICAvLyB1c2VkIGZvciBzZXBhcmF0aW5nIGRlY2ltYWxzLCBhbmQgd2hpY2ggZm9yIHRob3VzYW5kcy5cclxuICAgIFwiX2RlY2ltYWxTZXBhcmF0b3JcIjogXCIuXCIsXHJcbiAgICBcIl90aG91c2FuZFNlcGFyYXRvclwiOiBcIixcIixcclxuICAgIC8vIFBvc2l0aW9uIG9mIHRoZSBwZXJjZW50IHNpZ24gaW4gbnVtYmVyc1xyXG4gICAgXCJfcGVyY2VudFByZWZpeFwiOiBudWxsLFxyXG4gICAgXCJfcGVyY2VudFN1ZmZpeFwiOiBcIiVcIixcclxuICAgIC8vIFN1ZmZpeGVzIGZvciBudW1iZXJzXHJcbiAgICAvLyBXaGVuIGZvcm1hdHRpbmcgbnVtYmVycywgYmlnIG9yIHNtYWxsIG51bWVycyBtaWdodCBiZSByZWZvcm1hdHRlZCB0b1xyXG4gICAgLy8gc2hvcnRlciB2ZXJzaW9uLCBieSBhcHBseWluZyBhIHN1ZmZpeC5cclxuICAgIC8vIFxyXG4gICAgLy8gRm9yIGV4YW1wbGUsIDEwMDAwMDAgbWlnaHQgYmVjb21lIFwiMW1cIi5cclxuICAgIC8vIE9yIDEwMjQgbWlnaHQgYmVjb21lIFwiMUtCXCIgaWYgd2UncmUgZm9ybWF0dGluZyBieXRlIG51bWJlcnMuXHJcbiAgICAvLyBcclxuICAgIC8vIFRoaXMgc2VjdGlvbiBkZWZpbmVzIHN1Y2ggc3VmZml4ZXMgZm9yIGFsbCBzdWNoIGNhc2VzLlxyXG4gICAgXCJfYmlnX251bWJlcl9zdWZmaXhfM1wiOiBcImtcIixcclxuICAgIFwiX2JpZ19udW1iZXJfc3VmZml4XzZcIjogXCJNXCIsXHJcbiAgICBcIl9iaWdfbnVtYmVyX3N1ZmZpeF85XCI6IFwiR1wiLFxyXG4gICAgXCJfYmlnX251bWJlcl9zdWZmaXhfMTJcIjogXCJUXCIsXHJcbiAgICBcIl9iaWdfbnVtYmVyX3N1ZmZpeF8xNVwiOiBcIlBcIixcclxuICAgIFwiX2JpZ19udW1iZXJfc3VmZml4XzE4XCI6IFwiRVwiLFxyXG4gICAgXCJfYmlnX251bWJlcl9zdWZmaXhfMjFcIjogXCJaXCIsXHJcbiAgICBcIl9iaWdfbnVtYmVyX3N1ZmZpeF8yNFwiOiBcIllcIixcclxuICAgIFwiX3NtYWxsX251bWJlcl9zdWZmaXhfM1wiOiBcIm1cIixcclxuICAgIFwiX3NtYWxsX251bWJlcl9zdWZmaXhfNlwiOiBcIs68XCIsXHJcbiAgICBcIl9zbWFsbF9udW1iZXJfc3VmZml4XzlcIjogXCJuXCIsXHJcbiAgICBcIl9zbWFsbF9udW1iZXJfc3VmZml4XzEyXCI6IFwicFwiLFxyXG4gICAgXCJfc21hbGxfbnVtYmVyX3N1ZmZpeF8xNVwiOiBcImZcIixcclxuICAgIFwiX3NtYWxsX251bWJlcl9zdWZmaXhfMThcIjogXCJhXCIsXHJcbiAgICBcIl9zbWFsbF9udW1iZXJfc3VmZml4XzIxXCI6IFwielwiLFxyXG4gICAgXCJfc21hbGxfbnVtYmVyX3N1ZmZpeF8yNFwiOiBcInlcIixcclxuICAgIFwiX2J5dGVfc3VmZml4X0JcIjogXCJCXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9LQlwiOiBcIktCXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9NQlwiOiBcIk1CXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9HQlwiOiBcIkdCXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9UQlwiOiBcIlRCXCIsXHJcbiAgICBcIl9ieXRlX3N1ZmZpeF9QQlwiOiBcIlBCXCIsXHJcbiAgICAvLyBEZWZhdWx0IGRhdGUgZm9ybWF0cyBmb3IgdmFyaW91cyBwZXJpb2RzLlxyXG4gICAgLy8gXHJcbiAgICAvLyBUaGlzIHNob3VsZCByZWZsZWN0IG9mZmljaWFsIG9yIGRlIGZhY3RvIGZvcm1hdHRpbmcgdW5pdmVyc2FsbHkgYWNjZXB0ZWRcclxuICAgIC8vIGluIHRoZSBjb3VudHJ5IHRyYW5zbGF0aW9uIGlzIGJlaW5nIG1hZGUgZm9yXHJcbiAgICAvLyBBdmFpbGFibGUgZm9ybWF0IGNvZGVzIGhlcmU6XHJcbiAgICAvLyBodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vZG9jcy92NS9jb25jZXB0cy9mb3JtYXR0ZXJzL2Zvcm1hdHRpbmctZGF0ZXMvI0Zvcm1hdF9jb2Rlc1xyXG4gICAgLy8gXHJcbiAgICAvLyBUaGlzIHdpbGwgYmUgdXNlZCB3aGVuIGZvcm1hdHRpbmcgZGF0ZS90aW1lIGZvciBwYXJ0aWN1bGFyIGdyYW51bGFyaXR5LFxyXG4gICAgLy8gZS5nLiBcIl9kYXRlX2hvdXJcIiB3aWxsIGJlIHNob3duIHdoZW5ldmVyIHdlIG5lZWQgdG8gc2hvdyB0aW1lIGFzIGhvdXJzLlxyXG4gICAgLy8gXHJcbiAgICAvLyBcImRhdGVcIiBpcyB1c2VkIGFzIGluIGRlZmF1bHQgZGF0ZSBmb3JtYXQgd2hlbiBzaG93aW5nIHN0YW5kYWxvbmUgZGF0ZXMuXHJcbiAgICBcIl9kYXRlXCI6IFwieXl5eS1NTS1kZFwiLFxyXG4gICAgXCJfZGF0ZV9taWxsaXNlY29uZFwiOiBcIm1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZGF0ZV9taWxsaXNlY29uZF9mdWxsXCI6IFwiSEg6bW06c3MgU1NTXCIsXHJcbiAgICBcIl9kYXRlX3NlY29uZFwiOiBcIkhIOm1tOnNzXCIsXHJcbiAgICBcIl9kYXRlX3NlY29uZF9mdWxsXCI6IFwiSEg6bW06c3NcIixcclxuICAgIFwiX2RhdGVfbWludXRlXCI6IFwiSEg6bW1cIixcclxuICAgIFwiX2RhdGVfbWludXRlX2Z1bGxcIjogXCJISDptbSAtIE1NTSBkZCwgeXl5eVwiLFxyXG4gICAgXCJfZGF0ZV9ob3VyXCI6IFwiSEg6bW1cIixcclxuICAgIFwiX2RhdGVfaG91cl9mdWxsXCI6IFwiSEg6bW0gLSBNTU0gZGQsIHl5eXlcIixcclxuICAgIFwiX2RhdGVfZGF5XCI6IFwiTU1NIGRkXCIsXHJcbiAgICBcIl9kYXRlX2RheV9mdWxsXCI6IFwiTU1NIGRkLCB5eXl5XCIsXHJcbiAgICBcIl9kYXRlX3dlZWtcIjogXCJ3d1wiLFxyXG4gICAgXCJfZGF0ZV93ZWVrX2Z1bGxcIjogXCJNTU0gZGQsIHl5eXlcIixcclxuICAgIFwiX2RhdGVfbW9udGhcIjogXCJNTU1cIixcclxuICAgIFwiX2RhdGVfbW9udGhfZnVsbFwiOiBcIk1NTSwgeXl5eVwiLFxyXG4gICAgXCJfZGF0ZV95ZWFyXCI6IFwieXl5eVwiLFxyXG4gICAgLy8gRGVmYXVsdCBkdXJhdGlvbiBmb3JtYXRzIGZvciB2YXJpb3VzIGJhc2UgdW5pdHMuXHJcbiAgICAvLyBcclxuICAgIC8vIFRoaXMgd2lsbCBiZSB1c2VkIGJ5IER1cmF0aW9uRm9ybWF0dGVyIHRvIGZvcm1hdCBudW1lcmljIHZhbHVlcyBpbnRvXHJcbiAgICAvLyBkdXJhdGlvbi5cclxuICAgIC8vIFxyXG4gICAgLy8gTm90aWNlIGhvdyBlYWNoIGR1cmF0aW9uIHVuaXQgY29tZXMgaW4gc2V2ZXJhbCB2ZXJzaW9ucy4gVGhpcyBpcyB0byBlbnN1cmVcclxuICAgIC8vIHRoYXQgZWFjaCBiYXNlIHVuaXQgaXMgc2hvd24gY29ycmVjdGx5LlxyXG4gICAgLy8gXHJcbiAgICAvLyBGb3IgZXhhbXBsZSwgaWYgd2UgaGF2ZSBiYXNlVW5pdCBzZXQgdG8gXCJzZWNvbmRcIiwgbWVhbmluZyBvdXIgZHVyYXRpb24gaXNcclxuICAgIC8vIGluIHNlY29uZHMuXHJcbiAgICAvLyBcclxuICAgIC8vIElmIHdlIHBhc3MgaW4gYDUwYCB0byBmb3JtYXR0ZXIsIGl0IHdpbGwga25vdyB0aGF0IHdlIGhhdmUganVzdCA1MCBzZWNvbmRzXHJcbiAgICAvLyAobGVzcyB0aGFuIGEgbWludXRlKSBzbyBpdCB3aWxsIHVzZSBmb3JtYXQgaW4gYFwiX2R1cmF0aW9uX3NlY29uZFwiYCAoXCJzc1wiKSxcclxuICAgIC8vIGFuZCB0aGUgZm9ybWF0dGVkIHJlc3VsdCB3aWxsIGJlIGluIGxpa2UgYFwiNTBcImAuXHJcbiAgICAvLyBcclxuICAgIC8vIElmIHdlIHBhc3MgaW4gYDcwYCwgd2hpY2ggaXMgbW9yZSB0aGFuIGEgbWludXRlLCB0aGUgZm9ybWF0dGVyIHdpbGwgc3dpdGNoXHJcbiAgICAvLyB0byBgXCJfZHVyYXRpb25fc2Vjb25kX21pbnV0ZVwiYCAoXCJtbTpzc1wiKSwgcmVzdWx0aW5nIGluIFwiMDE6MTBcIiBmb3JtYXR0ZWRcclxuICAgIC8vIHRleHQuXHJcbiAgICAvLyBcclxuICAgIC8vIEF2YWlsYWJsZSBjb2RlcyBoZXJlOlxyXG4gICAgLy8gaHR0cHM6Ly93d3cuYW1jaGFydHMuY29tL2RvY3MvdjQvY29uY2VwdHMvZm9ybWF0dGVycy9mb3JtYXR0aW5nLWR1cmF0aW9uLyNBdmFpbGFibGVfQ29kZXNcclxuICAgIFwiX2R1cmF0aW9uX21pbGxpc2Vjb25kXCI6IFwiU1NTXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taWxsaXNlY29uZF9zZWNvbmRcIjogXCJzcy5TU1NcIixcclxuICAgIFwiX2R1cmF0aW9uX21pbGxpc2Vjb25kX21pbnV0ZVwiOiBcIm1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRfaG91clwiOiBcImhoOm1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRfZGF5XCI6IFwiZCdkJyBtbTpzcyBTU1NcIixcclxuICAgIFwiX2R1cmF0aW9uX21pbGxpc2Vjb25kX3dlZWtcIjogXCJkJ2QnIG1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRfbW9udGhcIjogXCJNJ20nIGRkJ2QnIG1tOnNzIFNTU1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbWlsbGlzZWNvbmRfeWVhclwiOiBcInkneScgTU0nbScgZGQnZCcgbW06c3MgU1NTXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRcIjogXCJzc1wiLFxyXG4gICAgXCJfZHVyYXRpb25fc2Vjb25kX21pbnV0ZVwiOiBcIm1tOnNzXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRfaG91clwiOiBcImhoOm1tOnNzXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRfZGF5XCI6IFwiZCdkJyBoaDptbTpzc1wiLFxyXG4gICAgXCJfZHVyYXRpb25fc2Vjb25kX3dlZWtcIjogXCJkJ2QnIGhoOm1tOnNzXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRfbW9udGhcIjogXCJNJ20nIGRkJ2QnIGhoOm1tOnNzXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9zZWNvbmRfeWVhclwiOiBcInkneScgTU0nbScgZGQnZCcgaGg6bW06c3NcIixcclxuICAgIFwiX2R1cmF0aW9uX21pbnV0ZVwiOiBcIm1tXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taW51dGVfaG91clwiOiBcImhoOm1tXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taW51dGVfZGF5XCI6IFwiZCdkJyBoaDptbVwiLFxyXG4gICAgXCJfZHVyYXRpb25fbWludXRlX3dlZWtcIjogXCJkJ2QnIGhoOm1tXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taW51dGVfbW9udGhcIjogXCJNJ20nIGRkJ2QnIGhoOm1tXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9taW51dGVfeWVhclwiOiBcInkneScgTU0nbScgZGQnZCcgaGg6bW1cIixcclxuICAgIFwiX2R1cmF0aW9uX2hvdXJcIjogXCJoaCdoJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25faG91cl9kYXlcIjogXCJkJ2QnIGhoJ2gnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9ob3VyX3dlZWtcIjogXCJkJ2QnIGhoJ2gnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9ob3VyX21vbnRoXCI6IFwiTSdtJyBkZCdkJyBoaCdoJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25faG91cl95ZWFyXCI6IFwieSd5JyBNTSdtJyBkZCdkJyBoaCdoJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25fZGF5XCI6IFwiZCdkJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25fZGF5X3dlZWtcIjogXCJkJ2QnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9kYXlfbW9udGhcIjogXCJNJ20nIGRkJ2QnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9kYXlfeWVhclwiOiBcInkneScgTU0nbScgZGQnZCdcIixcclxuICAgIFwiX2R1cmF0aW9uX3dlZWtcIjogXCJ3J3cnXCIsXHJcbiAgICBcIl9kdXJhdGlvbl93ZWVrX21vbnRoXCI6IFwidyd3J1wiLFxyXG4gICAgXCJfZHVyYXRpb25fd2Vla195ZWFyXCI6IFwidyd3J1wiLFxyXG4gICAgXCJfZHVyYXRpb25fbW9udGhcIjogXCJNJ20nXCIsXHJcbiAgICBcIl9kdXJhdGlvbl9tb250aF95ZWFyXCI6IFwieSd5JyBNTSdtJ1wiLFxyXG4gICAgXCJfZHVyYXRpb25feWVhclwiOiBcInkneSdcIixcclxuICAgIC8vIEVyYSB0cmFuc2xhdGlvbnNcclxuICAgIFwiX2VyYV9hZFwiOiBcIkFEXCIsXHJcbiAgICBcIl9lcmFfYmNcIjogXCJCQ1wiLFxyXG4gICAgLy8gRGF5IHBhcnQsIHVzZWQgaW4gMTItaG91ciBmb3JtYXRzLCBlLmcuIDUgUC5NLlxyXG4gICAgLy8gUGxlYXNlIG5vdGUgdGhhdCB0aGVzZSBjb21lIGluIDMgdmFyaWFudHM6XHJcbiAgICAvLyAqIG9uZSBsZXR0ZXIgKGUuZy4gXCJBXCIpXHJcbiAgICAvLyAqIHR3byBsZXR0ZXJzIChlLmcuIFwiQU1cIilcclxuICAgIC8vICogdHdvIGxldHRlcnMgd2l0aCBkb3RzIChlLmcuIFwiQS5NLlwiKVxyXG4gICAgLy8gXHJcbiAgICAvLyBBbGwgdGhyZWUgbmVlZCB0byB0byBiZSB0cmFuc2xhdGVkIGV2ZW4gaWYgdGhleSBhcmUgYWxsIHRoZSBzYW1lLiBTb21lXHJcbiAgICAvLyB1c2VycyBtaWdodCB1c2Ugb25lLCBzb21lIHRoZSBvdGhlci5cclxuICAgIFwiQVwiOiBcIlwiLFxyXG4gICAgXCJQXCI6IFwiXCIsXHJcbiAgICBcIkFNXCI6IFwiXCIsXHJcbiAgICBcIlBNXCI6IFwiXCIsXHJcbiAgICBcIkEuTS5cIjogXCJcIixcclxuICAgIFwiUC5NLlwiOiBcIlwiLFxyXG4gICAgLy8gRGF0ZS1yZWxhdGVkIHN0dWZmLlxyXG4gICAgLy8gXHJcbiAgICAvLyBXaGVuIHRyYW5zbGF0aW5nIG1vbnRocywgaWYgdGhlcmUncyBhIGRpZmZlcmVuY2UsIHVzZSB0aGUgZm9ybSB3aGljaCBpc1xyXG4gICAgLy8gYmVzdCBmb3IgYSBmdWxsIGRhdGUsIGUuZy4gYXMgeW91IHdvdWxkIHVzZSBpdCBpbiBcIjIwMTggSmFudWFyeSAxXCIuXHJcbiAgICAvLyBcclxuICAgIC8vIE5vdGUgdGhhdCBNYXkgaXMgbGlzdGVkIHR3aWNlLiBUaGlzIGlzIGJlY2F1c2UgaW4gRW5nbGlzaCBNYXkgaXMgdGhlIHNhbWVcclxuICAgIC8vIGluIGJvdGggbG9uZyBhbmQgc2hvcnQgZm9ybXMsIHdoaWxlIGluIG90aGVyIGxhbmd1YWdlcyBpdCBtYXkgbm90IGJlIHRoZVxyXG4gICAgLy8gY2FzZS4gVHJhbnNsYXRlIFwiTWF5XCIgdG8gZnVsbCB3b3JkLCB3aGlsZSBcIk1heShzaG9ydClcIiB0byBzaG9ydGVuZWRcclxuICAgIC8vIHZlcnNpb24uXHJcbiAgICAvLyBcclxuICAgIC8vIFNob3VsZCBtb250aCBuYW1lcyBhbmQgd2Vla2RheXMgYmUgY2FwaXRhbGl6ZWQgb3Igbm90P1xyXG4gICAgLy8gXHJcbiAgICAvLyBSdWxlIG9mIHRodW1iIGlzIHRoaXM6IGlmIHRoZSBuYW1lcyBzaG91bGQgYWx3YXlzIGJlIGNhcGl0YWxpemVkLFxyXG4gICAgLy8gcmVnYXJkbGVzcyBvZiBuYW1lIHBvc2l0aW9uIHdpdGhpbiBkYXRlIChcIkphbnVhcnlcIiwgXCIyMXN0IEphbnVhcnkgMjAxOFwiLFxyXG4gICAgLy8gZXRjLikgdXNlIGNhcGl0YWxpemVkIG5hbWVzLiBPdGhlcndpc2UgZW50ZXIgYWxsIGxvd2VyY2FzZS5cclxuICAgIC8vIFxyXG4gICAgLy8gVGhlIGRhdGUgZm9ybWF0dGVyIHdpbGwgYXV0b21hdGljYWxseSBjYXBpdGFsaXplIG5hbWVzIGlmIHRoZXkgYXJlIHRoZVxyXG4gICAgLy8gZmlyc3QgKG9yIG9ubHkpIHdvcmQgaW4gcmVzdWx0aW5nIGRhdGUuXHJcbiAgICBcIkphbnVhcnlcIjogXCJcIixcclxuICAgIFwiRmVicnVhcnlcIjogXCJcIixcclxuICAgIFwiTWFyY2hcIjogXCJcIixcclxuICAgIFwiQXByaWxcIjogXCJcIixcclxuICAgIFwiTWF5XCI6IFwiXCIsXHJcbiAgICBcIkp1bmVcIjogXCJcIixcclxuICAgIFwiSnVseVwiOiBcIlwiLFxyXG4gICAgXCJBdWd1c3RcIjogXCJcIixcclxuICAgIFwiU2VwdGVtYmVyXCI6IFwiXCIsXHJcbiAgICBcIk9jdG9iZXJcIjogXCJcIixcclxuICAgIFwiTm92ZW1iZXJcIjogXCJcIixcclxuICAgIFwiRGVjZW1iZXJcIjogXCJcIixcclxuICAgIFwiSmFuXCI6IFwiXCIsXHJcbiAgICBcIkZlYlwiOiBcIlwiLFxyXG4gICAgXCJNYXJcIjogXCJcIixcclxuICAgIFwiQXByXCI6IFwiXCIsXHJcbiAgICBcIk1heShzaG9ydClcIjogXCJNYXlcIixcclxuICAgIFwiSnVuXCI6IFwiXCIsXHJcbiAgICBcIkp1bFwiOiBcIlwiLFxyXG4gICAgXCJBdWdcIjogXCJcIixcclxuICAgIFwiU2VwXCI6IFwiXCIsXHJcbiAgICBcIk9jdFwiOiBcIlwiLFxyXG4gICAgXCJOb3ZcIjogXCJcIixcclxuICAgIFwiRGVjXCI6IFwiXCIsXHJcbiAgICAvLyBXZWVrZGF5cy5cclxuICAgIFwiU3VuZGF5XCI6IFwiXCIsXHJcbiAgICBcIk1vbmRheVwiOiBcIlwiLFxyXG4gICAgXCJUdWVzZGF5XCI6IFwiXCIsXHJcbiAgICBcIldlZG5lc2RheVwiOiBcIlwiLFxyXG4gICAgXCJUaHVyc2RheVwiOiBcIlwiLFxyXG4gICAgXCJGcmlkYXlcIjogXCJcIixcclxuICAgIFwiU2F0dXJkYXlcIjogXCJcIixcclxuICAgIFwiU3VuXCI6IFwiXCIsXHJcbiAgICBcIk1vblwiOiBcIlwiLFxyXG4gICAgXCJUdWVcIjogXCJcIixcclxuICAgIFwiV2VkXCI6IFwiXCIsXHJcbiAgICBcIlRodVwiOiBcIlwiLFxyXG4gICAgXCJGcmlcIjogXCJcIixcclxuICAgIFwiU2F0XCI6IFwiXCIsXHJcbiAgICAvLyBEYXRlIG9yZGluYWwgZnVuY3Rpb24uXHJcbiAgICAvLyBcclxuICAgIC8vIFRoaXMgaXMgdXNlZCB3aGVuIGFkZGluZyBudW1iZXIgb3JkaW5hbCB3aGVuIGZvcm1hdHRpbmcgZGF5cyBpbiBkYXRlcy5cclxuICAgIC8vIFxyXG4gICAgLy8gRS5nLiBcIkphbnVhcnkgMXN0XCIsIFwiRmVicnVhcnkgMm5kXCIuXHJcbiAgICAvLyBcclxuICAgIC8vIFRoZSBmdW5jdGlvbiBhY2NlcHRzIGRheSBudW1iZXIsIGFuZCByZXR1cm5zIGEgc3RyaW5nIHRvIGJlIGFkZGVkIHRvIHRoZVxyXG4gICAgLy8gZGF5LCBsaWtlIGluIGRlZmF1bHQgRW5nbGlzaCB0cmFuc2xhdGlvbiwgaWYgd2UgcGFzcyBpbiAyLCB3ZSB3aWxsIHJlY2VpdmVcclxuICAgIC8vIFwibmRcIiBiYWNrLlxyXG4gICAgXCJfZGF0ZU9yZFwiOiBmdW5jdGlvbiAoZGF5KSB7XHJcbiAgICAgICAgbGV0IHJlcyA9IFwidGhcIjtcclxuICAgICAgICBpZiAoKGRheSA8IDExKSB8fCAoZGF5ID4gMTMpKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZGF5ICUgMTApIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSBcInN0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gXCJuZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IFwicmRcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfSxcclxuICAgIC8vIFZhcmlvdXMgY2hhcnQgY29udHJvbHMuXHJcbiAgICAvLyBTaG93biBhcyBhIHRvb2x0aXAgb24gem9vbSBvdXQgYnV0dG9uLlxyXG4gICAgXCJab29tIE91dFwiOiBcIlwiLFxyXG4gICAgLy8gVGltZWxpbmUgYnV0dG9uc1xyXG4gICAgXCJQbGF5XCI6IFwiXCIsXHJcbiAgICBcIlN0b3BcIjogXCJcIixcclxuICAgIC8vIENoYXJ0J3MgTGVnZW5kIHNjcmVlbiByZWFkZXIgdGl0bGUuXHJcbiAgICBcIkxlZ2VuZFwiOiBcIlwiLFxyXG4gICAgLy8gTGVnZW5kJ3MgaXRlbSBzY3JlZW4gcmVhZGVyIGluZGljYXRvci5cclxuICAgIFwiUHJlc3MgRU5URVIgdG8gdG9nZ2xlXCI6IFwiXCIsXHJcbiAgICAvLyBTaG93biB3aGVuIHRoZSBjaGFydCBpcyBidXN5IGxvYWRpbmcgc29tZXRoaW5nLlxyXG4gICAgXCJMb2FkaW5nXCI6IFwiXCIsXHJcbiAgICAvLyBTaG93biBhcyB0aGUgZmlyc3QgYnV0dG9uIGluIHRoZSBicmVhZGNydW1iIG5hdmlnYXRpb24sIGUuZy46XHJcbiAgICAvLyBIb21lID4gRmlyc3QgbGV2ZWwgPiAuLi5cclxuICAgIFwiSG9tZVwiOiBcIlwiLFxyXG4gICAgLy8gQ2hhcnQgdHlwZXMuXHJcbiAgICAvLyBUaG9zZSBhcmUgdXNlZCBhcyBkZWZhdWx0IHNjcmVlbiByZWFkZXIgdGl0bGVzIGZvciB0aGUgbWFpbiBjaGFydCBlbGVtZW50XHJcbiAgICAvLyB1bmxlc3MgZGV2ZWxvcGVyIGhhcyBzZXQgc29tZSBtb3JlIGRlc2NyaXB0aXZlIHRpdGxlLlxyXG4gICAgXCJDaGFydFwiOiBcIlwiLFxyXG4gICAgXCJTZXJpYWwgY2hhcnRcIjogXCJcIixcclxuICAgIFwiWC9ZIGNoYXJ0XCI6IFwiXCIsXHJcbiAgICBcIlBpZSBjaGFydFwiOiBcIlwiLFxyXG4gICAgXCJHYXVnZSBjaGFydFwiOiBcIlwiLFxyXG4gICAgXCJSYWRhciBjaGFydFwiOiBcIlwiLFxyXG4gICAgXCJTYW5rZXkgZGlhZ3JhbVwiOiBcIlwiLFxyXG4gICAgXCJGbG93IGRpYWdyYW1cIjogXCJcIixcclxuICAgIFwiQ2hvcmQgZGlhZ3JhbVwiOiBcIlwiLFxyXG4gICAgXCJUcmVlTWFwIGNoYXJ0XCI6IFwiXCIsXHJcbiAgICBcIkZvcmNlIGRpcmVjdGVkIHRyZWVcIjogXCJcIixcclxuICAgIFwiU2xpY2VkIGNoYXJ0XCI6IFwiXCIsXHJcbiAgICAvLyBTZXJpZXMgdHlwZXMuXHJcbiAgICAvLyBVc2VkIHRvIG5hbWUgc2VyaWVzIGJ5IHR5cGUgZm9yIHNjcmVlbiByZWFkZXJzIGlmIHRoZXkgZG8gbm90IGhhdmUgdGhlaXJcclxuICAgIC8vIG5hbWUgc2V0LlxyXG4gICAgXCJTZXJpZXNcIjogXCJcIixcclxuICAgIFwiQ2FuZGxlc3RpY2sgU2VyaWVzXCI6IFwiXCIsXHJcbiAgICBcIk9ITEMgU2VyaWVzXCI6IFwiXCIsXHJcbiAgICBcIkNvbHVtbiBTZXJpZXNcIjogXCJcIixcclxuICAgIFwiTGluZSBTZXJpZXNcIjogXCJcIixcclxuICAgIFwiUGllIFNsaWNlIFNlcmllc1wiOiBcIlwiLFxyXG4gICAgXCJGdW5uZWwgU2VyaWVzXCI6IFwiXCIsXHJcbiAgICBcIlB5cmFtaWQgU2VyaWVzXCI6IFwiXCIsXHJcbiAgICBcIlgvWSBTZXJpZXNcIjogXCJcIixcclxuICAgIC8vIE1hcC1yZWxhdGVkIHN0dWZmLlxyXG4gICAgXCJNYXBcIjogXCJcIixcclxuICAgIFwiUHJlc3MgRU5URVIgdG8gem9vbSBpblwiOiBcIlwiLFxyXG4gICAgXCJQcmVzcyBFTlRFUiB0byB6b29tIG91dFwiOiBcIlwiLFxyXG4gICAgXCJVc2UgYXJyb3cga2V5cyB0byB6b29tIGluIGFuZCBvdXRcIjogXCJcIixcclxuICAgIFwiVXNlIHBsdXMgYW5kIG1pbnVzIGtleXMgb24geW91ciBrZXlib2FyZCB0byB6b29tIGluIGFuZCBvdXRcIjogXCJcIixcclxuICAgIC8vIEV4cG9ydC1yZWxhdGVkIHN0dWZmLlxyXG4gICAgLy8gVGhlc2UgcHJvbXB0cyBhcmUgdXNlZCBpbiBFeHBvcnQgbWVudSBsYWJlbHMuXHJcbiAgICAvLyBcclxuICAgIC8vIFwiRXhwb3J0XCIgaXMgdGhlIHRvcC1sZXZlbCBtZW51IGl0ZW0uXHJcbiAgICAvLyBcclxuICAgIC8vIFwiSW1hZ2VcIiwgXCJEYXRhXCIsIFwiUHJpbnRcIiBhcyBzZWNvbmQtbGV2ZWwgaW5kaWNhdGluZyB0eXBlIG9mIGV4cG9ydFxyXG4gICAgLy8gb3BlcmF0aW9uLlxyXG4gICAgLy8gXHJcbiAgICAvLyBMZWF2ZSBhY3R1YWwgZm9ybWF0IHVudHJhbnNsYXRlZCwgdW5sZXNzIHlvdSBhYnNvbHV0ZWx5IGtub3cgdGhhdCB0aGV5XHJcbiAgICAvLyB3b3VsZCBjb252ZXkgbW9yZSBtZWFuaW5nIGluIHNvbWUgb3RoZXIgd2F5LlxyXG4gICAgXCJFeHBvcnRcIjogXCJcIixcclxuICAgIFwiSW1hZ2VcIjogXCJcIixcclxuICAgIFwiRGF0YVwiOiBcIlwiLFxyXG4gICAgXCJQcmludFwiOiBcIlwiLFxyXG4gICAgXCJQcmVzcyBFTlRFUiBvciB1c2UgYXJyb3cga2V5cyB0byBuYXZpZ2F0ZVwiOiBcIlwiLFxyXG4gICAgXCJQcmVzcyBFTlRFUiB0byBvcGVuXCI6IFwiXCIsXHJcbiAgICBcIlByZXNzIEVOVEVSIHRvIHByaW50LlwiOiBcIlwiLFxyXG4gICAgXCJQcmVzcyBFTlRFUiB0byBleHBvcnQgYXMgJTEuXCI6IFwiXCIsXHJcbiAgICBcIihQcmVzcyBFU0MgdG8gY2xvc2UgdGhpcyBtZXNzYWdlKVwiOiBcIlwiLFxyXG4gICAgXCJJbWFnZSBFeHBvcnQgQ29tcGxldGVcIjogXCJcIixcclxuICAgIFwiRXhwb3J0IG9wZXJhdGlvbiB0b29rIGxvbmdlciB0aGFuIGV4cGVjdGVkLiBTb21ldGhpbmcgbWlnaHQgaGF2ZSBnb25lIHdyb25nLlwiOiBcIlwiLFxyXG4gICAgXCJTYXZlZCBmcm9tXCI6IFwiXCIsXHJcbiAgICBcIlBOR1wiOiBcIlwiLFxyXG4gICAgXCJKUEdcIjogXCJcIixcclxuICAgIFwiR0lGXCI6IFwiXCIsXHJcbiAgICBcIlNWR1wiOiBcIlwiLFxyXG4gICAgXCJQREZcIjogXCJcIixcclxuICAgIFwiSlNPTlwiOiBcIlwiLFxyXG4gICAgXCJDU1ZcIjogXCJcIixcclxuICAgIFwiWExTWFwiOiBcIlwiLFxyXG4gICAgXCJIVE1MXCI6IFwiXCIsXHJcbiAgICAvLyBTY3JvbGxiYXItcmVsYXRlZCBzdHVmZi5cclxuICAgIC8vIFxyXG4gICAgLy8gU2Nyb2xsYmFyIGlzIGEgY29udHJvbCB3aGljaCBjYW4gem9vbSBhbmQgcGFuIHRoZSBheGVzIG9uIHRoZSBjaGFydC5cclxuICAgIC8vIFxyXG4gICAgLy8gRWFjaCBzY3JvbGxiYXIgaGFzIHR3byBncmlwczogbGVmdCBvciByaWdodCAoZm9yIGhvcml6b250YWwgc2Nyb2xsYmFyKSBvclxyXG4gICAgLy8gdXBwZXIgYW5kIGxvd2VyIChmb3IgdmVydGljYWwgb25lKS5cclxuICAgIC8vIFxyXG4gICAgLy8gUHJvbXB0cyBjaGFuZ2UgaW4gcmVsYXRpb24gdG8gd2hldGhlciBTY3JvbGxiYXIgaXMgdmVydGljYWwgb3IgaG9yaXpvbnRhbC5cclxuICAgIC8vIFxyXG4gICAgLy8gVGhlIGZpbmFsIHNlY3Rpb24gaXMgdXNlZCB0byBpbmRpY2F0ZSB0aGUgY3VycmVudCByYW5nZSBvZiBzZWxlY3Rpb24uXHJcbiAgICBcIlVzZSBUQUIgdG8gc2VsZWN0IGdyaXAgYnV0dG9ucyBvciBsZWZ0IGFuZCByaWdodCBhcnJvd3MgdG8gY2hhbmdlIHNlbGVjdGlvblwiOiBcIlwiLFxyXG4gICAgXCJVc2UgbGVmdCBhbmQgcmlnaHQgYXJyb3dzIHRvIG1vdmUgc2VsZWN0aW9uXCI6IFwiXCIsXHJcbiAgICBcIlVzZSBsZWZ0IGFuZCByaWdodCBhcnJvd3MgdG8gbW92ZSBsZWZ0IHNlbGVjdGlvblwiOiBcIlwiLFxyXG4gICAgXCJVc2UgbGVmdCBhbmQgcmlnaHQgYXJyb3dzIHRvIG1vdmUgcmlnaHQgc2VsZWN0aW9uXCI6IFwiXCIsXHJcbiAgICBcIlVzZSBUQUIgc2VsZWN0IGdyaXAgYnV0dG9ucyBvciB1cCBhbmQgZG93biBhcnJvd3MgdG8gY2hhbmdlIHNlbGVjdGlvblwiOiBcIlwiLFxyXG4gICAgXCJVc2UgdXAgYW5kIGRvd24gYXJyb3dzIHRvIG1vdmUgc2VsZWN0aW9uXCI6IFwiXCIsXHJcbiAgICBcIlVzZSB1cCBhbmQgZG93biBhcnJvd3MgdG8gbW92ZSBsb3dlciBzZWxlY3Rpb25cIjogXCJcIixcclxuICAgIFwiVXNlIHVwIGFuZCBkb3duIGFycm93cyB0byBtb3ZlIHVwcGVyIHNlbGVjdGlvblwiOiBcIlwiLFxyXG4gICAgXCJGcm9tICUxIHRvICUyXCI6IFwiXCIsXHJcbiAgICBcIkZyb20gJTFcIjogXCJcIixcclxuICAgIFwiVG8gJTFcIjogXCJcIixcclxuICAgIC8vIERhdGEgbG9hZGVyLXJlbGF0ZWQuXHJcbiAgICBcIk5vIHBhcnNlciBhdmFpbGFibGUgZm9yIGZpbGU6ICUxXCI6IFwiXCIsXHJcbiAgICBcIkVycm9yIHBhcnNpbmcgZmlsZTogJTFcIjogXCJcIixcclxuICAgIFwiVW5hYmxlIHRvIGxvYWQgZmlsZTogJTFcIjogXCJcIixcclxuICAgIFwiSW52YWxpZCBkYXRlXCI6IFwiXCIsXHJcbiAgICAvLyBDb21tb24gYWN0aW9uc1xyXG4gICAgXCJDbG9zZVwiOiBcIlwiLFxyXG4gICAgXCJNaW5pbWl6ZVwiOiBcIlwiXHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/locales/en.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@amcharts/amcharts5/themes/Animated.js":
/*!*************************************************************!*\
  !*** ./node_modules/@amcharts/amcharts5/themes/Animated.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _internal_themes_AnimatedTheme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../.internal/themes/AnimatedTheme */ \"(ssr)/./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js\");\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_internal_themes_AnimatedTheme__WEBPACK_IMPORTED_MODULE_0__.AnimatedTheme);\r\n//# sourceMappingURL=Animated.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS90aGVtZXMvQW5pbWF0ZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0U7QUFDbEUsaUVBQWUseUVBQWEsRUFBQztBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYXBoLXZpc3VhbGl6ZXIvLi9ub2RlX21vZHVsZXMvQGFtY2hhcnRzL2FtY2hhcnRzNS90aGVtZXMvQW5pbWF0ZWQuanM/ZGQyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbmltYXRlZFRoZW1lIH0gZnJvbSBcIi4uLy5pbnRlcm5hbC90aGVtZXMvQW5pbWF0ZWRUaGVtZVwiO1xyXG5leHBvcnQgZGVmYXVsdCBBbmltYXRlZFRoZW1lO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRlZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@amcharts/amcharts5/themes/Animated.js\n");

/***/ })

};
;